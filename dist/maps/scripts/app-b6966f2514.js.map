{"version":3,"sources":["scripts/app.js"],"names":["config","$stateProvider","$translatePartialLoaderProvider","msApiProvider","msNavigationServiceProvider","state","url","views","content@app","templateUrl","controller","resolve","Tasks","msApi","Tags","bodyClass","addPart","register","saveItem","title","icon","badge","content","color","weight","$inject","angular","module","TaskDialogController","$mdDialog","Task","event","addNewTask","vm","tasks","unshift","task","closeDialog","saveTask","i","length","id","copy","deleteTask","confirm","ariaLabel","ok","cancel","targetEvent","show","then","deleted","newTag","chip","tagColors","name","label","Math","floor","random","hide","this","newTask","notes","startDate","Date","startDateTimeStamp","getTime","dueDate","dueDateTimeStamp","completed","starred","important","tags","abstract","Folders","Labels","Outbox","params","type","value","squash","group","stateParams","filter","ComposeDialogController","selectedMail","$rootScope","api","submitPost","submitting","console","log","idVIEW","form","message","conversations","add","error","res","success","code","socketio","emit","posts","item","reply","convoId","contact","user","from","full","to","hiddenCC","hiddenBCC","LinkExistingDialogController","$document","$filter","$mdSidenav","$scope","$http","determineOrder","what","count","order","ref","whats","folders","id_parent","getOrgChecklists","checklists","setError","err","loading","link","linking","post","idGRP","selected","headers","Content-Type","cache","d","data","concat","organizeData","$","modal","load","begin","check","checklist","indexOf","toggle","isSelected","remove","push","GroupSendLinkRequestDialogController","GROUP","find","inProgress","showError","msg","criteria","status","idCON","invites","result","users","recipient","idACC","m_accepted","processLink","raw","info","processed","extend","requesting","invite","request","itemID","send","ids","notify","idFDI","notifications","received","withdraw","submit","encodeURI","idCHK","found","organizations","map","contacts","GroupPublishTemplateDialogController","publishTemplate","publish","ref1","pvt","togglePrivate","DirectMessageDialogController","which","ContactDialogController","Contact","Contacts","User","msUtils","showWhichInviteContactData","friend","ref2","ref3","ref4","accepter","addNewContact","saveContact","deleteContactConfirm","ev","htmlContent","destroy","splice","newContact","allFields","originator","guidGenerator","first","last","avatar","company","email","phone","toggleInArray","exists","AddContactDialogController","queryContacts","query","searching","results","searchCount","friendshipStatus","key","len","friends","accepted","acceptConnectionInvitation","index","friendship","accept","friendships","inviteToConnect","removeConnectionInvitation","$watch","get","sections","headings","items","ChecklistUploadAttachmentDialogController","pID","pType","uniqueString","text","possible","charAt","upload","AWS","update","accessKeyId","creds","access_key","secretAccessKey","secret_key","region","bucket","S3","Bucket","file","files","lable","fileSize","round","parseInt","size","sizeLimit","fileSizeLabel","uniqueFileName","aws","Key","ContentType","Body","ServerSideEncryption","putObject","attachments","setTimeout","uploadProgress","$digest","on","progress","loaded","total","ChecklistShowLinkedUsersDialogController","Checklist","$stateParams","setBlank","loadingLinked","usersLoaded","loadLinkedUsers","getLinkedUsers","forEach","cfc","usr","ownerDetails","isShowing","viewAs","toggleShowCheckboxes","parentId","setChecklistCtrlBlank","showingUsers","$on","ChecklistSendLinkRequestDialogController","focus","ChecklistPublishTemplateDialogController","gatherInfo","ChecklistFindGroupTemplateDialogController","template","creating","parentID","organization","author","version","search","searchForTemplates","display","create","idCTMPL","createFromTemplate","groups","ChecklistEditChecklistDialogController","Vars","saveChecklist","editPack","vars","rid","edit","notifyItem","packet","updated","catalog","record","stop","deleteConfirm","deleteItem","deleteChecklist","newChecklist","description","editing","EditService","attemptEdit","ChecklistConversationDialogController","convoName","producerType","old","ts","now","setSocketStuff","socketStuffSet","_callbacks","id_contact","pushPosts","$apply","getLatestPosts","conversation","currentSkip","newPost","itemType","subject","connected","ChecklistDialogController","Checklists","svc","checkbox","newItem","MsWidgetController","$element","flip","isFlippable","flipped","toggleClass","isDefined","flippable","msWidgetDirective","restrict","scope","transclude","compile","tElement","addClass","iElement","iAttrs","MsWidgetCtrl","transcludeFn","clone","empty","append","msWidgetFrontDirective","require","flipWidget","msWidgetBackDirective","directive","MsTimelineController","setScrollEl","scrollEl","getScrollEl","undefined","msTimelineDirective","msTimeline","loadMore","MsTimelineCtrl","onScroll","scrollTop","height","threshold","loadMoreEl","position","top","unregisterOnScroll","removeClass","registerOnScroll","off","element","msTimelineItemDirective","$timeout","$q","init","args","cardEl","testForImage","itemLoaded","testForVisibility","deferred","defer","imgEl","promise","itemInViewport","itemReadyWatcher","current","equals","MsStepperController","setOrientation","orientation","registerMainForm","mainForm","registerStep","step","stepNumber","steps","stepTitle","sort","a","b","setupSteps","setCurrentStep","currentStepNumber","resetForm","x","$setPristine","$setUntouched","gotoFirstStep","isStepNumberValid","j","gotoStep","isStepHidden","gotoPreviousStep","s","gotoNextStep","gotoLastStep","isFirstStep","isLastStep","isStepCurrent","isStepDisabled","disabled","isStepValid","isStepOptional","optionalStep","hideStep","filterHiddenStep","$valid","isUndefined","isFormValid","currentStep","msHorizontalStepperDirective","priority","bindToController","model","ctrls","FormCtrl","MsStepperCtrl","msHorizontalStepperStepDirective","msVerticalStepperDirective","msVerticalStepperStepDirective","stepInfo","MsStepper","msSplashScreenDirective","$animate","splashScreenRemoveEvent","leave","msSidenavHelperDirective","MdSidenavCtrl","isOpen","isLockedOpen","parent","MsShortcutsController","$cookies","msNavigationService","loadShortcuts","response","shortcuts","resultsLoading","populateResults","flatNavigation","getFlatNavigation","uisref","lowercase","hasShortcut","y","_id","selectedResultIndex","fromJson","children","_path","put","toJson","saveShortcuts","addShortcut","removeShortcut","handleResultClick","absorbEvent","preventDefault","handleKeydown","keyCode","keys","ensureSelectedResultIsVisible","handleMouseenter","ignoreMouseEvents","temporarilyIgnoreMouseEvents","mouseEventIgnoreTimeout","resultsEl","selectedItemEl","bottom","outerHeight","toggleMobileBar","mobileBarActive","queryOptions","debounce","sortableOptions","ghostClass","forceFallback","fallbackClass","onSort","msShortcutsDirective","MsSearchBarController","globalSearch","searchTerm","collapsed","isArray","isNull","expand","onExpand","isFunction","collapse","onCollapse","onResultClick","msSearchBarDirective","onSearch","inputEl","bodyEl","msScrollConfigProvider","configuration","defaultConfiguration","wheelSpeed","wheelPropagation","swipePropagation","minScrollbarLength","maxScrollbarLength","useBothWheelAxes","useKeyboard","suppressScrollX","suppressScrollY","scrollXMarginOffset","scrollYMarginOffset","stopPropagationOnClick","$get","getConfig","service","msScrollDirective","msScrollConfig","fuseConfig","isMobile","updateScrollbar","PerfectScrollbar","options","msScroll","$eval","initialize","prop","provider","msResponsiveTableDirective","wrapper","after","msRandomClassDirective","msRandomClass","randomClass","path","isString","$log","parts","split","_findOrCreateParent","updateItem","_getUiSref","isNumber","navigation","p","sortByWeight","_byWeight","pop","createParent","join","isObject","injector","clearNavigation","navigationScope","setActiveItem","node","activeItem","getActiveItem","getNavigation","root","_flattenNavigation","setNavigationScope","setFolded","folded","getFolded","setFoldedOpen","foldedOpen","getFoldedOpen","toggleFolded","flatNav","navToPush","MsNavigationController","toggleHorizontalMobileMenu","msNavigationDirective","$broadcast","setFoldExpander","$emit","removeFoldCollapser","foldExpanderEl","onFoldExpanderHover","setFoldCollapser","foldCollapserEl","onFoldCollapserHover","sidenav","close","MsNavigationNodeController","$state","queue","checkRace","roles","showQueue","hasChildren","collapsable","includes","$evalAsync","givenPathParts","activePathParts","toggleCollapsed","collapseEl","offsetHeight","animate","animateHeightClass","css","expandEl","visibility","getClass","isHidden","hidden","appState","badgeData","inviteCounts","badgeDataFeed","feed","unread","unreadCount","msNavigationNodeDirective","MsNavigationNodeCtrl","msNavigationItemDirective","msNavigationHorizontalDirective","MsNavigationHorizontalNodeController","isActive","msNavigationHorizontalNodeDirective","MsNavigationHorizontalNodeCtrl","msNavigationHorizontalItemDirective","$mdMedia","onClick","msNavFoldService","setFoldable","foldable","isNavFoldedOpen","toggleFold","openFolded","closeFolded","msNavIsFoldedDirective","isFoldedOpen","isFolded","fold","unfold","body","sidenavEl","openOverlay","closeOverlay","msNavIsFolded","MsNavController","isDisabled","disable","enable","setToggleItem","toggleItems","getLockedItems","lockedItems","setLockedItem","clearLockedItems","msNavDirective","$mdComponentRegistry","stateChangeSuccessEvent","when","msNavTitleDirective","msNavButtonDirective","msNavToggleDirective","tAttrs","attr","MsNavCtrl","isCollapsed","isExpanded","reject","elementToExpand","classes","expandAnimation","expanded","elementToCollapse","collapseAnimation","links","states","regExp","replace","locked","lockedItem","currentState","shouldExpand","factory","msMaterialColorPickerController","$mdColorPalette","$mdMenu","fuseGenerator","activateHueSelection","palette","hues","selectedPalette","selectedHues","selectColor","hue","updateSelectedColor","updateModel","removeColor","selectedColor","class","setSelectedColor","modelCtrl","$viewValue","msModelType","bgColorValue","rgba","palettes","fgColorValue","contrast","$selectedColor","$setViewValue","msMaterialColorPicker","ngModel","attrs","controllers","ctrl","el","nodeType","replaceWith","msMasonryController","$window","defaultOpts","watchContainerResize","waitImagesLoaded","callback","imagesLoaded","imgLoad","container","width","newValue","oldValue","reLayout","start","containerPos","getBoundingClientRect","updateColumnOptions","referenceArr","Array","apply","columnCount","xPos","yPos","column","refTop","columnWidth","respectItemOrder","min","transform","reLayoutTimeout","reLayoutDebounce","responsive","md","sm","xs","msMasonry","attributes","pre","msMasonryItem","newVal","oldVal","msInfoBarDirective","removeInfoBar","$destroy","MsFormWizardController","registerForm","forms","previousStep","selectedIndex","nextStep","firstStep","lastStep","totalSteps","currentStepInvalid","$invalid","previousStepInvalid","formsIncomplete","msFormWizardDirective","msFormWizardFormDirective","formCtrl","MsFormWizardCtrl","msDatepickerFixConfigProvider","formatter","val","parser","offset","moment","utcOffset","date","msDatepickerFix","msDatepickerFixConfig","elem","$formatters","$parsers","msCardDirective","templatePath","card","cardTemplateLoaded","UserController","updateUser","u","password","toggleSidenav","sidenavId","editable","sending","account","TodoController","startDateTimestamp","dueDateTimestamp","e","stopPropagation","openTaskDialog","controllerAs","clickOutsideToClose","locals","toggleCompleted","toggleFilter","taskFilters","checkFilters","toggleFilterWithEmpty","resetFilters","showAllTasks","taskFiltersDefaults","filterByStartDate","filterByDueDate","toggleTagFilter","tag","isTagFilterExists","colors","projects","creapond","withinpixels","selectedFilter","selectedProject","taskOrder","taskOrderDescending","handle","fallbackOnBody","msScrollOptions","TemplatesController","fetchGroups","wizard","openFolderInput","folder","newFolder","newGroup","cancelFolderInput","cancelGroupInput","cancelChecklistInput","openGroupInput","addNewFolder","verticalStepper","newFolderID","addNewGroup","groupName","folderID","newGroupID","addNewChecklist","checklistName","groupID","section","is","openAddChecklistTemplateDialog","templateID","templateType","preserveScope","openAddFolderTemplateDialog","templateFiltersDefaults","templateFilters","showAllTemplates","templateOrder","templateOrderDescending","showAllFilters","filterOrder","filterOrderDescending","templates","list","process","processTemplate","startInternal","publicTemplates","revising","deleting","revise","download","TeamMembersController","members","processMember","setting","set","role","willHave","self","setTo","has","offboard","execute","member","confMsg","$location","processInvite","accepting","rejecting","idCFC","memberInvites","subscriptions","withdrawInvite","summaryController","viewChecklistAsUser","select","notMe","showComparison","conflicts","showMe","showThem","idsCSCT","idsCHEAD","go","idsITEM","requestReportsProgress","duration","reports","refresh","openConversationDialog","viewing","viewingSub","progressDuration","summary","report","idsCHK","JSON","parse","stringify","lines","view","viewSub","lastActive","clear","countReports","counterLine","checklistsArray","subscriptionsController","selectSubscription","newSubscription","agreeToTerms","currentPaymentMethod","clearSelectSubscription","dtOptions","dom","pagingType","autoWidth","idSUI","inviting","makingSubActive","withdrawing","inviteEmailsUrl","offers","grabClientToken","getCurrentOffers","plans","acceptInvite","signin","username","reg","middle","password2","login","succeeded","token","signup","LoginService","doAuth","m","t","getInvite","authenticated","btClientID","clientToken","braintree","setup","onPaymentMethodReceived","onError","QueueController","openAcceptLinkRequestDialog","assign","idINVITE","OrganizationController","orgTmp","updating","org","resp","createOrg","createOrganization","blank","address","line1","line2","city","zip","country","selectedSubscription","MailController","threads","thread","labels","sent","loadingThreads","threadId","openThread","fetchInvites","inviteControl","noNav","upperCaseFirst","string","toUpperCase","slice","filterThreads","labelId","outboxToggle","getLabel","loadingProgress","currentFilter","currentThread","closeThread","filterFolder","filterOutbox","outboxThreads","isFolderActive","isOutboxActive","isLabelActive","selectedMailShowDetails","read","fetchChecklist","fetchSection","fetchHeading","fetchItem","fetchUser","mark","selectedThreads","toggleSelectThread","selectThreads","deselectThreads","toggleSelectThreads","setThreadStatus","toggleThreadStatus","getLabelColor","getLabelTitle","toggleLabel","removeLabels","isLabelExist","changeView","defaultView","currentView","composeDialog","replyDialog","deleteFeed","currentItem","complete","inviterDetails","sectionID","specific","headingID","heading","fetchChecklistData","passChecklistPostings","threadType","passInvitations","passID","passContacts","passMessages","debug","selectedAccount","outbox","classic","outlook","notification","invited","main@","content@app.login","LoginController","pass","organizationError","destination","logout","content@app.invite","InviteController","viewToggle","open","resetToggle","legacy","accountCreate","InvitationsController","sendForm","step2","step1","formWizard","inviteContact","tree","openAcceptChecklistInvitations","checklistID","openAcceptGroupInvitations","assigning","idx","destroying","errors","acceptChecklist","acceptGroup","idPARENT","idFDI_latest","inviter","userAuthenticated","GroupsController","openGroupDialog","addGroupDialog","openAddGroupTemplateDialog","sendLinkRequestDialog","linkExistingDialog","publishTemplateDialog","saveGroup","deleteGroup","groupFilters","showAllGroups","groupFiltersDefaults","folder_id","groupOrder","groupOrderDescending","FoldersController","openFolderDialog","sendLinkRequest","saveFolder","deleteFolder","folderFilters","showAllFolders","folderFiltersDefaults","folderOrder","folderOrderDescending","ChecklistService","Documents","FileManagerController","fileAdded","uploadingFile","uniqueIdentifier","owner","modified","format","opened","created","extention","location","offline","preview","ngFlow","flow","opts","X-Requested-With","fileSuccess","parseFloat","toFixed","toggleDetails","toggleView","accounts","showDetails","ngFlowOptions","DashboardController","window","content@app.create","CreateController","sendInfo","baseURL","ContactsController","filterChange","listType","me","filterIds","out","contactIds","selectedContacts","updateFriends","invitationStatus","deleteConnection","findContacts","queryString","openAddContactDialog","openContactDialog","openDirectMessageDialog","shift","listOrder","listOrderAsc","newGroupName","showIDs","content@app.confirm","ConfirmController","confirmed","validate","l","checklistController","nonCompliant","checkboxes","referencess","itemShortLength","isExpandable","toggleableChildren","call","isExpandedCounter","showReferences","notApplicable","toggleComplete","local","joinFeeds","k","len1","len2","len3","feedsJoined","loadComplete","completeLoad","checkIfLinked","isLinked","loadChecklist","createSegment","displayUserCheckboxes","isForm","option","dataType","userCheckboxes","userID","id_user","getUserKey","userKey","appendCheckboxesToItems","evaluateConflicts","operation","addConflicts","leftNonCompliant","rightNonCompliant","evaluateItem","id_item","removeUserCheckboxes","action","showLinkedUsers","toggleCheckbox","CFC","CFCs","previous","previousIndex","thisIndex","next","nextIndex","addChecklistDialog","step3","openUploadAttachmentDialog","openConflictsDialog","uploadAttachment","viewAttachmentsDialog","idParent","idCNV","idATT","setLabels","checklistFilters","showAllChecklists","checklistFiltersDefaults","userCheckboxesAreShowing","openChecklistDialog","openSectionDialog","saveSection","openHeadingDialog","saveHeading","openItemDialog","openFormLineDialog","$event","fetchAttachmentsChecklist","attme","fetchAttachmentsParent","downloadPDF","chkName","downloadXML","href","downloadAttachment","fetchHeadingBlock","getParent","fetchConflictsHeadingBlock","fetchItemBlock","fetchConflictsItemBlock","tempGroup","passChecklist","getGroup","z","passedNotification","dragControlListenersSections","sourceItemHandleScope","destSortableScope","destItemScope","itemScope","itemMoved","moveSuccess","moveFailure","eventObj","dest","sortableScope","removeItem","source","insertItem","orderChanged","arrayKeyNext","arrayKeyMoved","arrayKeyPrevious","itemNext","modelValue","itemPrevious","reorderOrder","reorder","itemIndex","containment","allowDuplicates","dragControlListenersHeadings","dragControlListenersItems","findItem","sourceItemID","modelArray","findIndex","checklistOrder","checklistOrderDescending","applies","checkboxDisplay","complies","uploaderOpts","queueLimit","filters","fn","formData","removeAfterUpload","autoUpload","onCancelItem","onErrorItem","onSuccessItem","onAfterAddingFile","onWhenAddingFileFailed","onAfterAddingAll","addedItems","uploader","chkID","selectable","dashboard","itemLocal","showModal","isShown","saving","base","base1","displayType","Text","Number","entering","explanation","lbl","hiding","save","enter","test","pdf","ChatController","getChat","contactId","chatContactId","switchUser","viewingConversation","shiftKey","textareaGrow","replyMessage","resetReplyTextarea","who","timestamp","scrollToBottomOfChat","clearMessages","chats","chat","getById","lastMessage","chatContent","scrollHeight","setUserStatus","toggleLeftSidenavView","leftSidenavView","openConversation","nameFirst","nameLast","nameFull","postProcessPosts","ConversationService","closeConversation","$uibModalInstance","dismiss","contact_id","prototype","content@app.account.confirm","content@app.account.invite","AccountController","makeSubscriptionActive","fuseThemingService","$mdTheming","getRegisteredPalettes","PALETTES","getRegisteredThemes","THEMES","setActiveTheme","themeName","themes","warn","active","theme","setThemesList","themeList","$mdThemingProvider","fusePalettes","fuseThemes","invoke","_$cookies","customTheme","getObject","alwaysWatchTheme","definePalette","primaryPalette","primary","accentPalette","accent","warnPalette","backgroundPalette","background","default","hue-1","hue-2","hue-3","constant","50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700","contrastDefaultColor","contrastDarkColors","contrastStrongLightColors","fuseGeneratorService","fuseTheming","generate","registeredThemes","registeredPalettes","registeredTheme","colorType","colorTypeName","levels","contrast1","contrast2","contrast3","contrast4","hue1","hue2","hue3","processAndStoreThemes","styleVars","colorTypes","colorLevelName","colorName","ucfirst","render","_themes","selectedTheme","cssTemplate","regex","RegExp","Object","matched","headEl","styleEl","html","_contrastLevel","contrastLevel","applyContrast","contrastLevels","white","1","2","3","4","black","MsThemeOptionsController","getActiveTheme","updateLayoutMode","layoutMode","updateLayoutStyle","layoutStyle","reload","layoutModes","layoutStyles","figure","msThemeOptions","toggleOptionsSidenav","detectBrowser","searchString","dataString","dataProp","versionSearchString","versionSearch","identity","subString","searchVersion","substring","browserInfo","browserData","navigator","userAgent","vendor","opera","osData","platform","browser","appVersion","os","toLowerCase","S4","toString","mobileDetect","mobile","array","MobileDetect","setBaseUrl","baseUrl","getBaseUrl","getApiObject","resource","paramDefaults","actions","$resource","parameters","actionParts","method","apiObject","resourceObject","apiResolverService","resourceParts","filterByTags","filtered","match","every","tagExists","itemTag","filterSingleByTags","itemTags","filterByPropIds","parameter","filterByIds","toTrustedFilter","$sce","trustAsHtml","htmlToPlainTextFilter","String","nospaceFilter","humanizeDocFilter","doc","$1","altDate","diff","fromNow","calendar","hljsDirective","$interpolate","contents","codeElement","line","trim","firstLineWhitespace","startingWhitespaceRegex","highlightedCode","hljs","highlight","language","lang","shouldInterpolate","contentParent","fuseConfigProvider","fuseConfiguration","disableCustomScrollbars","disableMdInkRippleOnMobile","disableCustomScrollbarsOnMobile","configName","setConfig","configValue","ToolbarController","$translate","$mdToast","toastr","toggleMsNavigationFolded","userStatus","global","userStatusOptions","NavigationController","MainController","targetScope","$id","runBlock","htmlClass","run","$ariaProvider","$logProvider","$translateProvider","debugEnabled","useLoader","urlTemplate","preferredLanguage","useSanitizeValueStrategy","tabindex","silent","checkLogin","toState","userSignupComplete","userSubscribed","showReturnToLogin","usrShowing","CacheLocalUser","timeOut","showSection","showSectionImg","stateChangeStartEvent","globalSearchCollapse","allowed","available","getAvailable","change","restore","resetFeed","eventsSet","showing","qty","marking","unmarking","marked","itemIDs","unmark","isUnread","f","addUserData","w","permissions","canChange","hasAny","features","feature","basic","colleagueCount","CHK","rolePool","web_name","realtime","devMode","io","transports","secure","sock","subs","subscriptionDetails","note","existing","sendInviteCountUpdatePing","enterPaymentMethodValues","finalizing","doSelect","sub","getInvites","idSUB","offer","submitText","finalize","toParams","fromState","fromParams","mod","loginCheck","backTo","routeConfig","$urlRouterProvider","$locationProvider","html5Mode","otherwise","layouts","verticalNavigation","main","toolbar","toolbar@app","navigation@app","IndexController","$provide","$httpProvider","defaults","withCredentials","useXDomain","common","Accept","interceptors","apiService","$cacheFactory","generateCacheLocal","PREFIX","lruEntry","localStorage","getItem","setItem","removeAll","nuke","loginTime","orderThanksData","name_first","name_last","validateId","pack","idGROUP","findLink","hasConflict","dropPosition","idCLI","q","chunk","getMocks","skip","idLBL","idITEM","pmtMethod","suiRID","offboardMember","details","attachment","attacments","left","right","evaluateCheckbox","condition","requestedAt","teammembers","mail","inbox","$templateCache"],"mappings":"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","file":"scripts/app-b6966f2514.js","sourcesContent":["(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.todo',\r\n            [\r\n                // 3rd Party Dependencies\r\n                'ng-sortable',\r\n                'textAngular'\r\n            ]\r\n        )\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($stateProvider, $translatePartialLoaderProvider, msApiProvider, msNavigationServiceProvider)\r\n    {\r\n        // State\r\n        $stateProvider.state('app.to-do', {\r\n            url      : '/to-do',\r\n            views    : {\r\n                'content@app': {\r\n                    templateUrl: 'app/main/todo/todo.html',\r\n                    controller : 'TodoController as vm'\r\n                }\r\n            },\r\n            resolve  : {\r\n                Tasks: function (msApi)\r\n                {\r\n                    return msApi.resolve('todo.tasks@get');\r\n                },\r\n                Tags : function (msApi)\r\n                {\r\n                    return msApi.resolve('todo.tags@get');\r\n                }\r\n            },\r\n            bodyClass: 'todo'\r\n        });\r\n\r\n        // Translation\r\n        $translatePartialLoaderProvider.addPart('app/main/todo');\r\n\r\n        // Api\r\n        msApiProvider.register('todo.tasks', ['app/data/todo/tasks.json']);\r\n        msApiProvider.register('todo.tags', ['app/data/todo/tags.json']);\r\n\r\n        // Navigation\r\n        msNavigationServiceProvider.saveItem('apps.to-do', {\r\n            title : 'To-Do',\r\n            icon  : 'icon-checkbox-marked',\r\n            state : 'app.to-do',\r\n            badge : {\r\n                content: 3,\r\n                color  : '#FF6F00'\r\n            },\r\n            weight: 9\r\n        });\r\n    }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.todo')\r\n        .controller('TaskDialogController', TaskDialogController);\r\n\r\n    /** @ngInject */\r\n    function TaskDialogController($mdDialog, Task, Tasks, event)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.title = 'Edit Task';\r\n        vm.task = angular.copy(Task);\r\n        vm.tasks = Tasks;\r\n        vm.newTask = false;\r\n\r\n        if ( !vm.task )\r\n        {\r\n            vm.task = {\r\n                'id'                : '',\r\n                'title'             : '',\r\n                'notes'             : '',\r\n                'startDate'         : new Date(),\r\n                'startDateTimeStamp': new Date().getTime(),\r\n                'dueDate'           : '',\r\n                'dueDateTimeStamp'  : '',\r\n                'completed'         : false,\r\n                'starred'           : false,\r\n                'important'         : false,\r\n                'deleted'           : false,\r\n                'tags'              : []\r\n            };\r\n            vm.title = 'New Task';\r\n            vm.newTask = true;\r\n            vm.task.tags = [];\r\n        }\r\n\r\n        // Methods\r\n        vm.addNewTask = addNewTask;\r\n        vm.saveTask = saveTask;\r\n        vm.deleteTask = deleteTask;\r\n        vm.newTag = newTag;\r\n        vm.closeDialog = closeDialog;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Add new task\r\n         */\r\n        function addNewTask()\r\n        {\r\n            vm.tasks.unshift(vm.task);\r\n\r\n            closeDialog();\r\n        }\r\n\r\n        /**\r\n         * Save task\r\n         */\r\n        function saveTask()\r\n        {\r\n            // Dummy save action\r\n            for ( var i = 0; i < vm.tasks.length; i++ )\r\n            {\r\n                if ( vm.tasks[i].id === vm.task.id )\r\n                {\r\n                    vm.tasks[i] = angular.copy(vm.task);\r\n                    break;\r\n                }\r\n            }\r\n\r\n            closeDialog();\r\n        }\r\n\r\n        /**\r\n         * Delete task\r\n         */\r\n        function deleteTask()\r\n        {\r\n            var confirm = $mdDialog.confirm()\r\n                .title('Are you sure?')\r\n                .content('The Task will be deleted.')\r\n                .ariaLabel('Delete Task')\r\n                .ok('Delete')\r\n                .cancel('Cancel')\r\n                .targetEvent(event);\r\n\r\n            $mdDialog.show(confirm).then(function ()\r\n            {\r\n                // Dummy delete action\r\n                for ( var i = 0; i < vm.tasks.length; i++ )\r\n                {\r\n                    if ( vm.tasks[i].id === vm.task.id )\r\n                    {\r\n                        vm.tasks[i].deleted = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }, function ()\r\n            {\r\n                // Cancel Action\r\n            });\r\n        }\r\n\r\n\r\n        /**\r\n         * New tag\r\n         *\r\n         * @param chip\r\n         * @returns {{label: *, color: string}}\r\n         */\r\n        function newTag(chip)\r\n        {\r\n            var tagColors = ['#388E3C', '#F44336', '#FF9800', '#0091EA', '#9C27B0'];\r\n\r\n            return {\r\n                name : chip,\r\n                label: chip,\r\n                color: tagColors[Math.floor(Math.random() * (tagColors.length))]\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Close dialog\r\n         */\r\n        function closeDialog()\r\n        {\r\n            $mdDialog.hide();\r\n        }\r\n    }\r\n})();\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.mail',\r\n      [\r\n        'nl2br-filter'\r\n      ]\r\n    )\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, $translatePartialLoaderProvider, msApiProvider, msNavigationServiceProvider) {\r\n\r\n\r\n    // State\r\n    $stateProvider\r\n      .state('app.mail', {\r\n        abstract: true,\r\n        url: '/mail',\r\n        resolve: {\r\n          Folders: function (msApi) {\r\n            return msApi.resolve('mail.folders@get');\r\n          },\r\n          Labels: function (msApi) {\r\n            return msApi.resolve('mail.labels@get');\r\n          },\r\n          Outbox: function (msApi) {\r\n            return msApi.resolve('mail.outbox@get');\r\n          }\r\n        }\r\n      })\r\n      .state('app.mail.threads', {\r\n        url: '/{type:(?:label)}/:filter',\r\n        views: {\r\n          'content@app': {\r\n            templateUrl: 'app/main/mail/mail.html',\r\n            controller: 'MailController as vm'\r\n          }\r\n        },\r\n        params: {\r\n          type: {\r\n            value: null,\r\n            squash: true\r\n          }\r\n        },\r\n        bodyClass: 'mail'\r\n      })\r\n      .state('app.mail.threads.thread', {\r\n        url: '/:threadId',\r\n        bodyClass: 'mail'\r\n      });\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/mail');\r\n\r\n    // Api\r\n    msApiProvider.register('mail.folders', ['app/data/mail/folders.json']);\r\n    msApiProvider.register('mail.labels', ['app/data/mail/labels.json']);\r\n    msApiProvider.register('mail.outbox', ['app/data/mail/outbox.json']);\r\n\r\n    // Navigation\r\n    msNavigationServiceProvider.saveItem('conversations', {\r\n      title: 'Messaging',\r\n      group: true,\r\n      weight: 2\r\n    });\r\n\r\n    // Navigation\r\n    msNavigationServiceProvider.saveItem('conversations.mail', {\r\n      title: 'Notifications',\r\n      icon: 'icon-email',\r\n      state: 'app.mail.threads',\r\n      badge      : {\r\n        color  : '#09d261'\r\n      },\r\n      stateParams: {\r\n        filter: '1'\r\n      },\r\n      weight: 1\r\n    });\r\n  }\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.mail')\r\n    .controller('ComposeDialogController', ComposeDialogController);\r\n\r\n  /** @ngInject */\r\n  function ComposeDialogController($mdDialog, selectedMail, type, $rootScope, api) {\r\n    var vm = this;\r\n\r\n    console.log('selectedMail', selectedMail);\r\n\r\n    vm.selectedMail = selectedMail;\r\n    vm.convoId = selectedMail.id;\r\n    vm.contact = selectedMail.user;\r\n    vm.item = selectedMail.item;\r\n    vm.type = selectedMail.type;\r\n\r\n    // Data\r\n    vm.form = {\r\n      from: $rootScope.user.name.full,\r\n      to: vm.contact.name\r\n\r\n    };\r\n\r\n    vm.hiddenCC = true;\r\n    vm.hiddenBCC = true;\r\n\r\n    // Methods\r\n    vm.closeDialog = closeDialog;\r\n    vm.submitPost = submitPost;\r\n\r\n    function submitPost() {\r\n\r\n      vm.submitting = true;\r\n\r\n      if (vm.type ==='message') {\r\n        console.log('submitting convo entry', vm.selectedMail.idVIEW, vm.form.message, vm.type);\r\n        api.conversations.add(vm.selectedMail.idVIEW, vm.form.message, vm.type).error(function (res) {\r\n          $rootScope.message('Error posting.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            $rootScope.message(res.message, 'warning');\r\n          } else {\r\n            $rootScope.message('Message has been posted.', 'success');\r\n            $rootScope.socketio.emit('message', res.posts[0]);\r\n          }\r\n        })[\"finally\"](function () {\r\n          vm.submitting = false;\r\n          vm.message = '';\r\n          vm.closeDialog();\r\n        });\r\n      }\r\n\r\n\r\n      if (vm.type === 'post') {\r\n        console.log('submitting convo entry', vm.selectedMail.idVIEW, vm.form.message, vm.type, vm.item.type);\r\n        api.conversations.reply(vm.selectedMail.idVIEW, vm.form.message, vm.item.type, vm.type).error(function (res) {\r\n          return $rootScope.message('Error posting.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            return $rootScope.message(res.message, 'warning');\r\n          } else {\r\n            $rootScope.message('Conversation has been posted.', 'success');\r\n            $rootScope.socketio.emit('message', res.posts[0]);\r\n          }\r\n\r\n        })[\"finally\"](function () {\r\n          vm.submitting = false;\r\n          vm.message = '';\r\n          vm.closeDialog();\r\n        });\r\n\r\n      }\r\n\r\n    };\r\n\r\n function closeDialog() {\r\n      $mdDialog.hide();\r\n    }\r\n  }\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.groups', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, msApiProvider, msNavigationServiceProvider, $translatePartialLoaderProvider) {\r\n\r\n    // STATE\r\n    $stateProvider.state('app.groups', {\r\n      url: '/groups',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/folders/folders.html',\r\n          controller: 'FoldersController as vm'\r\n        }\r\n      }\r\n    })\r\n      .state('app.groups.detail', {\r\n        url: '/:id',\r\n        views: {\r\n          'content@app': {\r\n            templateUrl: 'app/main/groups/groups.html',\r\n            controller: 'GroupsController as vm'\r\n          }\r\n        }\r\n      });\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/groups');\r\n\r\n  }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.groups')\r\n        .controller('LinkExistingDialogController', LinkExistingDialogController);\r\n\r\n    /** @ngInject */\r\n    function LinkExistingDialogController($mdDialog, api, group, $document, $filter, $mdSidenav, $rootScope, $scope, $http)\r\n    {\r\n\r\n     var vm = this;\r\n\t// Data\r\n    vm.group = group;\r\n\r\n\tconsole.log('vm.group', vm.group);\r\n\r\n    vm.closeDialog = closeDialog;\r\n    vm.determineOrder = determineOrder;\r\n    vm.getOrgChecklists = getOrgChecklists;\r\n    vm.link = link;\r\n\r\n\r\n\r\n\tvm.user = $rootScope.user;\r\n\r\n\r\n\tfunction determineOrder(what, to) {\r\n      var count, order, ref, whats;\r\n      whats = what + 's';\r\n      order = 1;\r\n      if (what === 'folder') {\r\n        order += $rootScope.folders.length;\r\n      } else {\r\n        count = (ref = $filter('filter')($rootScope[whats], {\r\n          id_parent: to\r\n        }, true)) != null ? ref : [];\r\n        order += count.length;\r\n      }\r\n      return order;\r\n    };\r\n\r\n\tvm.load = {\r\n      idGRP: '',\r\n      order: 1,\r\n      begin: function(idGRP) {\r\n        console.log('beginning self-link to org checklists', idGRP);\r\n        vm.order = vm.determineOrder('checklist', idGRP);\r\n        console.log('about to show modal', this);\r\n      }\r\n    };\r\n\r\n\r\n\r\n    vm.linking = false;\r\n    vm.loading = true;\r\n    vm.checklists = [];\r\n    vm.error = 0;\r\n    vm.message = '';\r\n    function setError(err, msg) {\r\n      vm.error = err;\r\n      return vm.message = msg;\r\n    };\r\n\r\n\tvm.selected = {\r\n      checklists: [],\r\n      check: function(checklist) {\r\n        return this.checklists.indexOf(checklist.id) !== -1;\r\n      },\r\n      toggle: function(checklist) {\r\n        if (checklist.isSelected) {\r\n          checklist.isSelected = false;\r\n          this.checklists.remove(checklist.id);\r\n        } else {\r\n          checklist.isSelected = true;\r\n          this.checklists.push(checklist.id);\r\n        }\r\n      }\r\n    };\r\n\r\n    function getOrgChecklists() {\r\n\r\n      return api.checklists.getOrgChecklists().then(function(res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return vm.setError(-1, \"Server response empty.\");\r\n        } else if (res.code) {\r\n          return vm.setError(res.code, res.message);\r\n        } else {\r\n          return vm.checklists = res.checklists;\r\n        }\r\n      }, function(err) {\r\n        console.log('error retrieving checklists', err);\r\n        return vm.setError(-1, \"HTTP error.\");\r\n      }).then(function() {\r\n        return vm.loading = false;\r\n      });\r\n    };\r\n\r\n    vm.getOrgChecklists();\r\n\r\n    function link(checklists) {\r\n      vm.linking = true;\r\n\t\t\treturn $http.post('https://checklinked.com/ajax/checklist_selfLink-post.php', {\r\n        idGRP: vm.group.id,\r\n        order: '1',\r\n        checklists: vm.selected.checklists\r\n      }, {\r\n        headers: {\r\n          'Content-Type': 'application/x-www-form-urlencoded'\r\n        },\r\n        cache: false\r\n      }).then(function(d) {\r\n        var res;\r\n        if (d === void 0 || d === null || d === '') {\r\n          $rootScope.message(\"Server not responding properly.\", 'warning');\r\n        } else {\r\n          res = d.data;\r\n        }\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(-1, \"Server response empty.\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          vm.error = 0;\r\n          vm.message = '';\r\n          $rootScope.message('Checklists linked.');\r\n          $rootScope.checklists = $rootScope.checklists.concat(res.checklists);\r\n          $rootScope.organizeData();\r\n          $(\"#findChecklist\").modal('hide');\r\n          vm.getOrgChecklists();\r\n          return vm.selected.checklists = [];\r\n        }\r\n      }, function(err) {\r\n        console.log('error retrieving checklists', err);\r\n        return vm.setError(-1, \"HTTP error.\");\r\n      }).then(function() {\r\n        return vm.linking = false;\r\n      });\r\n    };\r\n\r\n\r\n\r\n       function closeDialog()\r\n        {\r\n        \tconsole.log('close me');\r\n           \t$mdDialog.hide();\r\n        }\r\n\r\n    }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.groups')\r\n        .controller('GroupSendLinkRequestDialogController', GroupSendLinkRequestDialogController);\r\n\r\n    /** @ngInject */\r\n    function GroupSendLinkRequestDialogController($mdDialog, api, GROUP, $document, $filter, $mdSidenav, $rootScope, $scope, $http)\r\n    {\r\n\r\n     var vm = this;\r\n\t// Data\r\n    vm.group = GROUP;\r\n\r\n\tconsole.log('vm.group', vm.group);\r\n\r\n    vm.closeDialog = closeDialog;\r\n\r\n\tvm.user = $rootScope.user;\r\n\r\n\tvm.find = {\r\n      inProgress: false,\r\n      showError: function(msg, code) {\r\n        if (code == null) {\r\n          code = 0;\r\n        }\r\n        this.error.code = code;\r\n        this.error.message = msg;\r\n        return this.error.show = true;\r\n      },\r\n      error: {\r\n        code: 0,\r\n        message: '',\r\n        show: false\r\n      },\r\n      criteria: '',\r\n      status: function(link) {\r\n        var idCON, invites, result, status, type;\r\n        status = '';\r\n        idCON = link.id;\r\n        if (idCON === 0) {\r\n          type = 'organization';\r\n          invites = $filter('filter')($scope.invites, {\r\n            users: {\r\n              recipient: {\r\n                id: 0,\r\n                idACC: link.id\r\n              }\r\n            }\r\n          }, true);\r\n          if (invites.length) {\r\n            status = 'Sent';\r\n          } else {\r\n            status = 'Stranger';\r\n          }\r\n        } else {\r\n          type = 'contact';\r\n          invites = $filter('filter')(vm.invites, {\r\n            users: {\r\n              recipient: {\r\n                id: idCON\r\n              }\r\n            }\r\n          }, true);\r\n          if (invites.length) {\r\n            if (invites[0].m_accepted === '') {\r\n              status = 'Sent';\r\n            } else {\r\n              status = 'Linked';\r\n            }\r\n          } else {\r\n            status = 'Stranger';\r\n          }\r\n        }\r\n        result = {\r\n          status: status,\r\n          invites: invites,\r\n          type: type\r\n        };\r\n        return result;\r\n      },\r\n      processLink: function(raw) {\r\n        var info, processed, item;\r\n        info = vm.find.status(raw);\r\n        item = vm.group;\r\n\r\n        processed = $.extend({}, raw, {\r\n          requesting: false,\r\n          type: info.type,\r\n          status: info.status,\r\n          invite: info.invites[0],\r\n          request: function() {\r\n            var itemID, link;\r\n            link = this;\r\n            link.requesting = true;\r\n            itemID = item;\r\n            return api.checklists.invite.send(raw.id, itemID, true, raw.idACC, 'group').success(function(res) {\r\n              var id, invite, status;\r\n              if (res === void 0 || res === null || res === '') {\r\n                return $rootScope.message('Error sending Link Request.  Server not responding properly.', 'warning');\r\n              } else if (res.code) {\r\n                return $rootScope.message(\"Error sending Link Request. (\" + res.code + \"): \" + res.message, 'warning');\r\n              } else {\r\n                invite = res.invites[0];\r\n                id = invite.id;\r\n\r\n                $rootScope.socketio.emit('feed_subscribe', {\r\n                  idCON: invite.users.recipient.id,\r\n                  ids: [id]\r\n                });\r\n                $rootScope.notify({\r\n                  idFDI: invite.notifications.received,\r\n                  id: id,\r\n                  type: 'invite'\r\n                });\r\n                vm.invites.push(res.invites[0]);\r\n                status = vm.find.status(link);\r\n                link.status = status.status;\r\n                return link.invite = status.invites[0];\r\n              }\r\n            }).error(function(res) {\r\n              return $rootScope.message('Error sending Link Request.  Server not responding.', 'warning');\r\n            })[\"finally\"](function() {\r\n              return link.requesting = false;\r\n            });\r\n          },\r\n          withdraw: function() {\r\n            return $rootScope.message('This feature is under development.');\r\n          }\r\n        });\r\n        return processed;\r\n      },\r\n      submit: function() {\r\n        var criteria;\r\n        criteria  = vm.find.criteria;\r\n\r\n\r\n        if (criteria === '') {\r\n          return $rootScope.message('No find criteria provided!');\r\n        }\r\n        criteria = encodeURI(criteria);\r\n\r\n        console.log('encodeURI(criteria)', criteria);\r\n        vm.inProgress = true;\r\n\t\t\t\treturn $http.post(\"https://checklinked.com/ajax/links_find-post.php\", {\r\n          criteria: criteria,\r\n          idCHK: null\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        }).success(function(res) {\r\n          var found;\r\n          if (res === void 0 || res === null || res === '') {\r\n            return $rootScope.message('Server not responding properly.');\r\n          } else if (res.code) {\r\n            vm.found = [];\r\n            return vm.find.showError(res.message, res.code);\r\n          } else {\r\n            console.log('server response: ', res);\r\n            vm.find.error.show = false;\r\n            vm.invites = res.invites;\r\n            found = {\r\n              organizations: res.organizations.map(vm.find.processLink),\r\n              contacts: res.contacts.map(vm.find.processLink)\r\n            };\r\n            console.log('find result: ', found);\r\n            vm.found = found.organizations.concat(found.contacts);\r\n          }\r\n        }).error(function(res) {\r\n          return $rootScope.message('Server not responding.');\r\n        })[\"finally\"](function() {\r\n          vm.find.inProgress = false;\r\n        });\r\n      }\r\n    };\r\n    vm.found = [];\r\n    vm.invites = [];\r\n\r\n       function closeDialog()\r\n        {\r\n        \tconsole.log('close me');\r\n           \t$mdDialog.hide();\r\n        }\r\n\r\n\r\n\r\n    }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.groups')\r\n        .controller('GroupPublishTemplateDialogController', GroupPublishTemplateDialogController);\r\n\r\n    /** @ngInject */\r\n    function GroupPublishTemplateDialogController($mdDialog, api, id, name, $document, $mdSidenav, $http, $rootScope, $scope) {\r\n\r\n        var vm = this;\r\n\tvm.publishTemplate = publishTemplate;\r\n\r\n\tvm.publish = {\r\n      id: id,\r\n      name: name,\r\n      pvt: false,\r\n      submitting: false,\r\n      togglePrivate: function() {\r\n        this.pvt = !this.pvt;\r\n        return true;\r\n      }\r\n     }\r\n\r\n     console.log('vm.publish', vm.publish);\r\n\r\n        // Data\r\n        vm.title = 'Publish Template';\r\n\t\tvm.closeDialog = closeDialog;\r\n\r\n\tfunction closeDialog() {\r\n    \t$mdDialog.hide();\r\n    }\r\n\r\n\r\n\r\n      function publishTemplate() {\r\n      \tconsole.log('vm.publish.id', vm.publish.id);\r\n      \tconsole.log('vm.publish.name', vm.publish.name);\r\n        var ref, ref1;\r\n        if (((ref = vm.publish.id) != null ? ref.length : void 0) && ((ref1 = vm.publish.name) != null ? ref1.length : void 0)) {\r\n          vm.publish.submitting = true;\r\n          return api.checklists.publish(vm.publish.id, vm.publish.name, 'group', vm.publish.pvt).error(function(res) {\r\n            return $rootScope.message('Unknown error publishing Group Template.', 'warning');\r\n          }).success(function(res) {\r\n            if (res.code) {\r\n              return $rootScope.message(\"Error publishing Group Template. (\" + res.code + \": \" + res.message + \")\", 'warning');\r\n            } else {\r\n              $rootScope.message(\"Group Template published successfully.\");\r\n              //close\r\n              vm.closeDialog();\r\n\r\n            }\r\n          })[\"finally\"](function() {\r\n            vm.publish.submitting = false;\r\n            vm.publish.id = null;\r\n            return vm.publish.name = null;\r\n          });\r\n        } else {\r\n          return $rootScope.message('You must specify the Group Template Name.', 'warning');\r\n        }\r\n      }\r\n\r\n\r\n\r\n\r\n\r\n\t/*\r\n    vm.publish = {\r\n      idCHK: null,\r\n      name: null,\r\n      pvt: false,\r\n      submitting: false,\r\n      gatherInfo: function(idCHK) {\r\n        vm.publish.idCHK = idCHK;\r\n        return true;\r\n      },\r\n      togglePrivate: function() {\r\n        this.pvt = !this.pvt;\r\n        return true;\r\n      },\r\n      publish: function() {\r\n      \tconsole.log('vm.publish.name', vm.publish.name, idCHK, vm.publish.pvt);\r\n        var ref1, ref2;\r\n        if (((ref1 = idCHK) != null ? ref1.length : void 0) && ((ref2 = vm.publish.name) != null ? ref2.length : void 0)) {\r\n          vm.publish.submitting = true;\r\n          return api.checklists.publish(idCHK, vm.publish.name, vm.publish.pvt).error(function(res) {\r\n            return $rootScope.message('Unknown error publishing Template.', 'warning');\r\n          }).success(function(res) {\r\n            if (res.code) {\r\n              return $rootScope.message(\"Error publishing Template. (\" + res.code + \": \" + res.message + \")\", 'warning');\r\n            } else {\r\n              $rootScope.message(\"Template published successfully.\");\r\n              return vm.closeDialog();\r\n            }\r\n          })[\"finally\"](function() {\r\n            vm.publish.submitting = false;\r\n            idCHK = null;\r\n            return vm.publish.name = null;\r\n          });\r\n        } else {\r\n          return $rootScope.message('You must specify the Template Name.', 'warning');\r\n        }\r\n      }\r\n    };\r\n\r\n\r\n\r\n    */\r\n\r\n\r\n\r\n\r\n    }\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.contacts', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, $translatePartialLoaderProvider, msApiProvider, msNavigationServiceProvider) {\r\n\r\n    $stateProvider.state('app.contacts', {\r\n      url: '/contacts',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/contacts/contacts.html',\r\n          controller: 'ContactsController as vm'\r\n        }\r\n      }\r\n    }).state('app.contacts.accept', {\r\n      url: '/contacts/:passID',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/contacts/contacts.html',\r\n          controller: 'ContactsController as vm'\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/contacts');\r\n\r\n\r\n    // Navigation\r\n    /*\r\n    msNavigationServiceProvider.saveItem('contacts', {\r\n      title: 'Contacts',\r\n      group: true,\r\n      weight: 4\r\n    });\r\n\r\n    msNavigationServiceProvider.saveItem('contacts.contacts', {\r\n      title: 'Contacts',\r\n      icon: 'icon-account-box',\r\n      state: 'app.contacts',\r\n      weight: 1\r\n    });\r\n    */\r\n\r\n  }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.contacts')\r\n        .controller('DirectMessageDialogController', DirectMessageDialogController);\r\n\r\n    /** @ngInject */\r\n    function DirectMessageDialogController($mdDialog, api, contact, which, $document, $mdSidenav, $http, $rootScope, $scope)\r\n    {\r\n        var vm = this;\r\n\r\n\t\tvm.contact = contact;\r\n\t\tvm.which = which;\r\n\r\n\t\tvm.contact\r\n\t\tconsole.log('vm.contact.id', vm.contact.id);\r\n\t\tconsole.log('vm.contact', vm.contact);\r\n\t\tconsole.log('vm.which', vm.which);\r\n\t\tconsole.log('vm.contact.contacts[which].name.full', vm.contact.contacts[which].name.full);\r\n\t\tconsole.log('vm.contact.contacts[which].id', vm.contact.contacts[which].id);\r\n\r\n        //Functions\r\n        vm.title = 'Direct Message';\r\n\t\tvm.closeDialog = closeDialog;\r\n\t\tvm.submitPost = submitPost;\r\n\t\tvm.from = $rootScope.user.name.full;\r\n    vm.to = vm.contact.contacts[which].name.full;\r\n\r\n\r\n\tfunction closeDialog()\r\n    {\r\n    $mdDialog.hide();\r\n    }\r\n\r\n    function submitPost() {\r\n\t\tconsole.log('vm.contact', vm.contact);\r\n\t\tconsole.log('vm.which', vm.which);\r\n\t\tconsole.log('vm.contact.contacts[which].name.full', vm.contact.contacts[which].name.full);\r\n\t\tconsole.log('vm.contact.contacts[which].id', vm.contact.contacts[which].id);\r\n    \tconsole.log('vm.message', vm.message);\r\n\r\n\r\n      vm.submitting = true;\r\n      console.log('submitting convo entry', vm.contact.id, vm.message, 'message');\r\n      return api.conversations.add(vm.contact.id, vm.message, 'message').error(function(res) {\r\n        return $rootScope.message('Error posting.', 'warning');\r\n      }).success(function(res) {\r\n        if (res.code) {\r\n          $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          $rootScope.socketio.emit('message', res.posts[0]);\r\n\r\n          vm.closeDialog();\r\n        }\r\n\r\n      })[\"finally\"](function() {\r\n        vm.submitting = false;\r\n        vm.message = '';\r\n      });\r\n    };\r\n\r\n\r\n    }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.contacts')\r\n        .controller('ContactDialogController', ContactDialogController);\r\n\r\n    /** @ngInject */\r\n    function ContactDialogController($rootScope, $mdDialog, Contact, Contacts, User, msUtils, api)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.title = 'View Contact';\r\n        vm.contact = angular.copy(Contact);\r\n        vm.contacts = Contacts;\r\n        //vm.user = User;\r\n        vm.newContact = false;\r\n        vm.allFields = false;\r\n\r\n\r\n\t\tconsole.log('vm.contact', vm.contact.contacts.originator.name.full);\r\n\r\n\r\n        if (!vm.contact) {\r\n            vm.contact = {\r\n                'id'      : msUtils.guidGenerator(),\r\n                'first'   : '',\r\n                'last'\t  : '',\r\n                'avatar'  : '/assets/images/avatars/profile.jpg',\r\n                'full'\t  : '',\r\n                'company' : '',\r\n                'email'   : '',\r\n                'phone'   : '',\r\n                'notes'   : ''\r\n            };\r\n\r\n            vm.title = 'New Contact';\r\n            vm.newContact = true;\r\n            vm.contact.tags = [];\r\n        }\r\n\r\n        // Methods\r\n        vm.addNewContact = addNewContact;\r\n        vm.saveContact = saveContact;\r\n        vm.deleteContactConfirm = deleteContactConfirm;\r\n        vm.closeDialog = closeDialog;\r\n        vm.toggleInArray = msUtils.toggleInArray;\r\n        vm.exists = msUtils.exists;\r\n\t\tvm.showWhichInviteContactData = showWhichInviteContactData;\r\n        //////////\r\n        \r\n        \r\n\tfunction showWhichInviteContactData(friend)\r\n     {\r\n      var ref2, ref3, ref4;\r\n      if (((ref2 = $rootScope.user) != null ? ref2.idCON : void 0) === (friend != null ? (ref3 = friend.contacts) != null ? (ref4 = ref3.accepter) != null ? ref4.id : void 0 : void 0 : void 0)) {\r\n        return 'originator';\r\n      }else{\r\n      return 'accepter';\r\n      } \r\n    }\r\n\r\n        /**\r\n         * Add new contact\r\n         */\r\n        function addNewContact()\r\n        {\r\n            vm.contacts.unshift(vm.contact);\r\n\r\n            closeDialog();\r\n        }\r\n\r\n        /**\r\n         * Save contact\r\n         */\r\n        function saveContact()\r\n        {\r\n            // Dummy save action\r\n            for ( var i = 0; i < vm.contacts.length; i++ )\r\n            {\r\n                if ( vm.contacts[i].id === vm.contact.id )\r\n                {\r\n                    vm.contacts[i] = angular.copy(vm.contact);\r\n                    break;\r\n                }\r\n            }\r\n\r\n            closeDialog();\r\n        }\r\n\r\n        /**\r\n         * Delete Contact Confirm Dialog\r\n         */\r\n        \r\n        \r\n        function deleteContactConfirm(ev, contact, idCON)\r\n        {\t\t\t\t\r\n\t\t\t\t\r\n        \tvar confirm = $mdDialog.confirm()\r\n                .title('Are you sure want to delete the contact?')\r\n                .htmlContent('<b>' + contact + '</b>' + ' will be deleted.')\r\n                .ariaLabel('delete contact')\r\n                .targetEvent(ev)\r\n                .ok('OK')\r\n                .cancel('CANCEL');\r\n\r\n            $mdDialog.show(confirm).then(function ()\r\n            {\r\n\t\t\t\t\tconsole.log('Delete by idCON:', idCON);\r\n\t\t        \tapi.contacts.destroy(idCON);\r\n\t\t            vm.contacts.splice(vm.contacts.indexOf(Contact), 1);\r\n            });\r\n        }\r\n        \r\n\r\n        /**\r\n         * Close dialog\r\n         */\r\n        function closeDialog()\r\n        {\r\n            $mdDialog.hide();\r\n        }\r\n\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.contacts')\r\n        .controller('AddContactDialogController', AddContactDialogController);\r\n\r\n    /** @ngInject */\r\n    function AddContactDialogController($rootScope, $filter, $mdDialog, msUtils, api, Contacts)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.contacts = Contacts;\r\n        vm.title = 'Add New Contact';\r\n        vm.newContact = false;\r\n        vm.allFields = false;\r\n        vm.searching = false;\r\n        vm.find = '';\r\n        vm.friends = [];\r\n        vm.loading = {friends: true};\r\n   \r\n        if ( !vm.contact )\t{\r\n\r\n            vm.contact = {\r\n                'id'      : msUtils.guidGenerator(),\r\n                'first'   : '',\r\n                'last'\t  : '',\r\n                'avatar'  : '/assets/images/avatars/profile.jpg',\r\n                'full'\t  : '',\r\n                'company' : '',\r\n                'email'   : '',\r\n                'phone'   : '',\r\n                'notes'   : ''\r\n         };\r\n\r\n            vm.title = 'Add New Contact';\r\n            vm.newContact = true;\r\n        }\r\n\r\n        // Methods\r\n        vm.addNewContact = addNewContact;\r\n        vm.closeDialog = closeDialog;\r\n        vm.toggleInArray = msUtils.toggleInArray;\r\n        vm.exists = msUtils.exists;\r\n        vm.queryContacts = queryContacts;\r\n        vm.friendshipStatus = friendshipStatus;\r\n        vm.acceptConnectionInvitation = acceptConnectionInvitation;\r\n        vm.removeConnectionInvitation = removeConnectionInvitation;\r\n        vm.inviteToConnect = inviteToConnect;\r\n\r\n    $rootScope.$watch('user', function(value) {\r\n      if (typeof value === 'object') {\r\n        return api.contacts.get().success(function(res) {\r\n          if (res.code) {\r\n            return $rootScope.message(res.message, 'warning');\r\n          } else {\r\n            return vm.friends = vm.friends.concat(res.friendships);\r\n          }\r\n        })[\"finally\"](function() {\r\n          return vm.loading.friends = false;\r\n        });\r\n      }\r\n    });\r\n    \r\n    \r\n\t function queryContacts() {\r\n      if (vm.find.query === '') {\r\n        return $rootScope.message('Please provide Search criteria.', 'warning');\r\n      } else {\r\n        vm.searching = true;\r\n        return api.contacts.find(vm.find.query).success(function(res) {\r\n          if (res.code) {\r\n          \treturn $rootScope.message(res.message, 'warning');\r\n          } else {\r\n            vm.find.results = res.contacts;\t\r\n            return vm.find.searchCount += 1;\r\n          }\r\n        })[\"finally\"](function() {\r\n          return vm.searching = false;\r\n        });\r\n      }\r\n    };\r\n\r\n    function friendshipStatus(idCON) {\r\n      var friend, i, key, len, ref;\r\n      ref = vm.friends;\r\n      \r\n      for (key = i = 0, len = ref.length; i < len; key = ++i) {\r\n        friend = ref[key];\r\n        if (friend.accepted === '') {\r\n          if (friend.contacts.accepter.id === idCON) {\r\n            return 'Sent';\r\n          } else if (friend.contacts.originator.id === idCON) {\r\n            return 'Received';\r\n          }\r\n        } else {\r\n          if (friend.contacts.accepter.id === idCON) {\r\n            return 'Friend';\r\n          } else if (friend.contacts.originator.id === idCON) {\r\n            return 'Friend';\r\n          }\r\n        }\r\n      }\r\n      return 'Strangers';\r\n    };\r\n\r\n \tfunction acceptConnectionInvitation(idCON, index) {\r\n      var friendship;\r\n      friendship = vm.friends[index];\r\n      return api.contacts.invite.accept(idCON).success(function(res) {\r\n        if (!res.code) {\r\n          vm.friends.remove(friendship);\r\n          return vm.friends.unshift(res.friendships[0]);\r\n        }\r\n      });\r\n    };\r\n    \r\n    function inviteToConnect(idCON) {\r\n      return api.contacts.invite.send(idCON).success(function(res) {\r\n        if (!res.code) {\r\n        \t//vm.contacts.splice(vm.contacts.indexOf(Contact), 1);\r\n          return vm.friends.unshift(res.friendships[0]);\r\n        }\r\n      });\r\n    };\r\n    \r\n    function removeConnectionInvitation(idCON) {\r\n      return api.contacts.invite.remove(idCON).success(function() {\r\n        var i, invite, invites, len, results;\r\n        invites = $filter('filter')(vm.friends, {\r\n          contacts: {\r\n            accepter: {\r\n              id: idCON\r\n            }\r\n          }\r\n        }, true);\r\n        invites = invites.concat($filter('filter')(vm.friends, {\r\n          contacts: {\r\n            originator: {\r\n              id: idCON\r\n            }\r\n          }\r\n        }, true));\r\n        results = [];\r\n        for (i = 0, len = invites.length; i < len; i++) {\r\n          invite = invites[i];\r\n          results.push(vm.friends.remove(invite));\r\n        }\r\n        return results;\r\n      });\r\n    };\r\n       \r\n        function addNewContact()\r\n        {\r\n            vm.contacts.unshift(vm.contact);\r\n            closeDialog();\r\n        }\r\n\r\n\r\n        function closeDialog()\r\n        {\r\n           \t$mdDialog.hide();\r\n        }\r\n\r\n    }\r\n})();\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.checklist',\r\n      ['NgModel',\r\n        'as.sortable',\r\n        'textAngular'\r\n      ])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, msApiProvider, msNavigationServiceProvider, $translatePartialLoaderProvider) {\r\n\r\n    // State\r\n    $stateProvider.state('app.checklist', {\r\n      url: '/checklist',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/checklist/checklist.html',\r\n          controller: 'checklistController as vm'\r\n        }\r\n      }\r\n    })\r\n      .state('app.checklist.group', {\r\n        url: '/:id',\r\n        views: {\r\n          'content@app': {\r\n            templateUrl: 'app/main/checklist/checklist.html',\r\n            controller: 'checklistController as vm'\r\n          }\r\n        }\r\n      })\r\n      .state('app.checklist.detail', {\r\n        url: '/detail/:id',\r\n        views: {\r\n          'content@app': {\r\n            templateUrl: 'app/main/checklist/views/detail/checklist.html',\r\n            controller: 'checklistController as vm'\r\n          }\r\n        }\r\n      })\r\n      .state('app.checklist.conflicts', {\r\n        url: \"/conflicts/:id\",\r\n        views: {\r\n          'content@app': {\r\n            templateUrl: 'app/main/checklist/views/detail/checklist.html',\r\n            controller: 'checklistController as vm'\r\n          }\r\n        },\r\n        params: {\r\n          checklist: null,\r\n          id: null,\r\n          sections: null,\r\n          headings: null,\r\n          items: null\r\n        }\r\n      })\r\n      .state('app.checklist.notifications', {\r\n        url: '/notifications/:idCHK',\r\n        views: {\r\n          'content@app': {\r\n            templateUrl: 'app/main/checklist/views/detail/checklist.html',\r\n            controller: 'checklistController as vm'\r\n          }\r\n        },\r\n        params: {\r\n          checklist: null,\r\n          id: null,\r\n          idCHK: null,\r\n          sections: null,\r\n          headings: null,\r\n          items: null,\r\n          name: null,\r\n          type: null\r\n        }\r\n      });\r\n\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/checklist');\r\n\r\n    // Navigation\r\n    msNavigationServiceProvider.saveItem('checklists', {\r\n      title: 'Checklists',\r\n      group: true,\r\n      weight: 1\r\n    });\r\n\r\n    msNavigationServiceProvider.saveItem('checklists.checklist', {\r\n      title: 'My Checklists',\r\n      icon: 'icon-folder-multiple',\r\n      state: 'app.checklist',\r\n      weight: 1\r\n    });\r\n\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.checklist')\r\n    .controller('ChecklistUploadAttachmentDialogController', ChecklistUploadAttachmentDialogController);\r\n\r\n  /** @ngInject */\r\n  function ChecklistUploadAttachmentDialogController($mdDialog, api, pID, pType, $document, $mdSidenav, $http, $rootScope, $scope) {\r\n    var vm = this;\r\n\r\n    vm.pID = pID;\r\n    vm.pType = pType;\r\n\r\n    // Data\r\n    vm.title = 'Upload Attachments';\r\n    vm.closeDialog = closeDialog;\r\n    vm.upload = upload;\r\n    vm.uniqueString = uniqueString;\r\n\r\n    function closeDialog() {\r\n      $mdDialog.hide();\r\n    }\r\n\r\n    function uniqueString() {\r\n      var text = \"\";\r\n      var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n\r\n      for (var i = 0; i < 8; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n      }\r\n      return text;\r\n    }\r\n\r\n    /* BEGIN IMPORT*/\r\n\r\n    vm.sizeLimit = 10585760; // 10MB in Bytes\r\n    vm.uploadProgress = 0;\r\n    vm.creds = {\r\n      bucket: 'checklinked-attachments-temp',\r\n      access_key: 'AKIAI6XHWIU2YCPG6BPA',\r\n      secret_key: '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'\r\n    };\r\n\r\n    function upload() {\r\n      console.log('AWS.config', AWS.config);\r\n      //console.log('vm', vm);\r\n\r\n      AWS.config.update({accessKeyId: vm.creds.access_key, secretAccessKey: vm.creds.secret_key});\r\n      AWS.config.region = 'us-west-1';\r\n      var bucket = new AWS.S3({params: {Bucket: vm.creds.bucket}});\r\n\r\n      vm.file = $('#AWSFileUploadInput')[0].files[0];\r\n\r\n      if (vm.file) {\r\n        vm.file.label = vm.lable;\r\n        console.log('vm.file', vm.file);\r\n        console.log('vm.file.label', vm.label);\r\n        var fileSize = Math.round(parseInt(vm.file.size));\r\n        if (fileSize > vm.sizeLimit) {\r\n          $rootScope.message('Sorry, your attachment is too big. <br/> Maximum ' + vm.fileSizeLabel() + ' file attachment allowed', 'warning');\r\n          return false;\r\n        }\r\n        // Prepend Unique String To Prevent Overwrites\r\n        var uniqueFileName = vm.uniqueString() + '-' + vm.file.name;\r\n        vm.aws = 'https://s3-us-west-1.amazonaws.com/checklinked-attachments-temp/' + uniqueFileName;\r\n\r\n        var params = {Key: uniqueFileName, ContentType: vm.file.type, Body: vm.file, ServerSideEncryption: 'AES256'};\r\n\r\n        bucket.putObject(params, function (err, data) {\r\n\r\n          api.attachments.add(vm.pID, vm.pType, vm.aws, vm.file.name, vm.file.size, vm.label).error(function (res) {\r\n            return $rootScope.message(\"Error Uploading Attachment\", 'warning');\r\n          }).success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              $rootScope.message(\"Error Adding Attachments\", 'warning');\r\n            } else if (res.code) {\r\n              $rootScope.message(res.message, 'warning');\r\n            } else {\r\n\r\n              //else code here\r\n            }\r\n          });\r\n\r\n          if (err) {\r\n            console.log('params', params);\r\n            console.log('data', data);\r\n            console.log('err', err);\r\n            console.log('err.code', err.code);\r\n            $rootScope.message(err.message, err.code, 'warning');\r\n            return false;\r\n          }\r\n          else {\r\n            // Upload Successfully Finished\r\n            $rootScope.message(\"Attachment Uploaded\", 'success');\r\n\r\n            vm.checklist.// Reset The Progress Bar\r\n            setTimeout(function () {\r\n              vm.uploadProgress = 0;\r\n              $scope.$digest();\r\n            }, 4000);\r\n          }\r\n        })\r\n          .on('httpUploadProgress', function (progress) {\r\n            vm.uploadProgress = Math.round(progress.loaded / progress.total * 100);\r\n            $scope.$digest();\r\n          });\r\n      }\r\n      else {\r\n        // No File Selected\r\n        $rootScope.message('Please select a file to upload', 'warning');\r\n      }\r\n    }\r\n\r\n    vm.fileSizeLabel = function () {\r\n      // Convert Bytes To MB\r\n      return Math.round(vm.sizeLimit / 1024 / 1024) + 'MB';\r\n    };\r\n\r\n  }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.checklist')\r\n        .controller('ChecklistShowLinkedUsersDialogController', ChecklistShowLinkedUsersDialogController);\r\n\r\n    /** @ngInject */\r\n    function ChecklistShowLinkedUsersDialogController($mdDialog, Checklist, event, api, $document, $mdSidenav, $http, $rootScope, $scope, $stateParams, $filter)\r\n    {\r\n        var vm = this;\r\n\r\n        vm.idCHK = $stateParams.id;\r\n        vm.checklist = angular.copy(Checklist);\r\n\t\tvm.title = 'Show Linked Users \"' + vm.checklist.name + '\"';\r\n\t\t\r\n\t\tvm.checklist = {\r\n         'parentId' : $stateParams.id\r\n         }\r\n\t\t    \t\t\r\n        // Methods\t\t\r\n\t\tvm.setChecklistCtrlBlank = setChecklistCtrlBlank;\r\n\t\tvm.setBlank = setBlank;\t\r\n\t\tvm.setError = setError;\t\r\n\t\tvm.loadLinkedUsers = loadLinkedUsers;\r\n\t\tvm.closeDialog = closeDialog;\r\n\t\t\r\n        //vm.closeDialog = closeDialog;\r\n\t\tconsole.log('$scope on dialog at load',$scope);\r\n\t\tconsole.log('vm on dialog at load',vm);\r\n\t\t\r\n\t\t\r\n        function closeDialog()\r\n        {\r\n           \t$mdDialog.hide();\r\n        }\r\n        \r\n        \r\n    \r\n    function setBlank() {\r\n      $scope.loadingLinked = false;\r\n      vm.error = 0;\r\n      vm.message = '';\r\n      $scope.users = [];\r\n      return $scope.usersLoaded = false;\r\n    };\r\n    \r\n    vm.setBlank();\r\n    \r\n        \r\n   function setError(err, msg) {\r\n      vm.error = err;\r\n      return vm.message = msg;\r\n    };\r\n    \r\n    \r\n    $scope.toggleShowCheckboxes = function(user) {\r\n      var show;\r\n      console.log('user', user);\r\n      show = {\r\n        idCON: user.idCON,\r\n        name: user.name.first\r\n      };\r\n\t  console.log('$scope on toggle',$scope);\r\n      if (user.isShowing) {\r\n        user.isShowing = false;\r\n\t\t//$scope.removeUserCheckboxes(show);\r\n      } else {\r\n        user.isShowing = true;\r\n\t\t//$scope.displayUserCheckboxes(show);\r\n        console.log('displayed user', user, show);\r\n        console.log('showingUsers', $scope.showingUsers);\r\n      }\r\n      return true;\r\n    };\r\n    \r\n\r\n\tfunction loadLinkedUsers() {\r\n      //console.log('loading users', $scope);\r\n      vm.setBlank();\r\n      $scope.loadingLinked = true;\r\n      return api.checklists.getLinkedUsers(vm.idCHK).then(function(res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return vm.setError(-1, 'Server not responding properly.');\r\n        } else if (res.code) {\r\n          return vm.setError(res.code, res.message);\r\n        } else {\r\n          res.checklists.forEach(function(cfc) {\r\n          \t//console.log('res', res);\r\n            var usr;\r\n            usr = cfc.ownerDetails;\r\n            usr.isShowing = false;\r\n            $scope.users.push(usr);\r\n            if (usr.idCON === $rootScope.viewAs.user.idCON) {\r\n            \t//console.log('vm.toggleShowCheckboxes(usr)', vm.toggleShowCheckboxes(usr));\r\n              return $scope.toggleShowCheckboxes(usr);\r\n              console.log('error here');\r\n            }\r\n            \r\n          });\r\n          return $scope.usersLoaded = true;\r\n        }\r\n      }, function(err) {\r\n        return vm.setError(-1, 'Unable to load linked user list.');\r\n      }).then(function() {\r\n        return $scope.loadingLinked = false;\r\n      });\r\n     \r\n    };\r\n        \r\n\t$scope.$on('event:checklistLoaded', function() {\r\n      if (!$scope.usersLoaded && !$scope.loadingLinked) {\r\n        console.log('loading users by event');\r\n        return vm.loadLinkedUsers();\r\n      }\r\n    });\r\n    if (!$scope.usersLoaded && !$scope.loadingLinked) {\r\n      console.log('loading users by default');\r\n      console.log('$scope.users', $scope.users);\r\n      return vm.loadLinkedUsers();\r\n    }    \r\n    \r\n        \t\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.checklist')\r\n        .controller('ChecklistSendLinkRequestDialogController', ChecklistSendLinkRequestDialogController);\r\n\r\n    /** @ngInject */\r\n    function ChecklistSendLinkRequestDialogController($mdDialog, api, idCHK, $document, $filter, $mdSidenav, $rootScope, $scope, $http)\r\n    {\r\n\r\n     var vm = this;\r\n\r\n\t// Data\r\n    vm.idCHK = idCHK;\r\n\r\n    vm.closeDialog = closeDialog;\r\n\r\n\r\n\tvm.user = $rootScope.user;\r\n\r\n    vm.find = {\r\n      inProgress: false,\r\n      showError: function(msg, code) {\r\n        if (code == null) {\r\n          code = 0;\r\n        }\r\n        this.error.code = code;\r\n        this.error.message = msg;\r\n        return this.error.show = true;\r\n      },\r\n      error: {\r\n        code: 0,\r\n        message: '',\r\n        show: false\r\n      },\r\n      criteria: '',\r\n      status: function(link) {\r\n        var idCON, invites, result, status, type;\r\n        status = '';\r\n        idCON = link.id;\r\n        if (idCON === 0) {\r\n          type = 'organization';\r\n          invites = $filter('filter')(vm.invites, {\r\n            users: {\r\n              recipient: {\r\n                id: 0,\r\n                idACC: link.id\r\n              }\r\n            }\r\n          }, true);\r\n          if (invites.length) {\r\n            status = 'Sent';\r\n          } else {\r\n            status = 'Stranger';\r\n          }\r\n        } else {\r\n          type = 'contact';\r\n          invites = $filter('filter')(vm.invites, {\r\n            users: {\r\n              recipient: {\r\n                id: idCON\r\n              }\r\n            }\r\n          }, true);\r\n          if (invites.length) {\r\n            if (invites[0].m_accepted === '') {\r\n              status = 'Sent';\r\n            } else {\r\n              status = 'Linked';\r\n            }\r\n          } else {\r\n            status = 'Stranger';\r\n          }\r\n        }\r\n        result = {\r\n          status: status,\r\n          invites: invites,\r\n          type: type\r\n        };\r\n        return result;\r\n      },\r\n      processLink: function(raw) {\r\n      \tconsole.log('vm', vm);\r\n      \tconsole.log('raw', raw);\r\n        var info, processed;\r\n        info = vm.find.status(raw);\r\n        processed = $.extend({}, raw, {\r\n          requesting: false,\r\n          type: info.type,\r\n          status: info.status,\r\n          invite: info.invites[0],\r\n          request: function() {\r\n          \tconsole.log('vm', vm);\r\n            var itemID, link;\r\n            link = this;\r\n            link.requesting = true;\r\n            itemID = vm.type === 'group' ? vm.item : vm.idCHK;\r\n            return api.checklists.invite.send(raw.id, itemID, true, raw.idACC, vm.type).success(function(res) {\r\n              var status;\r\n              if (res === void 0 || res === null || res === '') {\r\n                return $rootScope.message('Error sending Link Request.  Server not responding properly.', 'warning');\r\n              } else if (res.code) {\r\n                return $rootScope.message(\"Error sending Link Request. (\" + res.code + \"): \" + res.message, 'warning');\r\n              } else {\r\n                vm.invites.push(res.invites[0]);\r\n                status = vm.find.status(link);\r\n                link.status = status.status;\r\n                return link.invite = status.invites[0];\r\n              }\r\n            }).error(function(res) {\r\n              return $rootScope.message('Error sending Link Request.  Server not responding.', 'warning');\r\n            })[\"finally\"](function() {\r\n              return link.requesting = false;\r\n            });\r\n          },\r\n          withdraw: function() {\r\n            return $rootScope.message('This feature is under development.');\r\n          }\r\n        });\r\n        return processed;\r\n      },\r\n      submit: function() {\r\n      \tconsole.log('submit search');\r\n        var criteria;\r\n        if (this.criteria === '') {\r\n          $rootScope.message('No find criteria provided!');\r\n          $(\"#findLinksQueryString\").focus();\r\n          return false;\r\n        }\r\n        criteria = encodeURI(this.criteria);\r\n        this.inProgress = true;\r\n\t\t\t\treturn $http.post(\"https://checklinked.com/ajax/links_find-post.php\", {\r\n          criteria: criteria,\r\n          idCHK: vm.idCHK\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        }).success(function(res) {\r\n          var found;\r\n          if (res === void 0 || res === null || res === '') {\r\n            return $rootScope.message('Server not responding properly.');\r\n          } else if (res.code) {\r\n            vm.found = [];\r\n            return vm.find.showError(res.message, res.code);\r\n          } else {\r\n            console.log('server response: ', res);\r\n            vm.find.error.show = false;\r\n            vm.invites = res.invites;\r\n            found = {\r\n              organizations: res.organizations.map(vm.find.processLink),\r\n              contacts: res.contacts.map(vm.find.processLink)\r\n            };\r\n            console.log('find result: ', found);\r\n            return vm.found = found.organizations.concat(found.contacts);\r\n          }\r\n        }).error(function(res) {\r\n          return $rootScope.message('Server not responding.');\r\n        })[\"finally\"](function() {\r\n          return vm.find.inProgress = false;\r\n        });\r\n      }\r\n    };\r\n\r\n    vm.found = [];\r\n\r\n    vm.invites = [];\r\n\r\n\r\n\r\n        function closeDialog()\r\n        {\r\n        \tconsole.log('close me');\r\n           \t$mdDialog.hide();\r\n        }\r\n\r\n\r\n\r\n    }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.checklist')\r\n        .controller('ChecklistPublishTemplateDialogController', ChecklistPublishTemplateDialogController);\r\n\r\n    /** @ngInject */\r\n    function ChecklistPublishTemplateDialogController($mdDialog, api, idCHK, $document, $mdSidenav, $http, $rootScope, $scope)\r\n    {\r\n        var vm = this;\r\n\r\n\t\tvm.idCHK = idCHK;\r\n        // Data\r\n        vm.title = 'Publish Template';\r\n\t\tvm.closeDialog = closeDialog;\r\n\r\n\tfunction closeDialog()\r\n    {\r\n    $mdDialog.hide();\r\n    }\r\n\r\n\r\n    vm.publish = {\r\n      idCHK: null,\r\n      name: null,\r\n      pvt: true,\r\n      submitting: false,\r\n      gatherInfo: function(idCHK) {\r\n        vm.publish.idCHK = idCHK;\r\n        return true;\r\n      },\r\n      togglePrivate: function() {\r\n        this.pvt = !this.pvt;\r\n        return true;\r\n      },\r\n      publish: function() {\r\n\r\n      \tvm.publish.idCHK = vm.idCHK;\r\n\r\n\r\n      \tconsole.log('vm.publish.name', vm.publish.name);\r\n      \tconsole.log('vm.publish.idCHK', vm.publish.idCHK);\r\n      \tconsole.log('vm.publish.name', vm.publish.pvt);\r\n\r\n        var ref1, ref2;\r\n        if (((ref1 = vm.publish.idCHK) != null ? ref1.length : void 0) && ((ref2 = vm.publish.name) != null ? ref2.length : void 0)) {\r\n          vm.publish.submitting = true;\r\n          return api.checklists.publish(vm.publish.idCHK, vm.publish.name, 'checklist', vm.publish.pvt).error(function(res) {\r\n            return $rootScope.message('Unknown error publishing Template.', 'warning');\r\n          }).success(function(res) {\r\n            if (res.code) {\r\n              return $rootScope.message(\"Error publishing Template. (\" + res.code + \": \" + res.message + \")\", 'warning');\r\n            } else {\r\n              $rootScope.message(\"Template published successfully.\");\r\n              vm.closeDialog();\r\n            }\r\n          })[\"finally\"](function() {\r\n            vm.publish.submitting = false;\r\n            vm.publish.idCHK = null;\r\n            return vm.publish.name = null;\r\n          });\r\n        } else {\r\n          return $rootScope.message('You must specify the Template Name.', 'warning');\r\n        }\r\n      }\r\n    };\r\n\r\n\r\n    }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.checklist')\r\n        .controller('ChecklistFindGroupTemplateDialogController', ChecklistFindGroupTemplateDialogController);\r\n\r\n    /** @ngInject */\r\n    function ChecklistFindGroupTemplateDialogController($mdDialog, api, idCHK, $document, $filter, $mdSidenav, $rootScope, $scope, $http)\r\n    {\r\n\r\n     var vm = this;\r\n     \r\n\t vm.title = 'Find Group Template';\r\n             \r\n     vm.find = {\r\n      template: null,\r\n      searchCount: 0,\r\n      searching: false,\r\n      creating: false,\r\n      results: [],\r\n      begin: function(parentID, type) {\r\n        vm.find.template = {\r\n          criteria: {\r\n            name: '',\r\n            organization: '',\r\n            author: '',\r\n            version: '',\r\n            type: type\r\n          },\r\n          parentID: parentID\r\n        };\r\n        vm.find.searching = false;\r\n        vm.find.creating = false;\r\n        vm.find.searchCount = 0;\r\n        vm.find.results = [];\r\n        $(\"#findTemplate\").modal('show');\r\n        return null;\r\n      },\r\n      search: function() {\r\n        vm.find.searching = true;\r\n        if (vm.find.template.criteria.name === '' && vm.find.template.criteria.organization === '' && vm.find.template.criteria.author === '' && vm.find.template.criteria.version === '') {\r\n          $rootScope.message('Please provide Search Criteria', 'warning');\r\n          vm.find.searching = false;\r\n          return false;\r\n        }\r\n        return api.checklists.searchForTemplates(vm.find.template.criteria).error(function(res) {\r\n          return $rootScope.message('Unknown error finding Templates.', 'warning');\r\n        }).success(function(res) {\r\n          if (res.code) {\r\n            res.display = \"Error finding Templates: (\" + res.code + \"): \" + res.message;\r\n          }\r\n          vm.find.results.push(res);\r\n          return vm.find.searchCount++;\r\n        })[\"finally\"](function() {\r\n          return vm.find.searching = false;\r\n        });\r\n      },\r\n      create: function(idCTMPL) {\r\n        vm.find.creating = true;\r\n        return api.checklist.createFromTemplate(idCTMPL, vm.find.template.parentID, vm.find.template.criteria.type).error(function(res) {\r\n          return $rootScope.message('Unknown error creating Checklist from selected Template.', 'warning');\r\n        }).success(function(res) {\r\n          if (res.code) {\r\n            return $rootScope.message(\"Error creating Checklist from Template: (\" + res.code + \"): \" + res.message, 'warning');\r\n          } else {\r\n            if (vm.find.template.criteria.type === 'group') {\r\n              $rootScope.groups.push(res.groups[0]);\r\n            }\r\n            $rootScope.checklists = $rootScope.checklists.concat(res.checklists);\r\n            $rootScope.organizeData();\r\n            return $(\"#findTemplate\").modal('hide');\r\n          }\r\n        })[\"finally\"](function() {\r\n          return vm.find.creating = false;\r\n        });\r\n      }\r\n    };\r\n    \r\n  \t\r\n        function closeDialog()\r\n        {\r\n        \tconsole.log('close me');\r\n           \t$mdDialog.hide();\r\n        }\r\n  \t\r\n        \r\n        \r\n    }\r\n})();\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.checklist')\r\n    .controller('ChecklistEditChecklistDialogController', ChecklistEditChecklistDialogController);\r\n\r\n  /** @ngInject */\r\n  function ChecklistEditChecklistDialogController($mdDialog, Checklist, Vars, api, $document, $mdSidenav, $rootScope, $scope, $http) {\r\n    var vm = this;\r\n\r\n\r\n    // Data\r\n    vm.title = 'Edit Checklist';\r\n    vm.checklist = angular.copy(Checklist);\r\n    vm.vars = angular.copy(Vars);\r\n    vm.saveChecklist = saveChecklist;\r\n    vm.closeDialog = closeDialog;\r\n    vm.deleteConfirm = deleteConfirm;\r\n    vm.deleteChecklist = deleteChecklist;\r\n\r\n    vm.newChecklist = false;\r\n\r\n    if (!vm.checklist) {\r\n      vm.checklist = {\r\n        'id': '',\r\n        'name': '',\r\n        'description': '',\r\n        'order': '',\r\n        'deleted': false\r\n      };\r\n      vm.title = 'New Checklist';\r\n      vm.newChecklist = true;\r\n    }\r\n\r\n    // Methods\r\n\r\n    function saveChecklist() {\r\n\r\n      var editPack;\r\n\r\n      editPack = {\r\n        'id': vm.vars.index,\r\n        'rid': vm.vars.rid,\r\n        'index': vm.vars.index,\r\n        'type': 'checklist',\r\n        'text': vm.checklist.name,\r\n        'info': '',\r\n        'submitting': false,\r\n        'error': null,\r\n        'message': vm.vars.message\r\n      };\r\n\r\n      console.log('vm.vars.message', vm.vars.message);\r\n\r\n      return api.checklists.edit(editPack).error(function (res) {\r\n        vm.edit.error = res.code;\r\n        return vm.edit.message = res.message;\r\n      }).success(function (res) {\r\n        var notifyItem, packet;\r\n        vm.checklist[vm.vars.index] = res.updated;\r\n        packet = {\r\n          catalog: 'checklists',\r\n          type: 'edit',\r\n          user: {\r\n            idCON: $rootScope.user.idCON,\r\n            name: $rootScope.user.name\r\n          },\r\n          record: res.updated\r\n        };\r\n        //console.log('emitting data', packet);\r\n        $rootScope.socketio.emit('data', packet);\r\n        notifyItem = $.extend({}, res.updated, {\r\n          type: 'data'\r\n        });\r\n        //console.log('about to sent notify event', notifyItem);\r\n        $rootScope.socketio.emit('notify', [notifyItem]);\r\n        return vm.organizeData();\r\n      })[\"finally\"](function () {\r\n        return vm.edit.stop(which);\r\n      });\r\n\r\n    }\r\n\r\n\r\n    vm.edit = {\r\n      stop: function (which) {\r\n        var whats;\r\n        whats = which.type + 's';\r\n        $scope[whats][which.index].edit = null;\r\n        return $scope[whats][which.index].editing = false;\r\n      },\r\n      submit: function (which) {\r\n        var whats;\r\n        whats = which.type + 's';\r\n        if ($scope[whats][which.index].edit.text === $scope[whats][which.index].name && $scope[whats][which.index].edit.info === $scope[whats][which.index].info) {\r\n          $scope.edit.stop(which);\r\n          return false;\r\n        }\r\n        return EditService.attemptEdit(which).error(function (res) {\r\n          $scope[whats][which.index].edit.error = res.code;\r\n          return $scope[whats][which.index].edit.message = res.message;\r\n        }).success(function (res) {\r\n          var notifyItem, packet;\r\n          $scope[whats][which.index] = res.updated;\r\n          packet = {\r\n            catalog: whats,\r\n            type: 'edit',\r\n            user: {\r\n              idCON: $rootScope.user.idCON,\r\n              name: $rootScope.user.name\r\n            },\r\n            record: res.updated\r\n          };\r\n          //console.log('emitting data', packet);\r\n          $rootScope.socketio.emit('data', packet);\r\n          notifyItem = $.extend({}, res.updated, {\r\n            type: 'data'\r\n          });\r\n          //console.log('about to sent notify event', notifyItem);\r\n          $rootScope.socketio.emit('notify', [notifyItem]);\r\n          return $scope.organizeData();\r\n        })[\"finally\"](function () {\r\n          return $scope.edit.stop(which);\r\n        });\r\n      }\r\n    };\r\n\r\n    function deleteConfirm(what, item, ev) {\r\n\r\n      console.log('what', what);\r\n      console.log('item', item);\r\n\r\n      var confirm = $mdDialog.confirm()\r\n        .title('Please confirm you want to delete ' + item.name)\r\n        .htmlContent('This action cannot be undone.')\r\n        .ariaLabel('delete' + what)\r\n        .targetEvent(ev)\r\n        .ok('OK')\r\n        .cancel('CANCEL');\r\n\r\n      $mdDialog.show(confirm).then(function () {\r\n        vm.deleteItem(what, item, ev);\r\n      });\r\n    }\r\n\r\n    function deleteItem(what, item, ev) {\r\n\r\n      var svc, whats;\r\n      whats = what + 's';\r\n      svc = vm.svc(what);\r\n\r\n      return svc.destroy(item.id).success(function (res) {\r\n        var notifyItem, packet;\r\n        if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          vm[whats].remove(item);\r\n          vm.organizeData();\r\n          packet = {\r\n            catalog: whats,\r\n            type: 'delete',\r\n            user: {\r\n              idCON: $rootScope.user.idCON,\r\n              name: $rootScope.user.name\r\n            },\r\n            record: item\r\n          };\r\n          //console.log('emitting data', packet);\r\n          $rootScope.socketio.emit('data', packet);\r\n          notifyItem = $.extend({}, item, {\r\n            type: 'data'\r\n          });\r\n          //console.log('about to sent notify event', notifyItem);\r\n          $rootScope.message(item.name + ' succesfully deleted', 'success');\r\n          return $rootScope.socketio.emit('notify', [notifyItem]);\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n\r\n    function closeDialog() {\r\n      $mdDialog.hide();\r\n    }\r\n\r\n  }\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.checklist')\r\n    .controller('ChecklistConversationDialogController', ChecklistConversationDialogController);\r\n\r\n  /** @ngInject */\r\n  function ChecklistConversationDialogController($mdDialog, api, convoId, convoName, producerType, $document, $mdSidenav, $http, $rootScope, $scope, $filter) {\r\n\r\n    var vm = this;\r\n\r\n    vm.convoId = convoId;\r\n    vm.convoName = convoName;\r\n    vm.title = vm.convoName + ' Conversation';\r\n    vm.producerType = producerType,\r\n    vm.itemType = 'post';\r\n    vm.setSocketStuff = setSocketStuff;\r\n    vm.closeDialog = closeDialog;\r\n    vm.old = old;\r\n    vm.getLatestPosts = getLatestPosts;\r\n    vm.pushPosts = pushPosts;\r\n    vm.submitPost = submitPost;\r\n\r\n    vm.form = {\r\n      'from': $rootScope.user.name.full,\r\n      'subject': 'Re: ' + vm.convoName,\r\n      'message': ''\r\n    };\r\n\r\n    var ref;\r\n    vm.loading = {\r\n      posts: true\r\n    };\r\n\r\n    function old(ts) {\r\n      var now, old, post;\r\n      if (typeof ts.getTime !== 'function') {\r\n        return false;\r\n      }\r\n      now = Math.round(new Date().getTime() / 1000);\r\n      old = now - (12 * 3600);\r\n      post = Math.round(ts.getTime() / 1000);\r\n      return post < old;\r\n    };\r\n\r\n    vm.conversation = {\r\n      id: vm.convoId,\r\n      posts: [],\r\n      name: '',\r\n      currentSkip: 0\r\n    };\r\n\r\n    function setSocketStuff() {\r\n      console.log('setting socket stuff (convo)');\r\n      vm.socketStuffSet = true;\r\n      $rootScope.socketio.emit('join', \"/conversation/\" + vm.convoId);\r\n      if ($rootScope.socketio._callbacks['$message'] === void 0) {\r\n        console.log('socket message callback is not set up; setting now', $rootScope.socketio);\r\n        return $rootScope.socketio.on('message', function (post) {\r\n          var notifyItem;\r\n          console.log('message received', post);\r\n          if (post.idFDI && post.id_contact === $rootScope.user.idCON) {\r\n            notifyItem = $.extend({}, post, {\r\n              type: 'post'\r\n            });\r\n            $rootScope.notify(notifyItem);\r\n          }\r\n          vm.pushPosts([post]);\r\n          $scope.$apply();\r\n          $scope.$digest();\r\n        });\r\n      }\r\n    };\r\n\r\n    if ((ref = $rootScope.socketio) != null ? ref.connected : void 0) {\r\n      console.log('socket was already connected (convo)');\r\n      vm.setSocketStuff();\r\n    }\r\n\r\n    $scope.$on('event:socketConnected', function () {\r\n      console.log('received ng event:socketConnected (convo)');\r\n      return vm.setSocketStuff();\r\n    });\r\n\r\n    function getLatestPosts() {\r\n\r\n      console.log('vm.conversation.id', vm.conversation.id);\r\n\r\n      console.log('vm.conversation.currentSkip', vm.conversation.currentSkip);\r\n\r\n      return api.conversations.get(vm.conversation.id, vm.conversation.currentSkip).success(function (res) {\r\n        console.log(res);\r\n        return vm.pushPosts(res.posts);\r\n      })[\"finally\"](function () {\r\n        return vm.loading.posts = false;\r\n      });\r\n    };\r\n\r\n    vm.newPost = {\r\n      text: '',\r\n      submitting: false\r\n    };\r\n\r\n    function pushPosts(posts, filter) {\r\n      console.log('posts', posts);\r\n      console.log('filter');\r\n      var i, len, post, ref1, results;\r\n      if (filter == null) {\r\n        filter = $filter;\r\n      }\r\n      console.log('pushing posts', posts);\r\n      if (posts != null ? posts.length : void 0) {\r\n        results = [];\r\n        for (i = 0, len = posts.length; i < len; i++) {\r\n          post = posts[i];\r\n          if (post.id_parent === vm.conversation.id) {\r\n            console.log('post accepted', post);\r\n            if (!((ref1 = $filter('filter')(vm.conversation.posts, {\r\n                rid: post.rid\r\n              }, true)) != null ? ref1.length : void 0)) {\r\n              vm.conversation.posts.unshift(post);\r\n              results.push(vm.conversation.currentSkip += 1);\r\n            } else {\r\n              results.push(console.log('post rejected: already added', post));\r\n            }\r\n          } else {\r\n            results.push(console.log('post rejected: not this convo', post));\r\n          }\r\n        }\r\n        return results;\r\n      }\r\n    };\r\n\r\n    function submitPost() {\r\n      vm.newPost.submitting = true;\r\n      console.log('vm.type', vm.type);\r\n      console.log('submitting convo entry', vm.conversation.id, vm.newPost.text, vm.itemType, vm.producerType);\r\n      return api.conversations.add(vm.conversation.id, vm.newPost.text, vm.itemType, vm.producerType).error(function (res) {\r\n        return $rootScope.message('Error posting.', 'warning');\r\n      }).success(function (res) {\r\n        if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          return $rootScope.socketio.emit('message', res.posts[0]);\r\n        }\r\n      })[\"finally\"](function () {\r\n        vm.closeDialog();\r\n        /*\r\n         return vm.newPost = {\r\n         text: vm.newPost.text,\r\n         submitting: false\r\n         };\r\n         */\r\n      });\r\n    };\r\n\r\n    function closeDialog() {\r\n      $mdDialog.hide();\r\n    }\r\n\r\n    vm.getLatestPosts();\r\n  }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.checklist')\r\n        .controller('ChecklistDialogController', ChecklistDialogController);\r\n\r\n    /** @ngInject */\r\n    function ChecklistDialogController($mdDialog, Checklist, Checklists, event, api, $document, $mdSidenav, $http, $rootScope)\r\n    {\r\n        var vm = this;\r\n\r\n\tvm.svc = function(what) {\r\n      if (what === 'section') {\r\n        return sections;\r\n      }\r\n      if (what === 'heading') {\r\n        return headings;\r\n      }\r\n      if (what === 'item') {\r\n        return items;\r\n      }\r\n      if (what === 'checkbox') {\r\n        return checkbox;\r\n      }\r\n    };\r\n    \r\n\r\n    vm.create = function(what, name, to, type, info) {\r\n      var count, order, ref1, svc, whats;\r\n      if (to == null) {\r\n        to = null;\r\n      }\r\n      if (type == null) {\r\n        type = 1;\r\n      }\r\n      if (info == null) {\r\n        info = '';\r\n      }\r\n      whats = what + 's';\r\n      svc = $scope.svc(what);\r\n      vm.newItem.submitting = true;\r\n      order = 1;\r\n      if (what === 'section') {\r\n        order += vm.sections.length;\r\n      } else {\r\n        count = (ref1 = $filter('filter')(vm[whats], {\r\n          id_parent: to\r\n        }, true)) != null ? ref1 : [];\r\n        order += count.length;\r\n      }\r\n      console.log('calling create:add service', name, order, to, type, info);\r\n      return api.svc.add(name, order, to, type, info).success(function(res) {\r\n        var notifyItem, packet;\r\n        if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          vm[whats].push(res[what]);\r\n          vm.organizeData();\r\n          packet = {\r\n            catalog: whats,\r\n            type: 'add',\r\n            user: {\r\n              idCON: $rootScope.user.idCON,\r\n              name: $rootScope.user.name\r\n            },\r\n            record: res[what]\r\n          };\r\n          console.log('emitting data', packet);\r\n          $rootScope.socketio.emit('data', packet);\r\n          notifyItem = $.extend({}, res[what], {\r\n            type: 'data'\r\n          });\r\n          console.log('about to sent notify event', notifyItem);\r\n          $rootScope.socketio.emit('notify', [notifyItem]);\r\n          return $(\"#newItem\").modal(\"hide\");\r\n        }\r\n      })[\"finally\"](function() {\r\n        return $scope.newItem.submitting = false;\r\n      });\r\n    };\r\n    \r\n\r\n \t\t/**\r\n         * Close dialog\r\n         */\r\n        function closeDialog()\r\n        {\r\n            $mdDialog.hide();\r\n        }\r\n\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core',\r\n            [\r\n                'ngAnimate',\r\n                'ngAria',\r\n                'ngCookies',\r\n                'ngMessages',\r\n                'ngResource',\r\n                'ngSanitize',\r\n                'ngMaterial',\r\n                'pascalprecht.translate',\r\n                'ui.router'\r\n                \r\n            ]);\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('MsWidgetController', MsWidgetController)\r\n        .directive('msWidget', msWidgetDirective)\r\n        .directive('msWidgetFront', msWidgetFrontDirective)\r\n        .directive('msWidgetBack', msWidgetBackDirective);\r\n\r\n    /** @ngInject */\r\n    function MsWidgetController($scope, $element)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.flipped = false;\r\n\r\n        // Methods\r\n        vm.flip = flip;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Flip the widget\r\n         */\r\n        function flip()\r\n        {\r\n            if ( !isFlippable() )\r\n            {\r\n                return;\r\n            }\r\n\r\n            // Toggle flipped status\r\n            vm.flipped = !vm.flipped;\r\n\r\n            // Toggle the 'flipped' class\r\n            $element.toggleClass('flipped', vm.flipped);\r\n        }\r\n\r\n        /**\r\n         * Check if widget is flippable\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isFlippable()\r\n        {\r\n            return (angular.isDefined($scope.flippable) && $scope.flippable === true);\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msWidgetDirective()\r\n    {\r\n        return {\r\n            restrict  : 'E',\r\n            scope     : {\r\n                flippable: '=?'\r\n            },\r\n            controller: 'MsWidgetController',\r\n            transclude: true,\r\n            compile   : function (tElement)\r\n            {\r\n                tElement.addClass('ms-widget');\r\n\r\n                return function postLink(scope, iElement, iAttrs, MsWidgetCtrl, transcludeFn)\r\n                {\r\n                    // Custom transclusion\r\n                    transcludeFn(function (clone)\r\n                    {\r\n                        iElement.empty();\r\n                        iElement.append(clone);\r\n                    });\r\n\r\n                    //////////\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msWidgetFrontDirective()\r\n    {\r\n        return {\r\n            restrict  : 'E',\r\n            require   : '^msWidget',\r\n            transclude: true,\r\n            compile   : function (tElement)\r\n            {\r\n                tElement.addClass('ms-widget-front');\r\n\r\n                return function postLink(scope, iElement, iAttrs, MsWidgetCtrl, transcludeFn)\r\n                {\r\n                    // Custom transclusion\r\n                    transcludeFn(function (clone)\r\n                    {\r\n                        iElement.empty();\r\n                        iElement.append(clone);\r\n                    });\r\n\r\n                    // Methods\r\n                    scope.flipWidget = MsWidgetCtrl.flip;\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msWidgetBackDirective()\r\n    {\r\n        return {\r\n            restrict  : 'E',\r\n            require   : '^msWidget',\r\n            transclude: true,\r\n            compile   : function (tElement)\r\n            {\r\n                tElement.addClass('ms-widget-back');\r\n\r\n                return function postLink(scope, iElement, iAttrs, MsWidgetCtrl, transcludeFn)\r\n                {\r\n                    // Custom transclusion\r\n                    transcludeFn(function (clone)\r\n                    {\r\n                        iElement.empty();\r\n                        iElement.append(clone);\r\n                    });\r\n\r\n                    // Methods\r\n                    scope.flipWidget = MsWidgetCtrl.flip;\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('MsTimelineController', MsTimelineController)\r\n        .directive('msTimeline', msTimelineDirective)\r\n        .directive('msTimelineItem', msTimelineItemDirective);\r\n\r\n    /** @ngInject */\r\n    function MsTimelineController()\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.scrollEl = undefined;\r\n\r\n        // Methods\r\n        vm.setScrollEl = setScrollEl;\r\n        vm.getScrollEl = getScrollEl;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Set scroll element\r\n         *\r\n         * @param scrollEl\r\n         */\r\n        function setScrollEl(scrollEl)\r\n        {\r\n            vm.scrollEl = scrollEl;\r\n        }\r\n\r\n        /**\r\n         * Get scroll element\r\n         *\r\n         * @returns {undefined|*}\r\n         */\r\n        function getScrollEl()\r\n        {\r\n            return vm.scrollEl;\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msTimelineDirective()\r\n    {\r\n        return {\r\n            scope     : {\r\n                msTimeline: '=?',\r\n                loadMore  : '&?msTimelineLoadMore'\r\n            },\r\n            controller: 'MsTimelineController',\r\n            compile   : function (tElement)\r\n            {\r\n                tElement.addClass('ms-timeline');\r\n\r\n                return function postLink(scope, iElement, iAttrs, MsTimelineCtrl)\r\n                {\r\n                    // Create an element for triggering the load more action and append it\r\n                    var loadMoreEl = angular.element('<div class=\"ms-timeline-loader md-accent-bg md-whiteframe-4dp\"><span class=\"spinner animate-rotate\"></span></div>');\r\n                    iElement.append(loadMoreEl);\r\n\r\n                    // Default config\r\n                    var config = {\r\n                        scrollEl: '#content'\r\n                    };\r\n\r\n                    // Extend the configuration\r\n                    config = angular.extend(config, scope.msTimeline, {});\r\n                    \r\n                    // Grab the scrollable element and store it in the controller for general use\r\n                    var scrollEl = angular.element(config.scrollEl);\r\n                    MsTimelineCtrl.setScrollEl(scrollEl);\r\n\r\n                    // Threshold\r\n                    var threshold = 144;\r\n\r\n                    // Register onScroll event for the first time\r\n                    registerOnScroll();\r\n\r\n                    /**\r\n                     * onScroll Event\r\n                     */\r\n                    function onScroll()\r\n                    {\r\n                        if ( scrollEl.scrollTop() + scrollEl.height() + threshold > loadMoreEl.position().top )\r\n                        {\r\n                            // Show the loader\r\n                            loadMoreEl.addClass('show');\r\n\r\n                            // Unregister scroll event to prevent triggering the function over and over again\r\n                            unregisterOnScroll();\r\n\r\n                            // Trigger load more event\r\n                            scope.loadMore().then(\r\n                                // Success\r\n                                function ()\r\n                                {\r\n                                    // Hide the loader\r\n                                    loadMoreEl.removeClass('show');\r\n\r\n                                    // Register the onScroll event again\r\n                                    registerOnScroll();\r\n                                },\r\n\r\n                                // Error\r\n                                function ()\r\n                                {\r\n                                    // Remove the loader completely\r\n                                    loadMoreEl.remove();\r\n                                }\r\n                            );\r\n                        }\r\n                    }\r\n\r\n                    /**\r\n                     * onScroll event registerer\r\n                     */\r\n                    function registerOnScroll()\r\n                    {\r\n                        scrollEl.on('scroll', onScroll);\r\n                    }\r\n\r\n                    /**\r\n                     * onScroll event unregisterer\r\n                     */\r\n                    function unregisterOnScroll()\r\n                    {\r\n                        scrollEl.off('scroll', onScroll);\r\n                    }\r\n\r\n                    // Cleanup\r\n                    scope.$on('$destroy', function ()\r\n                    {\r\n                        unregisterOnScroll();\r\n                    });\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msTimelineItemDirective($timeout, $q)\r\n    {\r\n        return {\r\n            scope  : true,\r\n            require: '^msTimeline',\r\n            compile: function (tElement)\r\n            {\r\n                tElement.addClass('ms-timeline-item').addClass('hidden');\r\n\r\n                return function postLink(scope, iElement, iAttrs, MsTimelineCtrl)\r\n                {\r\n                    var threshold = 72,\r\n                        itemLoaded = false,\r\n                        itemInViewport = false,\r\n                        scrollEl = MsTimelineCtrl.getScrollEl();\r\n\r\n                    //////////\r\n\r\n                    init();\r\n\r\n                    /**\r\n                     * Initialize\r\n                     */\r\n                    function init()\r\n                    {\r\n                        // Check if the timeline item has ms-card\r\n                        if ( iElement.find('ms-card') )\r\n                        {\r\n                            // If the ms-card template loaded...\r\n                            scope.$on('msCard::cardTemplateLoaded', function (event, args)\r\n                            {\r\n                                var cardEl = angular.element(args[0]);\r\n\r\n                                // Test the card to see if there is any image on it\r\n                                testForImage(cardEl).then(function ()\r\n                                {\r\n                                    $timeout(function ()\r\n                                    {\r\n                                        itemLoaded = true;\r\n                                    });\r\n                                });\r\n                            });\r\n                        }\r\n                        else\r\n                        {\r\n                            // Test the element to see if there is any image on it\r\n                            testForImage(iElement).then(function ()\r\n                            {\r\n                                $timeout(function ()\r\n                                {\r\n                                    itemLoaded = true;\r\n                                });\r\n                            });\r\n                        }\r\n\r\n                        // Check if the loaded element also in the viewport\r\n                        scrollEl.on('scroll', testForVisibility);\r\n\r\n                        // Test for visibility for the first time without waiting for the scroll event\r\n                        testForVisibility();\r\n                    }\r\n\r\n                    // Item ready watcher\r\n                    var itemReadyWatcher = scope.$watch(\r\n                        function ()\r\n                        {\r\n                            return itemLoaded && itemInViewport;\r\n                        },\r\n                        function (current, old)\r\n                        {\r\n                            if ( angular.equals(current, old) )\r\n                            {\r\n                                return;\r\n                            }\r\n\r\n                            if ( current )\r\n                            {\r\n                                iElement.removeClass('hidden').addClass('animate');\r\n\r\n                                // Unbind itemReadyWatcher\r\n                                itemReadyWatcher();\r\n                            }\r\n                        }, true);\r\n\r\n                    /**\r\n                     * Test the given element for image\r\n                     *\r\n                     * @param element\r\n                     * @returns promise\r\n                     */\r\n                    function testForImage(element)\r\n                    {\r\n                        var deferred = $q.defer(),\r\n                            imgEl = element.find('img');\r\n\r\n                        if ( imgEl.length > 0 )\r\n                        {\r\n                            imgEl.on('load', function ()\r\n                            {\r\n                                deferred.resolve('Image is loaded');\r\n                            });\r\n                        }\r\n                        else\r\n                        {\r\n                            deferred.resolve('No images');\r\n                        }\r\n\r\n                        return deferred.promise;\r\n                    }\r\n\r\n                    /**\r\n                     * Test the element for visibility\r\n                     */\r\n                    function testForVisibility()\r\n                    {\r\n                        if ( scrollEl.scrollTop() + scrollEl.height() > iElement.position().top + threshold )\r\n                        {\r\n                            $timeout(function ()\r\n                            {\r\n                                itemInViewport = true;\r\n                            });\r\n\r\n                            // Unbind the scroll event\r\n                            scrollEl.off('scroll', testForVisibility);\r\n                        }\r\n                    }\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('MsStepperController', MsStepperController)\r\n        .directive('msHorizontalStepper', msHorizontalStepperDirective)\r\n        .directive('msHorizontalStepperStep', msHorizontalStepperStepDirective)\r\n        .directive('msVerticalStepper', msVerticalStepperDirective)\r\n        .directive('msVerticalStepperStep', msVerticalStepperStepDirective);\r\n\r\n    /** @ngInject */\r\n    function MsStepperController($timeout)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.mainForm = undefined;\r\n\r\n        vm.orientation = 'horizontal';\r\n        vm.steps = [];\r\n        vm.currentStep = undefined;\r\n        vm.currentStepNumber = 1;\r\n\r\n        // Methods\r\n        vm.setOrientation = setOrientation;\r\n        vm.registerMainForm = registerMainForm;\r\n        vm.registerStep = registerStep;\r\n        vm.setupSteps = setupSteps;\r\n        vm.resetForm = resetForm;\r\n\r\n        vm.setCurrentStep = setCurrentStep;\r\n\r\n        vm.gotoStep = gotoStep;\r\n        vm.gotoPreviousStep = gotoPreviousStep;\r\n        vm.gotoNextStep = gotoNextStep;\r\n        vm.gotoFirstStep = gotoFirstStep;\r\n        vm.gotoLastStep = gotoLastStep;\r\n\r\n        vm.isFirstStep = isFirstStep;\r\n        vm.isLastStep = isLastStep;\r\n\r\n        vm.isStepCurrent = isStepCurrent;\r\n        vm.isStepDisabled = isStepDisabled;\r\n        vm.isStepOptional = isStepOptional;\r\n        vm.isStepHidden = isStepHidden;\r\n        vm.filterHiddenStep = filterHiddenStep;\r\n        vm.isStepValid = isStepValid;\r\n        vm.isStepNumberValid = isStepNumberValid;\r\n\r\n        vm.isFormValid = isFormValid;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Set the orientation of the stepper\r\n         *\r\n         * @param orientation\r\n         */\r\n        function setOrientation(orientation)\r\n        {\r\n            vm.orientation = orientation || 'horizontal';\r\n        }\r\n\r\n        /**\r\n         * Register the main form\r\n         *\r\n         * @param form\r\n         */\r\n        function registerMainForm(form)\r\n        {\r\n            vm.mainForm = form;\r\n        }\r\n\r\n        /**\r\n         * Register a step\r\n         *\r\n         * @param element\r\n         * @param scope\r\n         * @param form\r\n         */\r\n        function registerStep(element, scope, form)\r\n        {\r\n            var step = {\r\n                element   : element,\r\n                scope     : scope,\r\n                form      : form,\r\n                stepNumber: scope.step || (vm.steps.length + 1),\r\n                stepTitle : scope.stepTitle\r\n            };\r\n\r\n            // Push the step into steps array\r\n            vm.steps.push(step);\r\n\r\n            // Sort steps by stepNumber\r\n            vm.steps.sort(function (a, b)\r\n            {\r\n                return a.stepNumber - b.stepNumber;\r\n            });\r\n            \r\n            return step;\r\n        }\r\n\r\n        /**\r\n         * Setup steps for the first time\r\n         */\r\n        function setupSteps()\r\n        {\r\n            vm.setCurrentStep(vm.currentStepNumber);\r\n        }\r\n\r\n        /**\r\n         * Reset steps and the main form\r\n         */\r\n        function resetForm()\r\n        {\r\n            // Timeout is required here because we need to\r\n            // let form model to reset before setting the\r\n            // statuses\r\n            $timeout(function ()\r\n            {\r\n                // Reset all the steps\r\n                for ( var x = 0; x < vm.steps.length; x++ )\r\n                {\r\n                    vm.steps[x].form.$setPristine();\r\n                    vm.steps[x].form.$setUntouched();\r\n                }\r\n\r\n                // Reset the main form\r\n                vm.mainForm.$setPristine();\r\n                vm.mainForm.$setUntouched();\r\n\r\n                // Go to first step\r\n                gotoFirstStep();\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Set current step\r\n         *\r\n         * @param stepNumber\r\n         */\r\n        function setCurrentStep(stepNumber)\r\n        {\r\n            // If the stepNumber is not a valid step number, bail...\r\n            if ( !isStepNumberValid(stepNumber) )\r\n            {\r\n                return;\r\n            }\r\n\r\n            // Update the current step number\r\n            vm.currentStepNumber = stepNumber;\r\n\r\n            if ( vm.orientation === 'horizontal' )\r\n            {\r\n                // Hide all steps\r\n                for ( var i = 0; i < vm.steps.length; i++ )\r\n                {\r\n                    vm.steps[i].element.hide();\r\n                }\r\n\r\n                // Show the current step\r\n                vm.steps[vm.currentStepNumber - 1].element.show();\r\n            }\r\n            else if ( vm.orientation === 'vertical' )\r\n            {\r\n                // Hide all step content\r\n                for ( var j = 0; j < vm.steps.length; j++ )\r\n                {\r\n                    vm.steps[j].element.find('.ms-stepper-step-content').hide();\r\n                }\r\n\r\n                // Show the current step content\r\n                vm.steps[vm.currentStepNumber - 1].element.find('.ms-stepper-step-content').show();\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Go to a step\r\n         *\r\n         * @param stepNumber\r\n         */\r\n        function gotoStep(stepNumber)\r\n        {\r\n            // If the step we are about to go\r\n            // is hidden, bail...\r\n            if ( isStepHidden(stepNumber) )\r\n            {\r\n                return;\r\n            }\r\n\r\n            vm.setCurrentStep(stepNumber);\r\n        }\r\n\r\n        /**\r\n         * Go to the previous step\r\n         */\r\n        function gotoPreviousStep()\r\n        {\r\n            var stepNumber = vm.currentStepNumber - 1;\r\n\r\n            // Test the previous steps and make sure we\r\n            // will land to the one that is not hidden\r\n            for ( var s = stepNumber; s >= 1; s-- )\r\n            {\r\n                if ( !isStepHidden(s) )\r\n                {\r\n                    stepNumber = s;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            vm.setCurrentStep(stepNumber);\r\n        }\r\n\r\n        /**\r\n         * Go to the next step\r\n         */\r\n        function gotoNextStep()\r\n        {\r\n            var stepNumber = vm.currentStepNumber + 1;\r\n\r\n            // Test the following steps and make sure we\r\n            // will land to the one that is not hidden\r\n            for ( var s = stepNumber; s <= vm.steps.length; s++ )\r\n            {\r\n                if ( !isStepHidden(s) )\r\n                {\r\n                    stepNumber = s;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            vm.setCurrentStep(stepNumber);\r\n        }\r\n\r\n        /**\r\n         * Go to the first step\r\n         */\r\n        function gotoFirstStep()\r\n        {\r\n            vm.setCurrentStep(1);\r\n        }\r\n\r\n        /**\r\n         * Go to the last step\r\n         */\r\n        function gotoLastStep()\r\n        {\r\n            vm.setCurrentStep(vm.steps.length);\r\n        }\r\n\r\n        /**\r\n         * Check if the current step is the first step\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isFirstStep()\r\n        {\r\n            return vm.currentStepNumber === 1;\r\n        }\r\n\r\n        /**\r\n         * Check if the current step is the last step\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isLastStep()\r\n        {\r\n            return vm.currentStepNumber === vm.steps.length;\r\n        }\r\n\r\n        /**\r\n         * Check if the given step is the current one\r\n         *\r\n         * @param stepNumber\r\n         * @returns {null|boolean}\r\n         */\r\n        function isStepCurrent(stepNumber)\r\n        {\r\n            // If the stepNumber is not a valid step number, bail...\r\n            if ( !isStepNumberValid(stepNumber) )\r\n            {\r\n                return null;\r\n            }\r\n\r\n            return vm.currentStepNumber === stepNumber;\r\n        }\r\n\r\n        /**\r\n         * Check if the given step should be disabled\r\n         *\r\n         * @param stepNumber\r\n         * @returns {null|boolean}\r\n         */\r\n        function isStepDisabled(stepNumber)\r\n        {\r\n            // If the stepNumber is not a valid step number, bail...\r\n            if ( !isStepNumberValid(stepNumber) )\r\n            {\r\n                return null;\r\n            }\r\n\r\n            var disabled = false;\r\n\r\n            for ( var i = 1; i < stepNumber; i++ )\r\n            {\r\n                if ( !isStepValid(i) )\r\n                {\r\n                    disabled = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            return disabled;\r\n        }\r\n\r\n        /**\r\n         * Check if the given step is optional\r\n         *\r\n         * @param stepNumber\r\n         * @returns {null|boolean}\r\n         */\r\n        function isStepOptional(stepNumber)\r\n        {\r\n            // If the stepNumber is not a valid step number, bail...\r\n            if ( !isStepNumberValid(stepNumber) )\r\n            {\r\n                return null;\r\n            }\r\n\r\n            return vm.steps[stepNumber - 1].scope.optionalStep;\r\n        }\r\n\r\n        /**\r\n         * Check if the given step is hidden\r\n         *\r\n         * @param stepNumber\r\n         * @returns {null|boolean}\r\n         */\r\n        function isStepHidden(stepNumber)\r\n        {\r\n            // If the stepNumber is not a valid step number, bail...\r\n            if ( !isStepNumberValid(stepNumber) )\r\n            {\r\n                return null;\r\n            }\r\n\r\n            return !!vm.steps[stepNumber - 1].scope.hideStep;\r\n        }\r\n\r\n        /**\r\n         * Check if the given step is hidden as a filter\r\n         *\r\n         * @param step\r\n         * @returns {boolean}\r\n         */\r\n        function filterHiddenStep(step)\r\n        {\r\n            return !isStepHidden(step.stepNumber);\r\n        }\r\n\r\n        /**\r\n         * Check if the given step is valid\r\n         *\r\n         * @param stepNumber\r\n         * @returns {null|boolean}\r\n         */\r\n        function isStepValid(stepNumber)\r\n        {\r\n            // If the stepNumber is not a valid step number, bail...\r\n            if ( !isStepNumberValid(stepNumber) )\r\n            {\r\n                return null;\r\n            }\r\n\r\n            // If the step is optional, always return true\r\n            if ( isStepOptional(stepNumber) )\r\n            {\r\n                return true;\r\n            }\r\n\r\n            return vm.steps[stepNumber - 1].form.$valid;\r\n        }\r\n\r\n        /**\r\n         * Check if the given step number is a valid step number\r\n         *\r\n         * @param stepNumber\r\n         * @returns {boolean}\r\n         */\r\n        function isStepNumberValid(stepNumber)\r\n        {\r\n            return !(angular.isUndefined(stepNumber) || stepNumber < 1 || stepNumber > vm.steps.length);\r\n        }\r\n\r\n        /**\r\n         * Check if the entire form is valid\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isFormValid()\r\n        {\r\n            return vm.mainForm.$valid;\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msHorizontalStepperDirective()\r\n    {\r\n        return {\r\n            restrict        : 'A',\r\n            scope           : {},\r\n            require         : ['form', 'msHorizontalStepper'],\r\n            priority        : 1001,\r\n            controller      : 'MsStepperController as MsStepper',\r\n            bindToController: {\r\n                model: '=ngModel'\r\n            },\r\n            transclude      : true,\r\n            templateUrl     : 'app/core/directives/ms-stepper/templates/horizontal/horizontal.html',\r\n            compile         : function (tElement)\r\n            {\r\n                tElement.addClass('ms-stepper');\r\n\r\n                return function postLink(scope, iElement, iAttrs, ctrls)\r\n                {\r\n                    var FormCtrl = ctrls[0],\r\n                        MsStepperCtrl = ctrls[1];\r\n\r\n                    // Register the main form and setup\r\n                    // the steps for the first time\r\n                    MsStepperCtrl.setOrientation('horizontal');\r\n                    MsStepperCtrl.registerMainForm(FormCtrl);\r\n                    MsStepperCtrl.setupSteps();\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msHorizontalStepperStepDirective()\r\n    {\r\n        return {\r\n            restrict: 'E',\r\n            require : ['form', '^msHorizontalStepper'],\r\n            priority: 1000,\r\n            scope   : {\r\n                step        : '=?',\r\n                stepTitle   : '=?',\r\n                optionalStep: '=?',\r\n                hideStep    : '=?'\r\n            },\r\n            compile : function (tElement)\r\n            {\r\n                tElement.addClass('ms-stepper-step');\r\n\r\n                return function postLink(scope, iElement, iAttrs, ctrls)\r\n                {\r\n                    var FormCtrl = ctrls[0],\r\n                        MsStepperCtrl = ctrls[1];\r\n\r\n                    // Is it an optional step?\r\n                    scope.optionalStep = angular.isDefined(iAttrs.optionalStep);\r\n\r\n                    // Register the step\r\n                    MsStepperCtrl.registerStep(iElement, scope, FormCtrl);\r\n\r\n                    // Hide the step by default\r\n                    iElement.hide();\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msVerticalStepperDirective($timeout)\r\n    {\r\n        return {\r\n            restrict        : 'A',\r\n            scope           : {},\r\n            require         : ['form', 'msVerticalStepper'],\r\n            priority        : 1001,\r\n            controller      : 'MsStepperController as MsStepper',\r\n            bindToController: {\r\n                model: '=ngModel'\r\n            },\r\n            transclude      : true,\r\n            templateUrl     : 'app/core/directives/ms-stepper/templates/vertical/vertical.html',\r\n            compile         : function (tElement)\r\n            {\r\n                tElement.addClass('ms-stepper');\r\n\r\n                return function postLink(scope, iElement, iAttrs, ctrls)\r\n                {\r\n                    var FormCtrl = ctrls[0],\r\n                        MsStepperCtrl = ctrls[1];\r\n\r\n                    // Register the main form and setup\r\n                    // the steps for the first time\r\n\r\n                    // Timeout is required in vertical stepper\r\n                    // as we are using transclusion in steps.\r\n                    // We have to wait for them to be transcluded\r\n                    // and registered to the controller\r\n                    $timeout(function ()\r\n                    {\r\n                        MsStepperCtrl.setOrientation('vertical');\r\n                        MsStepperCtrl.registerMainForm(FormCtrl);\r\n                        MsStepperCtrl.setupSteps();\r\n                    });\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msVerticalStepperStepDirective()\r\n    {\r\n        return {\r\n            restrict   : 'E',\r\n            require    : ['form', '^msVerticalStepper'],\r\n            priority   : 1000,\r\n            scope      : {\r\n                step        : '=?',\r\n                stepTitle   : '=?',\r\n                optionalStep: '=?',\r\n                hideStep    : '=?'\r\n            },\r\n            transclude : true,\r\n            templateUrl: 'app/core/directives/ms-stepper/templates/vertical/step/vertical-step.html',\r\n            compile    : function (tElement)\r\n            {\r\n                tElement.addClass('ms-stepper-step');\r\n\r\n                return function postLink(scope, iElement, iAttrs, ctrls)\r\n                {\r\n                    var FormCtrl = ctrls[0],\r\n                        MsStepperCtrl = ctrls[1];\r\n\r\n                    // Is it an optional step?\r\n                    scope.optionalStep = angular.isDefined(iAttrs.optionalStep);\r\n                    \r\n                    // Register the step\r\n                    scope.stepInfo = MsStepperCtrl.registerStep(iElement, scope, FormCtrl);\r\n\r\n                    // Expose the controller to the scope\r\n                    scope.MsStepper = MsStepperCtrl;\r\n\r\n                    // Hide the step content by default\r\n                    iElement.find('.ms-stepper-step-content').hide();\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .directive('msSplashScreen', msSplashScreenDirective);\r\n\r\n    /** @ngInject */\r\n    function msSplashScreenDirective($animate)\r\n    {\r\n        return {\r\n            restrict: 'E',\r\n            link    : function (scope, iElement)\r\n            {\r\n                var splashScreenRemoveEvent = scope.$on('msSplashScreen::remove', function ()\r\n                {\r\n                    $animate.leave(iElement).then(function ()\r\n                    {\r\n                        // De-register scope event\r\n                        splashScreenRemoveEvent();\r\n\r\n                        // Null-ify everything else\r\n                        scope = iElement = null;\r\n                    });\r\n                });\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .directive('msSidenavHelper', msSidenavHelperDirective);\r\n\r\n    /** @ngInject */\r\n    function msSidenavHelperDirective()\r\n    {\r\n        return {\r\n            restrict: 'A',\r\n            require : '^mdSidenav',\r\n            link    : function (scope, iElement, iAttrs, MdSidenavCtrl)\r\n            {\r\n                // Watch md-sidenav open & locked open statuses\r\n                // and add class to the \".page-layout\" if only\r\n                // the sidenav open and NOT locked open\r\n                scope.$watch(function ()\r\n                {\r\n                    return MdSidenavCtrl.isOpen() && !MdSidenavCtrl.isLockedOpen();\r\n                }, function (current)\r\n                {\r\n                    if ( angular.isUndefined(current) )\r\n                    {\r\n                        return;\r\n                    }\r\n\r\n                    iElement.parent().toggleClass('full-height', current);\r\n                    angular.element('html').toggleClass('sidenav-open', current);\r\n                });\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('MsShortcutsController', MsShortcutsController)\r\n        .directive('msShortcuts', msShortcutsDirective);\r\n\r\n    /** @ngInject */\r\n    function MsShortcutsController($scope, $cookies, $document, $timeout, $q, msNavigationService)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.query = '';\r\n        vm.queryOptions = {\r\n            debounce: 300\r\n        };\r\n        vm.resultsLoading = false;\r\n        vm.selectedResultIndex = 0;\r\n        vm.ignoreMouseEvents = false;\r\n        vm.mobileBarActive = false;\r\n\r\n        vm.results = null;\r\n        vm.shortcuts = [];\r\n\r\n        vm.sortableOptions = {\r\n            ghostClass   : 'ghost',\r\n            forceFallback: true,\r\n            fallbackClass: 'dragging',\r\n            onSort       : function ()\r\n            {\r\n                vm.saveShortcuts();\r\n            }\r\n        };\r\n\r\n        // Methods\r\n        vm.populateResults = populateResults;\r\n        vm.loadShortcuts = loadShortcuts;\r\n        vm.saveShortcuts = saveShortcuts;\r\n        vm.addShortcut = addShortcut;\r\n        vm.removeShortcut = removeShortcut;\r\n        vm.handleResultClick = handleResultClick;\r\n\r\n        vm.absorbEvent = absorbEvent;\r\n        vm.handleKeydown = handleKeydown;\r\n        vm.handleMouseenter = handleMouseenter;\r\n        vm.temporarilyIgnoreMouseEvents = temporarilyIgnoreMouseEvents;\r\n        vm.ensureSelectedResultIsVisible = ensureSelectedResultIsVisible;\r\n        vm.toggleMobileBar = toggleMobileBar;\r\n\r\n        //////////\r\n\r\n        init();\r\n\r\n        function init()\r\n        {\r\n            // Load the shortcuts\r\n            vm.loadShortcuts().then(\r\n                // Success\r\n                function (response)\r\n                {\r\n                    vm.shortcuts = response;\r\n\r\n                    // Add shortcuts as results by default\r\n                    if ( vm.shortcuts.length > 0 )\r\n                    {\r\n                        vm.results = response;\r\n                    }\r\n                }\r\n            );\r\n\r\n            // Watch the model changes to trigger the search\r\n            $scope.$watch('MsShortcuts.query', function (current, old)\r\n            {\r\n                if ( angular.isUndefined(current) )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                if ( angular.equals(current, old) )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                // Show the loader\r\n                vm.resultsLoading = true;\r\n\r\n                // Populate the results\r\n                vm.populateResults().then(\r\n                    // Success\r\n                    function (response)\r\n                    {\r\n                        vm.results = response;\r\n                    },\r\n                    // Error\r\n                    function ()\r\n                    {\r\n                        vm.results = [];\r\n                    }\r\n                ).finally(\r\n                    function ()\r\n                    {\r\n                        // Hide the loader\r\n                        vm.resultsLoading = false;\r\n                    }\r\n                );\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Populate the results\r\n         */\r\n        function populateResults()\r\n        {\r\n            var results = [],\r\n                flatNavigation = msNavigationService.getFlatNavigation(),\r\n                deferred = $q.defer();\r\n\r\n            // Iterate through the navigation array and\r\n            // make sure it doesn't have any groups or\r\n            // none ui-sref items\r\n            for ( var x = 0; x < flatNavigation.length; x++ )\r\n            {\r\n                if ( flatNavigation[x].uisref )\r\n                {\r\n                    results.push(flatNavigation[x]);\r\n                }\r\n            }\r\n\r\n            // If there is a query, filter the results\r\n            if ( vm.query )\r\n            {\r\n                results = results.filter(function (item)\r\n                {\r\n                    if ( angular.lowercase(item.title).search(angular.lowercase(vm.query)) > -1 )\r\n                    {\r\n                        return true;\r\n                    }\r\n                });\r\n\r\n                // Iterate through one last time and\r\n                // add required properties to items\r\n                for ( var i = 0; i < results.length; i++ )\r\n                {\r\n                    // Add false to hasShortcut by default\r\n                    results[i].hasShortcut = false;\r\n\r\n                    // Test if the item is in the shortcuts list\r\n                    for ( var y = 0; y < vm.shortcuts.length; y++ )\r\n                    {\r\n                        if ( vm.shortcuts[y]._id === results[i]._id )\r\n                        {\r\n                            results[i].hasShortcut = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else\r\n            {\r\n                // If the query is empty, that means\r\n                // there is nothing to search for so\r\n                // we will populate the results with\r\n                // current shortcuts if there is any\r\n                if ( vm.shortcuts.length > 0 )\r\n                {\r\n                    results = vm.shortcuts;\r\n                }\r\n            }\r\n\r\n            // Reset the selected result\r\n            vm.selectedResultIndex = 0;\r\n\r\n            // Fake the service delay\r\n            $timeout(function ()\r\n            {\r\n                // Resolve the promise\r\n                deferred.resolve(results);\r\n            }, 250);\r\n\r\n            // Return a promise\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * Load shortcuts\r\n         */\r\n        function loadShortcuts()\r\n        {\r\n            var deferred = $q.defer();\r\n\r\n            // For the demo purposes, we will\r\n            // load the shortcuts from the cookies.\r\n            // But here you can make an API call\r\n            // to load them from the DB.\r\n            var shortcuts = angular.fromJson($cookies.get('FUSE.shortcuts'));\r\n\r\n            // No cookie available. Generate one\r\n            // for the demo purposes...\r\n            if ( angular.isUndefined(shortcuts) )\r\n            {\r\n                shortcuts = [\r\n                    {\r\n                        'title'      : 'Sample',\r\n                        'icon'       : 'icon-tile-four',\r\n                        'state'      : 'app.sample',\r\n                        'weight'     : 1,\r\n                        'children'   : [],\r\n                        '_id'        : 'sample',\r\n                        '_path'      : 'apps.sample',\r\n                        'uisref'     : 'app.sample',\r\n                        'hasShortcut': true\r\n                    }\r\n                ];\r\n\r\n                $cookies.put('FUSE.shortcuts', angular.toJson(shortcuts));\r\n            }\r\n\r\n            // Resolve the promise\r\n            deferred.resolve(shortcuts);\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * Save the shortcuts\r\n         */\r\n        function saveShortcuts()\r\n        {\r\n            var deferred = $q.defer();\r\n\r\n            // For the demo purposes, we will\r\n            // keep the shortcuts in the cookies.\r\n            // But here you can make an API call\r\n            // to save them to the DB.\r\n            $cookies.put('FUSE.shortcuts', angular.toJson(vm.shortcuts));\r\n\r\n            // Fake the service delay\r\n            $timeout(function ()\r\n            {\r\n                deferred.resolve({'success': true});\r\n            }, 250);\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * Add item as shortcut\r\n         *\r\n         * @param item\r\n         */\r\n        function addShortcut(item)\r\n        {\r\n            // Update the hasShortcut status\r\n            item.hasShortcut = true;\r\n\r\n            // Add as a shortcut\r\n            vm.shortcuts.push(item);\r\n\r\n            // Save the shortcuts\r\n            vm.saveShortcuts();\r\n        }\r\n\r\n        /**\r\n         * Remove item from shortcuts\r\n         *\r\n         * @param item\r\n         */\r\n        function removeShortcut(item)\r\n        {\r\n            // Update the hasShortcut status\r\n            item.hasShortcut = false;\r\n\r\n            // Remove the shortcut\r\n            for ( var x = 0; x < vm.shortcuts.length; x++ )\r\n            {\r\n                if ( vm.shortcuts[x]._id === item._id )\r\n                {\r\n                    // Remove the x-th item from the array\r\n                    vm.shortcuts.splice(x, 1);\r\n\r\n                    // If we aren't searching for anything...\r\n                    if ( !vm.query )\r\n                    {\r\n                        // If all the shortcuts have been removed,\r\n                        // null-ify the results\r\n                        if ( vm.shortcuts.length === 0 )\r\n                        {\r\n                            vm.results = null;\r\n                        }\r\n                        // Otherwise update the selected index\r\n                        else\r\n                        {\r\n                            if ( x >= vm.shortcuts.length )\r\n                            {\r\n                                vm.selectedResultIndex = vm.shortcuts.length - 1;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Save the shortcuts\r\n            vm.saveShortcuts();\r\n        }\r\n\r\n        /**\r\n         * Handle the result click\r\n         *\r\n         * @param item\r\n         */\r\n        function handleResultClick(item)\r\n        {\r\n            // Add or remove the shortcut\r\n            if ( item.hasShortcut )\r\n            {\r\n                vm.removeShortcut(item);\r\n            }\r\n            else\r\n            {\r\n                vm.addShortcut(item);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Absorb the given event\r\n         *\r\n         * @param event\r\n         */\r\n        function absorbEvent(event)\r\n        {\r\n            event.preventDefault();\r\n        }\r\n\r\n        /**\r\n         * Handle keydown\r\n         *\r\n         * @param event\r\n         */\r\n        function handleKeydown(event)\r\n        {\r\n            var keyCode = event.keyCode,\r\n                keys = [38, 40];\r\n\r\n            // Prevent the default action if\r\n            // one of the keys are pressed that\r\n            // we are listening\r\n            if ( keys.indexOf(keyCode) > -1 )\r\n            {\r\n                event.preventDefault();\r\n            }\r\n\r\n            switch ( keyCode )\r\n            {\r\n                // Enter\r\n                case 13:\r\n\r\n                    // Trigger result click\r\n                    vm.handleResultClick(vm.results[vm.selectedResultIndex]);\r\n\r\n                    break;\r\n\r\n                // Up Arrow\r\n                case 38:\r\n\r\n                    // Decrease the selected result index\r\n                    if ( vm.selectedResultIndex - 1 >= 0 )\r\n                    {\r\n                        // Decrease the selected index\r\n                        vm.selectedResultIndex--;\r\n\r\n                        // Make sure the selected result is in the view\r\n                        vm.ensureSelectedResultIsVisible();\r\n                    }\r\n\r\n                    break;\r\n\r\n                // Down Arrow\r\n                case 40:\r\n\r\n                    // Increase the selected result index\r\n                    if ( vm.selectedResultIndex + 1 < vm.results.length )\r\n                    {\r\n                        // Increase the selected index\r\n                        vm.selectedResultIndex++;\r\n\r\n                        // Make sure the selected result is in the view\r\n                        vm.ensureSelectedResultIsVisible();\r\n                    }\r\n\r\n                    break;\r\n\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Handle mouseenter\r\n         *\r\n         * @param index\r\n         */\r\n        function handleMouseenter(index)\r\n        {\r\n            if ( vm.ignoreMouseEvents )\r\n            {\r\n                return;\r\n            }\r\n\r\n            // Update the selected result index\r\n            // with the given index\r\n            vm.selectedResultIndex = index;\r\n        }\r\n\r\n        /**\r\n         * Set a variable for a limited time\r\n         * to make other functions to ignore\r\n         * the mouse events\r\n         */\r\n        function temporarilyIgnoreMouseEvents()\r\n        {\r\n            // Set the variable\r\n            vm.ignoreMouseEvents = true;\r\n\r\n            // Cancel the previous timeout\r\n            $timeout.cancel(vm.mouseEventIgnoreTimeout);\r\n\r\n            // Set the timeout\r\n            vm.mouseEventIgnoreTimeout = $timeout(function ()\r\n            {\r\n                vm.ignoreMouseEvents = false;\r\n            }, 250);\r\n        }\r\n\r\n        /**\r\n         * Ensure the selected result will\r\n         * always be visible on the results\r\n         * area\r\n         */\r\n        function ensureSelectedResultIsVisible()\r\n        {\r\n            var resultsEl = $document.find('#ms-shortcut-add-menu').find('.results'),\r\n                selectedItemEl = angular.element(resultsEl.find('.result')[vm.selectedResultIndex]);\r\n\r\n            if ( resultsEl && selectedItemEl )\r\n            {\r\n                var top = selectedItemEl.position().top - 8,\r\n                    bottom = selectedItemEl.position().top + selectedItemEl.outerHeight() + 8;\r\n\r\n                // Start ignoring mouse events\r\n                vm.temporarilyIgnoreMouseEvents();\r\n\r\n                if ( resultsEl.scrollTop() > top )\r\n                {\r\n                    resultsEl.scrollTop(top);\r\n                }\r\n\r\n                if ( bottom > (resultsEl.height() + resultsEl.scrollTop()) )\r\n                {\r\n                    resultsEl.scrollTop(bottom - resultsEl.height());\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Toggle mobile bar\r\n         */\r\n        function toggleMobileBar()\r\n        {\r\n            vm.mobileBarActive = !vm.mobileBarActive;\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msShortcutsDirective()\r\n    {\r\n        return {\r\n            restrict        : 'E',\r\n            scope           : {},\r\n            require         : 'msShortcuts',\r\n            controller      : 'MsShortcutsController as MsShortcuts',\r\n            bindToController: {},\r\n            templateUrl     : 'app/core/directives/ms-shortcuts/ms-shortcuts.html',\r\n            compile         : function (tElement)\r\n            {\r\n                // Add class\r\n                tElement.addClass('ms-shortcuts');\r\n\r\n                return function postLink(scope, iElement)\r\n                {\r\n                    // Data\r\n\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.core')\r\n    .controller('MsSearchBarController', MsSearchBarController)\r\n    .directive('msSearchBar', msSearchBarDirective);\r\n\r\n  /** @ngInject */\r\n  function MsSearchBarController($rootScope, $scope, $element, $timeout)\r\n  {\r\n    var vm = this;\r\n\r\n    // Data\r\n    vm.collapsed = true;\r\n    vm.query = '';\r\n    vm.queryOptions = {\r\n      debounce: vm.debounce || 0\r\n    };\r\n    vm.resultsLoading = false;\r\n    vm.results = null;\r\n    vm.selectedResultIndex = 0;\r\n    vm.ignoreMouseEvents = false;\r\n\r\n    // Methods\r\n    vm.populateResults = populateResults;\r\n\r\n    vm.expand = expand;\r\n    vm.collapse = collapse;\r\n\r\n    vm.absorbEvent = absorbEvent;\r\n    vm.handleKeydown = handleKeydown;\r\n    vm.handleMouseenter = handleMouseenter;\r\n    vm.temporarilyIgnoreMouseEvents = temporarilyIgnoreMouseEvents;\r\n    vm.handleResultClick = handleResultClick;\r\n    vm.ensureSelectedResultIsVisible = ensureSelectedResultIsVisible;\r\n\r\n    //////////\r\n\r\n    init();\r\n\r\n    function init()\r\n    {\r\n      // Watch the model changes to trigger the search\r\n      $scope.$watch('MsSearchBar.query', function (current, old)\r\n      {\r\n\r\n        $rootScope.globalSearch.searchTerm = current;\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Populate the results\r\n     *\r\n     * @param results\r\n     */\r\n    function populateResults(results)\r\n    {\r\n      // Before doing anything,\r\n      // make sure the search bar is expanded\r\n      if ( vm.collapsed )\r\n      {\r\n        return;\r\n      }\r\n\r\n      var isArray = angular.isArray(results),\r\n        isNull = results === null;\r\n\r\n      // Only accept arrays and null values\r\n      if ( !isArray && !isNull )\r\n      {\r\n        return;\r\n      }\r\n\r\n      // Reset the selected result\r\n      vm.selectedResultIndex = 0;\r\n\r\n      // Populate the results\r\n      vm.results = results;\r\n    }\r\n\r\n    /**\r\n     * Expand\r\n     */\r\n    function expand()\r\n    {\r\n      // Set collapsed status\r\n      vm.collapsed = false;\r\n\r\n      // Call expand on scope\r\n      $scope.expand();\r\n\r\n      // Callback\r\n      if ( vm.onExpand && angular.isFunction(vm.onExpand) )\r\n      {\r\n        vm.onExpand();\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Collapse\r\n     */\r\n    function collapse()\r\n    {\r\n      // Empty the query\r\n      vm.query = '';\r\n\r\n      // Empty results to hide the results view\r\n      vm.populateResults(null);\r\n\r\n      // Set collapsed status\r\n      vm.collapsed = true;\r\n\r\n      // Call collapse on scope\r\n      $scope.collapse();\r\n\r\n      // Callback\r\n      if ( vm.onCollapse && angular.isFunction(vm.onCollapse) )\r\n      {\r\n        vm.onCollapse();\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Absorb the given event\r\n     *\r\n     * @param event\r\n     */\r\n    function absorbEvent(event)\r\n    {\r\n      event.preventDefault();\r\n    }\r\n\r\n    /**\r\n     * Handle keydown\r\n     *\r\n     * @param event\r\n     */\r\n    function handleKeydown(event)\r\n    {\r\n      var keyCode = event.keyCode,\r\n        keys = [27, 38, 40];\r\n\r\n      // Prevent the default action if\r\n      // one of the keys are pressed that\r\n      // we are listening\r\n      if ( keys.indexOf(keyCode) > -1 )\r\n      {\r\n        event.preventDefault();\r\n      }\r\n\r\n      switch ( keyCode )\r\n      {\r\n        // Enter\r\n        case 13:\r\n\r\n          // Trigger result click\r\n          vm.handleResultClick(vm.results[vm.selectedResultIndex]);\r\n\r\n          break;\r\n\r\n        // Escape\r\n        case 27:\r\n\r\n          // Collapse the search bar\r\n          vm.collapse();\r\n\r\n          break;\r\n\r\n        // Up Arrow\r\n        case 38:\r\n\r\n          // Decrease the selected result index\r\n          if ( vm.selectedResultIndex - 1 >= 0 )\r\n          {\r\n            // Decrease the selected index\r\n            vm.selectedResultIndex--;\r\n\r\n            // Make sure the selected result is in the view\r\n            vm.ensureSelectedResultIsVisible();\r\n          }\r\n\r\n          break;\r\n\r\n        // Down Arrow\r\n        case 40:\r\n\r\n          if ( !vm.results )\r\n          {\r\n            return;\r\n          }\r\n\r\n          // Increase the selected result index\r\n          if ( vm.selectedResultIndex + 1 < vm.results.length )\r\n          {\r\n            // Increase the selected index\r\n            vm.selectedResultIndex++;\r\n\r\n            // Make sure the selected result is in the view\r\n            vm.ensureSelectedResultIsVisible();\r\n          }\r\n\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Handle mouseenter\r\n     *\r\n     * @param index\r\n     */\r\n    function handleMouseenter(index)\r\n    {\r\n      if ( vm.ignoreMouseEvents )\r\n      {\r\n        return;\r\n      }\r\n\r\n      // Update the selected result index\r\n      // with the given index\r\n      vm.selectedResultIndex = index;\r\n    }\r\n\r\n    /**\r\n     * Set a variable for a limited time\r\n     * to make other functions to ignore\r\n     * the mouse events\r\n     */\r\n    function temporarilyIgnoreMouseEvents()\r\n    {\r\n      // Set the variable\r\n      vm.ignoreMouseEvents = true;\r\n\r\n      // Cancel the previous timeout\r\n      $timeout.cancel(vm.mouseEventIgnoreTimeout);\r\n\r\n      // Set the timeout\r\n      vm.mouseEventIgnoreTimeout = $timeout(function ()\r\n      {\r\n        vm.ignoreMouseEvents = false;\r\n      }, 250);\r\n    }\r\n\r\n    /**\r\n     * Handle the result click\r\n     *\r\n     * @param item\r\n     */\r\n    function handleResultClick(item)\r\n    {\r\n      if ( vm.onResultClick )\r\n      {\r\n        vm.onResultClick({item: item});\r\n      }\r\n\r\n      // Collapse the search bar\r\n      vm.collapse();\r\n    }\r\n\r\n    /**\r\n     * Ensure the selected result will\r\n     * always be visible on the results\r\n     * area\r\n     */\r\n    function ensureSelectedResultIsVisible()\r\n    {\r\n      var resultsEl = $element.find('.ms-search-bar-results'),\r\n        selectedItemEl = angular.element(resultsEl.find('.result')[vm.selectedResultIndex]);\r\n\r\n      if ( resultsEl && selectedItemEl )\r\n      {\r\n        var top = selectedItemEl.position().top - 8,\r\n          bottom = selectedItemEl.position().top + selectedItemEl.outerHeight() + 8;\r\n\r\n        // Start ignoring mouse events\r\n        vm.temporarilyIgnoreMouseEvents();\r\n\r\n        if ( resultsEl.scrollTop() > top )\r\n        {\r\n          resultsEl.scrollTop(top);\r\n        }\r\n\r\n        if ( bottom > (resultsEl.height() + resultsEl.scrollTop()) )\r\n        {\r\n          resultsEl.scrollTop(bottom - resultsEl.height());\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /** @ngInject */\r\n  function msSearchBarDirective($document)\r\n  {\r\n    return {\r\n      restrict        : 'E',\r\n      scope           : {},\r\n      require         : 'msSearchBar',\r\n      controller      : 'MsSearchBarController as MsSearchBar',\r\n      bindToController: {\r\n        debounce     : '=?',\r\n        onSearch     : '@',\r\n        onResultClick: '&?',\r\n        onExpand     : '&?',\r\n        onCollapse   : '&?'\r\n      },\r\n      templateUrl     : 'app/core/directives/ms-search-bar/ms-search-bar.html',\r\n      compile         : function (tElement)\r\n      {\r\n        // Add class\r\n        tElement.addClass('ms-search-bar');\r\n\r\n        return function postLink(scope, iElement)\r\n        {\r\n          // Data\r\n          var inputEl,\r\n            bodyEl = $document.find('body');\r\n\r\n          // Methods\r\n          scope.collapse = collapse;\r\n          scope.expand = expand;\r\n\r\n          //////////\r\n\r\n          // Initialize\r\n          init();\r\n\r\n          /**\r\n           * Initialize\r\n           */\r\n          function init()\r\n          {\r\n            // Grab the input element\r\n            inputEl = iElement.find('#ms-search-bar-input');\r\n          }\r\n\r\n          /**\r\n           * Expand action\r\n           */\r\n          function expand()\r\n          {\r\n            // Add expanded class\r\n            iElement.addClass('expanded');\r\n\r\n            // Add helper class to the body\r\n            bodyEl.addClass('ms-search-bar-expanded');\r\n\r\n            // Focus on the input\r\n            inputEl.focus();\r\n          }\r\n\r\n          /**\r\n           * Collapse action\r\n           */\r\n          function collapse()\r\n          {\r\n            // Remove expanded class\r\n            iElement.removeClass('expanded');\r\n\r\n            // Remove helper class from the body\r\n            bodyEl.removeClass('ms-search-bar-expanded');\r\n          }\r\n        };\r\n      }\r\n    };\r\n  }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .provider('msScrollConfig', msScrollConfigProvider)\r\n        .directive('msScroll', msScrollDirective);\r\n\r\n    /** @ngInject */\r\n    function msScrollConfigProvider()\r\n    {\r\n        // Default configuration\r\n        var defaultConfiguration = {\r\n            wheelSpeed            : 1,\r\n            wheelPropagation      : false,\r\n            swipePropagation      : true,\r\n            minScrollbarLength    : null,\r\n            maxScrollbarLength    : null,\r\n            useBothWheelAxes      : false,\r\n            useKeyboard           : true,\r\n            suppressScrollX       : false,\r\n            suppressScrollY       : false,\r\n            scrollXMarginOffset   : 0,\r\n            scrollYMarginOffset   : 0,\r\n            stopPropagationOnClick: true\r\n        };\r\n\r\n        // Methods\r\n        this.config = config;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Extend default configuration with the given one\r\n         *\r\n         * @param configuration\r\n         */\r\n        function config(configuration)\r\n        {\r\n            defaultConfiguration = angular.extend({}, defaultConfiguration, configuration);\r\n        }\r\n\r\n        /**\r\n         * Service\r\n         */\r\n        this.$get = function ()\r\n        {\r\n            var service = {\r\n                getConfig: getConfig\r\n            };\r\n\r\n            return service;\r\n\r\n            //////////\r\n\r\n            /**\r\n             * Return the config\r\n             */\r\n            function getConfig()\r\n            {\r\n                return defaultConfiguration;\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msScrollDirective($timeout, msScrollConfig, msUtils, fuseConfig)\r\n    {\r\n        return {\r\n            restrict: 'AE',\r\n            compile : function (tElement)\r\n            {\r\n                // Do not replace scrollbars if\r\n                // 'disableCustomScrollbars' config enabled\r\n                if ( fuseConfig.getConfig('disableCustomScrollbars') )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                // Do not replace scrollbars on mobile devices\r\n                // if 'disableCustomScrollbarsOnMobile' config enabled\r\n                if ( fuseConfig.getConfig('disableCustomScrollbarsOnMobile') && msUtils.isMobile() )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                // Add class\r\n                tElement.addClass('ms-scroll');\r\n\r\n                return function postLink(scope, iElement, iAttrs)\r\n                {\r\n                    var options = {};\r\n\r\n                    // If options supplied, evaluate the given\r\n                    // value. This is because we don't want to\r\n                    // have an isolated scope but still be able\r\n                    // to use scope variables.\r\n                    // We don't want an isolated scope because\r\n                    // we should be able to use this everywhere\r\n                    // especially with other directives\r\n                    if ( iAttrs.msScroll )\r\n                    {\r\n                        options = scope.$eval(iAttrs.msScroll);\r\n                    }\r\n\r\n                    // Extend the given config with the ones from provider\r\n                    options = angular.extend({}, msScrollConfig.getConfig(), options);\r\n\r\n                    // Initialize the scrollbar\r\n                    $timeout(function ()\r\n                    {\r\n                        PerfectScrollbar.initialize(iElement[0], options);\r\n                    }, 0);\r\n\r\n                    // Update the scrollbar on element mouseenter\r\n                    iElement.on('mouseenter', updateScrollbar);\r\n\r\n                    // Watch scrollHeight and update\r\n                    // the scrollbar if it changes\r\n                    scope.$watch(function ()\r\n                    {\r\n                        return iElement.prop('scrollHeight');\r\n                    }, function (current, old)\r\n                    {\r\n                        if ( angular.isUndefined(current) || angular.equals(current, old) )\r\n                        {\r\n                            return;\r\n                        }\r\n\r\n                        updateScrollbar();\r\n                    });\r\n\r\n                    // Watch scrollWidth and update\r\n                    // the scrollbar if it changes\r\n                    scope.$watch(function ()\r\n                    {\r\n                        return iElement.prop('scrollWidth');\r\n                    }, function (current, old)\r\n                    {\r\n                        if ( angular.isUndefined(current) || angular.equals(current, old) )\r\n                        {\r\n                            return;\r\n                        }\r\n\r\n                        updateScrollbar();\r\n                    });\r\n\r\n                    /**\r\n                     * Update the scrollbar\r\n                     */\r\n                    function updateScrollbar()\r\n                    {\r\n                        PerfectScrollbar.update(iElement[0]);\r\n                    }\r\n\r\n                    // Cleanup on destroy\r\n                    scope.$on('$destroy', function ()\r\n                    {\r\n                        iElement.off('mouseenter');\r\n                        PerfectScrollbar.destroy(iElement[0]);\r\n                    });\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .directive('msResponsiveTable', msResponsiveTableDirective);\r\n\r\n    /** @ngInject */\r\n    function msResponsiveTableDirective()\r\n    {\r\n        return {\r\n            restrict: 'A',\r\n            link    : function (scope, iElement)\r\n            {\r\n                // Wrap the table\r\n                var wrapper = angular.element('<div class=\"ms-responsive-table-wrapper\"></div>');\r\n                iElement.after(wrapper);\r\n                wrapper.append(iElement);\r\n\r\n                //////////\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .directive('msRandomClass', msRandomClassDirective);\r\n\r\n    /** @ngInject */\r\n    function msRandomClassDirective()\r\n    {\r\n        return {\r\n            restrict: 'A',\r\n            scope   : {\r\n                msRandomClass: '='\r\n            },\r\n            link    : function (scope, iElement)\r\n            {\r\n                var randomClass = scope.msRandomClass[Math.floor(Math.random() * (scope.msRandomClass.length))];\r\n                iElement.addClass(randomClass);\r\n            }\r\n        };\r\n    }\r\n})();\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.core')\r\n    .provider('msNavigationService', msNavigationServiceProvider)\r\n    .controller('MsNavigationController', MsNavigationController)\r\n    // Vertical\r\n    .directive('msNavigation', msNavigationDirective)\r\n    .controller('MsNavigationNodeController', MsNavigationNodeController)\r\n    .directive('msNavigationNode', msNavigationNodeDirective)\r\n    .directive('msNavigationItem', msNavigationItemDirective)\r\n    //Horizontal\r\n    .directive('msNavigationHorizontal', msNavigationHorizontalDirective)\r\n    .controller('MsNavigationHorizontalNodeController', MsNavigationHorizontalNodeController)\r\n    .directive('msNavigationHorizontalNode', msNavigationHorizontalNodeDirective)\r\n    .directive('msNavigationHorizontalItem', msNavigationHorizontalItemDirective);\r\n\r\n  /** @ngInject */\r\n  function msNavigationServiceProvider() {\r\n\r\n\r\n    // Inject $log service\r\n    var $log = angular.injector(['ng']).get('$log');\r\n\r\n    // Navigation array\r\n    var navigation = [];\r\n\r\n    var service = this;\r\n\r\n    // Methods\r\n    service.saveItem = saveItem;\r\n    service.deleteItem = deleteItem;\r\n    service.sortByWeight = sortByWeight;\r\n\r\n    //////////\r\n\r\n    /**\r\n     * Create or update the navigation item\r\n     *\r\n     * @param path\r\n     * @param item\r\n     */\r\n    function saveItem(path, item) {\r\n      if (!angular.isString(path)) {\r\n        $log.error('path must be a string (eg. `dashboard.project`)');\r\n        return;\r\n      }\r\n\r\n      var parts = path.split('.');\r\n\r\n      // Generate the object id from the parts\r\n      var id = parts[parts.length - 1];\r\n\r\n      // Get the parent item from the parts\r\n      var parent = _findOrCreateParent(parts);\r\n\r\n      // Decide if we are going to update or create\r\n      var updateItem = false;\r\n\r\n      for (var i = 0; i < parent.length; i++) {\r\n        if (parent[i]._id === id) {\r\n          updateItem = parent[i];\r\n\r\n          break;\r\n        }\r\n      }\r\n\r\n      // Update\r\n      if (updateItem) {\r\n        angular.extend(updateItem, item);\r\n\r\n        // Add proper ui-sref\r\n        updateItem.uisref = _getUiSref(updateItem);\r\n      }\r\n      // Create\r\n      else {\r\n        // Create an empty children array in the item\r\n        item.children = [];\r\n\r\n        // Add the default weight if not provided or if it's not a number\r\n        if (angular.isUndefined(item.weight) || !angular.isNumber(item.weight)) {\r\n          item.weight = 1;\r\n        }\r\n\r\n        // Add the item id\r\n        item._id = id;\r\n\r\n        // Add the item path\r\n        item._path = path;\r\n\r\n        // Add proper ui-sref\r\n        item.uisref = _getUiSref(item);\r\n\r\n        // Push the item into the array\r\n        parent.push(item);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Delete navigation item\r\n     *\r\n     * @param path\r\n     */\r\n    function deleteItem(path) {\r\n      if (!angular.isString(path)) {\r\n        $log.error('path must be a string (eg. `dashboard.project`)');\r\n        return;\r\n      }\r\n\r\n      // Locate the item by using given path\r\n      var item = navigation,\r\n        parts = path.split('.');\r\n\r\n      for (var p = 0; p < parts.length; p++) {\r\n        var id = parts[p];\r\n\r\n        for (var i = 0; i < item.length; i++) {\r\n          if (item[i]._id === id) {\r\n            // If we have a matching path,\r\n            // we have found our object:\r\n            // remove it.\r\n            if (item[i]._path === path) {\r\n              item.splice(i, 1);\r\n              return true;\r\n            }\r\n\r\n            // Otherwise grab the children of\r\n            // the current item and continue\r\n            item = item[i].children;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      return false;\r\n    }\r\n\r\n    /**\r\n     * Sort the navigation items by their weights\r\n     *\r\n     * @param parent\r\n     */\r\n    function sortByWeight(parent) {\r\n      // If parent not provided, sort the root items\r\n      if (!parent) {\r\n        parent = navigation;\r\n        parent.sort(_byWeight);\r\n      }\r\n\r\n      // Sort the children\r\n      for (var i = 0; i < parent.length; i++) {\r\n        var children = parent[i].children;\r\n\r\n        if (children.length > 1) {\r\n          children.sort(_byWeight);\r\n        }\r\n\r\n        if (children.length > 0) {\r\n          sortByWeight(children);\r\n        }\r\n      }\r\n    }\r\n\r\n    /* ----------------- */\r\n    /* Private Functions */\r\n    /* ----------------- */\r\n\r\n    /**\r\n     * Find or create parent\r\n     *\r\n     * @param parts\r\n     * @returns {Array|Boolean}\r\n     * @private\r\n     */\r\n    function _findOrCreateParent(parts) {\r\n      // Store the main navigation\r\n      var parent = navigation;\r\n\r\n      // If it's going to be a root item\r\n      // return the navigation itself\r\n      if (parts.length === 1) {\r\n        return parent;\r\n      }\r\n\r\n      // Remove the last element from the parts as\r\n      // we don't need that to figure out the parent\r\n      parts.pop();\r\n\r\n      // Find and return the parent\r\n      for (var i = 0; i < parts.length; i++) {\r\n        var _id = parts[i],\r\n          createParent = true;\r\n\r\n        for (var p = 0; p < parent.length; p++) {\r\n          if (parent[p]._id === _id) {\r\n            parent = parent[p].children;\r\n            createParent = false;\r\n\r\n            break;\r\n          }\r\n        }\r\n\r\n        // If there is no parent found, create one, push\r\n        // it into the current parent and assign it as a\r\n        // new parent\r\n        if (createParent) {\r\n          var item = {\r\n            _id: _id,\r\n            _path: parts.join('.'),\r\n            title: _id,\r\n            weight: 1,\r\n            children: []\r\n          };\r\n\r\n          parent.push(item);\r\n          parent = item.children;\r\n        }\r\n      }\r\n\r\n      return parent;\r\n    }\r\n\r\n    /**\r\n     * Sort by weight\r\n     *\r\n     * @param x\r\n     * @param y\r\n     * @returns {number}\r\n     * @private\r\n     */\r\n    function _byWeight(x, y) {\r\n      return parseInt(x.weight) - parseInt(y.weight);\r\n    }\r\n\r\n    /**\r\n     * Setup the ui-sref using state & state parameters\r\n     *\r\n     * @param item\r\n     * @returns {string}\r\n     * @private\r\n     */\r\n    function _getUiSref(item) {\r\n      var uisref = '';\r\n\r\n      if (angular.isDefined(item.state)) {\r\n        uisref = item.state;\r\n\r\n        if (angular.isDefined(item.stateParams) && angular.isObject(item.stateParams)) {\r\n          uisref = uisref + '(' + angular.toJson(item.stateParams) + ')';\r\n        }\r\n      }\r\n\r\n      return uisref;\r\n    }\r\n\r\n    /* ----------------- */\r\n    /* Service           */\r\n    /* ----------------- */\r\n\r\n    this.$get = function () {\r\n      var activeItem = null,\r\n        navigationScope = null,\r\n        folded = null,\r\n        foldedOpen = null;\r\n\r\n      var service = {\r\n        saveItem: saveItem,\r\n        deleteItem: deleteItem,\r\n        sort: sortByWeight,\r\n        clearNavigation: clearNavigation,\r\n        setActiveItem: setActiveItem,\r\n        getActiveItem: getActiveItem,\r\n        getNavigation: getNavigation,\r\n        getFlatNavigation: getFlatNavigation,\r\n        setNavigationScope: setNavigationScope,\r\n        setFolded: setFolded,\r\n        getFolded: getFolded,\r\n        setFoldedOpen: setFoldedOpen,\r\n        getFoldedOpen: getFoldedOpen,\r\n        toggleFolded: toggleFolded\r\n      };\r\n\r\n      return service;\r\n\r\n      //////////\r\n\r\n      /**\r\n       * Clear the entire navigation\r\n       */\r\n      function clearNavigation() {\r\n        // Clear the navigation array\r\n        navigation = [];\r\n\r\n        // Clear the vm.navigation from main controller\r\n        if (navigationScope) {\r\n          navigationScope.vm.navigation = navigation;\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Set active item\r\n       *\r\n       * @param node\r\n       * @param scope\r\n       */\r\n      function setActiveItem(node, scope) {\r\n        activeItem = {\r\n          node: node,\r\n          scope: scope\r\n        };\r\n      }\r\n\r\n      /**\r\n       * Return active item\r\n       */\r\n      function getActiveItem() {\r\n        return activeItem;\r\n      }\r\n\r\n      /**\r\n       * Return navigation array\r\n       *\r\n       * @param root\r\n       * @returns Array\r\n       */\r\n      function getNavigation(root) {\r\n        if (root) {\r\n          for (var i = 0; i < navigation.length; i++) {\r\n            if (navigation[i]._id === root) {\r\n              return [navigation[i]];\r\n            }\r\n          }\r\n\r\n          return null;\r\n        }\r\n\r\n        return navigation;\r\n      }\r\n\r\n      /**\r\n       * Return flat navigation array\r\n       *\r\n       * @param root\r\n       * @returns Array\r\n       */\r\n      function getFlatNavigation(root) {\r\n        // Get the correct navigation array\r\n        var navigation = getNavigation(root);\r\n\r\n        // Flatten the navigation object\r\n        return _flattenNavigation(navigation);\r\n      }\r\n\r\n      /**\r\n       * Store navigation's scope for later use\r\n       *\r\n       * @param scope\r\n       */\r\n      function setNavigationScope(scope) {\r\n        navigationScope = scope;\r\n      }\r\n\r\n      /**\r\n       * Set folded status\r\n       *\r\n       * @param status\r\n       */\r\n      function setFolded(status) {\r\n        folded = status;\r\n      }\r\n\r\n      /**\r\n       * Return folded status\r\n       *\r\n       * @returns {*}\r\n       */\r\n      function getFolded() {\r\n        return folded;\r\n      }\r\n\r\n      /**\r\n       * Set folded open status\r\n       *\r\n       * @param status\r\n       */\r\n      function setFoldedOpen(status) {\r\n        foldedOpen = status;\r\n      }\r\n\r\n      /**\r\n       * Return folded open status\r\n       *\r\n       * @returns {*}\r\n       */\r\n      function getFoldedOpen() {\r\n        return foldedOpen;\r\n      }\r\n\r\n\r\n      /**\r\n       * Toggle fold on stored navigation's scope\r\n       */\r\n      function toggleFolded() {\r\n        navigationScope.toggleFolded();\r\n      }\r\n\r\n      /**\r\n       * Flatten the given navigation\r\n       *\r\n       * @param navigation\r\n       * @private\r\n       */\r\n      function _flattenNavigation(navigation) {\r\n        var flatNav = [];\r\n\r\n        for (var x = 0; x < navigation.length; x++) {\r\n          // Copy and clear the children of the\r\n          // navigation that we want to push\r\n          var navToPush = angular.copy(navigation[x]);\r\n          navToPush.children = [];\r\n\r\n          // Push the item\r\n          flatNav.push(navToPush);\r\n\r\n          // If there are child items in this navigation,\r\n          // do some nested function magic\r\n          if (navigation[x].children.length > 0) {\r\n            flatNav = flatNav.concat(_flattenNavigation(navigation[x].children));\r\n          }\r\n        }\r\n\r\n        return flatNav;\r\n      }\r\n    };\r\n  }\r\n\r\n  /** @ngInject */\r\n  function MsNavigationController($scope, msNavigationService) {\r\n    var vm = this;\r\n\r\n    // Data\r\n    if ($scope.root) {\r\n      vm.navigation = msNavigationService.getNavigation($scope.root);\r\n    }\r\n    else {\r\n      vm.navigation = msNavigationService.getNavigation();\r\n    }\r\n\r\n    // Methods\r\n    vm.toggleHorizontalMobileMenu = toggleHorizontalMobileMenu;\r\n\r\n    //////////\r\n\r\n    init();\r\n\r\n    /**\r\n     * Initialize\r\n     */\r\n    function init() {\r\n      // Sort the navigation before doing anything else\r\n      msNavigationService.sort();\r\n    }\r\n\r\n    /**\r\n     * Toggle horizontal mobile menu\r\n     */\r\n    function toggleHorizontalMobileMenu() {\r\n      angular.element('body').toggleClass('ms-navigation-horizontal-mobile-menu-active');\r\n    }\r\n  }\r\n\r\n  /** @ngInject */\r\n  function msNavigationDirective($rootScope, $timeout, $mdSidenav, msNavigationService) {\r\n    return {\r\n      restrict: 'E',\r\n      scope: {\r\n        folded: '=',\r\n        root: '@'\r\n      },\r\n      controller: 'MsNavigationController as vm',\r\n      templateUrl: 'app/core/directives/ms-navigation/templates/vertical.html',\r\n      transclude: true,\r\n      compile: function (tElement) {\r\n        tElement.addClass('ms-navigation');\r\n\r\n        return function postLink(scope, iElement) {\r\n          var bodyEl = angular.element('body'),\r\n            foldExpanderEl = angular.element('<div id=\"ms-navigation-fold-expander\"></div>'),\r\n            foldCollapserEl = angular.element('<div id=\"ms-navigation-fold-collapser\"></div>'),\r\n            sidenav = $mdSidenav('navigation');\r\n\r\n          // Store the navigation in the service for public access\r\n          msNavigationService.setNavigationScope(scope);\r\n\r\n          // Initialize\r\n          init();\r\n\r\n          /**\r\n           * Initialize\r\n           */\r\n          function init() {\r\n            // Set the folded status for the first time.\r\n            // First, we have to check if we have a folded\r\n            // status available in the service already. This\r\n            // will prevent navigation to act weird if we already\r\n            // set the fold status, remove the navigation and\r\n            // then re-initialize it, which happens if we\r\n            // change to a view without a navigation and then\r\n            // come back with history.back() function.\r\n\r\n            // If the service didn't initialize before, set\r\n            // the folded status from scope, otherwise we\r\n            // won't touch anything because the folded status\r\n            // already set in the service...\r\n            if (msNavigationService.getFolded() === null) {\r\n              msNavigationService.setFolded(scope.folded);\r\n            }\r\n\r\n            if (msNavigationService.getFolded()) {\r\n              // Collapse everything.\r\n              // This must be inside a $timeout because by the\r\n              // time we call this, the 'msNavigation::collapse'\r\n              // event listener is not registered yet. $timeout\r\n              // will ensure that it will be called after it is\r\n              // registered.\r\n              $timeout(function () {\r\n                $rootScope.$broadcast('msNavigation::collapse');\r\n              });\r\n\r\n              // Add class to the body\r\n              bodyEl.addClass('ms-navigation-folded');\r\n\r\n              // Set fold expander\r\n              setFoldExpander();\r\n            }\r\n          }\r\n\r\n          // Sidenav locked open status watcher\r\n          scope.$watch(function () {\r\n            return sidenav.isLockedOpen();\r\n          }, function (current, old) {\r\n            if (angular.isUndefined(current) || angular.equals(current, old)) {\r\n              return;\r\n            }\r\n\r\n            var folded = msNavigationService.getFolded();\r\n\r\n            if (folded) {\r\n              if (current) {\r\n                // Collapse everything\r\n                $rootScope.$broadcast('msNavigation::collapse');\r\n              }\r\n              else {\r\n                // Expand the active one and its parents\r\n                var activeItem = msNavigationService.getActiveItem();\r\n                if (activeItem) {\r\n                  activeItem.scope.$emit('msNavigation::stateMatched');\r\n                }\r\n              }\r\n            }\r\n          });\r\n\r\n          // Folded status watcher\r\n          scope.$watch('folded', function (current, old) {\r\n            if (angular.isUndefined(current) || angular.equals(current, old)) {\r\n              return;\r\n            }\r\n\r\n            setFolded(current);\r\n          });\r\n\r\n          /**\r\n           * Set folded status\r\n           *\r\n           * @param folded\r\n           */\r\n          function setFolded(folded) {\r\n            // Store folded status on the service for global access\r\n            msNavigationService.setFolded(folded);\r\n\r\n            if (folded) {\r\n              // Collapse everything\r\n              $rootScope.$broadcast('msNavigation::collapse');\r\n\r\n              // Add class to the body\r\n              bodyEl.addClass('ms-navigation-folded');\r\n\r\n              // Set fold expander\r\n              setFoldExpander();\r\n            }\r\n            else {\r\n              // Expand the active one and its parents\r\n              var activeItem = msNavigationService.getActiveItem();\r\n              if (activeItem) {\r\n                activeItem.scope.$emit('msNavigation::stateMatched');\r\n              }\r\n\r\n              // Remove body class\r\n              bodyEl.removeClass('ms-navigation-folded ms-navigation-folded-open');\r\n\r\n              // Remove fold collapser\r\n              removeFoldCollapser();\r\n            }\r\n          }\r\n\r\n          /**\r\n           * Set fold expander\r\n           */\r\n          function setFoldExpander() {\r\n            iElement.parent().append(foldExpanderEl);\r\n\r\n            // Let everything settle for a moment\r\n            // before registering the event listener\r\n            $timeout(function () {\r\n              foldExpanderEl.on('mouseenter touchstart', onFoldExpanderHover);\r\n            });\r\n          }\r\n\r\n          /**\r\n           * Set fold collapser\r\n           */\r\n          function setFoldCollapser() {\r\n            bodyEl.find('#main').append(foldCollapserEl);\r\n            foldCollapserEl.on('mouseenter touchstart', onFoldCollapserHover);\r\n          }\r\n\r\n          /**\r\n           * Remove fold collapser\r\n           */\r\n          function removeFoldCollapser() {\r\n            foldCollapserEl.remove();\r\n          }\r\n\r\n          /**\r\n           * onHover event of foldExpander\r\n           */\r\n          function onFoldExpanderHover(event) {\r\n            if (event) {\r\n              event.preventDefault();\r\n            }\r\n\r\n            // Set folded open status\r\n            msNavigationService.setFoldedOpen(true);\r\n\r\n            // Expand the active one and its parents\r\n            var activeItem = msNavigationService.getActiveItem();\r\n            if (activeItem) {\r\n              activeItem.scope.$emit('msNavigation::stateMatched');\r\n            }\r\n\r\n            // Add class to the body\r\n            bodyEl.addClass('ms-navigation-folded-open');\r\n\r\n            // Remove the fold opener\r\n            foldExpanderEl.remove();\r\n\r\n            // Set fold collapser\r\n            setFoldCollapser();\r\n          }\r\n\r\n          /**\r\n           * onHover event of foldCollapser\r\n           */\r\n          function onFoldCollapserHover(event) {\r\n            if (event) {\r\n              event.preventDefault();\r\n            }\r\n\r\n            // Set folded open status\r\n            msNavigationService.setFoldedOpen(false);\r\n\r\n            // Collapse everything\r\n            $rootScope.$broadcast('msNavigation::collapse');\r\n\r\n            // Remove body class\r\n            bodyEl.removeClass('ms-navigation-folded-open');\r\n\r\n            // Remove the fold collapser\r\n            foldCollapserEl.remove();\r\n\r\n            // Set fold expander\r\n            setFoldExpander();\r\n          }\r\n\r\n          /**\r\n           * Public access for toggling folded status externally\r\n           */\r\n          scope.toggleFolded = function () {\r\n            var folded = msNavigationService.getFolded();\r\n\r\n            setFolded(!folded);\r\n          };\r\n\r\n          /**\r\n           * On $stateChangeStart\r\n           */\r\n          scope.$on('$stateChangeStart', function () {\r\n            // Close the sidenav\r\n            sidenav.close();\r\n          });\r\n\r\n          // Cleanup\r\n          scope.$on('$destroy', function () {\r\n            foldCollapserEl.off('mouseenter touchstart');\r\n            foldExpanderEl.off('mouseenter touchstart');\r\n          });\r\n        };\r\n      }\r\n    };\r\n  }\r\n\r\n  /** @ngInject */\r\n  function MsNavigationNodeController($scope, $element, $rootScope, $animate, $state, msNavigationService) {\r\n    var vm = this;\r\n    var checkRace;\r\n\r\n\r\n    $scope.$on('event:startDoomsDayDevice', function (data) {\r\n\r\n      console.log('data', data);\r\n\r\n    });\r\n\r\n\r\n\r\n\r\n\r\n    // Data\r\n    vm.element = $element;\r\n    vm.node = $scope.node;\r\n    vm.hasChildren = undefined;\r\n    vm.collapsed = undefined;\r\n    vm.collapsable = undefined;\r\n    vm.group = undefined;\r\n    vm.animateHeightClass = 'animate-height';\r\n    vm.appState = vm.node.state;\r\n    vm.showQueue = 'false';\r\n    vm.user = $rootScope.user;\r\n    checkRace = false;\r\n\r\n    // Methods\r\n    vm.toggleCollapsed = toggleCollapsed;\r\n    vm.collapse = collapse;\r\n    vm.expand = expand;\r\n    vm.getClass = getClass;\r\n    vm.isHidden = isHidden;\r\n    vm.queue = queue;\r\n\r\n    vm.badgeData = $rootScope.inviteCounts;\r\n\r\n    vm.badgeDataFeed = $rootScope.feed;\r\n\r\n    vm.unread = vm.badgeDataFeed.unread;\r\n\r\n    vm.unreadCount = vm.unread.length;\r\n\r\n    //console.log('vm.unread', vm.unread);\r\n\r\n    //console.log('vm.unreadCount', vm.unreadCount);\r\n\r\n\r\n    //console.log('$rootScope', $rootScope);\r\n\r\n    //console.log('badge data', vm.badgeData);\r\n\r\n    //console.log('badge data checklists', vm.badgeData.checklists);\r\n\r\n    //console.log('badge data friendships', vm.badgeData.friendships);\r\n\r\n    //console.log('badgeDataFeed', vm.badgeDataFeed);\r\n\r\n    //console.log('badgeDataFeed unread', vm.badgeDataFeed.unread);\r\n\r\n\r\n    if (vm.appState == 'app.queue') {\r\n      //console.log('$rootScope app.queue', $rootScope);\r\n      console.log('vm.showQueue Before', vm.showQueue);\r\n      vm.queue();\r\n      console.log('vm.showQueue After', vm.showQueue);\r\n    }\r\n\r\n    if (vm.appState == 'app.queue' && !checkRace) {\r\n      //console.log('$rootScope app.queue', $rootScope);\r\n      console.log('vm.showQueue Before', vm.showQueue);\r\n      vm.queue();\r\n      console.log('vm.showQueue After', vm.showQueue);\r\n    }\r\n\r\n\r\n\r\n    function queue() {\r\n      if ($rootScope.user) {\r\n        checkRace = true;\r\n        console.log('roles', $rootScope.user.roles);\r\n\r\n        for (i = 0; i < $rootScope.user.roles.length; i++) {\r\n          if ($rootScope.user.roles[i] == 'queue') {\r\n            vm.showQueue = 'true';\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n\r\n\r\n    init();\r\n\r\n    function init() {\r\n      // Setup the initial values\r\n\r\n      // Has children?\r\n      vm.hasChildren = vm.node.children.length > 0;\r\n\r\n      // Is group?\r\n      vm.group = !!(angular.isDefined(vm.node.group) && vm.node.group === true);\r\n\r\n      // Is collapsable?\r\n      if (!vm.hasChildren || vm.group) {\r\n        vm.collapsable = false;\r\n      }\r\n      else {\r\n        vm.collapsable = !!(angular.isUndefined(vm.node.collapsable) || typeof vm.node.collapsable !== 'boolean' || vm.node.collapsable === true);\r\n      }\r\n\r\n      // Is collapsed?\r\n      if (!vm.collapsable) {\r\n        vm.collapsed = false;\r\n      }\r\n      else {\r\n        vm.collapsed = !!(angular.isUndefined(vm.node.collapsed) || typeof vm.node.collapsed !== 'boolean' || vm.node.collapsed === true);\r\n      }\r\n\r\n      // Expand all parents if we have a matching state or\r\n      // the current state is a child of the node's state\r\n      if (vm.node.state === $state.current.name || $state.includes(vm.node.state)) {\r\n        // If state params are defined, make sure they are\r\n        // equal, otherwise do not set the active item\r\n        if (angular.isDefined(vm.node.stateParams) && angular.isDefined($state.params) && !angular.equals(vm.node.stateParams, $state.params)) {\r\n          return;\r\n        }\r\n\r\n        $scope.$emit('msNavigation::stateMatched');\r\n\r\n        // Also store the current active menu item\r\n        msNavigationService.setActiveItem(vm.node, $scope);\r\n      }\r\n\r\n      $scope.$on('msNavigation::stateMatched', function () {\r\n        // Expand if the current scope is collapsable and is collapsed\r\n        if (vm.collapsable && vm.collapsed) {\r\n          $scope.$evalAsync(function () {\r\n            vm.collapsed = false;\r\n          });\r\n        }\r\n      });\r\n\r\n      // Listen for collapse event\r\n      $scope.$on('msNavigation::collapse', function (event, path) {\r\n        if (vm.collapsed || !vm.collapsable) {\r\n          return;\r\n        }\r\n\r\n        // If there is no path defined, collapse\r\n        if (angular.isUndefined(path)) {\r\n          vm.collapse();\r\n        }\r\n        // If there is a path defined, do not collapse\r\n        // the items that are inside that path. This will\r\n        // prevent parent items from collapsing\r\n        else {\r\n          var givenPathParts = path.split('.'),\r\n            activePathParts = [];\r\n\r\n          var activeItem = msNavigationService.getActiveItem();\r\n          if (activeItem) {\r\n            activePathParts = activeItem.node._path.split('.');\r\n          }\r\n\r\n          // Test for given path\r\n          if (givenPathParts.indexOf(vm.node._id) > -1) {\r\n            return;\r\n          }\r\n\r\n          // Test for active path\r\n          if (activePathParts.indexOf(vm.node._id) > -1) {\r\n            return;\r\n          }\r\n\r\n          vm.collapse();\r\n        }\r\n      });\r\n\r\n      // Listen for $stateChangeSuccess event\r\n      $scope.$on('$stateChangeSuccess', function () {\r\n        if (vm.node.state === $state.current.name) {\r\n          // If state params are defined, make sure they are\r\n          // equal, otherwise do not set the active item\r\n          if (angular.isDefined(vm.node.stateParams) && angular.isDefined($state.params) && !angular.equals(vm.node.stateParams, $state.params)) {\r\n            return;\r\n          }\r\n\r\n          // Update active item on state change\r\n          msNavigationService.setActiveItem(vm.node, $scope);\r\n\r\n          // Collapse everything except the one we're using\r\n          $rootScope.$broadcast('msNavigation::collapse', vm.node._path);\r\n        }\r\n\r\n        // Expand the parents if we the current\r\n        // state is a child of the node's state\r\n        if ($state.includes(vm.node.state)) {\r\n          // If state params are defined, make sure they are\r\n          // equal, otherwise do not set the active item\r\n          if (angular.isDefined(vm.node.stateParams) && angular.isDefined($state.params) && !angular.equals(vm.node.stateParams, $state.params)) {\r\n            return;\r\n          }\r\n\r\n          // Emit the stateMatched\r\n          $scope.$emit('msNavigation::stateMatched');\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n    /**\r\n     * Toggle collapsed\r\n     */\r\n    function toggleCollapsed() {\r\n      if (vm.collapsed) {\r\n        vm.expand();\r\n      }\r\n      else {\r\n        vm.collapse();\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Collapse\r\n     */\r\n    function collapse() {\r\n      // Grab the element that we are going to collapse\r\n      var collapseEl = vm.element.children('ul');\r\n\r\n      // Grab the height\r\n      var height = collapseEl[0].offsetHeight;\r\n\r\n      $scope.$evalAsync(function () {\r\n        // Set collapsed status\r\n        vm.collapsed = true;\r\n\r\n        // Add collapsing class to the node\r\n        vm.element.addClass('collapsing');\r\n\r\n        // Animate the height\r\n        $animate.animate(collapseEl,\r\n          {\r\n            'display': 'block',\r\n            'height': height + 'px'\r\n          },\r\n          {\r\n            'height': '0px'\r\n          },\r\n          vm.animateHeightClass\r\n        ).then(\r\n          function () {\r\n            // Clear the inline styles after animation done\r\n            collapseEl.css({\r\n              'display': '',\r\n              'height': ''\r\n            });\r\n\r\n            // Clear collapsing class from the node\r\n            vm.element.removeClass('collapsing');\r\n          }\r\n        );\r\n\r\n        // Broadcast the collapse event so child items can also be collapsed\r\n        $scope.$broadcast('msNavigation::collapse');\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Expand\r\n     */\r\n    function expand() {\r\n      // Grab the element that we are going to expand\r\n      var expandEl = vm.element.children('ul');\r\n\r\n      // Move the element out of the dom flow and\r\n      // make it block so we can get its height\r\n      expandEl.css({\r\n        'position': 'absolute',\r\n        'visibility': 'hidden',\r\n        'display': 'block',\r\n        'height': 'auto'\r\n      });\r\n\r\n      // Grab the height\r\n      var height = expandEl[0].offsetHeight;\r\n\r\n      // Reset the style modifications\r\n      expandEl.css({\r\n        'position': '',\r\n        'visibility': '',\r\n        'display': '',\r\n        'height': ''\r\n      });\r\n\r\n      $scope.$evalAsync(function () {\r\n        // Set collapsed status\r\n        vm.collapsed = false;\r\n\r\n        // Add expanding class to the node\r\n        vm.element.addClass('expanding');\r\n\r\n        // Animate the height\r\n        $animate.animate(expandEl,\r\n          {\r\n            'display': 'block',\r\n            'height': '0px'\r\n          },\r\n          {\r\n            'height': height + 'px'\r\n          },\r\n          vm.animateHeightClass\r\n        ).then(\r\n          function () {\r\n            // Clear the inline styles after animation done\r\n            expandEl.css({\r\n              'height': ''\r\n            });\r\n\r\n            // Clear expanding class from the node\r\n            vm.element.removeClass('expanding');\r\n          }\r\n        );\r\n\r\n        // If item expanded, broadcast the collapse event from rootScope so that the other expanded items\r\n        // can be collapsed. This is necessary for keeping only one parent expanded at any time\r\n        $rootScope.$broadcast('msNavigation::collapse', vm.node._path);\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Return the class\r\n     *\r\n     * @returns {*}\r\n     */\r\n    function getClass() {\r\n      return vm.node.class;\r\n    }\r\n\r\n    /**\r\n     * Check if node should be hidden\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    function isHidden() {\r\n      if (angular.isDefined(vm.node.hidden) && angular.isFunction(vm.node.hidden)) {\r\n        return vm.node.hidden();\r\n      }\r\n\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /** @ngInject */\r\n  function msNavigationNodeDirective() {\r\n    return {\r\n      restrict: 'A',\r\n      bindToController: {\r\n        node: '=msNavigationNode'\r\n      },\r\n      controller: 'MsNavigationNodeController as vm',\r\n      compile: function (tElement) {\r\n        tElement.addClass('ms-navigation-node');\r\n\r\n        return function postLink(scope, iElement, iAttrs, MsNavigationNodeCtrl) {\r\n          // Add custom classes\r\n          iElement.addClass(MsNavigationNodeCtrl.getClass());\r\n\r\n          // Add group class if it's a group\r\n          if (MsNavigationNodeCtrl.group) {\r\n            iElement.addClass('group');\r\n          }\r\n        };\r\n      }\r\n    };\r\n  }\r\n\r\n  /** @ngInject */\r\n  function msNavigationItemDirective() {\r\n    return {\r\n      restrict: 'A',\r\n      require: '^msNavigationNode',\r\n      compile: function (tElement) {\r\n        tElement.addClass('ms-navigation-item');\r\n\r\n        return function postLink(scope, iElement, iAttrs, MsNavigationNodeCtrl) {\r\n          // If the item is collapsable...\r\n          if (MsNavigationNodeCtrl.collapsable) {\r\n            iElement.on('click', MsNavigationNodeCtrl.toggleCollapsed);\r\n          }\r\n\r\n          // Cleanup\r\n          scope.$on('$destroy', function () {\r\n            iElement.off('click');\r\n          });\r\n        };\r\n      }\r\n    };\r\n  }\r\n\r\n  /** @ngInject */\r\n  function msNavigationHorizontalDirective(msNavigationService) {\r\n    return {\r\n      restrict: 'E',\r\n      scope: {\r\n        root: '@'\r\n      },\r\n      controller: 'MsNavigationController as vm',\r\n      templateUrl: 'app/core/directives/ms-navigation/templates/horizontal.html',\r\n      transclude: true,\r\n      compile: function (tElement) {\r\n        tElement.addClass('ms-navigation-horizontal');\r\n\r\n        return function postLink(scope) {\r\n          // Store the navigation in the service for public access\r\n          msNavigationService.setNavigationScope(scope);\r\n        };\r\n      }\r\n    };\r\n  }\r\n\r\n  /** @ngInject */\r\n  function MsNavigationHorizontalNodeController($scope, $element, $rootScope, $state, msNavigationService) {\r\n    var vm = this;\r\n\r\n    // Data\r\n    vm.element = $element;\r\n    vm.node = $scope.node;\r\n    vm.hasChildren = undefined;\r\n    vm.group = undefined;\r\n\r\n    // Methods\r\n    vm.getClass = getClass;\r\n\r\n    //////////\r\n\r\n    init();\r\n\r\n    /**\r\n     * Initialize\r\n     */\r\n    function init() {\r\n      // Setup the initial values\r\n\r\n      // Is active\r\n      vm.isActive = false;\r\n\r\n      // Has children?\r\n      vm.hasChildren = vm.node.children.length > 0;\r\n\r\n      // Is group?\r\n      vm.group = !!(angular.isDefined(vm.node.group) && vm.node.group === true);\r\n\r\n      // Mark all parents as active if we have a matching state\r\n      // or the current state is a child of the node's state\r\n      if (vm.node.state === $state.current.name || $state.includes(vm.node.state)) {\r\n        // If state params are defined, make sure they are\r\n        // equal, otherwise do not set the active item\r\n        if (angular.isDefined(vm.node.stateParams) && angular.isDefined($state.params) && !angular.equals(vm.node.stateParams, $state.params)) {\r\n          return;\r\n        }\r\n\r\n        $scope.$emit('msNavigation::stateMatched');\r\n\r\n        // Also store the current active menu item\r\n        msNavigationService.setActiveItem(vm.node, $scope);\r\n      }\r\n\r\n      $scope.$on('msNavigation::stateMatched', function () {\r\n        // Mark as active if has children\r\n        if (vm.hasChildren) {\r\n          $scope.$evalAsync(function () {\r\n            vm.isActive = true;\r\n          });\r\n        }\r\n      });\r\n\r\n      // Listen for clearActive event\r\n      $scope.$on('msNavigation::clearActive', function () {\r\n        if (!vm.hasChildren) {\r\n          return;\r\n        }\r\n\r\n        var activePathParts = [];\r\n\r\n        var activeItem = msNavigationService.getActiveItem();\r\n        if (activeItem) {\r\n          activePathParts = activeItem.node._path.split('.');\r\n        }\r\n\r\n        // Test for active path\r\n        if (activePathParts.indexOf(vm.node._id) > -1) {\r\n          $scope.$evalAsync(function () {\r\n            vm.isActive = true;\r\n          });\r\n        }\r\n        else {\r\n          $scope.$evalAsync(function () {\r\n            vm.isActive = false;\r\n          });\r\n        }\r\n\r\n      });\r\n\r\n      // Listen for $stateChangeSuccess event\r\n      $scope.$on('$stateChangeSuccess', function () {\r\n        if (vm.node.state === $state.current.name || $state.includes(vm.node.state)) {\r\n          // If state params are defined, make sure they are\r\n          // equal, otherwise do not set the active item\r\n          if (angular.isDefined(vm.node.stateParams) && angular.isDefined($state.params) && !angular.equals(vm.node.stateParams, $state.params)) {\r\n            return;\r\n          }\r\n\r\n          // Update active item on state change\r\n          msNavigationService.setActiveItem(vm.node, $scope);\r\n\r\n          // Clear all active states except the one we're using\r\n          $rootScope.$broadcast('msNavigation::clearActive');\r\n        }\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Return the class\r\n     *\r\n     * @returns {*}\r\n     */\r\n    function getClass() {\r\n      return vm.node.class;\r\n    }\r\n  }\r\n\r\n  /** @ngInject */\r\n  function msNavigationHorizontalNodeDirective() {\r\n    return {\r\n      restrict: 'A',\r\n      bindToController: {\r\n        node: '=msNavigationHorizontalNode'\r\n      },\r\n      controller: 'MsNavigationHorizontalNodeController as vm',\r\n      compile: function (tElement) {\r\n        tElement.addClass('ms-navigation-horizontal-node');\r\n\r\n        return function postLink(scope, iElement, iAttrs, MsNavigationHorizontalNodeCtrl) {\r\n          // Add custom classes\r\n          iElement.addClass(MsNavigationHorizontalNodeCtrl.getClass());\r\n\r\n          // Add group class if it's a group\r\n          if (MsNavigationHorizontalNodeCtrl.group) {\r\n            iElement.addClass('group');\r\n          }\r\n        };\r\n      }\r\n    };\r\n  }\r\n\r\n  /** @ngInject */\r\n  function msNavigationHorizontalItemDirective($mdMedia) {\r\n    return {\r\n      restrict: 'A',\r\n      require: '^msNavigationHorizontalNode',\r\n      compile: function (tElement) {\r\n        tElement.addClass('ms-navigation-horizontal-item');\r\n\r\n        return function postLink(scope, iElement, iAttrs, MsNavigationHorizontalNodeCtrl) {\r\n          iElement.on('click', onClick);\r\n\r\n          function onClick() {\r\n            if (!MsNavigationHorizontalNodeCtrl.hasChildren || $mdMedia('gt-md')) {\r\n              return;\r\n            }\r\n\r\n            iElement.toggleClass('expanded');\r\n          }\r\n\r\n          // Cleanup\r\n          scope.$on('$destroy', function () {\r\n            iElement.off('click');\r\n          });\r\n        };\r\n      }\r\n    };\r\n  }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .factory('msNavFoldService', msNavFoldService)\r\n        .directive('msNavIsFolded', msNavIsFoldedDirective)\r\n        .controller('MsNavController', MsNavController)\r\n        .directive('msNav', msNavDirective)\r\n        .directive('msNavTitle', msNavTitleDirective)\r\n        .directive('msNavButton', msNavButtonDirective)\r\n        .directive('msNavToggle', msNavToggleDirective);\r\n\r\n    /** @ngInject */\r\n    function msNavFoldService()\r\n    {\r\n        var foldable = {};\r\n\r\n        var service = {\r\n            setFoldable    : setFoldable,\r\n            isNavFoldedOpen: isNavFoldedOpen,\r\n            toggleFold     : toggleFold,\r\n            openFolded     : openFolded,\r\n            closeFolded    : closeFolded\r\n        };\r\n\r\n        return service;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Set the foldable\r\n         *\r\n         * @param scope\r\n         * @param element\r\n         */\r\n        function setFoldable(scope, element)\r\n        {\r\n            foldable = {\r\n                'scope'  : scope,\r\n                'element': element\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Is folded open\r\n         */\r\n        function isNavFoldedOpen()\r\n        {\r\n            return foldable.scope.isNavFoldedOpen();\r\n        }\r\n\r\n        /**\r\n         * Toggle fold\r\n         */\r\n        function toggleFold()\r\n        {\r\n            foldable.scope.toggleFold();\r\n        }\r\n\r\n        /**\r\n         * Open folded navigation\r\n         */\r\n        function openFolded()\r\n        {\r\n            foldable.scope.openFolded();\r\n        }\r\n\r\n        /**\r\n         * Close folded navigation\r\n         */\r\n        function closeFolded()\r\n        {\r\n            foldable.scope.closeFolded();\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msNavIsFoldedDirective($document, $rootScope, msNavFoldService)\r\n    {\r\n        return {\r\n            restrict: 'A',\r\n            link    : function (scope, iElement, iAttrs)\r\n            {\r\n                var isFolded = (iAttrs.msNavIsFolded === 'true'),\r\n                    isFoldedOpen = false,\r\n                    body = angular.element($document[0].body),\r\n                    openOverlay = angular.element('<div id=\"ms-nav-fold-open-overlay\"></div>'),\r\n                    closeOverlay = angular.element('<div id=\"ms-nav-fold-close-overlay\"></div>'),\r\n                    sidenavEl = iElement.parent();\r\n\r\n                // Initialize the service\r\n                msNavFoldService.setFoldable(scope, iElement, isFolded);\r\n\r\n                // Set the fold status for the first time\r\n                if ( isFolded )\r\n                {\r\n                    fold();\r\n                }\r\n                else\r\n                {\r\n                    unfold();\r\n                }\r\n\r\n                /**\r\n                 * Is nav folded open\r\n                 */\r\n                function isNavFoldedOpen()\r\n                {\r\n                    return isFoldedOpen;\r\n                }\r\n\r\n                /**\r\n                 * Toggle fold\r\n                 */\r\n                function toggleFold()\r\n                {\r\n                    isFolded = !isFolded;\r\n\r\n                    if ( isFolded )\r\n                    {\r\n                        fold();\r\n                    }\r\n                    else\r\n                    {\r\n                        unfold();\r\n                    }\r\n                }\r\n\r\n                /**\r\n                 * Fold the navigation\r\n                 */\r\n                function fold()\r\n                {\r\n                    // Add classes\r\n                    body.addClass('ms-nav-folded');\r\n\r\n                    // Collapse everything and scroll to the top\r\n                    $rootScope.$broadcast('msNav::forceCollapse');\r\n                    iElement.scrollTop(0);\r\n\r\n                    // Append the openOverlay to the element\r\n                    sidenavEl.append(openOverlay);\r\n\r\n                    // Event listeners\r\n                    openOverlay.on('mouseenter touchstart', function (event)\r\n                    {\r\n                        openFolded(event);\r\n                        isFoldedOpen = true;\r\n                    });\r\n                }\r\n\r\n                /**\r\n                 * Open folded navigation\r\n                 */\r\n                function openFolded(event)\r\n                {\r\n                    if ( angular.isDefined(event) )\r\n                    {\r\n                        event.preventDefault();\r\n                    }\r\n\r\n                    body.addClass('ms-nav-folded-open');\r\n\r\n                    // Update the location\r\n                    $rootScope.$broadcast('msNav::expandMatchingToggles');\r\n\r\n                    // Remove open overlay\r\n                    sidenavEl.find(openOverlay).remove();\r\n\r\n                    // Append close overlay and bind its events\r\n                    sidenavEl.parent().append(closeOverlay);\r\n                    closeOverlay.on('mouseenter touchstart', function (event)\r\n                    {\r\n                        closeFolded(event);\r\n                        isFoldedOpen = false;\r\n                    });\r\n                }\r\n\r\n                /**\r\n                 * Close folded navigation\r\n                 */\r\n                function closeFolded(event)\r\n                {\r\n                    if ( angular.isDefined(event) )\r\n                    {\r\n                        event.preventDefault();\r\n                    }\r\n\r\n                    // Collapse everything and scroll to the top\r\n                    $rootScope.$broadcast('msNav::forceCollapse');\r\n                    iElement.scrollTop(0);\r\n\r\n                    body.removeClass('ms-nav-folded-open');\r\n\r\n                    // Remove close overlay\r\n                    sidenavEl.parent().find(closeOverlay).remove();\r\n\r\n                    // Append open overlay and bind its events\r\n                    sidenavEl.append(openOverlay);\r\n                    openOverlay.on('mouseenter touchstart', function (event)\r\n                    {\r\n                        openFolded(event);\r\n                        isFoldedOpen = true;\r\n                    });\r\n                }\r\n\r\n                /**\r\n                 * Unfold the navigation\r\n                 */\r\n                function unfold()\r\n                {\r\n                    body.removeClass('ms-nav-folded ms-nav-folded-open');\r\n\r\n                    // Update the location\r\n                    $rootScope.$broadcast('msNav::expandMatchingToggles');\r\n\r\n                    iElement.off('mouseenter mouseleave');\r\n                }\r\n\r\n                // Expose functions to the scope\r\n                scope.toggleFold = toggleFold;\r\n                scope.openFolded = openFolded;\r\n                scope.closeFolded = closeFolded;\r\n                scope.isNavFoldedOpen = isNavFoldedOpen;\r\n\r\n                // Cleanup\r\n                scope.$on('$destroy', function ()\r\n                {\r\n                    openOverlay.off('mouseenter touchstart');\r\n                    closeOverlay.off('mouseenter touchstart');\r\n                    iElement.off('mouseenter mouseleave');\r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n    /** @ngInject */\r\n    function MsNavController()\r\n    {\r\n        var vm = this,\r\n            disabled = false,\r\n            toggleItems = [],\r\n            lockedItems = [];\r\n\r\n        // Data\r\n\r\n        // Methods\r\n        vm.isDisabled = isDisabled;\r\n        vm.enable = enable;\r\n        vm.disable = disable;\r\n        vm.setToggleItem = setToggleItem;\r\n        vm.getLockedItems = getLockedItems;\r\n        vm.setLockedItem = setLockedItem;\r\n        vm.clearLockedItems = clearLockedItems;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Is navigation disabled\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isDisabled()\r\n        {\r\n            return disabled;\r\n        }\r\n\r\n        /**\r\n         * Disable the navigation\r\n         */\r\n        function disable()\r\n        {\r\n            disabled = true;\r\n        }\r\n\r\n        /**\r\n         * Enable the navigation\r\n         */\r\n        function enable()\r\n        {\r\n            disabled = false;\r\n        }\r\n\r\n        /**\r\n         * Set toggle item\r\n         *\r\n         * @param element\r\n         * @param scope\r\n         */\r\n        function setToggleItem(element, scope)\r\n        {\r\n            toggleItems.push({\r\n                'element': element,\r\n                'scope'  : scope\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Get locked items\r\n         *\r\n         * @returns {Array}\r\n         */\r\n        function getLockedItems()\r\n        {\r\n            return lockedItems;\r\n        }\r\n\r\n        /**\r\n         * Set locked item\r\n         *\r\n         * @param element\r\n         * @param scope\r\n         */\r\n        function setLockedItem(element, scope)\r\n        {\r\n            lockedItems.push({\r\n                'element': element,\r\n                'scope'  : scope\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Clear locked items list\r\n         */\r\n        function clearLockedItems()\r\n        {\r\n            lockedItems = [];\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msNavDirective($rootScope, $mdComponentRegistry, msNavFoldService)\r\n    {\r\n        return {\r\n            restrict  : 'E',\r\n            scope     : {},\r\n            controller: 'MsNavController',\r\n            compile   : function (tElement)\r\n            {\r\n                tElement.addClass('ms-nav');\r\n\r\n                return function postLink(scope)\r\n                {\r\n                    // Update toggle status according to the ui-router current state\r\n                    $rootScope.$broadcast('msNav::expandMatchingToggles');\r\n\r\n                    // Update toggles on state changes\r\n                    var stateChangeSuccessEvent = $rootScope.$on('$stateChangeSuccess', function ()\r\n                    {\r\n                        $rootScope.$broadcast('msNav::expandMatchingToggles');\r\n\r\n                        // Close navigation sidenav on stateChangeSuccess\r\n                        $mdComponentRegistry.when('navigation').then(function (navigation)\r\n                        {\r\n                            navigation.close();\r\n\r\n                            if ( msNavFoldService.isNavFoldedOpen() )\r\n                            {\r\n                                msNavFoldService.closeFolded();\r\n                            }\r\n                        });\r\n                    });\r\n\r\n                    // Cleanup\r\n                    scope.$on('$destroy', function ()\r\n                    {\r\n                        stateChangeSuccessEvent();\r\n                    });\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msNavTitleDirective()\r\n    {\r\n        return {\r\n            restrict: 'A',\r\n            compile : function (tElement)\r\n            {\r\n                tElement.addClass('ms-nav-title');\r\n\r\n                return function postLink()\r\n                {\r\n\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msNavButtonDirective()\r\n    {\r\n        return {\r\n            restrict: 'AE',\r\n            compile : function (tElement)\r\n            {\r\n                tElement.addClass('ms-nav-button');\r\n\r\n                return function postLink()\r\n                {\r\n\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msNavToggleDirective($rootScope, $q, $animate, $state)\r\n    {\r\n        return {\r\n            restrict: 'A',\r\n            require : '^msNav',\r\n            scope   : true,\r\n            compile : function (tElement, tAttrs)\r\n            {\r\n                tElement.addClass('ms-nav-toggle');\r\n\r\n                // Add collapsed attr\r\n                if ( angular.isUndefined(tAttrs.collapsed) )\r\n                {\r\n                    tAttrs.collapsed = true;\r\n                }\r\n\r\n                tElement.attr('collapsed', tAttrs.collapsed);\r\n\r\n                return function postLink(scope, iElement, iAttrs, MsNavCtrl)\r\n                {\r\n                    var classes = {\r\n                        expanded         : 'expanded',\r\n                        expandAnimation  : 'expand-animation',\r\n                        collapseAnimation: 'collapse-animation'\r\n                    };\r\n\r\n                    // Store all related states\r\n                    var links = iElement.find('a');\r\n                    var states = [];\r\n                    var regExp = /\\(.*\\)/g;\r\n\r\n                    angular.forEach(links, function (link)\r\n                    {\r\n                        var state = angular.element(link).attr('ui-sref');\r\n\r\n                        if ( angular.isUndefined(state) )\r\n                        {\r\n                            return;\r\n                        }\r\n\r\n                        // Remove any parameter definition from the state name before storing it\r\n                        state = state.replace(regExp, '');\r\n\r\n                        states.push(state);\r\n                    });\r\n\r\n                    // Store toggle-able element and its scope in the main nav controller\r\n                    MsNavCtrl.setToggleItem(iElement, scope);\r\n\r\n                    // Click handler\r\n                    iElement.children('.ms-nav-button').on('click', toggle);\r\n\r\n                    // Toggle function\r\n                    function toggle()\r\n                    {\r\n                        // If navigation is disabled, do nothing...\r\n                        if ( MsNavCtrl.isDisabled() )\r\n                        {\r\n                            return;\r\n                        }\r\n\r\n                        // Disable the entire navigation to prevent spamming\r\n                        MsNavCtrl.disable();\r\n\r\n                        if ( isCollapsed() )\r\n                        {\r\n                            // Clear the locked items list\r\n                            MsNavCtrl.clearLockedItems();\r\n\r\n                            // Emit pushToLockedList event\r\n                            scope.$emit('msNav::pushToLockedList');\r\n\r\n                            // Collapse everything but locked items\r\n                            $rootScope.$broadcast('msNav::collapse');\r\n\r\n                            // Expand and then...\r\n                            expand().then(function ()\r\n                            {\r\n                                // Enable the entire navigation after animations completed\r\n                                MsNavCtrl.enable();\r\n                            });\r\n                        }\r\n                        else\r\n                        {\r\n                            // Collapse with all children\r\n                            scope.$broadcast('msNav::forceCollapse');\r\n                        }\r\n                    }\r\n\r\n                    // Cleanup\r\n                    scope.$on('$destroy', function ()\r\n                    {\r\n                        iElement.children('.ms-nav-button').off('click');\r\n                    });\r\n\r\n                    /*---------------------*/\r\n                    /* Scope Events        */\r\n                    /*---------------------*/\r\n\r\n                    /**\r\n                     * Collapse everything but locked items\r\n                     */\r\n                    scope.$on('msNav::collapse', function ()\r\n                    {\r\n                        // Only collapse toggles that are not locked\r\n                        var lockedItems = MsNavCtrl.getLockedItems();\r\n                        var locked = false;\r\n\r\n                        angular.forEach(lockedItems, function (lockedItem)\r\n                        {\r\n                            if ( angular.equals(lockedItem.scope, scope) )\r\n                            {\r\n                                locked = true;\r\n                            }\r\n                        });\r\n\r\n                        if ( locked )\r\n                        {\r\n                            return;\r\n                        }\r\n\r\n                        // Collapse and then...\r\n                        collapse().then(function ()\r\n                        {\r\n                            // Enable the entire navigation after animations completed\r\n                            MsNavCtrl.enable();\r\n                        });\r\n                    });\r\n\r\n                    /**\r\n                     * Collapse everything\r\n                     */\r\n                    scope.$on('msNav::forceCollapse', function ()\r\n                    {\r\n                        // Collapse and then...\r\n                        collapse().then(function ()\r\n                        {\r\n                            // Enable the entire navigation after animations completed\r\n                            MsNavCtrl.enable();\r\n                        });\r\n                    });\r\n\r\n                    /**\r\n                     * Expand toggles that match with the current states\r\n                     */\r\n                    scope.$on('msNav::expandMatchingToggles', function ()\r\n                    {\r\n                        var currentState = $state.current.name;\r\n                        var shouldExpand = false;\r\n\r\n                        angular.forEach(states, function (state)\r\n                        {\r\n                            if ( currentState === state )\r\n                            {\r\n                                shouldExpand = true;\r\n                            }\r\n                        });\r\n\r\n                        if ( shouldExpand )\r\n                        {\r\n                            expand();\r\n                        }\r\n                        else\r\n                        {\r\n                            collapse();\r\n                        }\r\n                    });\r\n\r\n                    /**\r\n                     * Add toggle to the locked list\r\n                     */\r\n                    scope.$on('msNav::pushToLockedList', function ()\r\n                    {\r\n                        // Set expanded item on main nav controller\r\n                        MsNavCtrl.setLockedItem(iElement, scope);\r\n                    });\r\n\r\n                    /*---------------------*/\r\n                    /* Internal functions  */\r\n                    /*---------------------*/\r\n\r\n                    /**\r\n                     * Is element collapsed\r\n                     *\r\n                     * @returns {bool}\r\n                     */\r\n                    function isCollapsed()\r\n                    {\r\n                        return iElement.attr('collapsed') === 'true';\r\n                    }\r\n\r\n                    /**\r\n                     * Is element expanded\r\n                     *\r\n                     * @returns {bool}\r\n                     */\r\n                    function isExpanded()\r\n                    {\r\n                        return !isCollapsed();\r\n                    }\r\n\r\n                    /**\r\n                     * Expand the toggle\r\n                     *\r\n                     * @returns $promise\r\n                     */\r\n                    function expand()\r\n                    {\r\n                        // Create a new deferred object\r\n                        var deferred = $q.defer();\r\n\r\n                        // If the menu item is already expanded, do nothing..\r\n                        if ( isExpanded() )\r\n                        {\r\n                            // Reject the deferred object\r\n                            deferred.reject({'error': true});\r\n\r\n                            // Return the promise\r\n                            return deferred.promise;\r\n                        }\r\n\r\n                        // Set element attr\r\n                        iElement.attr('collapsed', false);\r\n\r\n                        // Grab the element to expand\r\n                        var elementToExpand = angular.element(iElement.find('ms-nav-toggle-items')[0]);\r\n\r\n                        // Move the element out of the dom flow and\r\n                        // make it block so we can get its height\r\n                        elementToExpand.css({\r\n                            'position'  : 'absolute',\r\n                            'visibility': 'hidden',\r\n                            'display'   : 'block',\r\n                            'height'    : 'auto'\r\n                        });\r\n\r\n                        // Grab the height\r\n                        var height = elementToExpand[0].offsetHeight;\r\n\r\n                        // Reset the style modifications\r\n                        elementToExpand.css({\r\n                            'position'  : '',\r\n                            'visibility': '',\r\n                            'display'   : '',\r\n                            'height'    : ''\r\n                        });\r\n\r\n                        // Animate the height\r\n                        scope.$evalAsync(function ()\r\n                        {\r\n                            $animate.animate(elementToExpand,\r\n                                {\r\n                                    'display': 'block',\r\n                                    'height' : '0px'\r\n                                },\r\n                                {\r\n                                    'height': height + 'px'\r\n                                },\r\n                                classes.expandAnimation\r\n                            ).then(\r\n                                function ()\r\n                                {\r\n                                    // Add expanded class\r\n                                    elementToExpand.addClass(classes.expanded);\r\n\r\n                                    // Clear the inline styles after animation done\r\n                                    elementToExpand.css({'height': ''});\r\n\r\n                                    // Resolve the deferred object\r\n                                    deferred.resolve({'success': true});\r\n                                }\r\n                            );\r\n                        });\r\n\r\n                        // Return the promise\r\n                        return deferred.promise;\r\n                    }\r\n\r\n                    /**\r\n                     * Collapse the toggle\r\n                     *\r\n                     * @returns $promise\r\n                     */\r\n                    function collapse()\r\n                    {\r\n                        // Create a new deferred object\r\n                        var deferred = $q.defer();\r\n\r\n                        // If the menu item is already collapsed, do nothing..\r\n                        if ( isCollapsed() )\r\n                        {\r\n                            // Reject the deferred object\r\n                            deferred.reject({'error': true});\r\n\r\n                            // Return the promise\r\n                            return deferred.promise;\r\n                        }\r\n\r\n                        // Set element attr\r\n                        iElement.attr('collapsed', true);\r\n\r\n                        // Grab the element to collapse\r\n                        var elementToCollapse = angular.element(iElement.find('ms-nav-toggle-items')[0]);\r\n\r\n                        // Grab the height\r\n                        var height = elementToCollapse[0].offsetHeight;\r\n\r\n                        // Animate the height\r\n                        scope.$evalAsync(function ()\r\n                        {\r\n                            $animate.animate(elementToCollapse,\r\n                                {\r\n                                    'height': height + 'px'\r\n                                },\r\n                                {\r\n                                    'height': '0px'\r\n                                },\r\n                                classes.collapseAnimation\r\n                            ).then(\r\n                                function ()\r\n                                {\r\n                                    // Remove expanded class\r\n                                    elementToCollapse.removeClass(classes.expanded);\r\n\r\n                                    // Clear the inline styles after animation done\r\n                                    elementToCollapse.css({\r\n                                        'display': '',\r\n                                        'height' : ''\r\n                                    });\r\n\r\n                                    // Resolve the deferred object\r\n                                    deferred.resolve({'success': true});\r\n                                }\r\n                            );\r\n                        });\r\n\r\n                        // Return the promise\r\n                        return deferred.promise;\r\n                    }\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('msMaterialColorPickerController', msMaterialColorPickerController)\r\n        .directive('msMaterialColorPicker', msMaterialColorPicker);\r\n\r\n    /** @ngInject */\r\n    function msMaterialColorPickerController($scope, $mdColorPalette, $mdMenu, fuseGenerator)\r\n    {\r\n        var vm = this;\r\n        vm.palettes = $mdColorPalette; // Material Color Palette\r\n        vm.selectedPalette = false;\r\n        vm.selectedHues = false;\r\n        $scope.$selectedColor = {};\r\n\r\n        // Methods\r\n        vm.activateHueSelection = activateHueSelection;\r\n        vm.selectColor = selectColor;\r\n        vm.removeColor = removeColor;\r\n\r\n        /**\r\n         * Initialize / Watch model changes\r\n         */\r\n        $scope.$watch('ngModel', setSelectedColor);\r\n\r\n        /**\r\n         * Activate Hue Selection\r\n         * @param palette\r\n         * @param hues\r\n         */\r\n        function activateHueSelection(palette, hues)\r\n        {\r\n            vm.selectedPalette = palette;\r\n            vm.selectedHues = hues;\r\n        }\r\n\r\n        /**\r\n         * Select Color\r\n         * @type {selectColor}\r\n         */\r\n        function selectColor(palette, hue)\r\n        {\r\n            // Update Selected Color\r\n            updateSelectedColor(palette, hue);\r\n\r\n            // Update Model Value\r\n            updateModel();\r\n\r\n            // Hide The picker\r\n            $mdMenu.hide();\r\n        }\r\n\r\n        function removeColor()\r\n        {\r\n            vm.selectedColor = {\r\n                palette: '',\r\n                hue    : '',\r\n                class  : ''\r\n            };\r\n\r\n            activateHueSelection(false, false);\r\n\r\n            updateModel();\r\n        }\r\n\r\n        /**\r\n         * Set SelectedColor by model type\r\n         */\r\n        function setSelectedColor()\r\n        {\r\n            if ( !vm.modelCtrl.$viewValue || vm.modelCtrl.$viewValue === '' )\r\n            {\r\n                removeColor();\r\n                return;\r\n            }\r\n\r\n            var palette, hue;\r\n\r\n            // If ModelType Class\r\n            if ( vm.msModelType === 'class' )\r\n            {\r\n                var color = vm.modelCtrl.$viewValue.split('-');\r\n                if ( color.length >= 5 )\r\n                {\r\n                    palette = color[1] + '-' + color[2];\r\n                    hue = color[3];\r\n                }\r\n                else\r\n                {\r\n                    palette = color[1];\r\n                    hue = color[2];\r\n                }\r\n            }\r\n\r\n            // If ModelType Object\r\n            else if ( vm.msModelType === 'obj' )\r\n            {\r\n                palette = vm.modelCtrl.$viewValue.palette;\r\n                hue = vm.modelCtrl.$viewValue.hue || 500;\r\n            }\r\n\r\n            // Update Selected Color\r\n            updateSelectedColor(palette, hue);\r\n        }\r\n\r\n        /**\r\n         * Update Selected Color\r\n         * @param palette\r\n         * @param hue\r\n         */\r\n        function updateSelectedColor(palette, hue)\r\n        {\r\n            vm.selectedColor = {\r\n                palette     : palette,\r\n                hue         : hue,\r\n                class       : 'md-' + palette + '-' + hue + '-bg',\r\n                bgColorValue: fuseGenerator.rgba(vm.palettes[palette][hue].value),\r\n                fgColorValue: fuseGenerator.rgba(vm.palettes[palette][hue].contrast)\r\n            };\r\n\r\n            // If Model object not Equals the selectedColor update it\r\n            // it can be happen when the model only have pallete and hue values\r\n            if ( vm.msModelType === 'obj' && !angular.equals(vm.selectedColor, vm.modelCtrl.$viewValue) )\r\n            {\r\n                // Update Model Value\r\n                updateModel();\r\n            }\r\n\r\n            activateHueSelection(palette, vm.palettes[palette]);\r\n\r\n            $scope.$selectedColor = vm.selectedColor;\r\n        }\r\n\r\n        /**\r\n         * Update Model Value by model type\r\n         */\r\n        function updateModel()\r\n        {\r\n            if ( vm.msModelType === 'class' )\r\n            {\r\n                vm.modelCtrl.$setViewValue(vm.selectedColor.class);\r\n            }\r\n            else if ( vm.msModelType === 'obj' )\r\n            {\r\n                vm.modelCtrl.$setViewValue(vm.selectedColor);\r\n            }\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msMaterialColorPicker()\r\n    {\r\n        return {\r\n            require    : ['msMaterialColorPicker', 'ngModel'],\r\n            restrict   : 'E',\r\n            scope      : {\r\n                ngModel    : '=',\r\n                msModelType: '@?'\r\n            },\r\n            controller : 'msMaterialColorPickerController as vm',\r\n            transclude : true,\r\n            templateUrl: 'app/core/directives/ms-material-color-picker/ms-material-color-picker.html',\r\n            link       : function (scope, element, attrs, controllers, transclude)\r\n            {\r\n                var ctrl = controllers[0];\r\n\r\n                /**\r\n                 *  Pass model controller to directive controller\r\n                 */\r\n                ctrl.modelCtrl = controllers[1];\r\n\r\n                /**\r\n                 * ModelType: 'obj', 'class'(default)\r\n                 * @type {string|string}\r\n                 */\r\n                ctrl.msModelType = scope.msModelType || 'class';\r\n\r\n                transclude(scope, function (clone)\r\n                {\r\n                    clone = clone.filter(function (i, el)\r\n                    {\r\n                        return ( el.nodeType === 1 ) ? true : false;\r\n                    });\r\n\r\n                    if ( clone.length )\r\n                    {\r\n                        element.find('ms-color-picker-button').replaceWith(clone);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('msMasonryController', msMasonryController)\r\n        .directive('msMasonry', msMasonry)\r\n        .directive('msMasonryItem', msMasonryItem);\r\n\r\n    /** @ngInject */\r\n    function msMasonryController($scope, $window, $mdMedia, $timeout)\r\n    {\r\n        var vm = this,\r\n            defaultOpts = {\r\n                columnCount     : 5,\r\n                respectItemOrder: false,\r\n                reLayoutDebounce: 400,\r\n                responsive      : {\r\n                    md: 3,\r\n                    sm: 2,\r\n                    xs: 1\r\n                }\r\n            },\r\n            reLayoutTimeout = true;\r\n\r\n        vm.options = null;\r\n        vm.container = [];\r\n        vm.containerPos = '';\r\n        vm.columnWidth = '';\r\n        vm.items = [];\r\n\r\n        // Methods\r\n        vm.reLayout = reLayout;\r\n        vm.initialize = initialize;\r\n        vm.waitImagesLoaded = waitImagesLoaded;\r\n\r\n        function initialize()\r\n        {\r\n            vm.options = !vm.options ? defaultOpts : angular.extend(defaultOpts, vm.options);\r\n\r\n\r\n            watchContainerResize();\r\n        }\r\n\r\n        $scope.$on('msMasonry:relayout', function ()\r\n        {\r\n            reLayout();\r\n        });\r\n\r\n        function waitImagesLoaded(element, callback)\r\n        {\r\n            if ( typeof imagesLoaded !== 'undefined' )\r\n            {\r\n                var imgLoad = $window.imagesLoaded(element);\r\n\r\n                imgLoad.on('done', function ()\r\n                {\r\n                    callback();\r\n                });\r\n            }\r\n            else\r\n            {\r\n                callback();\r\n            }\r\n        }\r\n\r\n        function watchContainerResize()\r\n        {\r\n            $scope.$watch(\r\n                function ()\r\n                {\r\n                    return vm.container.width();\r\n                },\r\n                function (newValue, oldValue)\r\n                {\r\n                    if ( newValue !== oldValue )\r\n                    {\r\n                        reLayout();\r\n                    }\r\n                }\r\n            );\r\n        }\r\n\r\n        function reLayout()\r\n        {\r\n            // Debounce for relayout\r\n            if ( reLayoutTimeout )\r\n            {\r\n                $timeout.cancel(reLayoutTimeout);\r\n            }\r\n\r\n            reLayoutTimeout = $timeout(function ()\r\n            {\r\n                start();\r\n\r\n                $scope.$broadcast('msMasonry:relayoutFinished');\r\n\r\n            }, vm.options.reLayoutDebounce);\r\n\r\n            // Start relayout\r\n            function start()\r\n            {\r\n                vm.containerPos = vm.container[0].getBoundingClientRect();\r\n\r\n                updateColumnOptions();\r\n\r\n                $scope.$broadcast('msMasonry:relayoutStarted');\r\n\r\n                vm.items = vm.container.find('ms-masonry-item');\r\n\r\n                //initialize lastRowBottomArr\r\n                var referenceArr = Array.apply(null, new Array(vm.columnCount)).map(function ()\r\n                {\r\n                    return 0;\r\n                });\r\n\r\n                // set item positions\r\n                for ( var i = 0; i < vm.items.length; i++ )\r\n                {\r\n                    var item = vm.items[i],\r\n                        xPos, yPos, column, refTop;\r\n\r\n                    item = angular.element(item);\r\n\r\n                    if ( item.scope() )\r\n                    {\r\n                        item.scope().$broadcast('msMasonryItem:startReLayout');\r\n                    }\r\n\r\n                    item.css({'width': vm.columnWidth});\r\n\r\n                    if ( vm.options.respectItemOrder )\r\n                    {\r\n                        column = i % vm.columnCount;\r\n                        refTop = referenceArr[column];\r\n                    }\r\n                    else\r\n                    {\r\n                        refTop = Math.min.apply(Math, referenceArr);\r\n                        column = referenceArr.indexOf(refTop);\r\n                    }\r\n\r\n                    referenceArr[column] = refTop + item[0].getBoundingClientRect().height;\r\n\r\n                    xPos = Math.round(column * vm.columnWidth);\r\n                    yPos = refTop;\r\n\r\n                    item.css({'transform': 'translate3d(' + xPos + 'px,' + yPos + 'px,0px)'});\r\n                    item.addClass('placed');\r\n\r\n                    if ( item.scope() )\r\n                    {\r\n                        item.scope().$broadcast('msMasonryItem:finishReLayout');\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        function updateColumnOptions()\r\n        {\r\n            vm.columnCount = vm.options.columnCount;\r\n\r\n            if ( $mdMedia('gt-md') )\r\n            {\r\n                vm.columnCount = vm.options.columnCount;\r\n            }\r\n            else if ( $mdMedia('md') )\r\n            {\r\n                vm.columnCount = (vm.columnCount > vm.options.responsive.md ? vm.options.responsive.md : vm.columnCount);\r\n            }\r\n            else if ( $mdMedia('sm') )\r\n            {\r\n                vm.columnCount = (vm.columnCount > vm.options.responsive.sm ? vm.options.responsive.sm : vm.columnCount);\r\n            }\r\n            else\r\n            {\r\n                vm.columnCount = vm.options.responsive.xs;\r\n            }\r\n\r\n            vm.columnWidth = vm.containerPos.width / vm.columnCount;\r\n\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msMasonry($timeout)\r\n    {\r\n        return {\r\n            restrict  : 'AEC',\r\n            controller: 'msMasonryController',\r\n            compile   : compile\r\n        };\r\n        function compile(element, attributes)\r\n        {\r\n            return {\r\n                pre : function preLink(scope, iElement, iAttrs, controller)\r\n                {\r\n                    controller.options = angular.fromJson(attributes.options || '{}');\r\n                    controller.container = element;\r\n                },\r\n                post: function postLink(scope, iElement, iAttrs, controller)\r\n                {\r\n                    $timeout(function ()\r\n                    {\r\n                        controller.initialize();\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msMasonryItem()\r\n    {\r\n        return {\r\n            restrict: 'AEC',\r\n            require : '^msMasonry',\r\n            priority: 1,\r\n            link    : link\r\n        };\r\n\r\n        function link(scope, element, attributes, controller)\r\n        {\r\n            controller.waitImagesLoaded(element, function ()\r\n            {\r\n                controller.reLayout();\r\n\r\n            });\r\n\r\n            scope.$on('msMasonryItem:finishReLayout', function ()\r\n            {\r\n                scope.$watch(function ()\r\n                {\r\n                    return element.height();\r\n                }, function (newVal, oldVal)\r\n                {\r\n                    if ( newVal !== oldVal )\r\n                    {\r\n                        controller.reLayout();\r\n                    }\r\n                });\r\n            });\r\n\r\n            element.on('$destroy', function ()\r\n            {\r\n                controller.reLayout();\r\n            });\r\n        }\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .directive('msInfoBar', msInfoBarDirective);\r\n\r\n    /** @ngInject */\r\n    function msInfoBarDirective($document)\r\n    {\r\n        return {\r\n            restrict   : 'E',\r\n            scope      : {},\r\n            transclude : true,\r\n            templateUrl: 'app/core/directives/ms-info-bar/ms-info-bar.html',\r\n            link       : function (scope, iElement)\r\n            {\r\n                var body = $document.find('body'),\r\n                    bodyClass = 'ms-info-bar-active';\r\n\r\n                // Add body class\r\n                body.addClass(bodyClass);\r\n\r\n                /**\r\n                 * Remove the info bar\r\n                 */\r\n                function removeInfoBar()\r\n                {\r\n                    body.removeClass(bodyClass);\r\n                    iElement.remove();\r\n                    scope.$destroy();\r\n                }\r\n\r\n                // Expose functions\r\n                scope.removeInfoBar = removeInfoBar;\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('MsFormWizardController', MsFormWizardController)\r\n        .directive('msFormWizard', msFormWizardDirective)\r\n        .directive('msFormWizardForm', msFormWizardFormDirective);\r\n\r\n    /** @ngInject */\r\n    function MsFormWizardController()\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.forms = [];\r\n        vm.selectedIndex = 0;\r\n\r\n        // Methods\r\n        vm.registerForm = registerForm;\r\n\r\n        vm.previousStep = previousStep;\r\n        vm.nextStep = nextStep;\r\n        vm.firstStep = firstStep;\r\n        vm.lastStep = lastStep;\r\n\r\n        vm.totalSteps = totalSteps;\r\n        vm.isFirstStep = isFirstStep;\r\n        vm.isLastStep = isLastStep;\r\n\r\n        vm.currentStepInvalid = currentStepInvalid;\r\n        vm.previousStepInvalid = previousStepInvalid;\r\n        vm.formsIncomplete = formsIncomplete;\r\n        vm.resetForm = resetForm;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Register form\r\n         *\r\n         * @param form\r\n         */\r\n        function registerForm(form)\r\n        {\r\n            vm.forms.push(form);\r\n        }\r\n\r\n        /**\r\n         * Go to previous step\r\n         */\r\n        function previousStep()\r\n        {\r\n            if ( isFirstStep() )\r\n            {\r\n                return;\r\n            }\r\n\r\n            vm.selectedIndex--;\r\n        }\r\n\r\n        /**\r\n         * Go to next step\r\n         */\r\n        function nextStep()\r\n        {\r\n            if ( isLastStep() )\r\n            {\r\n                return;\r\n            }\r\n\r\n            vm.selectedIndex++;\r\n        }\r\n\r\n        /**\r\n         * Go to first step\r\n         */\r\n        function firstStep()\r\n        {\r\n            vm.selectedIndex = 0;\r\n        }\r\n\r\n        /**\r\n         * Go to last step\r\n         */\r\n        function lastStep()\r\n        {\r\n            vm.selectedIndex = totalSteps() - 1;\r\n        }\r\n\r\n        /**\r\n         * Return total steps\r\n         *\r\n         * @returns {int}\r\n         */\r\n        function totalSteps()\r\n        {\r\n            return vm.forms.length;\r\n        }\r\n\r\n        /**\r\n         * Is first step?\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isFirstStep()\r\n        {\r\n            return vm.selectedIndex === 0;\r\n        }\r\n\r\n        /**\r\n         * Is last step?\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isLastStep()\r\n        {\r\n            return vm.selectedIndex === totalSteps() - 1;\r\n        }\r\n\r\n        /**\r\n         * Is current step invalid?\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function currentStepInvalid()\r\n        {\r\n            return angular.isDefined(vm.forms[vm.selectedIndex]) && vm.forms[vm.selectedIndex].$invalid;\r\n        }\r\n\r\n        /**\r\n         * Is previous step invalid?\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function previousStepInvalid()\r\n        {\r\n            return vm.selectedIndex > 0 && angular.isDefined(vm.forms[vm.selectedIndex - 1]) && vm.forms[vm.selectedIndex - 1].$invalid;\r\n        }\r\n\r\n        /**\r\n         * Check if there is any incomplete forms\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function formsIncomplete()\r\n        {\r\n            for ( var x = 0; x < vm.forms.length; x++ )\r\n            {\r\n                if ( vm.forms[x].$invalid )\r\n                {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        /**\r\n         * Reset form\r\n         */\r\n        function resetForm()\r\n        {\r\n            // Go back to the first step\r\n            vm.selectedIndex = 0;\r\n\r\n            // Make sure all the forms are back in the $pristine & $untouched status\r\n            for ( var x = 0; x < vm.forms.length; x++ )\r\n            {\r\n                vm.forms[x].$setPristine();\r\n                vm.forms[x].$setUntouched();\r\n            }\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msFormWizardDirective()\r\n    {\r\n        return {\r\n            restrict  : 'E',\r\n            scope     : true,\r\n            controller: 'MsFormWizardController as msWizard',\r\n            compile   : function (tElement)\r\n            {\r\n                tElement.addClass('ms-form-wizard');\r\n\r\n                return function postLink()\r\n                {\r\n\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msFormWizardFormDirective()\r\n    {\r\n        return {\r\n            restrict: 'A',\r\n            require : ['form', '^msFormWizard'],\r\n            compile : function (tElement)\r\n            {\r\n                tElement.addClass('ms-form-wizard-form');\r\n\r\n                return function postLink(scope, iElement, iAttrs, ctrls)\r\n                {\r\n                    var formCtrl = ctrls[0],\r\n                        MsFormWizardCtrl = ctrls[1];\r\n\r\n                    MsFormWizardCtrl.registerForm(formCtrl);\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .provider('msDatepickerFixConfig', msDatepickerFixConfigProvider)\r\n        .directive('msDatepickerFix', msDatepickerFix);\r\n\r\n    /** @ngInject */\r\n    function msDatepickerFixConfigProvider()\r\n    {\r\n\r\n        // Default configuration\r\n        var defaultConfiguration = {\r\n            // To view\r\n            formatter: function (val)\r\n            {\r\n                if ( !val )\r\n                {\r\n                    return '';\r\n                }\r\n\r\n                return val === '' ? val : new Date(val);\r\n            },\r\n            // To model\r\n            parser   : function (val)\r\n            {\r\n                if ( !val )\r\n                {\r\n                    return '';\r\n                }\r\n                var offset = moment(val).utcOffset();\r\n                var date = new Date(moment(val).add(offset, 'm'));\r\n                return date;\r\n            }\r\n        };\r\n\r\n        // Methods\r\n        this.config = config;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Extend default configuration with the given one\r\n         *\r\n         * @param configuration\r\n         */\r\n        function config(configuration)\r\n        {\r\n            defaultConfiguration = angular.extend({}, defaultConfiguration, configuration);\r\n        }\r\n\r\n        /**\r\n         * Service\r\n         */\r\n        this.$get = function ()\r\n        {\r\n            return defaultConfiguration;\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msDatepickerFix(msDatepickerFixConfig)\r\n    {\r\n        return {\r\n            require: 'ngModel',\r\n            link   : function (scope, elem, attrs, ngModel)\r\n            {\r\n                ngModel.$formatters.unshift(msDatepickerFixConfig.formatter); // to view\r\n                ngModel.$parsers.unshift(msDatepickerFixConfig.parser); // to model\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .directive('msCard', msCardDirective);\r\n\r\n    /** @ngInject */\r\n    function msCardDirective()\r\n    {\r\n        return {\r\n            restrict: 'E',\r\n            scope   : {\r\n                templatePath: '=template',\r\n                card        : '=ngModel',\r\n                vm          : '=viewModel'\r\n            },\r\n            template: '<div class=\"ms-card-content-wrapper\" ng-include=\"templatePath\" onload=\"cardTemplateLoaded()\"></div>',\r\n            compile : function (tElement)\r\n            {\r\n                // Add class\r\n                tElement.addClass('ms-card');\r\n\r\n                return function postLink(scope, iElement)\r\n                {\r\n                    // Methods\r\n                    scope.cardTemplateLoaded = cardTemplateLoaded;\r\n\r\n                    //////////\r\n\r\n                    /**\r\n                     * Emit cardTemplateLoaded event\r\n                     */\r\n                    function cardTemplateLoaded()\r\n                    {\r\n                        scope.$emit('msCard::cardTemplateLoaded', iElement);\r\n                    }\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.user', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, msApiProvider, $translatePartialLoaderProvider, msNavigationServiceProvider) {\r\n\r\n    // State\r\n    $stateProvider.state('app.user', {\r\n      url: '/user',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/user/user.html',\r\n          controller: 'UserController as vm'\r\n        }\r\n      },\r\n      bodyClass: 'forms'\r\n    });\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/user');\r\n\r\n    // Navigation\r\n    /*\r\n    msNavigationServiceProvider.saveItem('account', {\r\n      title: 'Account Settings',\r\n      group: true,\r\n      weight: 2\r\n    });\r\n\r\n\r\n    msNavigationServiceProvider.saveItem('account.user', {\r\n      title: 'User Profile',\r\n      icon: 'icon-account',\r\n      state: 'app.user',\r\n      weight: 1\r\n    });\r\n    */\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.user')\r\n    .controller('UserController', UserController);\r\n\r\n  /** @ngInject */\r\n  function UserController($rootScope, $http, $scope, api, $mdSidenav) {\r\n\r\n    var vm = this;\r\n\r\n    vm.updateUser = updateUser;\r\n\r\n    vm.update = {\r\n      editable: false,\r\n      sending: false,\r\n      cancel: function () {\r\n        this.editable = false;\r\n        return this.sending = false;\r\n      },\r\n      send: function () {\r\n        this.sending = true;\r\n        return api.account.update(this.info).error(function (res) {\r\n          return $rootScope.message('Server not responsing properly.', 'warning');\r\n        }).success(function (res) {\r\n          if (res === void 0 || res === null || res === '') {\r\n            return $rootScope.message('Error talking to server', 'warning');\r\n          } else if (res.code) {\r\n            return $rootScope.message(res.message, 'warning');\r\n          } else {\r\n            $rootScope.user = res.user;\r\n            vm.update.editable = false;\r\n            return $rootScope.message(res.message);\r\n          }\r\n        })[\"finally\"](function () {\r\n          return vm.update.sending = false;\r\n        });\r\n      },\r\n      info: {\r\n        notifications: 0,\r\n        name: {\r\n          first: '',\r\n          last: ''\r\n        },\r\n        email: '',\r\n        password: '',\r\n        phone: ''\r\n      }\r\n    };\r\n\r\n    function updateUser(u) {\r\n      vm.update.info = {\r\n        notifications: +u.notifications,\r\n        name: {\r\n          first: u.name.first,\r\n          last: u.name.last\r\n        },\r\n        email: u.email,\r\n        password: u.password,\r\n        phone: u.phone\r\n      };\r\n    };\r\n\r\n    // Fetch user object from $rootScope on broadcast event\r\n    $scope.$on('event:userLoaded', function () {\r\n      vm.updateUser($rootScope.user);\r\n    });\r\n\r\n    // Fetch user object from $rootScope\r\n    if ($rootScope.user !== undefined) {\r\n      vm.updateUser($rootScope.user);\r\n    }\r\n\r\n\r\n    vm.toggleSidenav = toggleSidenav;\r\n\r\n    //Toggle Left Side Nav\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n    }\r\n\r\n    $scope.$on('event:startDoomsDayDevice', function (data) {\r\n\r\n      console.log('data', data);\r\n\r\n    });\r\n\r\n    console.log('vm.update', vm.update);\r\n\r\n  }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.todo')\r\n        .controller('TodoController', TodoController);\r\n\r\n    /** @ngInject */\r\n    function TodoController($document, $mdDialog, $mdSidenav, Tasks, Tags)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.tasks = Tasks.data;\r\n        vm.tags = Tags.data;\r\n        vm.completed = [];\r\n        vm.colors = ['blue', 'blue-grey', 'orange', 'pink', 'purple'];\r\n        vm.projects = {\r\n            'creapond'    : 'Project Creapond',\r\n            'withinpixels': 'Project Withinpixels'\r\n        };\r\n        vm.selectedFilter = {\r\n            filter : 'Start Date',\r\n            dueDate: 'Next 3 days'\r\n        };\r\n        vm.selectedProject = 'creapond';\r\n\r\n        // Tasks will be filtered against these models\r\n        vm.taskFilters = {\r\n            search   : '',\r\n            tags     : [],\r\n            completed: '',\r\n            deleted  : false,\r\n            important: '',\r\n            starred  : '',\r\n            startDate: '',\r\n            dueDate  : ''\r\n        };\r\n        vm.taskFiltersDefaults = angular.copy(vm.taskFilters);\r\n        vm.showAllTasks = true;\r\n\r\n        vm.taskOrder = '';\r\n        vm.taskOrderDescending = false;\r\n\r\n        vm.sortableOptions = {\r\n            handle        : '.handle',\r\n            forceFallback : true,\r\n            ghostClass    : 'todo-item-placeholder',\r\n            fallbackClass : 'todo-item-ghost',\r\n            fallbackOnBody: true,\r\n            sort          : true\r\n        };\r\n        vm.msScrollOptions = {\r\n            suppressScrollX: true\r\n        };\r\n\r\n        // Methods\r\n        vm.preventDefault = preventDefault;\r\n        vm.openTaskDialog = openTaskDialog;\r\n        vm.toggleCompleted = toggleCompleted;\r\n        vm.toggleSidenav = toggleSidenav;\r\n        vm.toggleFilter = toggleFilter;\r\n        vm.toggleFilterWithEmpty = toggleFilterWithEmpty;\r\n        vm.filterByStartDate = filterByStartDate;\r\n        vm.filterByDueDate = filterByDueDate;\r\n        vm.resetFilters = resetFilters;\r\n        vm.toggleTagFilter = toggleTagFilter;\r\n        vm.isTagFilterExists = isTagFilterExists;\r\n\r\n        init();\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Initialize the controller\r\n         */\r\n        function init()\r\n        {\r\n            angular.forEach(vm.tasks, function (task)\r\n            {\r\n                if ( task.startDate )\r\n                {\r\n                    task.startDate = new Date(task.startDate);\r\n                    task.startDateTimestamp = task.startDate.getTime();\r\n                }\r\n\r\n                if ( task.dueDate )\r\n                {\r\n                    task.dueDate = new Date(task.dueDate);\r\n                    task.dueDateTimestamp = task.dueDate.getTime();\r\n                }\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Prevent default\r\n         *\r\n         * @param e\r\n         */\r\n        function preventDefault(e)\r\n        {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }\r\n\r\n        /**\r\n         * Open new task dialog\r\n         *\r\n         * @param ev\r\n         * @param task\r\n         */\r\n        function openTaskDialog(ev, task)\r\n        {\r\n            $mdDialog.show({\r\n                controller         : 'TaskDialogController',\r\n                controllerAs       : 'vm',\r\n                templateUrl        : 'app/main/apps/todo/dialogs/task/task-dialog.html',\r\n                parent             : angular.element($document.body),\r\n                targetEvent        : ev,\r\n                clickOutsideToClose: true,\r\n                locals             : {\r\n                    Task : task,\r\n                    Tasks: vm.tasks,\r\n                    event: ev\r\n                }\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Toggle completed status of the task\r\n         *\r\n         * @param task\r\n         * @param event\r\n         */\r\n        function toggleCompleted(task, event)\r\n        {\r\n            event.stopPropagation();\r\n            task.completed = !task.completed;\r\n        }\r\n\r\n        /**\r\n         * Toggle sidenav\r\n         *\r\n         * @param sidenavId\r\n         */\r\n        function toggleSidenav(sidenavId)\r\n        {\r\n            $mdSidenav(sidenavId).toggle();\r\n        }\r\n\r\n        /**\r\n         * Toggles filter with true or false\r\n         *\r\n         * @param filter\r\n         */\r\n        function toggleFilter(filter)\r\n        {\r\n            vm.taskFilters[filter] = !vm.taskFilters[filter];\r\n\r\n            checkFilters();\r\n        }\r\n\r\n        /**\r\n         * Toggles filter with true or empty string\r\n         * @param filter\r\n         */\r\n        function toggleFilterWithEmpty(filter)\r\n        {\r\n            if ( vm.taskFilters[filter] === '' )\r\n            {\r\n                vm.taskFilters[filter] = true;\r\n            }\r\n            else\r\n            {\r\n                vm.taskFilters[filter] = '';\r\n            }\r\n\r\n            checkFilters();\r\n        }\r\n\r\n        /**\r\n         * Reset filters\r\n         */\r\n        function resetFilters()\r\n        {\r\n            vm.showAllTasks = true;\r\n            vm.taskFilters = angular.copy(vm.taskFiltersDefaults);\r\n        }\r\n\r\n        /**\r\n         * Check filters and mark showAllTasks\r\n         * as true if no filters selected\r\n         */\r\n        function checkFilters()\r\n        {\r\n            vm.showAllTasks = !!angular.equals(vm.taskFiltersDefaults, vm.taskFilters);\r\n        }\r\n\r\n        /**\r\n         * Filter by startDate\r\n         *\r\n         * @param item\r\n         * @returns {boolean}\r\n         */\r\n        function filterByStartDate(item)\r\n        {\r\n            if ( vm.taskFilters.startDate === true )\r\n            {\r\n                return item.startDate === new Date();\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n        /**\r\n         * Filter Due Date\r\n         *\r\n         * @param item\r\n         * @returns {boolean}\r\n         */\r\n        function filterByDueDate(item)\r\n        {\r\n            if ( vm.taskFilters.dueDate === true )\r\n            {\r\n                return !(item.dueDate === null || item.dueDate.length === 0);\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n        /**\r\n         * Toggles tag filter\r\n         *\r\n         * @param tag\r\n         */\r\n        function toggleTagFilter(tag)\r\n        {\r\n            var i = vm.taskFilters.tags.indexOf(tag);\r\n\r\n            if ( i > -1 )\r\n            {\r\n                vm.taskFilters.tags.splice(i, 1);\r\n            }\r\n            else\r\n            {\r\n                vm.taskFilters.tags.push(tag);\r\n            }\r\n\r\n            checkFilters();\r\n        }\r\n\r\n        /**\r\n         * Returns if tag exists in the tagsFilter\r\n         *\r\n         * @param tag\r\n         * @returns {boolean}\r\n         */\r\n        function isTagFilterExists(tag)\r\n        {\r\n            return vm.taskFilters.tags.indexOf(tag) > -1;\r\n        }\r\n    }\r\n})();\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.templates', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, msApiProvider, $translatePartialLoaderProvider, msNavigationServiceProvider) {\r\n\r\n    // State\r\n    $stateProvider.state('app.templates', {\r\n      url: '/templates',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/templates/templates.html',\r\n          controller: 'TemplatesController as vm'\r\n        }\r\n      },\r\n      bodyClass: 'forms'\r\n    });\r\n\r\n\r\n    // Translate\r\n    $translatePartialLoaderProvider.addPart('app/main/templates');\r\n\r\n    // Navigation\r\n    msNavigationServiceProvider.saveItem('checklists.templates', {\r\n      title: 'Templates',\r\n      icon: 'icon-account-multiple',\r\n      state: 'app.templates',\r\n      weight: 3\r\n    });\r\n\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.templates')\r\n    .controller('TemplatesController', TemplatesController);\r\n\r\n  /** @ngInject */\r\n  function TemplatesController($rootScope, $http, api, $mdSidenav, $mdDialog, $scope, $document, $state) {\r\n\r\n    //console.log('$rootScope.user', $rootScope.user);\r\n\r\n    var vm = this;\r\n    vm.openAddChecklistTemplateDialog = openAddChecklistTemplateDialog;\r\n    vm.openAddFolderTemplateDialog = openAddFolderTemplateDialog;\r\n    vm.fetchGroups = fetchGroups;\r\n    vm.openFolderInput = openFolderInput;\r\n    vm.cancelFolderInput = cancelFolderInput;\r\n    vm.cancelGroupInput = cancelGroupInput;\r\n    vm.cancelChecklistInput = cancelChecklistInput;\r\n    vm.openGroupInput = openGroupInput;\r\n    vm.addNewFolder = addNewFolder;\r\n    vm.addNewGroup = addNewGroup;\r\n    vm.addNewChecklist = addNewChecklist;\r\n    vm.toggleSidenav = toggleSidenav;\r\n    vm.closeDialog = closeDialog;\r\n    vm.templateFiltersDefaults = angular.copy(vm.templateFilters);\r\n    vm.showAllTemplates = true;\r\n    vm.templateOrder = '';\r\n    vm.templateOrderDescending = false;\r\n\r\n    //Toggle Left Side Nav\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n    };\r\n\r\n    function closeDialog() {\r\n      $mdDialog.hide();\r\n    };\r\n\r\n    vm.templateFilters = {\r\n      search: '',\r\n      deleted: false\r\n    };\r\n\r\n    vm.sortableOptions = {\r\n      handle: '.handle',\r\n      forceFallback: true,\r\n      ghostClass: 'todo-item-placeholder',\r\n      fallbackClass: 'todo-item-ghost',\r\n      fallbackOnBody: true,\r\n      sort: true\r\n    };\r\n\r\n    vm.msScrollOptions = {\r\n      suppressScrollX: true\r\n    };\r\n\r\n    console.log('vm.templateFilters', vm.templateFilters);\r\n    vm.templateFiltersDefaults = angular.copy(vm.templateFilters);\r\n    vm.showAllFilters = true;\r\n\r\n    vm.filterOrder = '';\r\n    vm.filterOrderDescending = false;\r\n\r\n    vm.folders = [];\r\n    api.folders.get().then(function (d) {\r\n      console.log('d', d);\r\n      vm.folders = d.data.folders;\r\n    });\r\n\r\n    vm.wizard = {\r\n      newFolder: false,\r\n      newGroup: false\r\n    };\r\n\r\n    function fetchGroups(id) {\r\n\r\n      vm.groups = $rootScope.children('groups', id);\r\n      console.log('vm.groups pre organizeData id / vm.groups', id, vm.groups)\r\n      $rootScope.organizeData();\r\n      console.log('fetching', id, vm.groups);\r\n\r\n      if (!vm.groups.length > 0) {\r\n        vm.wizard.switch = true;\r\n      } else {\r\n        vm.wizard.switch = false;\r\n      }\r\n    };\r\n\r\n\r\n    function openFolderInput() {\r\n      vm.folder = '';\r\n      vm.group = '';\r\n      vm.wizard.newFolder = true;\r\n      vm.wizard.newGroup = false;\r\n      vm.wizard.newChecklist = false;\r\n      console.log('vm.wizard', vm.wizard);\r\n\r\n    };\r\n\r\n    function cancelFolderInput() {\r\n      return vm.wizard.newFolder = false;\r\n      console.log('vm.wizard', vm.wizard);\r\n    };\r\n\r\n    function cancelGroupInput() {\r\n      console.log('fff');\r\n      return vm.wizard.newGroup = false;\r\n      return vm.wizard.switch = false;\r\n      console.log('vm.wizard', vm.wizard);\r\n    };\r\n\r\n    function cancelChecklistInput() {\r\n      vm.closeDialog();\r\n      console.log('vm.wizard', vm.wizard);\r\n    };\r\n\r\n    function openGroupInput() {\r\n      vm.group = '';\r\n      vm.wizard.newFolder = false;\r\n      vm.wizard.newChecklist = false;\r\n      vm.wizard.newGroup = true;\r\n      vm.wizard.switch = true;\r\n      console.log('vm.wizard', vm.wizard);\r\n    };\r\n\r\n\r\n    function addNewFolder() {\r\n      //console.log('pre insert vm.folders', vm.folders);\r\n      //Set sending variable for buttons\r\n      vm.folder.sending = true;\r\n\r\n      //Set order variable for sql insert\r\n      vm.folder.order = 1;\r\n      vm.folder.order += vm.folders.length;\r\n\r\n      api.folders.add(vm.folder.name, vm.folder.description, vm.folder.order).error(function (res) {\r\n        return $rootScope.message(\"Error Creating Project\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error Creating Project\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          vm.verticalStepper = {\r\n            newFolderID: res.folder.id\r\n          }\r\n\r\n\r\n\r\n          $rootScope.$broadcast('event:updateModels');\r\n          vm.folders.push(res.folder);\r\n          $rootScope.organizeData();\r\n\r\n          vm.fetchGroups(res.folder.id);\r\n\r\n\r\n          $rootScope.message('Project Added');\r\n\r\n          //Hide Buttons\r\n          vm.wizard.newFolder = false;\r\n\r\n\r\n        }\r\n      });\r\n\r\n    };\r\n\r\n    function addNewGroup(groupName, folderID) {\r\n\r\n      //Set sending variable for buttons\r\n      vm.group.sending = true;\r\n\r\n      //Set order variable for sql insert\r\n      vm.group.order = 1;\r\n      vm.group.order += vm.groups.length;\r\n      vm.group.text = groupName;\r\n      vm.group.id_parent = folderID;\r\n\r\n      api.groups.add(vm.group.text, vm.group.order, vm.group.id_parent).error(function (res) {\r\n        return $rootScope.message(\"Error Adding Folder\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error Adding Folder\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          console.log('res.groups', res.groups);\r\n          $rootScope.$broadcast('event:updateModels');\r\n          vm.groups.push(res.group);\r\n          $rootScope.organizeData();\r\n\r\n          vm.verticalStepper.newGroupID = res.group.id;\r\n          vm.verticalStepper.newFolderID = res.group.id_parent;\r\n\r\n          vm.wizard.newGroup = false;\r\n          vm.wizard.switch = false;\r\n\r\n\r\n          $rootScope.message('Folder Added');\r\n        }\r\n      });\r\n    };\r\n\r\n    function addNewChecklist(checklistName, groupID, folderID) {\r\n\r\n      //Set sending variable for buttons\r\n      vm.checklist.sending = true;\r\n\r\n      //Set order variable for sql insert\r\n      vm.checklist.order = 1;\r\n      vm.checklist.order += vm.checklists.length;\r\n\r\n      //name, order, to\r\n      api.checklists.add(checklistName, vm.checklist.order, groupID).error(function (res) {\r\n        return $rootScope.message(\"Error Adding Checklist\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error Adding Checklist\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          //console.log('res checklist', res);\r\n          //console.log('res.checklist.id', res.checklist.id);\r\n          api.sections.add('sections', 1, res.checklist.id).error(function (res) {\r\n            return $rootScope.message(\"Error Adding Section\", 'warning');\r\n          }).success(function (res) {\r\n            //console.log('res failed', res);\r\n            if (res === void 0 || res === null || res === '') {\r\n              return $rootScope.message(\"Error Adding Section\", 'warning');\r\n            } else if (res.code) {\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              //console.log('res success', res);\r\n              vm.sections.push(res.section);\r\n            }\r\n          });\r\n          //console.log('vm.checklists pre', vm.checklists);\r\n\r\n          $rootScope.$broadcast('event:updateModels');\r\n          console.log('$stateParams.id', $stateParams.id);\r\n          //console.log('$state', $state);\r\n          console.log('$state.is', $state.is);\r\n\r\n\r\n          //vm.checklists = $rootScope.checklists;\r\n          if (!$state.is('app.checklist.detail')) {\r\n            console.log('pre unshift vm.checklists', vm.checklists);\r\n            vm.checklists.unshift(res.checklist);\r\n            console.log('post unshift vm.checklists', vm.checklists);\r\n          }\r\n\r\n          $rootScope.organizeData();\r\n          $rootScope.message('Checklist Added');\r\n\r\n        }\r\n      });\r\n\r\n      vm.closeDialog();\r\n    };\r\n\r\n    function openAddChecklistTemplateDialog(ev, templateID, templateType) {\r\n\r\n      vm.title = 'Download From Checklist Templates';\r\n      vm.wizard.templateID = templateID;\r\n      vm.wizard.templateType = templateType;\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/templates/dialogs/templates/checklist-add-from-template-dialog.html',\r\n        parent: angular.element($document.find('#templates')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n\r\n    };\r\n\r\n    function openAddFolderTemplateDialog(ev, templateID, templateType) {\r\n\r\n      vm.title = 'Download From Folder Templates';\r\n      vm.wizard.templateID = templateID;\r\n      vm.wizard.templateType = templateType;\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/templates/dialogs/templates/checklist-add-from-folder-template-dialog.html',\r\n        parent: angular.element($document.find('#templates')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    };\r\n\r\n    vm.templates = {\r\n      list: [],\r\n      load: {\r\n        inProgress: false,\r\n        error: '',\r\n        start: function () {\r\n          var process;\r\n          this.inProgress = true;\r\n          this.error = '';\r\n          process = this.processTemplate;\r\n          return $http.get(\"https://checklinked.com/ajax/templates-get.php?org=1&noXML=1\").success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              console.log('Error loading templates: ', res);\r\n              return vm.templates.load.error = 'Error loading Templates! (Server not responding properly.)';\r\n            } else if (res.code) {\r\n              return vm.templates.load.error = \"Error loading Templates: (\" + res.code + \") \" + res.message;\r\n            } else if (res.templates !== void 0 && res.templates.length) {\r\n              vm.templates.list = res.templates.map(process);\r\n              console.log('vm.templates.list', vm.templates.list);\r\n            }\r\n          }).error(function (err) {\r\n            console.log('Error loading team members: ', err);\r\n            return vm.templates.load.error = 'Error loading Templates! (Sever not responding.)';\r\n          })[\"finally\"](function () {\r\n            return vm.templates.load.inProgress = false;\r\n          });\r\n        },\r\n        startInternal: function () {\r\n          vm.criteria = {\r\n            name: '*',\r\n            organization: '',\r\n            author: '',\r\n            version: '',\r\n            type: '*'\r\n          };\r\n\r\n          return api.checklists.searchForTemplates(vm.criteria).error(function (res) {\r\n            //return $rootScope.message('Unknown error finding Templates.', 'warning');\r\n          }).success(function (res) {\r\n            if (res.code) {\r\n              res.display = \"Error finding Templates: (\" + res.code + \"): \" + res.message;\r\n              //$rootScope.message(res.display, 'warning');\r\n            }\r\n            vm.publicTemplates = res.templates;\r\n            console.log('vm.publicTemplates', vm.publicTemplates);\r\n          })[\"finally\"](function () {\r\n          });\r\n        },\r\n        processTemplate: function (raw) {\r\n          var processed;\r\n          processed = $.extend({}, raw, {\r\n            revising: false,\r\n            deleting: false,\r\n            revise: function () {\r\n              return $rootScope.message('This function is under construction.');\r\n            },\r\n            remove: function () {\r\n              var template;\r\n              if (this.deleting) {\r\n                return false;\r\n              }\r\n              console.log('deleting template', template);\r\n              this.deleting = true;\r\n              template = this;\r\n\r\n              console.log(template);\r\n\r\n              return $http.post(\"https://checklinked.com/ajax/template_delete-post.php\", {\r\n\r\n                template: template\r\n              }, {\r\n                headers: {\r\n                  'Content-Type': 'application/x-www-form-urlencoded'\r\n                },\r\n                cache: false\r\n              }).success(function (res) {\r\n                if (res === void 0 || res === null || res === '') {\r\n                  return $rootScope.message('Error deleting Template. Server not responding properly.', 'warning');\r\n                } else if (res.code) {\r\n                  return $rootScope.message(\"Error deleting Template: (\" + res.code + \"): \" + res.message, 'warning');\r\n                } else {\r\n                  vm.templates.list.remove(template);\r\n                  console.log('template deleted', template, vm.templates.list);\r\n                  return $rootScope.message('Template Deleted');\r\n                }\r\n              }).error(function (err) {\r\n                return $rootScope.message('Error deleting Template. Server not responding.', 'warning');\r\n              })[\"finally\"](function () {\r\n                return template.deleting = false;\r\n              });\r\n            }\r\n          });\r\n          return processed;\r\n        }\r\n      }\r\n    };\r\n\r\n    vm.download = {\r\n      template: null,\r\n      creating: false,\r\n      begin: function (ev, templateID, templateType) {\r\n        if(templateType == 'checklist') {\r\n          console.log('open openAddChecklistTemplateDialog');\r\n          vm.openAddChecklistTemplateDialog(ev, templateID, templateType);\r\n        } else if(templateType == 'group'){\r\n          console.log('open openAddFolderTemplateDialog');\r\n          vm.openAddFolderTemplateDialog(ev, templateID, templateType);\r\n        }\r\n\r\n      },\r\n      create: function (idCTMPL, parentID, templateType) {\r\n        console.log('idCTMPL', idCTMPL);\r\n        console.log('parentID', parentID);\r\n        console.log('templateType', templateType);\r\n\r\n        vm.download.creating = true;\r\n        return api.checklists.createFromTemplate(idCTMPL, parentID, templateType).error(function (res) {\r\n          return $rootScope.message('Unknown error creating Checklist from selected Template.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            return $rootScope.message(\"Error creating Checklist from Template: (\" + res.code + \"): \" + res.message, 'warning');\r\n          } else {\r\n\r\n            $rootScope.$broadcast('event:updateModels');\r\n\r\n            $rootScope.message('Template has been downloaded', 'success');\r\n            $rootScope.organizeData();\r\n            vm.closeDialog();\r\n          }\r\n        })[\"finally\"](function () {\r\n          return vm.download.creating = false;\r\n        });\r\n      }\r\n    };\r\n\r\n    vm.templates.load.start();\r\n    vm.templates.load.startInternal();\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.teammembers', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, msApiProvider, $translatePartialLoaderProvider, msNavigationServiceProvider) {\r\n\r\n    // State\r\n    $stateProvider.state('app.teammembers', {\r\n      url: '/teammembers',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/teammembers/teammembers.html',\r\n          controller: 'TeamMembersController as vm'\r\n        }\r\n      },\r\n      bodyClass: 'forms'\r\n    });\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/teammembers');\r\n\r\n    // Navigation\r\n    /*\r\n    msNavigationServiceProvider.saveItem('account.teammembers', {\r\n      title: 'Team Members',\r\n      icon: 'icon-account-multiple',\r\n      state: 'app.teammembers',\r\n      weight: 3\r\n    });\r\n    */\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.teammembers')\r\n    .controller('TeamMembersController', TeamMembersController);\r\n\r\n  /** @ngInject */\r\n  function TeamMembersController($rootScope, $http, $scope, api, $mdSidenav) {\r\n\r\n    var vm = this;\r\n\r\n    vm.toggleSidenav = toggleSidenav;\r\n    vm.members = [];\r\n    //$scope.members = [];\r\n\r\n    //Toggle Left Side Nav\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n    }\r\n\r\n\r\n    $scope.$on('event:rolesUpdated', function () {\r\n    });\r\n\r\n    $scope.$on('event:membersUpdated', function () {\r\n      return vm.members.load.start();\r\n    });\r\n\r\n\r\n    vm.members = {\r\n      list: [],\r\n      roles: [],\r\n      load: {\r\n        inProgress: false,\r\n        error: '',\r\n        start: function (idCON) {\r\n          var process;\r\n          if (idCON == null) {\r\n            idCON = null;\r\n          }\r\n          if (idCON === null) {\r\n            this.inProgress = true;\r\n            this.error = '';\r\n            process = this.processMember;\r\n            return $http.get(\"https://checklinked.com/ajax/organization_members-get.php\").success(function (res) {\r\n              if (res === void 0 || res === null || res === '') {\r\n                console.log('Error loading team members: ', res);\r\n                return vm.members.load.error = 'Error loading Team Members! (Server not responding properly.)';\r\n              } else if (res.code) {\r\n                return vm.members.load.error = \"Error loading Team Members: (\" + res.code + \") \" + res.message;\r\n              } else {\r\n                vm.members.roles = res.roles;\r\n                return vm.members.list = res.members.map(process);\r\n              }\r\n            }).error(function (err) {\r\n              console.log('Error loading team members: ', err);\r\n              vm.members.load.inProgress = false;\r\n              return vm.members.load.error = 'Error loading Team Members! (Sever not responding.)';\r\n            })[\"finally\"](function () {\r\n              return vm.members.load.inProgress = false;\r\n            });\r\n          } else {\r\n\r\n          }\r\n        },\r\n        processMember: function (raw) {\r\n          var processed, roles;\r\n          roles = $.extend({}, raw.roles, {\r\n            setting: [],\r\n            set: function (role, willHave) {\r\n              var self;\r\n              this.setting.push(role);\r\n              self = this;\r\n              return $http.post(\"https://checklinked.com/ajax/organization_member_role_set-post.php\", {\r\n                idCON: raw.idCON,\r\n                role: role,\r\n                setTo: willHave\r\n              }, {\r\n                headers: {\r\n                  'Content-Type': 'application/x-www-form-urlencoded'\r\n                },\r\n                cache: false\r\n              }).success(function (res) {\r\n                var ref3, ref4;\r\n                self.setting.remove(role);\r\n                if (res === void 0 || res === null || res === '') {\r\n                  $rootScope.message('Error updating Team Member role. Server not responding properly.', 'warning');\r\n                } else if (res.code) {\r\n                  $rootScope.message(\"Error updating Team Member role. (\" + res.code + \") \" + res.message, 'warning');\r\n                } else if (willHave) {\r\n                  self.has.push(role);\r\n                } else {\r\n                  self.has.remove(role);\r\n                }\r\n                $rootScope.socketio.emit('roles_updated', raw.idCON);\r\n                if ((ref3 = $rootScope.user.organization) != null ? (ref4 = ref3.idACC) != null ? ref4.length : void 0 : void 0) {\r\n                  return $rootScope.socketio.emit('members_updated', $rootScope.user.organization.idACC);\r\n                }\r\n              }).error(function (err) {\r\n                self.setting.remove(role);\r\n                return $rootScope.message('Error updating Team Member role.  Server not responding.', 'warning');\r\n              })[\"finally\"](function () {\r\n                return self.setting.remove(role);\r\n              });\r\n            }\r\n          });\r\n          processed = raw;\r\n          processed.roles = roles;\r\n          return processed;\r\n        }\r\n      },\r\n      offboard: {\r\n        inProgress: [],\r\n        execute: function (member) {\r\n          var confMsg, self;\r\n          confMsg = \"You cannot undo this action.\";\r\n          if (member.idCON === $rootScope.user.idCON) {\r\n            confMsg += \" You\";\r\n          } else {\r\n            confMsg += \" The selected Team Member\";\r\n          }\r\n          confMsg += \" will lose access to all checklists, templates, and posts for this Organization.  Are you sure you wish to do this?\";\r\n          if (confirm(confMsg)) {\r\n            self = vm.members.offboard;\r\n            self.inProgress.push(member.idCON);\r\n            console.log('offboard member', member);\r\n            $http.post('https://checklinked.com/ajax/organization_member_offboard-post.php', {\r\n              idCON: member.idCON\r\n            }, {\r\n              headers: {\r\n                'Content-Type': 'application/x-www-form-urlencoded'\r\n              },\r\n              cache: false\r\n            }).error(function (res) {\r\n              console.log('member offboard error', member, res);\r\n              return $rootScope.message('Error offboarding member.', 'warning');\r\n            }).success(function (res) {\r\n              if (res === void 0 || res === null || res === '') {\r\n                console.log('member offboard error', member, res);\r\n                return $rootScope.message('Invalid response.', 'warning');\r\n              } else if (res.code) {\r\n                console.log('member offboard error', member, res);\r\n                return $rootScope.message(res.message, 'warning');\r\n              } else {\r\n                vm.members.list.remove(member);\r\n                if (member.idCON === $rootScope.user.idCON) {\r\n\r\n                  console.log('offboarded logged in user', res.user);\r\n                  $rootScope.user = res.user;\r\n                  if ($rootScope.viewAs.user.idCON !== $rootScope.user.idCON) {\r\n                    $rootScope.viewAs.set(res.user);\r\n                  }\r\n                  return $location.path('/teammembers');\r\n                }\r\n              }\r\n            })[\"finally\"](function () {\r\n              return self.inProgress.remove(member.idCON);\r\n            });\r\n          }\r\n          return false;\r\n        }\r\n      }\r\n    };\r\n    vm.members.load.start();\r\n\r\n    vm.queue = {\r\n      list: [],\r\n      load: {\r\n        inProgress: false,\r\n        error: '',\r\n        start: function () {\r\n          var process;\r\n          this.inProgress = true;\r\n          this.error = '';\r\n          process = this.processInvite;\r\n          return $http.get(\"https://checklinked.com/ajax/checklist_invites-get.php?queue=1\").success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              console.log('Error loading invites: ', res);\r\n              return vm.templates.load.error = 'Error loading Invites! (Server not responding properly.)';\r\n            } else if (res.code) {\r\n              return vm.queue.load.error = \"Error loading Invites: (\" + res.code + \") \" + res.message;\r\n            } else if (res.invites !== void 0 && res.invites.length) {\r\n              return vm.queue.list = res.invites.map(process);\r\n            }\r\n          }).error(function (err) {\r\n            console.log('Error loading team members: ', err);\r\n            return vm.queue.load.error = 'Error loading Templates! (Sever not responding.)';\r\n          })[\"finally\"](function () {\r\n            return vm.queue.load.inProgress = false;\r\n          });\r\n        },\r\n        processInvite: function (raw) {\r\n          var processed;\r\n          processed = $.extend({}, raw, {\r\n            accepting: false,\r\n            rejecting: false,\r\n            accept: function () {\r\n              return $rootScope.message('This function is under construction.');\r\n            },\r\n            reject: function () {\r\n              var invite;\r\n              if (this.rejecting) {\r\n                return false;\r\n              }\r\n              this.rejecting = true;\r\n              invite = this;\r\n              return $http.post(\"https://checklinked.com/ajax/checklist_invite-destroy.php\", {\r\n                idCFC: invite.id\r\n              }, {\r\n                headers: {\r\n                  'Content-Type': 'application/x-www-form-urlencoded'\r\n                },\r\n                cache: false\r\n              }).success(function (res) {\r\n                if (res === void 0 || res === null || res === '') {\r\n                  return $rootScope.message('Error rejecting Checklist. Server not responding properly.', 'warning');\r\n                } else if (res.code) {\r\n                  return $rootScope.message(\"Error deleting Checklist: (\" + res.code + \"): \" + res.message, 'warning');\r\n                } else {\r\n                  vm.queue.list.remove(invite);\r\n                  return $rootScope.message('Invite Rejected');\r\n                }\r\n              }).error(function (err) {\r\n                return $rootScope.message('Error rejecting Checklist. Server not responding.', 'warning');\r\n              })[\"finally\"](function () {\r\n                return invite.deleting = false;\r\n              });\r\n            }\r\n          });\r\n          return processed;\r\n        }\r\n      }\r\n    };\r\n    vm.queue.load.start();\r\n    vm.memberInvites = {\r\n      load: {\r\n        inProgress: true,\r\n        error: '',\r\n        execute: function () {\r\n          var self;\r\n          self = vm.memberInvites.load;\r\n          self.error = '';\r\n          return $http.get('https://checklinked.com/ajax/subscription_invites-get.php').then(function (d) {\r\n            var res;\r\n            if (typeof d !== 'object') {\r\n              return self.error = \"Server not responding properly.\";\r\n            } else {\r\n              res = d.data;\r\n              if (typeof res !== 'object') {\r\n                return self.error = \"Server response not understood.\";\r\n              } else {\r\n                return vm.memberInvites.invites = res.invites;\r\n              }\r\n            }\r\n          }, function (err) {\r\n            return self.error = \"Error talking to server.\";\r\n          }).then(function () {\r\n            return self.inProgress = false;\r\n          });\r\n        }\r\n      },\r\n      invites: [],\r\n      invite: {\r\n        send: {\r\n          inProgress: false,\r\n          email: '',\r\n          execute: function () {\r\n            var self;\r\n            self = vm.memberInvites.invite.send;\r\n            if (self.email === $rootScope.user.email) {\r\n              return $rootScope.message('You cannot invite yourself!', 'warning');\r\n            }\r\n            self.inProgress = true;\r\n            console.log('invite', self.email);\r\n            api.subscriptions.invite(self.email).error(function (res) {\r\n              return $rootScope.message('Error inviting.', 'warning');\r\n            }).success(function (res) {\r\n              if (res === void 0 || res === null || res === '') {\r\n                return $rootScope.message('Invalid response.', 'warning');\r\n              } else if (res.code) {\r\n                return $rootScope.message(res.message, 'warning');\r\n              } else {\r\n                $rootScope.message('Invitation sent.', 'success');\r\n                return vm.memberInvites.invites.push(res.invite);\r\n              }\r\n            })[\"finally\"](function () {\r\n              return self.inProgress = false;\r\n            });\r\n            return false;\r\n          }\r\n        },\r\n        withdraw: {\r\n          inProgress: [],\r\n          execute: function (invite) {\r\n            var self;\r\n            self = vm.memberInvites.invite.withdraw;\r\n            self.inProgress.push(invite.id);\r\n            console.log('withdraw invite', invite);\r\n            api.subscriptions.withdrawInvite(invite).error(function (res) {\r\n              console.log('invite withdraw error', invite, res);\r\n              $rootScope.message('Error withdrawing invitation.', 'warning');\r\n            }).success(function (res) {\r\n              if (res === void 0 || res === null || res === '') {\r\n                console.log('invite withdraw error', invite, res);\r\n                return $rootScope.message('Invalid response.', 'warning');\r\n              } else if (res.code) {\r\n                console.log('invite withdraw error', invite, res);\r\n                return $rootScope.message(res.message, 'warning');\r\n              } else {\r\n                $rootScope.message('Invitation withdrawn.', 'success');\r\n                return vm.memberInvites.invites.remove(invite);\r\n              }\r\n            })[\"finally\"](function () {\r\n              return self.inProgress.remove(invite.id);\r\n            });\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    };\r\n    vm.memberInvites.load.execute();\r\n\r\n\r\n    $scope.$on('event:userLoaded', function () {\r\n      console.log('userLoaded Triggered');\r\n\r\n      console.log('vm.members.load.inProgress', vm.members.load.inProgress);\r\n      console.log('vm.members.list', vm.members.list);\r\n\r\n\r\n      if (!vm.members.load.inProgress && !vm.members.list) {\r\n\r\n        console.log('Try to load TEAM MEMBERS again');\r\n        vm.members.load.start();\r\n        console.log('vm members', vm.members.list);\r\n      }\r\n    });\r\n\r\n    console.log('vm.members', vm.members);\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.summary', ['datatables'])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, $translatePartialLoaderProvider, msNavigationServiceProvider) {\r\n\r\n    // State\r\n    $stateProvider.state('app.summary', {\r\n      url: '/summary',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/summary/summary.html',\r\n          controller: 'summaryController as vm'\r\n        }\r\n      },\r\n      bodyClass: 'forms'\r\n    });\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/summary');\r\n\r\n\r\n    // Navigation\r\n    msNavigationServiceProvider.saveItem('reports', {\r\n      title: 'Reports',\r\n      group: true,\r\n      weight: 3\r\n    });\r\n\r\n    // Navigation\r\n    msNavigationServiceProvider.saveItem('reports.summary', {\r\n      title: 'Reports',\r\n      icon: 'icon-credit-card',\r\n      state: 'app.summary',\r\n      weight: 1\r\n    });\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.summary')\r\n    .controller('summaryController', summaryController);\r\n\r\n  /** @ngInject */\r\n  function summaryController($rootScope, $http, $scope, api, $mdSidenav, $mdDialog, $document, $stateParams, $timeout, $filter, $location, $state) {\r\n    var vm = this;\r\n\r\n    vm.toggleSidenav = toggleSidenav;\r\n\r\n    vm.viewChecklistAsUser = viewChecklistAsUser;\r\n    vm.showComparison = showComparison;\r\n    vm.requestReportsProgress = requestReportsProgress;\r\n    vm.openConversationDialog = openConversationDialog;\r\n\r\n\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n    }\r\n\r\n    vm.reports = {\r\n      list: [],\r\n      loading: false,\r\n      requesting: false,\r\n      error: null,\r\n      viewing: false,\r\n      viewingSub: false,\r\n      progress: false,\r\n      progressDuration: 10000,\r\n      success: false,\r\n      refresh: function () {\r\n        vm.reports.loading = true;\r\n        vm.reports.viewing = false;\r\n        return api.summary.reports.get().success(function (res) {\r\n          if (res === void 0 || res === null || res === '') {\r\n            return $rootScope.message('Reports not loaded.', 'warning');\r\n          } else if (res.code) {\r\n            return $rootScope.message(\"Error loading reports: (\" + res.code + \": \" + res.message + \")\");\r\n          } else {\r\n            res.reports.forEach(function (report) {\r\n              var checklists;\r\n              checklists = [];\r\n              report.idsCHK.forEach(function (idCHK) {\r\n                var checklist;\r\n                checklist = $filter('filter')($rootScope.checklists, {\r\n                  idCHK: idCHK\r\n                });\r\n                if (checklist !== void 0 && checklist.length) {\r\n                  checklist = JSON.parse(JSON.stringify(checklist[0]));\r\n                  checklist.lines = $filter('filter')(report.lines, {\r\n                    idCHK: idCHK\r\n                  });\r\n                  return checklists.push(checklist);\r\n                }\r\n              });\r\n              return report.checklists = checklists;\r\n            });\r\n            console.log('loaded reports', res.reports);\r\n            return vm.reports.list = res.reports;\r\n          }\r\n        }).error(function (err) {\r\n          return $rootScope.message('Unable to load reports.', 'warning');\r\n        })[\"finally\"](function () {\r\n          return vm.reports.loading = false;\r\n        });\r\n      },\r\n      request: function () {\r\n        vm.reports.requesting = true;\r\n        vm.reports.progress = true;\r\n        vm.requestReportsProgress(vm.reports.progressDuration);\r\n        return api.summary.reports.request().success(function (res) {\r\n          if (res === void 0 || res === null || res === '') {\r\n            return $rootScope.message('Report not requested.', 'warning');\r\n          } else if (res.code) {\r\n            return $rootScope.message(\"Error requesting report: (\" + res.code + \": \" + res.message + \")\");\r\n          } else {\r\n            vm.reports.list = vm.reports.list.concat(res.reports);\r\n            $rootScope.message(\"Report is being processed.  Refresh in a little while to see the result.\");\r\n          }\r\n        }).error(function (err) {\r\n          return $rootScope.message('Unable to request report.', 'warning');\r\n        })[\"finally\"](function () {\r\n          return vm.reports.requesting = false;\r\n        });\r\n      },\r\n      view: function (report, id) {\r\n        var i;\r\n        var x;\r\n        console.log('report', report);\r\n        vm.reports.viewing = report;\r\n        vm.reports.viewing.id = id;\r\n        vm.reports.success = false;\r\n\r\n        for (i = 0; i < vm.reports.viewing.idsCHK.length; i++) {\r\n          //console.log('vm.reports.viewing.idCHK[index]', vm.reports.viewing.idsCHK[i]);\r\n          for (x = 0; x < vm.reports.viewing.lines.length; x++) {\r\n            //console.log('vm.reports.viewing.lines[index]', vm.reports.viewing.lines[x]);\r\n            if (vm.reports.viewing.checklists[i].idCHK === vm.reports.viewing.lines[x].idCHK) {\r\n              return vm.reports.viewSub(vm.reports.viewing.checklists[i], i, vm.reports.viewing.checklists[i].lastActive);\r\n            }\r\n          }\r\n        }\r\n        console.log('vm.reports.viewing', vm.reports.viewing);\r\n      },\r\n      viewSub: function (checklist, id, lastActive) {\r\n        console.log('checklist', checklist);\r\n        console.log('id', id);\r\n        vm.reports.viewingSub = checklist;\r\n        vm.reports.viewingSub.id = id;\r\n        vm.reports.viewingSub.lastActive = lastActive;\r\n        console.log('vm.reports.viewingSub', vm.reports.viewingSub);\r\n      },\r\n      clear: function () {\r\n        console.log('vm.reports.viewing', vm.reports.viewing);\r\n        console.log('vm.reports.viewingSub', vm.reports.viewingSub);\r\n        vm.reports.viewing = false;\r\n        vm.reports.viewingSub = false;\r\n      },\r\n      countReports: function (report) {\r\n\r\n        var counterLine;\r\n        var checklistsArray;\r\n        var i;\r\n        var x;\r\n        counterLine = 0;\r\n        checklistsArray = [];\r\n\r\n        console.log('report.checklists.length', report.checklists.length);\r\n\r\n        /*\r\n         for (i = 0; i < report.checklists.length; i++) {\r\n\r\n         console.log('report.checklists[index]', report.checklists[i]);\r\n\r\n         for (x = 0; x < report.lines.length; x++) {\r\n\r\n         console.log('report.lines[index]', report.lines[x]);\r\n\r\n         if (report.checklists[i].idCHK === report.lines[x].idCHK) {\r\n         counterLine++;\r\n         checklistsArray.push(report.checklists[i].idCHK);\r\n\r\n\r\n         }\r\n         }\r\n         }\r\n         */\r\n        //console.log('counterLine', counterLine);\r\n        //console.log('checklistsArray', checklistsArray);\r\n      }\r\n    };\r\n\r\n    function viewChecklistAsUser(checklist, user) {\r\n      console.log('checklist', checklist);\r\n      console.log('about to view as', user);\r\n      return $rootScope.viewAs.select(user).then(function () {\r\n        console.log('viewing as', user);\r\n        console.log('about to nav to', checklist, $rootScope.viewAs.notMe);\r\n        if ($rootScope.viewAs.notMe) {\r\n          return $location.path(\"/checklist/detail/\" + checklist.idCHK);\r\n        }\r\n      });\r\n    };\r\n\r\n    function showComparison(checklist, user, conflicts) {\r\n      //console.log('checklist', checklist);\r\n      console.log('conflicts', conflicts);\r\n      //console.log('user', user);\r\n\r\n      var showMe, showThem, sections, headings;\r\n\r\n      showMe = {\r\n        idCON: $rootScope.user.idCON,\r\n        name: $rootScope.user.name.first\r\n      };\r\n      showThem = {\r\n        idCON: user.idCON,\r\n        name: user.name.first\r\n      };\r\n\r\n      /* insert vars from summary object here */\r\n\r\n      sections = conflicts.idsCSCT;\r\n      headings = conflicts.idsCHEAD;\r\n\r\n      /*\r\n      sections = [\r\n        '11505481898883747996225093170054566696',\r\n        '210035106508187953978294279645093564028',\r\n        '290218477939258676658483551149704164901',\r\n        '280337413950814899753635094328131491910'\r\n      ];\r\n\r\n      headings = [\r\n        '222286172029066931044419024754067486563',\r\n        '164952131789207838303693072410561785534',\r\n        '7979676763804049159026288640890832749',\r\n        '329258194158486837152271106676525396705'\r\n      ];\r\n      */\r\n\r\n\r\n      //console.log('conflicts2', conflicts2);\r\n      $rootScope.showingUsers = [showMe, showThem];\r\n      //console.log('about to show comparison between', $rootScope.showingUsers);\r\n      //return $location.path(\"/checklist/detail/\" + checklist.idCHK);\r\n      $state.go('app.checklist.conflicts', {id:checklist.idCHK, checklist:checklist, sections:sections, headings:headings, items:conflicts.idsITEM});\r\n    };\r\n\r\n    function requestReportsProgress(duration) {\r\n      $timeout(function () {\r\n        var report;\r\n        vm.reports.success = true;\r\n        vm.reports.refresh();\r\n        //report = vm.reports.list[0];\r\n        //vm.reports.view(report, 0);\r\n        vm.reports.progress = false;\r\n      }, duration);\r\n    }\r\n\r\n    function openConversationDialog(ev, type, id, name) {\r\n\r\n      console.log('id', id);\r\n      console.log('name', name);\r\n      console.log('type', type);\r\n\r\n      $mdDialog.show({\r\n        controller: 'ChecklistConversationDialogController',\r\n        controllerAs: 'vm',\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-conversation-dialog.html',\r\n        parent: angular.element($document.find('#summary')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n        locals: {\r\n          convoId: id,\r\n          convoName: name,\r\n          producerType: type\r\n        }\r\n      });\r\n    }\r\n\r\n    $scope.$on('event:checklistsLoaded', function () {\r\n      if (!vm.reports.loading) {\r\n        return vm.reports.refresh();\r\n      }\r\n    });\r\n\r\n\r\n    vm.reports.refresh();\r\n\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.subscriptions', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, msApiProvider, $translatePartialLoaderProvider, msNavigationServiceProvider) {\r\n\r\n    // State\r\n    $stateProvider.state('app.subscriptions', {\r\n      url: '/subscriptions',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/subscriptions/subscriptions.html',\r\n          controller: 'subscriptionsController as vm'\r\n        }\r\n      },\r\n      bodyClass: 'forms'\r\n    });\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/subscriptions');\r\n\r\n    // Navigation\r\n    /*\r\n    msNavigationServiceProvider.saveItem('account.subscriptions', {\r\n      title: 'Subscriptions',\r\n      icon: 'icon-credit-card',\r\n      state: 'app.subscriptions',\r\n      weight: 4\r\n    });\r\n    */\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.subscriptions')\r\n    .controller('subscriptionsController', subscriptionsController);\r\n\r\n  /** @ngInject */\r\n  function subscriptionsController($rootScope, $http, $scope, api, $mdSidenav, $mdDialog, $document, $stateParams, $timeout) {\r\n    var vm = this;\r\n\r\n    vm.toggleSidenav = toggleSidenav;\r\n    vm.members = [];\r\n    vm.closeDialog = closeDialog;\r\n\r\n    vm.dtOptions = {\r\n      dom: '<\"top\"f>rt<\"bottom\"<\"left\"<\"length\"l>><\"right\"<\"info\"i><\"pagination\"p>>>',\r\n      info: false,\r\n      pagingType: 'simple',\r\n      autoWidth: false,\r\n      responsive: true\r\n    };\r\n\r\n    var idSUI;\r\n    vm.loading = false;\r\n    vm.inviting = false;\r\n    vm.makingSubActive = false;\r\n    vm.withdrawing = [];\r\n    vm.invite = null;\r\n    vm.inviteEmailsUrl = 'partials/account/subscription-inviteForm.html';\r\n    vm.offers = [];\r\n    vm.grabClientToken = null;\r\n    vm.newSubscription = false;\r\n\r\n    vm.selectSubscription = selectSubscription;\r\n    vm.clearSelectSubscription = clearSelectSubscription;\r\n\r\n    //Toggle Left Side Nav\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n    }\r\n\r\n    function closeDialog() {\r\n      $mdDialog.hide();\r\n    }\r\n\r\n\r\n    function selectSubscription(ev) {\r\n      console.log('subscriptions', $rootScope.subscriptions);\r\n      vm.newSubscription = true;\r\n      $rootScope.subscriptions.selected = null;\r\n      $rootScope.subscriptions.agreeToTerms = false;\r\n      $rootScope.subscriptions.success = false;\r\n      $rootScope.currentPaymentMethod = null;\r\n      console.log('vm.newSubscription', vm.newSubscription);\r\n    }\r\n\r\n    function clearSelectSubscription(ev) {\r\n      console.log('subscriptions', $rootScope.subscriptions);\r\n      $rootScope.subscriptions.selected = null;\r\n\r\n      console.log('vm.newSubscription', vm.newSubscription);\r\n    }\r\n\r\n    api.subscriptions.getCurrentOffers().success(function (res) {\r\n      var ref;\r\n      if ((ref = res.plans) != null ? ref.length : void 0) {\r\n        return vm.offers = vm.offers.concat(res.plans);\r\n      }\r\n    })[\"finally\"](function () {\r\n      return vm.loading = false;\r\n    });\r\n\r\n    function makeSubscriptionActive() {\r\n      vm.makingSubActive = true;\r\n      return api.subscriptions.makeSubscriptionActive($rootScope.subscriptions.selected.id).error(function (res) {\r\n        return $rootScope.message('Error inviting.', 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message('Invalid response.', 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          $rootScope.user = res.user;\r\n          return $rootScope.subscriptions.selected.users = res.contacts;\r\n        }\r\n      })[\"finally\"](function () {\r\n        return vm.makingSubActive = false;\r\n      });\r\n    };\r\n\r\n    idSUI = $stateParams.idSUI;\r\n    if (idSUI !== void 0 && idSUI !== null && idSUI !== '') {\r\n      vm.acceptInvite = {\r\n        accepting: false,\r\n        signin: {\r\n          username: '',\r\n          password: ''\r\n        },\r\n        reg: {\r\n          contact: {\r\n            name: {\r\n              first: '',\r\n              middle: '',\r\n              last: ''\r\n            },\r\n            phone: '',\r\n            email: ''\r\n          },\r\n          password: '',\r\n          password2: ''\r\n        },\r\n        login: function () {\r\n          vm.acceptInvite.accepting = true;\r\n          api.subscriptions.acceptInvite(idSUI, 'login', vm.acceptInvite.signin).error(function (res) {\r\n            console.log('invite accept error', idSUI, res);\r\n            return $rootScope.message('Error accepting invitation.', 'warning');\r\n          }).success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              console.log('invite accept error', idSUI, res);\r\n              return $rootScope.message('Invalid response.', 'warning');\r\n            } else if (res.code) {\r\n              console.log('invite accept error', idSUI, res);\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              return vm.acceptInvite.succeeded(res.user.token);\r\n            }\r\n          })[\"finally\"](function () {\r\n            return vm.acceptInvite.accepting = false;\r\n          });\r\n        },\r\n        signup: function () {\r\n          vm.acceptInvite.accepting = true;\r\n          return api.subscriptions.acceptInvite(idSUI, 'signup', vm.acceptInvite.reg).error(function (res) {\r\n            console.log('invite accept error', idSUI, res);\r\n            return $rootScope.message('Error accepting invitation.', 'warning');\r\n          }).success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              console.log('invite accept error', idSUI, res);\r\n              return $rootScope.message('Invalid response.', 'warning');\r\n            } else if (res.code) {\r\n              console.log('invite accept error', idSUI, res);\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              return vm.acceptInvite.succeeded(res.user.token);\r\n            }\r\n          })[\"finally\"](function () {\r\n            return vm.acceptInvite.accepting = false;\r\n          });\r\n        },\r\n        succeeded: function (token) {\r\n          return LoginService.doAuth({\r\n            m: 't',\r\n            t: token\r\n          });\r\n        }\r\n      };\r\n      return vm.invite = api.subscriptions.getInvite(idSUI).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n\r\n        } else if (res.code) {\r\n\r\n        } else {\r\n          vm.invite = res.invite;\r\n          vm.acceptInvite.signin.username = res.invite.email;\r\n          return vm.acceptInvite.reg.contact.email = res.invite.email;\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n    if (((vm.ref = $rootScope.user) != null ? vm.ref.authenticated : void 0) && $rootScope.user.btClientID !== void 0 && $rootScope.user.btClientID !== null && $rootScope.user.btClientID !== '') {\r\n      vm.grabClientToken = $http.get(\"https://checklinked.com/ajax/braintree_clientID-get.php?cID=\" + $rootScope.user.btClientID);\r\n    } else {\r\n      vm.grabClientToken = $http.get(\"https://checklinked.com/ajax/braintree_clientID-get.php\");\r\n    }\r\n    vm.grabClientToken.success(function (res) {\r\n\r\n      vm.clientToken = res;\r\n      if (vm.clientToken !== void 0 && vm.clientToken !== null && vm.clientToken !== '') {\r\n        $timeout(function () {\r\n          braintree.setup(vm.clientToken, \"dropin\", {\r\n            onPaymentMethodReceived: function (res) {\r\n              $rootScope.currentPaymentMethod = res;\r\n              console.log('payment method updated', $rootScope.currentPaymentMethod);\r\n              $rootScope.$apply();\r\n              $rootScope.$broadcast('event:paymentMethodReceived');\r\n            },\r\n            onError: function (type, message) {\r\n              $rootScope.message(\"Error (\" + type + \"): \" + message, 'warning');\r\n            },\r\n            container: \"payment-form\"\r\n          });\r\n        });\r\n      }\r\n    });\r\n\r\n    console.log('$rootScope.subscriptions', $rootScope.subscriptions);\r\n    console.log('vm.newSubscription', vm.newSubscription);\r\n\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.queue', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, msApiProvider, $translatePartialLoaderProvider, msNavigationServiceProvider) {\r\n\r\n    // State\r\n    $stateProvider.state('app.queue', {\r\n      url: '/queue',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/queue/queue.html',\r\n          controller: 'QueueController as vm'\r\n        }\r\n      },\r\n      bodyClass: 'forms'\r\n    });\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/queue');\r\n\r\n    // Navigation\r\n    msNavigationServiceProvider.saveItem('checklists.queue', {\r\n      title: 'Assign Checklists',\r\n      icon: 'icon-clipboard-arrow-left',\r\n      state: 'app.queue',\r\n      weight: 4\r\n    });\r\n\r\n  }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.queue')\r\n        .controller('QueueController', QueueController);\r\n\r\n    /** @ngInject */\r\n    function QueueController($rootScope, $http, $scope, api, $mdSidenav, $mdDialog, $document)\r\n    {\r\n\r\n    var vm = this;\r\n\r\n\tvm.toggleSidenav = toggleSidenav;\r\n\tvm.closeDialog = closeDialog;\r\n\tvm.openAcceptLinkRequestDialog = openAcceptLinkRequestDialog;\r\n\tvm.queue = [];\r\n\r\n\tfunction closeDialog() {\r\n    \t$mdDialog.hide();\r\n    }\r\n\r\n\tfunction toggleSidenav(sidenavId) {\r\n\t\t$mdSidenav(sidenavId).toggle();\r\n    }\r\n\r\n\tfunction openAcceptLinkRequestDialog(ev)\t{\r\n\r\n            $mdDialog.show({\r\n                scope\t\t\t   : $scope,\r\n\t\t\t\tpreserveScope\t   : true,\r\n                templateUrl        : 'app/main/queue/dialogs/queue/accept-link-request-dialog.html',\r\n                parent             : angular.element($document.find('#queue')),\r\n                targetEvent        : ev,\r\n                clickOutsideToClose: true\r\n            });\r\n        }\r\n\r\n\r\n\t$scope.$on('event:rolesUpdated', function() {});\r\n\r\n    $scope.$on('event:membersUpdated', function() {\r\n      return vm.members.load.start();\r\n    });\r\n    vm.members = {\r\n      list: [],\r\n      roles: [],\r\n      load: {\r\n        inProgress: false,\r\n        error: '',\r\n        start: function(idCON) {\r\n          var process;\r\n          if (idCON == null) {\r\n            idCON = null;\r\n          }\r\n          if (idCON === null) {\r\n            this.inProgress = true;\r\n            this.error = '';\r\n            process = this.processMember;\r\n\t\t\t\t\t\treturn $http.get(\"https://checklinked.com/ajax/organization_members-get.php\").success(function (res) {\r\n              if (res === void 0 || res === null || res === '') {\r\n                console.log('Error loading team members: ', res);\r\n                return vm.members.load.error = 'Error loading Team Members! (Server not responding properly.)';\r\n              } else if (res.code) {\r\n                return vm.members.load.error = \"Error loading Team Members: (\" + res.code + \") \" + res.message;\r\n              } else {\r\n                vm.members.roles = res.roles;\r\n                return vm.members.list = res.members.map(process);\r\n              }\r\n            }).error(function(err) {\r\n              console.log('Error loading team members: ', err);\r\n              return vm.members.load.error = 'Error loading Team Members! (Sever not responding.)';\r\n            })[\"finally\"](function() {\r\n              return vm.members.load.inProgress = false;\r\n            });\r\n          } else {\r\n\r\n          }\r\n        },\r\n        processMember: function(raw) {\r\n          var processed, roles;\r\n          roles = $.extend({}, raw.roles, {\r\n            setting: [],\r\n            set: function(role, willHave) {\r\n              var self;\r\n              this.setting.push(role);\r\n              self = this;\r\n\t\t\t\t\t\t\treturn $http.post(\"https://checklinked.com/ajax/organization_member_role_set-post.php\", {\r\n                idCON: raw.idCON,\r\n                role: role,\r\n                setTo: willHave\r\n              }, {\r\n                headers: {\r\n                  'Content-Type': 'application/x-www-form-urlencoded'\r\n                },\r\n                cache: false\r\n              }).success(function(res) {\r\n                var ref3, ref4;\r\n                self.setting.remove(role);\r\n                if (res === void 0 || res === null || res === '') {\r\n                  $rootScope.message('Error updating Team Member role. Server not responding properly.', 'warning');\r\n                } else if (res.code) {\r\n                  $rootScope.message(\"Error updating Team Member role. (\" + res.code + \") \" + res.message, 'warning');\r\n                } else if (willHave) {\r\n                  self.has.push(role);\r\n                } else {\r\n                  self.has.remove(role);\r\n                }\r\n                $rootScope.socketio.emit('roles_updated', raw.idCON);\r\n                if ((ref3 = $rootScope.user.organization) != null ? (ref4 = ref3.idACC) != null ? ref4.length : void 0 : void 0) {\r\n                  return $rootScope.socketio.emit('members_updated', $rootScope.user.organization.idACC);\r\n                }\r\n              }).error(function(err) {\r\n                self.setting.remove(role);\r\n                return $rootScope.message('Error updating Team Member role.  Server not responding.', 'warning');\r\n              })[\"finally\"](function() {\r\n                return self.setting.remove(role);\r\n              });\r\n            }\r\n          });\r\n          processed = raw;\r\n          processed.roles = roles;\r\n          return processed;\r\n        }\r\n      }\r\n    };\r\n    vm.members.load.start();\r\n    vm.templates = {\r\n      list: [],\r\n      load: {\r\n        inProgress: false,\r\n        error: '',\r\n        start: function() {\r\n          var process;\r\n          this.inProgress = true;\r\n          this.error = '';\r\n          process = this.processTemplate;\r\n\t\t\t\t\treturn $http.get(\"https://checklinked.com/ajax/templates-get.php?org=1&noXML=1\").success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              console.log('Error loading templates: ', res);\r\n              return vm.templates.load.error = 'Error loading Templates! (Server not responding properly.)';\r\n            } else if (res.code) {\r\n              return vm.templates.load.error = \"Error loading Templates: (\" + res.code + \") \" + res.message;\r\n            } else if (res.templates !== void 0 && res.templates.length) {\r\n              return vm.templates.list = res.templates.map(process);\r\n            }\r\n          }).error(function(err) {\r\n            console.log('Error loading team members: ', err);\r\n            return vm.templates.load.error = 'Error loading Templates! (Sever not responding.)';\r\n          })[\"finally\"](function() {\r\n            return vm.templates.load.inProgress = false;\r\n          });\r\n        },\r\n        processTemplate: function(raw) {\r\n          var processed;\r\n          processed = $.extend({}, raw, {\r\n            revising: false,\r\n            deleting: false,\r\n            revise: function() {\r\n              return $rootScope.message('This function is under construction.');\r\n            },\r\n            remove: function() {\r\n              var template;\r\n              if (this.deleting) {\r\n                return false;\r\n              }\r\n              console.log('deleting template', template);\r\n              this.deleting = true;\r\n              template = this;\r\n\t\t\t\t\t\t\treturn $http.post(\"https://checklinked.com/ajax/template_delete-post.php\", {\r\n                template: template\r\n              }, {\r\n                headers: {\r\n                  'Content-Type': 'application/x-www-form-urlencoded'\r\n                },\r\n                cache: false\r\n              }).success(function(res) {\r\n                if (res === void 0 || res === null || res === '') {\r\n                  return $rootScope.message('Error deleting Template. Server not responding properly.', 'warning');\r\n                } else if (res.code) {\r\n                  return $rootScope.message(\"Error deleting Template: (\" + res.code + \"): \" + res.message, 'warning');\r\n                } else {\r\n                  vm.templates.list.remove(template);\r\n                  console.log('template deleted', template, vm.templates.list);\r\n                  return $rootScope.message('Template Deleted');\r\n                }\r\n              }).error(function(err) {\r\n                return $rootScope.message('Error deleting Template. Server not responding.', 'warning');\r\n              })[\"finally\"](function() {\r\n                return template.deleting = false;\r\n              });\r\n            }\r\n          });\r\n          return processed;\r\n        }\r\n      }\r\n    };\r\n    vm.templates.load.start();\r\n    vm.queue = {\r\n      list: [],\r\n      load: {\r\n        inProgress: false,\r\n        error: '',\r\n        start: function() {\r\n          var process;\r\n          this.inProgress = true;\r\n          this.error = '';\r\n          process = this.processInvite;\r\n\t\t\t\t\treturn $http.get(\"https://checklinked.com/ajax/checklist_invites-get.php?queue=1\").success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              console.log('Error loading invites: ', res);\r\n              return vm.templates.load.error = 'Error loading Invites! (Server not responding properly.)';\r\n            } else if (res.code) {\r\n              return vm.queue.load.error = \"Error loading Invites: (\" + res.code + \") \" + res.message;\r\n            } else if (res.invites !== void 0 && res.invites.length) {\r\n              return vm.queue.list = res.invites.map(process);\r\n            }\r\n          }).error(function(err) {\r\n            console.log('Error loading team members: ', err);\r\n            return vm.queue.load.error = 'Error loading Templates! (Sever not responding.)';\r\n          })[\"finally\"](function() {\r\n            return vm.queue.load.inProgress = false;\r\n          });\r\n        },\r\n        processInvite: function(raw) {\r\n          var processed;\r\n          processed = $.extend({}, raw, {\r\n            accepting: false,\r\n            rejecting: false,\r\n            accept: function() {\r\n              vm.queue.assign.invite = this;\r\n              //$('#select-org-contact-modal').modal('show');\r\n             vm.openAcceptLinkRequestDialog();\r\n              return false;\r\n            },\r\n            reject: function() {\r\n              var invite;\r\n              if (this.rejecting) {\r\n                return false;\r\n              }\r\n              this.rejecting = true;\r\n              invite = this;\r\n\t\t\t\t\t\t\treturn $http.post(\"https://checklinked.com/ajax/checklist_invite-destroy.php\", {\r\n                idINVITE: invite.id,\r\n                type: invite.type\r\n              }, {\r\n                headers: {\r\n                  'Content-Type': 'application/x-www-form-urlencoded'\r\n                },\r\n                cache: false\r\n              }).success(function(res) {\r\n                if (res === void 0 || res === null || res === '') {\r\n                  return $rootScope.message('Error rejecting Checklist. Server not responding properly.', 'warning');\r\n                } else if (res.code) {\r\n                  return $rootScope.message(\"Error deleting Checklist: (\" + res.code + \"): \" + res.message, 'warning');\r\n                } else {\r\n                  vm.queue.list.remove(invite);\r\n                  return $rootScope.message('Invite Rejected');\r\n                }\r\n              }).error(function(err) {\r\n                return $rootScope.message('Error rejecting Checklist. Server not responding.', 'warning');\r\n              })[\"finally\"](function() {\r\n                return invite.rejecting = false;\r\n              });\r\n            }\r\n          });\r\n          return processed;\r\n        }\r\n      },\r\n      assign: {\r\n        inProgress: false,\r\n        contact: null,\r\n        invite: null,\r\n        assign: function(contact) {\r\n          var self;\r\n          this.contact = contact;\r\n          this.inProgress = true;\r\n          console.log('assigning', this);\r\n          self = this;\r\n\t\t\t\t\treturn $http.post(\"https://checklinked.com/ajax/checklist_invite-assign.php\", {\r\n            idCON: self.contact.idCON,\r\n            idINVITE: self.invite.id,\r\n            type: self.invite.type\r\n          }, {\r\n            headers: {\r\n              'Content-Type': 'application/x-www-form-urlencoded'\r\n            },\r\n            cache: false\r\n          }).success(function(res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              return $rootScope.message('Error assigning Invite. Server not responding properly.', 'warning');\r\n            } else if (res.code) {\r\n              return $rootScope.message(\"Error assigning Invite: (\" + res.code + \"): \" + res.message, 'warning');\r\n            } else {\r\n              vm.queue.list.remove(self.invite);\r\n              self.invite = null;\r\n              vm.closeDialog();\r\n              return $rootScope.message('Invite Assigned');\r\n            }\r\n          }).error(function(err) {\r\n            return $rootScope.message('Error assigning Invite. Server not responding.', 'warning');\r\n          })[\"finally\"](function() {\r\n            self.inProgress = false;\r\n            return self.contact = null;\r\n          });\r\n        }\r\n      }\r\n    };\r\n    vm.queue.load.start();\r\n    }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.organization', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, msApiProvider, $translatePartialLoaderProvider, msNavigationServiceProvider) {\r\n\r\n    // State\r\n    $stateProvider.state('app.organization', {\r\n      url: '/organization',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/organization/organization.html',\r\n          controller: 'OrganizationController as vm'\r\n        }\r\n      },\r\n      bodyClass: 'forms'\r\n    });\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/organization');\r\n\r\n    // Navigation\r\n    /*\r\n    msNavigationServiceProvider.saveItem('account.organization', {\r\n      title: 'Organization Profile',\r\n      icon: 'icon-store',\r\n      state: 'app.organization',\r\n      weight: 2\r\n    });\r\n    */\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.organization')\r\n    .controller('OrganizationController', OrganizationController);\r\n\r\n  /** @ngInject */\r\n  function OrganizationController($rootScope, $http, $scope, api, $mdSidenav) {\r\n\r\n    var vm = this;\r\n\r\n    vm.user = $rootScope.user;\r\n\r\n    console.log('vm.user', vm.user);\r\n\r\n    vm.toggleSidenav = toggleSidenav;\r\n\r\n    vm.update = update;\r\n\r\n    vm.createOrg = createOrg;\r\n\r\n    vm.createOrganization = false;\r\n\r\n\r\n    var blank, ref, ref1, ref2;\r\n\r\n    blank = {\r\n      name: '',\r\n      address: {\r\n        line1: '',\r\n        line2: '',\r\n        city: '',\r\n        state: '',\r\n        zip: '',\r\n        country: 'USA'\r\n      },\r\n      phone: '',\r\n      email: ''\r\n    };\r\n\r\n\r\n    console.log('$rootScope.user', $rootScope.user);\r\n\r\n    if (((ref = $rootScope.user) != null ? ref.organization : void 0) === void 0 || ((ref1 = $rootScope.user) != null ? ref1.organization : void 0) === null || ((ref2 = $rootScope.user) != null ? ref2.organization.length : void 0) === 0) {\r\n      console.log('blank');\r\n      vm.orgTmp = blank;\r\n    } else {\r\n      vm.orgTmp = $rootScope.user.organization;\r\n      console.log('notblank');\r\n    }\r\n\r\n    console.log('vm.orgTmp', vm.orgTmp);\r\n\r\n    if(vm.orgTmp.idACC > 0){ vm.createOrganization = true;}\r\n\r\n    //console.log('vm.createOrganization', vm.createOrganization);\r\n\r\n    vm.selectedSubscription = null;\r\n    vm.updating = false;\r\n\r\n    function update() {\r\n      console.log('vm.orgTmp', vm.orgTmp);\r\n      vm.updating = true;\r\n      return $http.post('https://checklinked.com/ajax/organization-update-post.php', {\r\n        org: vm.orgTmp\r\n      }, {\r\n        headers: {\r\n          'Content-Type': 'application/x-www-form-urlencoded'\r\n        },\r\n        cache: false\r\n      }).error(function () {\r\n        return $rootScope.message('Error talking to server.', 'warning');\r\n      }).success(function (resp) {\r\n        if (resp === void 0 || resp === null || resp === '') {\r\n          return $rootScope.message('Server response is unreadable.', 'warning');\r\n        } else if (resp.code) {\r\n          return $rootScope.message(resp.message);\r\n        } else {\r\n          $rootScope.user = resp.user;\r\n          $rootScope.viewAs.user = resp.viewAs;\r\n          return $rootScope.message('Organization Information updated successfully.');\r\n        }\r\n      })[\"finally\"](function () {\r\n        return vm.updating = false;\r\n      });\r\n    };\r\n\r\n    vm.creating = false;\r\n\r\n    function createOrg() {\r\n      var send;\r\n      vm.creating = true;\r\n      console.log('org id', vm.orgTmp);\r\n      send = vm.orgTmp;\r\n      return $http.post('https://checklinked.com/ajax/organization-create-post.php', {\r\n        org: send\r\n      }, {\r\n        headers: {\r\n          'Content-Type': 'application/x-www-form-urlencoded'\r\n        },\r\n        cache: false\r\n      }).error(function () {\r\n        return $rootScope.message('Error talking to server.', 'warning');\r\n      }).success(function (resp) {\r\n        if (resp === void 0 || resp === null || resp === '') {\r\n          return $rootScope.message('Server response is unreadable.', 'warning');\r\n        } else if (resp.code) {\r\n          return $rootScope.message(resp.message, 'warning');\r\n        } else {\r\n          $rootScope.user = resp.user;\r\n          return $rootScope.message('Organization details have been updated.', 'success');\r\n        }\r\n      })[\"finally\"](function () {\r\n        return vm.creating = false;\r\n      });\r\n    };\r\n\r\n\r\n    //Toggle Left Side Nav\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.mail')\r\n    .controller('MailController', MailController);\r\n\r\n  /** @ngInject */\r\n  function MailController($scope, $rootScope, $document, $mdDialog, $mdMedia, $mdSidenav, $http, $state, msApi, Folders, Labels, Outbox, $filter, api) {\r\n    var vm = this;\r\n\r\n    vm.debug = false;\r\n    vm.colors = ['blue-bg', 'blue-grey-bg', 'orange-bg', 'green-bg', 'teal-bg'];\r\n    vm.selectedAccount = 'creapond';\r\n\r\n    vm.folders = Folders.data;\r\n    vm.labels = Labels.data;\r\n    vm.outbox = Outbox.data;\r\n    vm.loadingThreads = true;\r\n    vm.outboxToggle = false;\r\n    vm.currentFilter = {\r\n      type: null,\r\n      filter: 1,\r\n      name: 'Inbox'\r\n    };\r\n\r\n    vm.currentThread = null;\r\n    vm.selectedThreads = [];\r\n\r\n    vm.views = {\r\n      classic: 'app/main/mail/views/classic/classic-view.html',\r\n      outlook: 'app/main/mail/views/outlook/outlook-view.html'\r\n    };\r\n\r\n    vm.defaultView = 'outlook';\r\n    vm.currentView = 'outlook';\r\n\r\n    // Methods\r\n\r\n\r\n    vm.isFolderActive = isFolderActive;\r\n    vm.isOutboxActive = isOutboxActive;\r\n    vm.isLabelActive = isLabelActive;\r\n\r\n    vm.openThread = openThread;\r\n    vm.closeThread = closeThread;\r\n\r\n    vm.isSelected = isSelected;\r\n    vm.toggleSelectThread = toggleSelectThread;\r\n    vm.selectThreads = selectThreads;\r\n    vm.deselectThreads = deselectThreads;\r\n    vm.toggleSelectThreads = toggleSelectThreads;\r\n\r\n    vm.setThreadStatus = setThreadStatus;\r\n    vm.toggleThreadStatus = toggleThreadStatus;\r\n\r\n    vm.getLabel = getLabel;\r\n    vm.getLabelColor = getLabelColor;\r\n    vm.getLabelTitle = getLabelTitle;\r\n    vm.toggleLabel = toggleLabel;\r\n    vm.isLabelExist = isLabelExist;\r\n\r\n    vm.changeView = changeView;\r\n\r\n    vm.composeDialog = composeDialog;\r\n    vm.replyDialog = replyDialog;\r\n\r\n    vm.toggleSidenav = toggleSidenav;\r\n\r\n    vm.filterThreads = filterThreads;\r\n    vm.filterFolder = filterFolder;\r\n\r\n    vm.fetchChecklist = fetchChecklist;\r\n    vm.fetchSection = fetchSection;\r\n    vm.fetchHeading = fetchHeading;\r\n    vm.fetchItem = fetchItem;\r\n    vm.fetchChecklistData = fetchChecklistData;\r\n    vm.fetchUser = fetchUser;\r\n    vm.deleteFeed = deleteFeed;\r\n    vm.filterOutbox = filterOutbox;\r\n\r\n    vm.upperCaseFirst = upperCaseFirst;\r\n\r\n    vm.passChecklistPostings = passChecklistPostings;\r\n    vm.passInvitations = passInvitations;\r\n    vm.passContacts = passContacts;\r\n    vm.passMessages = passMessages;\r\n\r\n    vm.fetchInvites = fetchInvites;\r\n\r\n    vm.type = {\r\n      'notification': '',\r\n      'post': '',\r\n      'checklist': '',\r\n      'message': '',\r\n      'invited': ''\r\n    };\r\n\r\n    vm.type.item = {\r\n      'checklist': '',\r\n      'section': '',\r\n      'heading': '',\r\n      'invited': ''\r\n    };\r\n\r\n    console.log('vm.type', vm.type);\r\n    console.log('vm.type.item', vm.type.item);\r\n\r\n    init();\r\n\r\n    /**\r\n     * Initialize\r\n     */\r\n    function init() {\r\n      // Request the feed\r\n      //vm.threads = $rootScope.feed.items;\r\n\r\n      api.feed.get().then(function (d) {\r\n        vm.threads = d.data.feed;\r\n        vm.threads.forEach(function (thread) {\r\n\r\n          //console.log('thread', thread);\r\n          switch (thread.type) {\r\n            case 'notification':\r\n              thread.labels = [5];\r\n              break;\r\n            case 'invite':\r\n              thread.labels = [2];\r\n              break;\r\n            case 'invited':\r\n              thread.labels = [3];\r\n              break;\r\n            case 'message':\r\n              thread.labels = [4];\r\n              break;\r\n            case 'post':\r\n              thread.labels = [6];\r\n              break;\r\n            case 'accepted':\r\n              thread.labels = [3];\r\n              break;\r\n            default:\r\n              thread.labels = [0];\r\n              break;\r\n          }\r\n          switch (thread.item.type) {\r\n            case 'checklist':\r\n              thread.labels.push(7);\r\n              break;\r\n            case 'section':\r\n              thread.labels.push(11);\r\n              break;\r\n            case 'heading':\r\n              thread.labels.push(10);\r\n              break;\r\n            case 'item':\r\n              thread.labels.push(12);\r\n              break;\r\n            case 'post':\r\n              thread.labels.push(6);\r\n              break;\r\n            default:\r\n              thread.labels.push(0);\r\n              break;\r\n          }\r\n\r\n        });\r\n\r\n\r\n        console.log('$rootScope.user', $rootScope.user);\r\n\r\n        api.conversations.sent($rootScope.user.idCON, 0).success(function (res) {\r\n          if (res !== undefined && res != null && res != '' && !res.code) {\r\n            vm.sent = res;\r\n            console.log('sent', vm.sent);\r\n          }\r\n        })[\"finally\"](function () {\r\n        });\r\n        console.log('vm.threads', vm.threads);\r\n      });\r\n\r\n      // Load new threads\r\n      //vm.threads = vm.threads;\r\n\r\n      // Hide the loading screen\r\n      vm.loadingThreads = false;\r\n      if (vm.threads) {\r\n        // Open the thread if needed\r\n        if ($state.params.threadId) {\r\n          for (var i = 0; i < vm.threads.length; i++) {\r\n            if (vm.threads[i].id === $state.params.threadId) {\r\n              vm.openThread(vm.threads[i]);\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    function fetchInvites() {\r\n      $rootScope.loading.invites = true;\r\n      api.checklists.invite.get().error(function (res) {\r\n        vm.inviteControl.error = 'Unknown error talking to server.';\r\n      }).success(function (res) {\r\n        if (res.code) {\r\n          console.log('res.code', res);\r\n          vm.inviteControl.error = res.message;\r\n        } else {\r\n          console.log('res.code', res);\r\n          vm.invites = res.invites;\r\n        }\r\n      })[\"finally\"](function () {\r\n        vm.invites.loaded = true;\r\n        $rootScope.loading.invites = false;\r\n        noNav = true;\r\n      });\r\n    }\r\n\r\n    function upperCaseFirst(string) {\r\n      return string.charAt(0).toUpperCase() + string.slice(1);\r\n    }\r\n\r\n\r\n    function filterThreads(labelId) {\r\n      vm.outboxToggle = false;\r\n      console.log('labelId', labelId);\r\n      var label;\r\n      label = vm.getLabel(labelId);\r\n\r\n      console.log('label', label);\r\n\r\n      // Show loader\r\n      $rootScope.loadingProgress = true;\r\n\r\n      // Update the state without reloading the controller\r\n      $state.go('app.mail.threads', {\r\n        type: 'label',\r\n        filter: label.id\r\n      }, {notify: false});\r\n\r\n\r\n      // Set the current filter\r\n      vm.currentFilter = {\r\n        type: 'label',\r\n        filter: label.id,\r\n        name: label.title\r\n      };\r\n\r\n      // Close the current thread if open\r\n      if (vm.currentThread) {\r\n        vm.closeThread();\r\n      }\r\n\r\n      // Hide loader\r\n      $rootScope.loadingProgress = false;\r\n\r\n      //Reset vm.threads and filter again...\r\n      vm.threads = $rootScope.feed.items;\r\n      //console.log('vm.threads', vm.threads);\r\n      vm.threads = $filter('filter')(\r\n        vm.threads, {labels: labelId}, true\r\n      );\r\n\r\n      $mdSidenav('main-sidenav').toggle();\r\n      return vm.threads;\r\n    }\r\n\r\n    function filterFolder(unread) {\r\n      var label, folderID;\r\n      vm.outboxToggle = false;\r\n      console.log('unread', unread);\r\n\r\n      // Show loader\r\n      $rootScope.loadingProgress = true;\r\n\r\n      // Update the state without reloading the controller\r\n      /*\r\n       $state.go('app.mail.threads', {\r\n       type: null,\r\n       filter: unread\r\n       }, {notify: false});\r\n       */\r\n\r\n      //Replace switchCase with array\r\n      switch (unread) {\r\n        case 'all':\r\n          label = 'Inbox';\r\n          folderID = 1;\r\n          console.log('label', label);\r\n          break;\r\n        case 'true':\r\n          label = 'Unread';\r\n          folderID = 2;\r\n          console.log('label', label);\r\n          break;\r\n        case 'false':\r\n          label = 'Read';\r\n          folderID = 3;\r\n          console.log('label', label);\r\n          break;\r\n        default:\r\n          label = 'Inbox';\r\n          folderID = 1;\r\n      }\r\n      // Set the current filter\r\n      vm.currentFilter = {\r\n        type: null,\r\n        filter: folderID,\r\n        name: label\r\n      };\r\n\r\n      // Close the current thread if open\r\n      if (vm.currentThread) {\r\n        vm.closeThread();\r\n      }\r\n\r\n      // Hide loader\r\n      $rootScope.loadingProgress = false;\r\n\r\n      vm.threads = $rootScope.feed.items;\r\n      console.log('vm.threads', vm.threads);\r\n      console.log('unread', unread);\r\n      if (unread !== 'all') {\r\n        vm.threads = $filter('filter')(\r\n          vm.threads, {unread: unread}\r\n        );\r\n      }\r\n      console.log('vm.threads filtered', vm.threads);\r\n      $mdSidenav('main-sidenav').toggle();\r\n      return vm.threads;\r\n    }\r\n\r\n\r\n    function filterOutbox() {\r\n      vm.outboxToggle = true;\r\n      console.log('sent', vm.sent);\r\n\r\n      vm.currentFilter = {\r\n        type: 'outbox',\r\n        filter: 1,\r\n        name: 'Outbox'\r\n      };\r\n\r\n      // Close the current thread if open\r\n      if (vm.currentThread) {\r\n        vm.closeThread();\r\n      }\r\n\r\n      $mdSidenav('main-sidenav').toggle();\r\n      return vm.outboxThreads = vm.sent.posts;\r\n    }\r\n\r\n\r\n    $rootScope.$on('event:feedNotificationsReceived', function () {\r\n      vm.threads = null;\r\n      //console.log('vm.threads loaded', vm.threads);\r\n      vm.threads = $rootScope.feed.items;\r\n      //console.log('vm.threads loaded', vm.threads);\r\n    });\r\n\r\n    // Watch screen size to change view modesfeedNotificationsReceived\r\n    $scope.$watch(function () {\r\n      return $mdMedia('xs');\r\n    }, function (current, old) {\r\n      if (current) {\r\n        vm.currentView = 'classic';\r\n      }\r\n    });\r\n\r\n    $scope.$watch(function () {\r\n      return $mdMedia('gt-xs');\r\n    }, function (current, old) {\r\n      if (current) {\r\n        if (vm.defaultView === 'outlook') {\r\n          vm.currentView = 'outlook';\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n    /**\r\n     * Is the folder with the given name active?\r\n     *\r\n     * @param name\r\n     * @returns {boolean}\r\n     */\r\n    function isFolderActive(id) {\r\n      //console.log('isFolderActive:name', id);\r\n      //console.log('vm.currentFilter.filter', vm.currentFilter.filter);\r\n      return (vm.currentFilter.type === null && vm.currentFilter.filter === id);\r\n    }\r\n\r\n    function isOutboxActive(id) {\r\n      //console.log('isFolderActive:name', id);\r\n      //console.log('vm.currentFilter.filter', vm.currentFilter.filter);\r\n      return (vm.currentFilter.type === 'outbox' && vm.currentFilter.filter === id);\r\n    }\r\n\r\n    /**\r\n     * Is the label with the given name active?\r\n     *\r\n     * @param name\r\n     * @returns {boolean}\r\n     */\r\n    function isLabelActive(id) {\r\n\r\n      //console.log('isLabelActive:id', id);\r\n\r\n      return (vm.currentFilter.type === 'label' && vm.currentFilter.filter === id);\r\n    }\r\n\r\n    /**\r\n     * Open thread\r\n     *\r\n     * @param thread\r\n     */\r\n\r\n    function openThread(thread) {\r\n\r\n      //Set Details to true\r\n      vm.selectedMailShowDetails = false;\r\n\r\n      // Set the read status on the thread\r\n      thread.read = true;\r\n\r\n      // Assign thread as the current thread\r\n      vm.currentThread = thread;\r\n\r\n\r\n      // Update the state without reloading the controller\r\n      //$state.go('app.mail.threads.thread', {threadId: thread.id}, {notify: false});\r\n\r\n\r\n      console.log('thread', thread);\r\n      console.log('thread.item.type', thread.item.type);\r\n      var itemID = [thread.id];\r\n      console.log(itemID);\r\n\r\n      // This HACK will be replaced when endpoint data is refactored and consistent\r\n      switch (thread.type) {\r\n        case 'notification':\r\n          vm.fetchChecklist(thread.item.idCHK);\r\n          switch (thread.item.type) {\r\n            case 'section':\r\n              vm.fetchSection(thread.item.idCHK, thread.item.id);\r\n              break;\r\n            case 'heading':\r\n              vm.fetchHeading(thread.item.idCHK, thread.item.id);\r\n              break;\r\n            case 'item':\r\n              vm.fetchItem(thread.item.idCHK, thread.item.id);\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n          break;\r\n        case 'invite':\r\n          vm.fetchUser(thread);\r\n          break;\r\n        case 'invited':\r\n          vm.fetchUser(thread);\r\n          break;\r\n        case 'message':\r\n          vm.fetchUser(thread);\r\n          break;\r\n        case 'accepted':\r\n          vm.fetchUser(thread);\r\n          break;\r\n        case 'post':\r\n          vm.fetchChecklist(thread.item.idCHK);\r\n          switch (thread.item.type) {\r\n            case 'section':\r\n              vm.fetchSection(thread.item.idCHK, thread.item.id);\r\n              break;\r\n            case 'heading':\r\n              vm.fetchHeading(thread.item.idCHK, thread.item.id);\r\n              break;\r\n            case 'item':\r\n              vm.fetchItem(thread.item.idCHK, thread.item.id);\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n\r\n\r\n      $rootScope.feed.mark(itemID);\r\n\r\n      var i;\r\n      for (i = 0; i < vm.threads.length; i++) {\r\n        if (vm.threads[i].id == itemID) {\r\n          console.log('pre shift', vm.threads[i]);\r\n\r\n          vm.threads[i].unread = false;\r\n          console.log('post shift', vm.threads[i]);\r\n        }\r\n      }\r\n\r\n\r\n    }\r\n\r\n    /**\r\n     * Close thread\r\n     */\r\n    function closeThread() {\r\n      vm.currentThread = null;\r\n\r\n      // Update the state without reloading the controller\r\n      $state.go('app.mail.threads', {\r\n        type: vm.currentFilter.type,\r\n        filter: vm.currentFilter.filter\r\n      }, {notify: false});\r\n    }\r\n\r\n    /**\r\n     * Return selected status of the thread\r\n     *\r\n     * @param thread\r\n     * @returns {boolean}\r\n     */\r\n    function isSelected(thread) {\r\n      return vm.selectedThreads.indexOf(thread) > -1;\r\n    }\r\n\r\n    /**\r\n     * Toggle selected status of the thread\r\n     *\r\n     * @param thread\r\n     * @param event\r\n     */\r\n    function toggleSelectThread(thread, event) {\r\n      if (event) {\r\n        event.stopPropagation();\r\n      }\r\n\r\n      if (vm.selectedThreads.indexOf(thread) > -1) {\r\n        vm.selectedThreads.splice(vm.selectedThreads.indexOf(thread), 1);\r\n      }\r\n      else {\r\n        vm.selectedThreads.push(thread);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Select threads. If key/value pair given,\r\n     * threads will be tested against them.\r\n     *\r\n     * @param [key]\r\n     * @param [value]\r\n     */\r\n    function selectThreads(key, value) {\r\n      // Make sure the current selection is cleared\r\n      // before trying to select new threads\r\n      vm.selectedThreads = [];\r\n\r\n      for (var i = 0; i < vm.threads.length; i++) {\r\n        if (angular.isUndefined(key) && angular.isUndefined(value)) {\r\n          vm.selectedThreads.push(vm.threads[i]);\r\n          continue;\r\n        }\r\n\r\n        if (angular.isDefined(key) && angular.isDefined(value) && vm.threads[i][key] === value) {\r\n          vm.selectedThreads.push(vm.threads[i]);\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Deselect threads\r\n     */\r\n    function deselectThreads() {\r\n      vm.selectedThreads = [];\r\n    }\r\n\r\n    /**\r\n     * Toggle select threads\r\n     */\r\n    function toggleSelectThreads() {\r\n      if (vm.selectedThreads.length > 0) {\r\n        vm.deselectThreads();\r\n      }\r\n      else {\r\n        vm.selectThreads();\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Set the status on given thread, current thread or selected threads\r\n     *\r\n     * @param key\r\n     * @param value\r\n     * @param [thread]\r\n     * @param [event]\r\n     */\r\n    function setThreadStatus(key, value, thread, event) {\r\n      // Stop the propagation if event provided\r\n      // This will stop unwanted actions on button clicks\r\n      if (event) {\r\n        event.stopPropagation();\r\n      }\r\n\r\n      // If the thread provided, do the changes on that\r\n      // particular thread\r\n      if (thread) {\r\n        thread[key] = value;\r\n        return;\r\n      }\r\n\r\n      // If the current thread is available, do the\r\n      // changes on that one\r\n      if (vm.currentThread) {\r\n        vm.currentThread[key] = value;\r\n        return;\r\n      }\r\n\r\n      // Otherwise do the status update on selected threads\r\n      for (var x = 0; x < vm.selectedThreads.length; x++) {\r\n        vm.selectedThreads[x][key] = value;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Toggle the value of the given key on given thread, current\r\n     * thread or selected threads. Given key value must be boolean.\r\n     *\r\n     * @param key\r\n     * @param thread\r\n     * @param event\r\n     */\r\n    function toggleThreadStatus(key, thread, event) {\r\n      // Stop the propagation if event provided\r\n      // This will stop unwanted actions on button clicks\r\n      if (event) {\r\n        event.stopPropagation();\r\n      }\r\n\r\n      // If the thread provided, do the changes on that\r\n      // particular thread\r\n      if (thread) {\r\n        if (typeof(thread[key]) !== 'boolean') {\r\n          return;\r\n        }\r\n\r\n        thread[key] = !thread[key];\r\n        return;\r\n      }\r\n\r\n      // If the current thread is available, do the\r\n      // changes on that one\r\n      if (vm.currentThread) {\r\n        if (typeof(vm.currentThread[key]) !== 'boolean') {\r\n          return;\r\n        }\r\n\r\n        vm.currentThread[key] = !vm.currentThread[key];\r\n        return;\r\n      }\r\n\r\n      // Otherwise do the status update on selected threads\r\n      for (var x = 0; x < vm.selectedThreads.length; x++) {\r\n        if (typeof(vm.selectedThreads[x][key]) !== 'boolean') {\r\n          continue;\r\n        }\r\n\r\n        vm.selectedThreads[x][key] = !vm.selectedThreads[x][key];\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Get label object content\r\n     *\r\n     * @param id\r\n     * @returns {*}\r\n     */\r\n    function getLabel(id) {\r\n      for (var i = 0; i < vm.labels.length; i++) {\r\n        if (vm.labels[i].id === id) {\r\n          return vm.labels[i];\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Get label color from label object\r\n     *\r\n     * @param id\r\n     * @returns {*}\r\n     */\r\n    function getLabelColor(id) {\r\n      return vm.getLabel(id).color;\r\n    }\r\n\r\n    /**\r\n     * Get label title from label object\r\n     *\r\n     * @param id\r\n     * @returns {*}\r\n     */\r\n    function getLabelTitle(id) {\r\n      return vm.getLabel(id).title;\r\n    }\r\n\r\n    /**\r\n     * Toggle label\r\n     *\r\n     * @param label\r\n     */\r\n    function toggleLabel(label) {\r\n      // Toggle label on the currently open thread\r\n      if (vm.currentThread) {\r\n        if (vm.currentThread.labels.indexOf(label.id) > -1) {\r\n          vm.currentThread.labels.splice(vm.currentThread.labels.indexOf(label.id), 1);\r\n        }\r\n        else {\r\n          vm.currentThread.labels.push(label.id);\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      // Toggle labels on selected threads\r\n      // Toggle action will be determined by the first thread from the selection.\r\n      if (vm.selectedThreads.length > 0) {\r\n        // Decide if we are going to remove or add labels\r\n        var removeLabels = (vm.selectedThreads[0].labels.indexOf(label.id) > -1);\r\n\r\n        for (var i = 0; i < vm.selectedThreads.length; i++) {\r\n          if (!removeLabels) {\r\n            vm.selectedThreads[i].labels.push(label.id);\r\n            continue;\r\n          }\r\n\r\n          if (vm.selectedThreads[i].labels.indexOf(label.id) > -1) {\r\n            vm.selectedThreads[i].labels.splice(vm.selectedThreads[i].labels.indexOf(label.id), 1);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Is label exist?\r\n     *\r\n     * @param label\r\n     * @returns {boolean}\r\n     */\r\n    function isLabelExist(label) {\r\n      if (vm.currentThread && vm.currentThread.labels) {\r\n        return (vm.currentThread.labels.indexOf(label.id) > -1);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Change the view\r\n     *\r\n     * @param view\r\n     */\r\n    function changeView(view) {\r\n      if (vm.views[view]) {\r\n        vm.defaultView = view;\r\n        vm.currentView = view;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Open compose dialog\r\n     *\r\n     * @param ev\r\n     */\r\n\r\n    function composeDialog(ev) {\r\n      $mdDialog.show({\r\n        controller: 'ComposeDialogController',\r\n        controllerAs: 'vm',\r\n        locals: {\r\n          selectedMail: undefined\r\n        },\r\n        templateUrl: 'app/main/mail/dialogs/compose/compose-dialog.html',\r\n        parent: angular.element($document.body),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Open reply dialog\r\n     *\r\n     * @param ev\r\n     */\r\n    function replyDialog(ev, currentThread, type) {\r\n\r\n      console.log('reply dialog', currentThread, type);\r\n\r\n      $mdDialog.show({\r\n        controller: 'ComposeDialogController',\r\n        controllerAs: 'vm',\r\n        locals: {\r\n          selectedMail: currentThread,\r\n          type: type\r\n        },\r\n        templateUrl: 'app/main/mail/dialogs/compose/compose-dialog.html',\r\n        parent: angular.element($document.body),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n\r\n    function deleteFeed(event, currentItem) {\r\n\r\n      vm.currentItem = currentItem;\r\n\r\n      var confirm = $mdDialog.confirm()\r\n        .title('Are you sure?')\r\n        .content('This Notification will be deleted.')\r\n        .ariaLabel('Delete Notification')\r\n        .ok('Delete')\r\n        .cancel('Cancel')\r\n        .targetEvent(event);\r\n\r\n      $mdDialog.show(confirm).then(function () {\r\n        api.feed.destroy(vm.currentItem.id).error(function (res) {\r\n          return $rootScope.message(\"Error Deleting Notification\", 'warning');\r\n        }).success(function (res) {\r\n          if (res === void 0 || res === null || res === '') {\r\n            return $rootScope.message(\"Error Deleting Notification\", 'warning');\r\n          } else if (res.code) {\r\n            return $rootScope.message(res.message, 'warning');\r\n          } else {\r\n\r\n            console.log('currentThread', vm.currentItem);\r\n            console.log('id', vm.currentItem.id);\r\n\r\n            /* Remove From Threads Object */\r\n            vm.threads.splice(vm.threads.indexOf(vm.currentItem), 1);\r\n\r\n            vm.closeThread();\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n\r\n    function fetchUser(thread) {\r\n\r\n      vm.currentThread.message = {\r\n        from: thread.user.name,\r\n        organization: thread.user.organization,\r\n        message: thread.item.text\r\n      }\r\n\r\n    }\r\n\r\n\r\n    function fetchChecklist(idCHK) {\r\n\r\n      var find;\r\n\r\n      console.log('idCHK', idCHK);\r\n\r\n      var checklist;\r\n\r\n      vm.loading = true;\r\n      return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=checklist&idCHK=\" + idCHK).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          console.log('Error loading checklist: ', res);\r\n\r\n        } else if (res.code) {\r\n\r\n        } else {\r\n\r\n          checklist = res.checklists[0];\r\n\r\n          //console.log('res', res);\r\n          console.log('checklist', checklist);\r\n\r\n          if (checklist !== void 0 && checklist !== null && checklist !== '') {\r\n\r\n\r\n            vm.currentThread.checklist = {\r\n              idCHK: checklist.idCHK,\r\n              name: checklist.name,\r\n              complete: checklist.complete,\r\n              ownerDetails: checklist.ownerDetails,\r\n              inviterDetails: checklist.inviterDetails\r\n            }\r\n          }\r\n\r\n          //console.log('vm.currentThread.checklist', vm.currentThread.checklist);\r\n\r\n        }\r\n      }).error(function (err) {\r\n        console.log('Error loading checklist', err);\r\n        vm.loading = false;\r\n\r\n      })[\"finally\"](function () {\r\n        return vm.loading = false;\r\n      });\r\n\r\n      vm.loading = true;\r\n    }\r\n\r\n\r\n    function fetchSection(idCHK, sectionID) {\r\n\r\n      console.log('idCHK', idCHK);\r\n      console.log('sectionID', sectionID);\r\n\r\n      var sections;\r\n\r\n      vm.loading = true;\r\n      return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=section&idCHK=\" + idCHK).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          console.log('Error loading sections: ', res);\r\n\r\n        } else if (res.code) {\r\n\r\n        } else {\r\n\r\n          sections = res.sections;\r\n\r\n          console.log('sections', sections);\r\n\r\n          sections.forEach(function (section) {\r\n\r\n            if (section.id == sectionID) {\r\n\r\n              vm.currentThread.specific = {\r\n                idCHK: idCHK,\r\n                id: section.id,\r\n                id_parent: section.id_parent,\r\n                name: section.name\r\n              }\r\n              console.log('vm.currentThread.specific', vm.currentThread.specific);\r\n            }\r\n\r\n          });\r\n\r\n        }\r\n      }).error(function (err) {\r\n        console.log('Error loading sections', err);\r\n        vm.loading = false;\r\n\r\n      })[\"finally\"](function () {\r\n        return vm.loading = false;\r\n      });\r\n\r\n\r\n      vm.loading = true;\r\n    }\r\n\r\n\r\n    function fetchHeading(idCHK, headingID) {\r\n\r\n      console.log('idCHK', idCHK);\r\n      console.log('headingID', headingID);\r\n\r\n\r\n      var headings;\r\n\r\n      vm.loading = true;\r\n      return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=heading&idCHK=\" + idCHK).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          console.log('Error loading headings: ', res);\r\n\r\n        } else if (res.code) {\r\n\r\n        } else {\r\n\r\n          headings = res.headings;\r\n\r\n          headings.forEach(function (heading) {\r\n\r\n            if (heading.id == headingID) {\r\n\r\n              vm.currentThread.specific = {\r\n                idCHK: idCHK,\r\n                id: heading.id,\r\n                id_parent: heading.id_parent,\r\n                name: heading.name\r\n              }\r\n              console.log('vm.currentThread.specific', vm.currentThread.specific);\r\n            }\r\n\r\n          });\r\n\r\n        }\r\n      }).error(function (err) {\r\n        console.log('Error loading headings', err);\r\n        vm.loading = false;\r\n\r\n      })[\"finally\"](function () {\r\n        return vm.loading = false;\r\n      });\r\n\r\n\r\n      vm.loading = true;\r\n    }\r\n\r\n\r\n    function fetchItem(idCHK, itemID) {\r\n\r\n      console.log('idCHK', idCHK);\r\n      console.log('itemID', itemID);\r\n\r\n      console.log('itemID', itemID);\r\n\r\n\r\n      var items;\r\n\r\n      vm.loading = true;\r\n      return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=item&idCHK=\" + idCHK).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          console.log('Error loading headings: ', res);\r\n\r\n        } else if (res.code) {\r\n\r\n        } else {\r\n\r\n          items = res.items;\r\n\r\n          items.forEach(function (item) {\r\n\r\n            if (item.id == itemID) {\r\n\r\n              vm.currentThread.specific = {\r\n                idCHK: idCHK,\r\n                id: item.id,\r\n                id_parent: item.id_parent,\r\n                name: item.name\r\n              }\r\n              console.log('vm.currentThread.specific', vm.currentThread.specific);\r\n            }\r\n\r\n          });\r\n\r\n        }\r\n      }).error(function (err) {\r\n        console.log('Error loading headings', err);\r\n        vm.loading = false;\r\n\r\n      })[\"finally\"](function () {\r\n        return vm.loading = false;\r\n      });\r\n\r\n\r\n      vm.loading = true;\r\n    }\r\n\r\n\r\n    function fetchChecklistData(idCHK) {\r\n\r\n      var checklist;\r\n\r\n      vm.loading = true;\r\n      return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=checklist&idCHK=\" + idCHK).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          console.log('Error loading checklist: ', res);\r\n\r\n        } else if (res.code) {\r\n\r\n        } else {\r\n\r\n          console.log('res.checklists[0]', res.checklists[0]);\r\n          checklist = res.checklists[0];\r\n\r\n        }\r\n      }).error(function (err) {\r\n        console.log('Error loading checklist', err);\r\n        vm.loading = false;\r\n\r\n      })[\"finally\"](function () {\r\n        return checklist;\r\n      });\r\n\r\n    }\r\n\r\n\r\n    function passChecklistPostings(idCHK, id_parent, id, type, name, threadType) {\r\n\r\n      var sections, headings, i, noNav = false;\r\n\r\n      sections = [];\r\n      headings = [];\r\n\r\n      console.log('idCHK', idCHK);\r\n      console.log('type', type);\r\n      console.log('id_parent', id_parent);\r\n      console.log('id', id);\r\n      console.log('name', name);\r\n      console.log('threadType', threadType);\r\n\r\n      switch (type) {\r\n        case 'checklist':\r\n          break;\r\n        case 'section':\r\n          break;\r\n        case 'heading':\r\n          sections.push(id_parent);\r\n          break;\r\n        case 'item':\r\n          noNav = true;\r\n          api.headings.get(idCHK).success(function (res) {\r\n\r\n            for (i = 0; i < res.headings.length; i++) {\r\n              console.log('res.headings[i].id', res.headings[i].id);\r\n              if (res.headings[i].id === id_parent) {\r\n                sections.push(res.headings[i].id_parent);\r\n\r\n                console.log('res.headings[i].id_parent', res.headings[i].id_parent);\r\n              }\r\n            }\r\n\r\n            console.log('sections post loop', sections);\r\n            //sections.push(res.sections[0].id);\r\n            headings.push(id_parent);\r\n\r\n            console.log('headings post loop', headings);\r\n\r\n            $state.go('app.checklist.notifications', {\r\n              id: id,\r\n              idCHK: idCHK,\r\n              sections: sections,\r\n              headings: headings,\r\n              name: name,\r\n              type: threadType\r\n            });\r\n\r\n          })[\"finally\"](function () {\r\n          });\r\n\r\n          console.log('headings post loop', headings);\r\n          break;\r\n        default:\r\n          return false;\r\n      }\r\n\r\n      if (!noNav) {\r\n        $state.go('app.checklist.notifications', {\r\n          id: id,\r\n          idCHK: idCHK,\r\n          sections: sections,\r\n          headings: headings,\r\n          name: name,\r\n          type: threadType\r\n        });\r\n      }\r\n\r\n    };\r\n\r\n    function passInvitations(id) {\r\n\r\n      var noNav = false;\r\n\r\n      //console.log('id', id);\r\n\r\n         $state.go('app.invitations.accept', {\r\n         passID: id\r\n         });\r\n    };\r\n\r\n    function passContacts(id) {\r\n\r\n      var noNav = false;\r\n\r\n      //console.log('id', id);\r\n\r\n      $state.go('app.contacts.accept', {\r\n        passID: id\r\n      });\r\n    };\r\n\r\n\r\n    function passMessages(id) {\r\n\r\n      var noNav = false;\r\n\r\n      //console.log('id', id);\r\n\r\n      $state.go('app.chat.pass', {\r\n        passID: id\r\n      });\r\n    };\r\n\r\n\r\n\r\n    /**\r\n     * Toggle sidenav\r\n     *\r\n     * @param sidenavId\r\n     */\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n    }\r\n  }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.login', [])\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($stateProvider, $translatePartialLoaderProvider, msNavigationServiceProvider)\r\n    {\r\n        // State\r\n        $stateProvider.state('app.login', {\r\n            url      : '/login',\r\n            views    : {\r\n                'main@'                       : {\r\n                    templateUrl: 'app/core/layouts/content-only.html',\r\n                    controller : 'MainController as vm'\r\n                },\r\n                'content@app.login': {\r\n                    templateUrl: 'app/main/login/login.html',\r\n                    controller : 'LoginController as vm'\r\n                }\r\n            },\r\n            bodyClass: 'login'\r\n        });\r\n\r\n        // Translation\r\n        $translatePartialLoaderProvider.addPart('app/main/login');\r\n    }\r\n\r\n})();\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.login')\r\n    .controller('LoginController', LoginController);\r\n\r\n  /** @ngInject */\r\n  function LoginController($rootScope, $http, $state, api) {\r\n    var vm = this;\r\n\r\n    // Methods\r\n    vm.login = login;\r\n    vm.logout = logout;\r\n\r\n    function login() {\r\n      $http.post(\"https://checklinked.com/ajax/login-doAuth.php\", {\r\n        user: vm.email,\r\n        pass: vm.form.password\r\n      }, {\r\n        headers: {\r\n          'Content-Type': 'application/x-www-form-urlencoded'\r\n        },\r\n        cache: false\r\n      }).success(function (res) {\r\n        var organizationError = res.user.organizationError;\r\n\r\n        if (organizationError !== null) {\r\n          var destination = 'app.organization';\r\n        } else {\r\n          var destination = 'app.user';\r\n        }\r\n\r\n        $state.go(destination);\r\n\r\n      }).error(function (err) {\r\n      })\r\n\r\n    }\r\n\r\n    function logout() {\r\n      $http.get('https://checklinked.com/ajax/logout.php')\r\n        .then(\r\n          function (res) {\r\n          },\r\n          function (err) {\r\n          }\r\n        );\r\n    }\r\n  }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.invite', [])\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($stateProvider, $translatePartialLoaderProvider, msNavigationServiceProvider)\r\n    {\r\n        // State\r\n        $stateProvider.state('app.invite', {\r\n            url      : '/invite/:id',\r\n            views    : {\r\n                'main@'                       : {\r\n                    templateUrl: 'app/core/layouts/content-only.html',\r\n                    controller : 'MainController as vm'\r\n                },\r\n                'content@app.invite': {\r\n                    templateUrl: 'app/main/invite/invite.html',\r\n                    controller : 'InviteController as vm'\r\n                }\r\n            },\r\n            bodyClass: 'invite'\r\n        })\r\n        // Translation\r\n        $translatePartialLoaderProvider.addPart('app/main/invite');\r\n    }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.invite')\r\n    .controller('InviteController', InviteController);\r\n\r\n  /** @ngInject */\r\n  function InviteController($rootScope, $scope, $http, $state, api, $location, $stateParams) {\r\n\r\n    var vm = this;\r\n    var idSUI;\r\n\r\n    vm.loading = false;\r\n    vm.inviting = false;\r\n    vm.makingSubActive = false;\r\n    vm.withdrawing = [];\r\n    vm.invite = null;\r\n    vm.view = {\r\n      legacy: false,\r\n      create: false\r\n    }\r\n    vm.accountCreate = false;\r\n\r\n    vm.viewToggle = viewToggle;\r\n    vm.resetToggle = resetToggle;\r\n\r\n\r\n    idSUI = $stateParams.id;\r\n\r\n    if (idSUI !== void 0 && idSUI !== null && idSUI !== '') {\r\n\r\n      vm.acceptInvite = {\r\n        accepting: false,\r\n        signin: {\r\n          username: '',\r\n          password: ''\r\n        },\r\n        reg: {\r\n          contact: {\r\n            name: {\r\n              first: '',\r\n              middle: '',\r\n              last: ''\r\n            },\r\n            phone: '',\r\n            email: ''\r\n          },\r\n          password: '',\r\n          password2: ''\r\n        },\r\n        login: function () {\r\n          console.log('idSUI', idSUI);\r\n\r\n          vm.acceptInvite.accepting = true;\r\n          return api.subscriptions.acceptInvite(idSUI, 'login', vm.acceptInvite.signin).error(function (res) {\r\n            console.log('invite accept error', idSUI, res);\r\n            return $rootScope.message('Error accepting invitation.', 'warning');\r\n          }).success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              console.log('invite accept error', idSUI, res);\r\n              return $rootScope.message('Invalid response.', 'warning');\r\n            } else if (res.code) {\r\n              console.log('invite accept error', idSUI, res);\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              return vm.acceptInvite.succeeded(res.user.token);\r\n            }\r\n          })[\"finally\"](function () {\r\n            return vm.acceptInvite.accepting = false;\r\n          });\r\n        },\r\n        signup: function () {\r\n          console.log('vm.acceptInvite.reg', vm.acceptInvite.reg);\r\n          console.log('idSUI', idSUI);\r\n\r\n          vm.acceptInvite.accepting = true;\r\n          return api.subscriptions.acceptInvite(idSUI, 'signup', vm.acceptInvite.reg).error(function (res) {\r\n            console.log('invite accept error', idSUI, res);\r\n            return $rootScope.message('Error accepting invitation.', 'warning');\r\n          }).success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              console.log('invite accept error', idSUI, res);\r\n              return $rootScope.message('Invalid response.', 'warning');\r\n            } else if (res.code) {\r\n              console.log('invite accept error', idSUI, res);\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              return vm.acceptInvite.succeeded(res.user.token);\r\n            }\r\n          })[\"finally\"](function () {\r\n            return vm.acceptInvite.accepting = false;\r\n          });\r\n        },\r\n        succeeded: function (token) {\r\n          console.log('token', token);\r\n          return api.login.doAuth({\r\n            m: 't',\r\n            t: token\r\n          });\r\n        }\r\n      };\r\n\r\n      //Needs Fixed\r\n      vm.invite = api.subscriptions.getInvite(idSUI).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n\r\n        } else if (res.code) {\r\n\r\n        } else {\r\n          vm.invite = res.invite;\r\n          vm.acceptInvite.signin.username = res.invite.email;\r\n          return vm.acceptInvite.reg.contact.email = res.invite.email;\r\n        }\r\n      });\r\n    }\r\n\r\n    function viewToggle(open, close) {\r\n      vm.view[open] = !vm.view[open];\r\n      vm.view[close] = false;\r\n    };\r\n\r\n    function resetToggle() {\r\n      vm.view = {\r\n        legacy: false,\r\n        create: false\r\n      }\r\n    };\r\n\r\n\r\n  }\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.invitations', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, msApiProvider, $translatePartialLoaderProvider, msNavigationServiceProvider) {\r\n\r\n    // State\r\n    $stateProvider.state('app.invitations', {\r\n      url: '/invitations',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/invitations/invitations.html',\r\n          controller: 'InvitationsController as vm'\r\n        }\r\n      },\r\n      bodyClass: 'forms'\r\n    })\r\n      .state('app.invitations.accept', {\r\n        url: '/invitations/:passID',\r\n        views: {\r\n          'content@app': {\r\n            templateUrl: 'app/main/invitations/invitations.html',\r\n            controller: 'InvitationsController as vm'\r\n          }\r\n        },\r\n        bodyClass: 'forms'\r\n      });\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/invitations');\r\n\r\n    // Navigation\r\n    msNavigationServiceProvider.saveItem('checklists.invitations', {\r\n      title: 'Invitations',\r\n      icon: 'icon-google-circles-invite',\r\n      state: 'app.invitations',\r\n      badge: {\r\n        color: '#F44336'\r\n      },\r\n      weight: 4\r\n    });\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.invitations')\r\n    .controller('InvitationsController', InvitationsController);\r\n\r\n  /** @ngInject */\r\n  function InvitationsController($rootScope, $http, $scope, api, $mdSidenav, $mdDialog, $document, $filter, $stateParams, $state) {\r\n\r\n    var vm = this;\r\n\r\n    $scope.$on('event:userLoaded', function (e, data) {\r\n      console.log('received event:userLoaded', data);\r\n\r\n    });\r\n\r\n    vm.inviteContact = inviteContact;\r\n    vm.setBlank = setBlank;\r\n    vm.openFolderInput = openFolderInput;\r\n    vm.cancelFolderInput = cancelFolderInput;\r\n    vm.cancelChecklistInput = cancelChecklistInput;\r\n    vm.openGroupInput = openGroupInput;\r\n    vm.openAcceptChecklistInvitations = openAcceptChecklistInvitations;\r\n    vm.openAcceptGroupInvitations = openAcceptGroupInvitations;\r\n    vm.cancelGroupInput = cancelGroupInput;\r\n    vm.fetchGroups = fetchGroups;\r\n    vm.sendForm = sendForm;\r\n    vm.determineOrder = determineOrder;\r\n    vm.closeDialog = closeDialog;\r\n    vm.addNewGroup = addNewGroup;\r\n    vm.addNewFolder = addNewFolder;\r\n    vm.fetchGroups = fetchGroups;\r\n\r\n    vm.passID = $stateParams.passID;\r\n\r\n    console.log('vm.passID', vm.passID);\r\n\r\n    vm.folders = [];\r\n    vm.groups = [];\r\n\r\n    vm.wizard = {\r\n      newFolder: false,\r\n      newGroup: false\r\n    };\r\n\r\n    console.log('console', $rootScope.inviteCounts.checklists);\r\n    console.log('console', $rootScope.inviteCounts.friendships);\r\n\r\n    function determineOrder(what, to) {\r\n      var count, order, ref, whats;\r\n      whats = what + 's';\r\n      order = 1;\r\n      if (what === 'folder') {\r\n        order += $rootScope.folders.length;\r\n      } else {\r\n        count = (ref = $filter('filter')($rootScope[whats], {\r\n          id_parent: to\r\n        }, true)) != null ? ref : [];\r\n        order += count.length;\r\n      }\r\n      return order;\r\n    };\r\n\r\n    function sendForm(ev) {\r\n\r\n      if (vm.verticalStepper.step2) {\r\n        vm.inviteControl.assign(vm.verticalStepper.step2.groupID);\r\n        $rootScope.message('Invitation Accepted', 'success');\r\n      } else {\r\n        vm.inviteControl.assign(vm.verticalStepper.step1.folderID);\r\n        $rootScope.message('Invitation Accepted', 'success');\r\n      }\r\n      vm.formWizard = {};\r\n      $mdDialog.hide();\r\n    }\r\n\r\n    api.folders.get().then(function (d) {\r\n      vm.folders = d.data.folders;\r\n      console.log('vm.folders', vm.folders);\r\n    });\r\n\r\n    function openFolderInput() {\r\n      vm.wizard.newFolder = true;\r\n      vm.wizard.newGroup = false;\r\n      vm.wizard.newChecklist = false;\r\n    }\r\n\r\n    function cancelFolderInput() {\r\n      return vm.wizard.newFolder = false;\r\n    }\r\n\r\n    function cancelChecklistInput() {\r\n      vm.closeDialog();\r\n    }\r\n\r\n    function openGroupInput() {\r\n      vm.wizard.newFolder = false;\r\n      vm.wizard.newChecklist = false;\r\n      vm.wizard.newGroup = true;\r\n    }\r\n\r\n    function cancelGroupInput() {\r\n      return vm.wizard.newGroup = false;\r\n    }\r\n\r\n\r\n    function fetchGroups(id) {\r\n      vm.groups = $rootScope.children('groups', id);\r\n      $rootScope.organizeData();\r\n    };\r\n\r\n    console.log('vm.folders', vm.folders);\r\n\r\n    function inviteContact(group) {\r\n      $('#group_' + group.id).modal('show');\r\n      return null;\r\n    };\r\n\r\n    function setBlank() {\r\n      vm.invites = {\r\n        loaded: false,\r\n        received: [],\r\n        sent: []\r\n      };\r\n      vm.tree = [];\r\n      return $rootScope.loading.invites = false;\r\n    };\r\n\r\n    vm.setBlank();\r\n\r\n    vm.inviteControl = {\r\n      assigning: null,\r\n      error: null,\r\n      remove: function (type, invite) {\r\n        var idx;\r\n        console.log('removing invite', type, invite);\r\n        idx = vm.invites[type].indexOf(invite);\r\n        if (idx === -1) {\r\n          return console.log('Could not index invite for removal');\r\n        } else {\r\n          console.log('invite indexed for removal', idx);\r\n          vm.invites[type].splice(idx, 1);\r\n          return console.log('invite removed', vm.invites[type]);\r\n        }\r\n      },\r\n      load: function () {\r\n        console.log('loading folder invites');\r\n        $rootScope.loading.invites = true;\r\n        return api.checklists.invite.get().error(function (res) {\r\n          return vm.inviteControl.error = 'Unknown error talking to server.';\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            console.log('res.code', res);\r\n            return vm.inviteControl.error = res.message;\r\n          } else {\r\n            console.log('res.code', res);\r\n            return vm.invites = res.invites;\r\n          }\r\n        })[\"finally\"](function () {\r\n          vm.invites.loaded = true;\r\n          return $rootScope.loading.invites = false;\r\n        });\r\n      },\r\n      destroy: function (type, invite) {\r\n        console.log('type/invite', type, invite);\r\n\r\n        invite.destroying = true;\r\n\r\n        return api.checklists.invite.destroy(invite).error(function (res) {\r\n          console.log('destroy type/invite', type, invite);\r\n          console.log('waz up blackfuck', res);\r\n          invite.destroying = false;\r\n          invite.errors.destroying = res;\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            console.log('waz up faggot');\r\n            console.log('res', res);\r\n            return invite.destroying = false;\r\n          } else {\r\n            vm.inviteControl.remove(type, invite);\r\n            return $rootScope.message('Invitation has been deleted', 'success');\r\n            return $rootScope.socketio.emit('invite_answered', invite);\r\n          }\r\n        });\r\n      },\r\n      accept: function (ev, invite) {\r\n\r\n        vm.verticalStepper = {\r\n          step1: {},\r\n          step2: {}\r\n        };\r\n\r\n        console.log('vm.folders', vm.folders);\r\n        console.log('invite', invite);\r\n\r\n        $mdDialog.show({\r\n          controller: function DialogController($scope, $mdDialog) {\r\n            $scope.closeDialog = function () {\r\n              $mdDialog.hide();\r\n            }\r\n          },\r\n          scope: $scope,\r\n          preserveScope: true,\r\n          templateUrl: 'app/main/invitations/dialogs/invitation-accept-dialog.html',\r\n          parent: angular.element($document.find('#invitations')),\r\n          targetEvent: ev,\r\n          clickOutsideToClose: true\r\n        });\r\n        vm.inviteControl.assigning = invite;\r\n      },\r\n      acceptChecklist: function (invite, ev) {\r\n        console.log('invite checklist', invite);\r\n        vm.openAcceptChecklistInvitations(invite, ev);\r\n        vm.inviteControl.assigning = invite;\r\n        return null;\r\n      },\r\n      acceptGroup: function (invite, ev) {\r\n        console.log('invite group', invite);\r\n        vm.openAcceptGroupInvitations(invite, ev);\r\n        vm.inviteControl.assigning = invite;\r\n        return null;\r\n      },\r\n      assign: function (idPARENT) {\r\n        var id, invite, order, name;\r\n        invite = vm.inviteControl.assigning;\r\n        invite.accepting = true;\r\n        invite.errors = $.extend({}, invite.errors, {\r\n          accepting: null\r\n        });\r\n        order = vm.determineOrder(invite.type, idPARENT);\r\n        name = name != null ? name : invite.type === 'group' ? invite.name : invite.checklist.name;\r\n        id = invite.type === 'group' ? invite.id : invite.checklist.id;\r\n\r\n        console.log('invite', invite);\r\n        console.log('idPARENT', idPARENT);\r\n        console.log('name', name);\r\n        console.log('order', order);\r\n        return api.checklists.invite.accept(invite, idPARENT, name, order).error(function (res) {\r\n          return invite.errors.accepting = res;\r\n        }).success(function (res) {\r\n          var group, ref;\r\n          if (res.code) {\r\n            return invite.errors.accepting = res.message;\r\n          } else {\r\n            vm.invites.received.remove(invite);\r\n            if (invite.type === 'group') {\r\n              $rootScope.groups.push(res.groups[0]);\r\n              $rootScope.checklists = $rootScope.checklists.concat(res.checklists);\r\n            } else {\r\n              $rootScope.checklists.push(res.checklists[0]);\r\n            }\r\n            $rootScope.organizeData();\r\n            if (invite.type === 'checklist') {\r\n              $rootScope.notify({\r\n                idCHK: invite.checklist.id,\r\n                idFDI: res.checklists[0].idFDI_latest,\r\n                type: 'joined',\r\n                user: invite.users.inviter\r\n              });\r\n            }\r\n            if (invite.type === 'group') {\r\n              group = (ref = $filter('filter')($rootScope.groups, {\r\n                id: res.groups[0].id\r\n              }, true)) != null ? ref[0] : void 0;\r\n              console.log('group found?', group, $rootScope.groups);\r\n              if (typeof group === 'object') {\r\n                return group.checklists.forEach(function (checklist) {\r\n                  return $rootScope.notify({\r\n                    idCHK: checklist.idCHK,\r\n                    idFDI: checklist.idFDI_latest,\r\n                    type: 'joined'\r\n                  });\r\n                });\r\n              }\r\n            }\r\n          }\r\n        })[\"finally\"](function () {\r\n          return invite.accepting = false;\r\n        });\r\n      }\r\n    };\r\n\r\n    function openAcceptChecklistInvitations(invite, ev) {\r\n      vm.title = invite.checklist.name;\r\n      vm.name = invite.checklist.name;\r\n      vm.checklistID = invite.checklist.id;\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/invitations/dialogs/invitation-accept-checklist-dialog.html',\r\n        parent: angular.element($document.find('#invitations')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n      });\r\n    };\r\n\r\n    function openAcceptGroupInvitations(invite, ev) {\r\n      vm.title = invite.name;\r\n      vm.name = invite.name;\r\n      vm.checklistID = invite.id;\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/invitations/dialogs/invitation-accept-group-dialog.html',\r\n        parent: angular.element($document.find('#invitations')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n      });\r\n    };\r\n\r\n    $scope.$on('event:userSelected', function () {\r\n      return vm.setBlank();\r\n    });\r\n    $scope.$on('event:userLoaded', function () {\r\n      if (!vm.invites.loaded && !$rootScope.loading.invites) {\r\n        return vm.inviteControl.load();\r\n      }\r\n    });\r\n    $scope.$on('event:checklistInviteCountChanged', function () {\r\n      if ($rootScope.userAuthenticated() && !$rootScope.loading.invites) {\r\n        return vm.inviteControl.load();\r\n      }\r\n    });\r\n    if (!vm.invites.loaded && !$rootScope.loading.invites) {\r\n      vm.inviteControl.load();\r\n    }\r\n\r\n\r\n    function addNewFolder() {\r\n\r\n      vm.folder.sending = true;\r\n      vm.folder.order = 1;\r\n      vm.folder.order += vm.folders.length;\r\n\r\n      api.folders.add(vm.folder.name, vm.folder.description, vm.folder.order).error(function (res) {\r\n        return $rootScope.message(\"Error Creating Project\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error Creating Project\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          vm.verticalStepper = {\r\n            newFolderID: res.folder.id\r\n          }\r\n\r\n          $rootScope.$broadcast('event:updateModels');\r\n          vm.folders.push(res.folder);\r\n          $rootScope.organizeData();\r\n\r\n          vm.fetchGroups(res.folder.id);\r\n\r\n\r\n          $rootScope.message('Project Added');\r\n\r\n          //Hide Buttons\r\n          vm.wizard.newFolder = false;\r\n        }\r\n      });\r\n\r\n    };\r\n\r\n    function addNewGroup(groupName, folderID) {\r\n\r\n      //Set sending variable for buttons\r\n      vm.group.sending = true;\r\n\r\n      //Set order variable for sql insert\r\n      vm.group.order = 1;\r\n      vm.group.order += vm.groups.length;\r\n      vm.group.text = groupName;\r\n      vm.group.id_parent = folderID;\r\n\r\n      api.groups.add(vm.group.text, vm.group.order, vm.group.id_parent).error(function (res) {\r\n        return $rootScope.message(\"Error Adding Folder\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error Adding Folder\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          console.log('res.groups', res.groups);\r\n          $rootScope.$broadcast('event:updateModels');\r\n          vm.groups.push(res.group);\r\n          $rootScope.organizeData();\r\n\r\n          vm.verticalStepper.newGroupID = res.group.id;\r\n          vm.verticalStepper.newFolderID = res.group.id_parent;\r\n\r\n          vm.wizard.newGroup = false;\r\n          vm.wizard.switch = false;\r\n\r\n\r\n          $rootScope.message('Folder Added');\r\n        }\r\n      });\r\n    };\r\n\r\n    function fetchGroups(id) {\r\n      vm.groups = $rootScope.children('groups', id);\r\n      console.log('vm.groups pre organizeData id / vm.groups', id, vm.groups)\r\n      $rootScope.organizeData();\r\n      console.log('fetching', id, vm.groups);\r\n\r\n      if (!vm.groups.length > 0) {\r\n        vm.wizard.switch = true;\r\n      } else {\r\n        vm.wizard.switch = false;\r\n      }\r\n    };\r\n\r\n\r\n    function closeDialog() {\r\n      $mdDialog.hide();\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.groups')\r\n    .controller('GroupsController', GroupsController);\r\n\r\n  /** @ngInject */\r\n  function GroupsController($scope, $rootScope, api, $stateParams, $location, $mdDialog, $mdSidenav, $document, $http, $state, $filter) {\r\n    var vm = this;\r\n\r\n    if ($stateParams.id !== undefined && $stateParams.id != null) {\r\n      if ($stateParams.id == '') {\r\n        $location.path('/folders');\r\n      } else {\r\n        vm.groups = [];\r\n        vm.folder_id = $stateParams.id;\r\n        api.groups.get($stateParams.id).then(function (d) {\r\n          vm.groups = d.data.groups;\r\n        });\r\n      }\r\n    }\r\n\r\n    console.log('vm.groups', vm.groups);\r\n\r\n    if ($rootScope.loading.folders || $rootScope.loading.groups || $rootScope.loading.checklists) {\r\n      console.log('$rootScope.loading', $rootScope.loading);\r\n      console.log('$rootScope.loading.folders', $rootScope.loading.folders);\r\n      console.log('$rootScope.loading.groups', $rootScope.loading.groups);\r\n      console.log('$rootScope.loading.checklists', $rootScope.loading.checklists);\r\n      console.log('$rootScope.loading', $rootScope.loading);\r\n    }\r\n\r\n    // Tasks will be filtered against these models\r\n    vm.groupFilters = {\r\n      search: '',\r\n      deleted: false\r\n    };\r\n\r\n    /* Controller Scope */\r\n    vm.groupFiltersDefaults = angular.copy(vm.groupFilters);\r\n    vm.showAllGroups = true;\r\n    vm.groupOrder = '';\r\n    vm.groupOrderDescending = false;\r\n    vm.openGroupDialog = openGroupDialog;\r\n    vm.addGroupDialog = addGroupDialog;\r\n    vm.deleteGroup = deleteGroup;\r\n    vm.toggleSidenav = toggleSidenav;\r\n    vm.toggleFilter = toggleFilter;\r\n    vm.resetFilters = resetFilters;\r\n    vm.toggleFilterWithEmpty = toggleFilterWithEmpty;\r\n    vm.addNewGroup = addNewGroup;\r\n    vm.openAddGroupTemplateDialog = openAddGroupTemplateDialog\r\n    vm.sendLinkRequestDialog = sendLinkRequestDialog;\r\n    vm.saveGroup = saveGroup;\r\n    vm.deleteGroup = deleteGroup;\r\n    vm.closeDialog = closeDialog;\r\n    vm.publishTemplateDialog = publishTemplateDialog;\r\n    vm.linkExistingDialog = linkExistingDialog;\r\n\r\n    /* Dialog Methods */\r\n\r\n    function openGroupDialog(ev, group) {\r\n\r\n      vm.group = group;\r\n      vm.title = 'Edit Folder';\r\n      vm.newGroup = false;\r\n\r\n      if (!vm.group) {\r\n        vm.group = {\r\n          'id': '',\r\n          'name': '',\r\n          'description': '',\r\n          'order': '',\r\n          'deleted': false\r\n        };\r\n        vm.title = 'New Folder';\r\n        vm.newGroup = true;\r\n      }\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/groups/dialogs/group/group-dialog.html',\r\n        parent: angular.element($document.find('#groups')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n\r\n    function addGroupDialog(ev, group) {\r\n\r\n      vm.group = group;\r\n      vm.title = 'Edit Folder';\r\n      vm.newGroup = false;\r\n\r\n      if (!vm.group) {\r\n        vm.group = {\r\n          'id': '',\r\n          'name': '',\r\n          'order': '',\r\n          'deleted': false\r\n        };\r\n        vm.title = 'Create New Folder';\r\n        vm.newGroup = true;\r\n      }\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/groups/dialogs/group/group-dialog.html',\r\n        parent: angular.element($document.find('#groups')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n\r\n    function openAddGroupTemplateDialog(ev) {\r\n\r\n      vm.title = 'Find Folder Templates';\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/groups/dialogs/group/group-add-from-template-dialog.html',\r\n        parent: angular.element($document.find('#groups')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n\r\n    }\r\n\r\n    function sendLinkRequestDialog(ev, group) {\r\n      $mdDialog.show({\r\n        controller: 'GroupSendLinkRequestDialogController',\r\n        controllerAs: 'vm',\r\n        templateUrl: 'app/main/groups/dialogs/group/group-send-link-request-dialog.html',\r\n        parent: angular.element($document.find('#groups')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n        locals: {\r\n          GROUP: group\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n    function linkExistingDialog(ev, group) {\r\n      $mdDialog.show({\r\n        controller: 'LinkExistingDialogController',\r\n        controllerAs: 'vm',\r\n        templateUrl: 'app/main/groups/dialogs/group/link-existing-dialog.html',\r\n        parent: angular.element($document.find('#groups')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n        locals: {\r\n          group: group\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n    function publishTemplateDialog(ev, id, name) {\r\n\r\n\r\n      $mdDialog.show({\r\n        controller: 'GroupPublishTemplateDialogController',\r\n        controllerAs: 'vm',\r\n        templateUrl: 'app/main/groups/dialogs/group/group-publish-template-dialog.html',\r\n        parent: angular.element($document.find('#groups')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n        locals: {\r\n          id: id,\r\n          name: name\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n    function closeDialog() {\r\n      $mdDialog.hide();\r\n    }\r\n\r\n    /* Add New Group */\r\n    function addNewGroup() {\r\n\r\n      vm.group.parentId = $stateParams.id;\r\n      vm.group.sending = true;\r\n      vm.group.order = 1;\r\n      vm.group.order += vm.groups.length;\r\n\r\n      api.groups.add(vm.group.name, vm.group.order, vm.group.parentId).error(function (res) {\r\n        return $rootScope.message(\"Error Creating Folder\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error Creating Folder\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          /* Reset Group Object */\r\n          vm.group.id = res.group.id;\r\n          vm.group.name = res.group.name;\r\n          vm.group.id_parent = res.group.id_parent;\r\n          vm.group.order = res.group.order;\r\n\r\n\r\n          $rootScope.$broadcast('event:updateModels');\r\n\r\n          //Toaster Notification\r\n          $rootScope.message('Folder Created');\r\n\r\n          //Add New Group to Groups object\r\n          vm.groups.unshift(vm.group);\r\n\r\n          vm.group.sending = false;\r\n\r\n          //Close Dialog Window\r\n          vm.closeDialog();\r\n        }\r\n      });\r\n\r\n      //Close Left Navigation\r\n      $mdSidenav('group-sidenav').toggle();\r\n    }\r\n\r\n    /* Save Group */\r\n    function saveGroup() {\r\n\r\n      var editPack;\r\n\r\n      editPack = {\r\n        'type': 'group',\r\n        'text': vm.group.name,\r\n        'order': vm.group.order,\r\n        'id': vm.group.id,\r\n        'rid': vm.group.rid\r\n      };\r\n\r\n      api.groups.edit(editPack).error(function (res) {\r\n        return $rootScope.message(\"Error Editing Folder\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error Editing Folder\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          //Toaster Notification\r\n          $rootScope.message('Folder Edited');\r\n\r\n          vm.group.sending = false;\r\n\r\n          //Close Dialog Window\r\n          vm.closeDialog();\r\n\r\n        }\r\n      });\r\n\r\n      //Close Left Navigation\r\n      $mdSidenav('group-sidenav').close();\r\n    }\r\n\r\n    /* Delete Group */\r\n    function deleteGroup(group, event) {\r\n      vm.group = group;\r\n\r\n      console.log('vm.group', vm.group);\r\n\r\n      var confirm = $mdDialog.confirm()\r\n        .title('Are you sure?')\r\n        .content('This Folder will be deleted.')\r\n        .ariaLabel('Delete Folder')\r\n        .ok('Delete')\r\n        .cancel('Cancel')\r\n        .targetEvent(event);\r\n\r\n      $mdDialog.show(confirm).then(function () {\r\n\r\n        api.groups.destroy(vm.group.id).error(function (res) {\r\n          return $rootScope.message(\"Error Deleteing Folder\", 'warning');\r\n        }).success(function (res) {\r\n          if (res === void 0 || res === null || res === '') {\r\n            $rootScope.message(\"Error Deleteing Folder\", 'warning');\r\n          } else if (res.code) {\r\n            $rootScope.message(res.message, 'warning');\r\n          } else {\r\n\r\n            /* Remove From Groups Object */\r\n            vm.groups.splice(vm.groups.indexOf(group), 1);\r\n\r\n            $rootScope.message('Folder Deleted', 'success');\r\n\r\n            vm.group.sending = false;\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n\r\n    vm.find = {\r\n      template: null,\r\n      searchCount: 0,\r\n      searching: false,\r\n      creating: false,\r\n      results: [],\r\n      begin: function (ev, parentID, type) {\r\n        vm.find.template = {\r\n          criteria: {\r\n            name: '',\r\n            organization: '',\r\n            author: '',\r\n            version: '',\r\n            type: type\r\n          },\r\n          parentID: parentID\r\n        };\r\n\r\n        vm.find.searching = false;\r\n        vm.find.creating = false;\r\n        vm.find.searchCount = 0;\r\n        vm.find.results = [];\r\n        vm.openAddGroupTemplateDialog(ev);\r\n        return null;\r\n\r\n      },\r\n      search: function () {\r\n        vm.find.searching = true;\r\n        if (vm.find.template.criteria.name === '' && vm.find.template.criteria.organization === '' && vm.find.template.criteria.author === '' && vm.find.template.criteria.version === '') {\r\n          $rootScope.message('Please provide Search Criteria', 'warning');\r\n          vm.find.searching = false;\r\n          console.log('died in search');\r\n          return false;\r\n        }\r\n\r\n        console.log('vm.find', vm.find.template);\r\n        return api.checklists.searchForTemplates(vm.find.template.criteria).error(function (res) {\r\n          return $rootScope.message('Unknown error finding Templates.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            res.display = \"Error finding Templates: (\" + res.code + \"): \" + res.message;\r\n            $rootScope.message(res.display, 'warning');\r\n          }\r\n          vm.find.results = res;\r\n          console.log('vm.find.results', vm.find.results);\r\n          return vm.find.searchCount++;\r\n        })[\"finally\"](function () {\r\n          return vm.find.searching = false;\r\n        });\r\n      },\r\n      create: function (idCTMPL) {\r\n        console.log('idCTMPL', idCTMPL);\r\n        console.log('vm.find.template.parentID', vm.find.template.parentID);\r\n        console.log('vm.find.template.criteria.type', vm.find.template.criteria.type);\r\n        vm.find.creating = true;\r\n        return api.checklists.createFromTemplate(idCTMPL, vm.find.template.parentID, vm.find.template.criteria.type).error(function (res) {\r\n          return $rootScope.message('Unknown error creating Checklist from selected Template.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            return $rootScope.message(\"Error creating Checklist from Template: (\" + res.code + \"): \" + res.message, 'warning');\r\n          } else {\r\n            if (vm.find.template.criteria.type === 'group') {\r\n              console.log('vm.find.template.criteria.type', vm.find.template.criteria.type);\r\n              console.log('res on push', res);\r\n              vm.groups.unshift(res.groups[0]);\r\n              console.log();\r\n            }\r\n            $rootScope.checklists = $rootScope.checklists.concat(res.checklists);\r\n\r\n            vm.closeDialog();\r\n            vm.toggleSidenav('group-sidenav');\r\n            $rootScope.message('Folder Template Applied', 'success');\r\n            $rootScope.organizeData();\r\n          }\r\n        })[\"finally\"](function () {\r\n          return vm.find.creating = false;\r\n        });\r\n      }\r\n    };\r\n\r\n\r\n    /* Side Navigation Methods */\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n    }\r\n\r\n    /* Filter Methods */\r\n    function toggleFilter(filter) {\r\n      vm.groupFilters[filter] = !vm.groupFilters[filter];\r\n    }\r\n\r\n    function toggleFilterWithEmpty(filter) {\r\n      if (vm.groupFilters[filter] === '') {\r\n        vm.groupFilters[filter] = true;\r\n      }\r\n      else {\r\n        vm.groupFilters[filter] = '';\r\n      }\r\n    }\r\n\r\n    function resetFilters() {\r\n      vm.showAllGroups = true;\r\n      vm.groupFilters = angular.copy(vm.groupFiltersDefaults);\r\n    }\r\n\r\n    console.log('vm GroupController', vm);\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.folders', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, msApiProvider, msNavigationServiceProvider, $translatePartialLoaderProvider) {\r\n\r\n    // State\r\n    $stateProvider.state('app.folders', {\r\n      url: '/folders',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/folders/folders.html',\r\n          controller: 'FoldersController as vm'\r\n        }\r\n      }\r\n    });\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/folders');\r\n\r\n    // Navigation\r\n    msNavigationServiceProvider.saveItem('checklists.folders', {\r\n      title: 'My Projects',\r\n      icon: 'icon-folder-multiple',\r\n      state: 'app.folders',\r\n      weight: 2\r\n    });\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.folders')\r\n    .controller('FoldersController', FoldersController);\r\n\r\n  /** @ngInject */\r\n  function FoldersController($rootScope, api, $stateParams, $location, $mdDialog, $mdSidenav, $document, $http, $scope) {\r\n    var vm = this;\r\n\r\n    if ($stateParams.id !== undefined && $stateParams.id != null) {\r\n      if ($stateParams.id == '') {\r\n        $location.path('/folders');\r\n      } else {\r\n        vm.groups = [];\r\n        api.groups.get($stateParams.id).then(function (d) {\r\n          vm.groups = d.data.groups;\r\n        });\r\n      }\r\n\r\n    } else {\r\n      vm.folders = [];\r\n      api.folders.get().then(function (d) {\r\n        vm.folders = d.data.folders;\r\n      });\r\n    }\r\n\r\n\r\n    // Tasks will be filtered against these models\r\n    vm.folderFilters = {\r\n      search: '',\r\n      deleted: false\r\n    };\r\n\r\n    /* Controller Scope */\r\n    vm.folderFiltersDefaults = angular.copy(vm.folderFilters);\r\n    vm.showAllFolders = true;\r\n    vm.folderOrder = '';\r\n    vm.folderOrderDescending = false;\r\n    vm.openFolderDialog = openFolderDialog;\r\n    vm.deleteFolder = deleteFolder;\r\n    vm.toggleSidenav = toggleSidenav;\r\n    vm.toggleFilter = toggleFilter;\r\n    vm.resetFilters = resetFilters;\r\n    vm.toggleFilterWithEmpty = toggleFilterWithEmpty;\r\n    vm.addNewFolder = addNewFolder;\r\n    vm.saveFolder = saveFolder;\r\n    vm.closeDialog = closeDialog;\r\n    vm.sendLinkRequest = sendLinkRequest;\r\n\r\n\r\n    vm.publish = {\r\n      id: null,\r\n      name: null,\r\n      pvt: false,\r\n      submitting: false,\r\n      gatherInfo: function (id, name) {\r\n        vm.publish.id = id;\r\n        vm.publish.name = name;\r\n        $(\"#publishTemplate\").modal('show');\r\n        return true;\r\n      },\r\n      togglePrivate: function () {\r\n        this.pvt = !this.pvt;\r\n        return true;\r\n      },\r\n      publish: function () {\r\n        var ref, ref1;\r\n        if (((ref = $scope.publish.id) != null ? ref.length : void 0) && ((ref1 = $scope.publish.name) != null ? ref1.length : void 0)) {\r\n          $scope.publish.submitting = true;\r\n          return ChecklistService.publish($scope.publish.id, $scope.publish.name, 'group', $scope.publish.pvt).error(function (res) {\r\n            return $rootScope.message('Unknown error publishing Group Template.', 'warning');\r\n          }).success(function (res) {\r\n            if (res.code) {\r\n              return $rootScope.message(\"Error publishing Group Template. (\" + res.code + \": \" + res.message + \")\", 'warning');\r\n            } else {\r\n              $rootScope.message(\"Group Template published successfully.\");\r\n              return $(\"#publishTemplate\").modal('hide');\r\n            }\r\n          })[\"finally\"](function () {\r\n            $scope.publish.submitting = false;\r\n            $scope.publish.id = null;\r\n            return $scope.publish.name = null;\r\n          });\r\n        } else {\r\n          return $rootScope.message('You must specify the Group Template Name.', 'warning');\r\n        }\r\n      }\r\n    };\r\n\r\n    $scope.find = {\r\n      template: null,\r\n      searchCount: 0,\r\n      searching: false,\r\n      creating: false,\r\n      results: [],\r\n      begin: function (parentID, type) {\r\n        $scope.find.template = {\r\n          criteria: {\r\n            name: '',\r\n            organization: '',\r\n            author: '',\r\n            version: '',\r\n            type: type\r\n          },\r\n          parentID: parentID\r\n        };\r\n        $scope.find.searching = false;\r\n        $scope.find.creating = false;\r\n        $scope.find.searchCount = 0;\r\n        $scope.find.results = [];\r\n        $(\"#findTemplate\").modal('show');\r\n        return null;\r\n      },\r\n      search: function () {\r\n        $scope.find.searching = true;\r\n        if ($scope.find.template.criteria.name === '' && $scope.find.template.criteria.organization === '' && $scope.find.template.criteria.author === '' && $scope.find.template.criteria.version === '') {\r\n          $rootScope.message('Please provide Search Criteria', 'warning');\r\n          $scope.find.searching = false;\r\n          return false;\r\n        }\r\n        return ChecklistService.searchForTemplates($scope.find.template.criteria).error(function (res) {\r\n          return $rootScope.message('Unknown error finding Templates.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            res.display = \"Error finding Templates: (\" + res.code + \"): \" + res.message;\r\n          }\r\n          $scope.find.results.push(res);\r\n          return $scope.find.searchCount++;\r\n        })[\"finally\"](function () {\r\n          return $scope.find.searching = false;\r\n        });\r\n      },\r\n      create: function (idCTMPL) {\r\n        $scope.find.creating = true;\r\n        return ChecklistService.createFromTemplate(idCTMPL, $scope.find.template.parentID, $scope.find.template.criteria.type).error(function (res) {\r\n          return $rootScope.message('Unknown error creating Checklist from selected Template.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            return $rootScope.message(\"Error creating Checklist from Template: (\" + res.code + \"): \" + res.message, 'warning');\r\n          } else {\r\n            if ($scope.find.template.criteria.type === 'group') {\r\n              $rootScope.groups.push(res.groups[0]);\r\n            }\r\n            $rootScope.checklists = $rootScope.checklists.concat(res.checklists);\r\n            return $rootScope.organizeData();\r\n          }\r\n        })[\"finally\"](function () {\r\n          return $scope.find.creating = false;\r\n        });\r\n      }\r\n    };\r\n\r\n\r\n    /* Dialog Methods */\r\n    function openFolderDialog(ev, folder) {\r\n\r\n      vm.folder = folder;\r\n      vm.title = 'Edit Project Name';\r\n      vm.newFolder = false;\r\n\r\n      if (!vm.folder) {\r\n        vm.folder = {\r\n          'id': '',\r\n          'name': '',\r\n          'description': '',\r\n          'order': '',\r\n          'deleted': false\r\n        };\r\n        vm.title = 'Create New Project';\r\n        vm.newFolder = true;\r\n      }\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/folders/dialogs/folder/folder-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n    function sendLinkRequest(ev, group) {\r\n      $mdDialog.show({\r\n        controller: 'FolderSendLinkRequestDialogController',\r\n        controllerAs: 'vm',\r\n        templateUrl: 'app/main/folders/dialogs/folder/folder-send-link-request-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n        locals: {\r\n          group: group\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n    function closeDialog() {\r\n      $mdDialog.hide();\r\n    }\r\n\r\n    /* Add New Folder */\r\n    function addNewFolder() {\r\n\r\n      vm.folder.sending = true;\r\n      vm.folder.order = 1;\r\n      vm.folder.order += vm.folders.length;\r\n\r\n      api.folders.add(vm.folder.name, vm.folder.description, vm.folder.order).error(function (res) {\r\n        return $rootScope.message(\"Error Creating Project\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error Creating Project\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          /* Reset Folder Object */\r\n          vm.folder.id = res.folder.id;\r\n          vm.folder.name = res.folder.name;\r\n          vm.folder.description = res.folder.description;\r\n          vm.folder.order = res.folder.order;\r\n          vm.folder.id_parent = res.folder.id_parent;\r\n\r\n          //Toaster Notification\r\n          $rootScope.message('Project Created');\r\n\r\n          //Add New Folder to Folders object\r\n          vm.folders.unshift(vm.folder);\r\n\r\n          vm.folder.sending = false;\r\n\r\n          //Close Dialog Window\r\n          vm.closeDialog();\r\n        }\r\n      });\r\n      //Close Left Navigation\r\n      $mdSidenav('folder-sidenav').close();\r\n    }\r\n\r\n    /* Save Folder */\r\n    function saveFolder() {\r\n\r\n      var editPack;\r\n\r\n      editPack = {\r\n        'type': 'folder',\r\n        'text': vm.folder.name,\r\n        'description': vm.folder.description,\r\n        'order': vm.folder.order,\r\n        'id': vm.folder.id,\r\n        'rid': vm.folder.rid\r\n      };\r\n\r\n      api.folders.edit(editPack).error(function (res) {\r\n        return $rootScope.message(\"Error Editing Project\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error Editing Project\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          //Toaster Notification\r\n          $rootScope.message('Project Name Edited');\r\n\r\n          vm.folder.sending = false;\r\n\r\n          //Close Dialog Window\r\n          vm.closeDialog();\r\n        }\r\n      });\r\n      //Close Left Navigation\r\n      $mdSidenav('folder-sidenav').close();\r\n    }\r\n\r\n    /* Delete Folder */\r\n    function deleteFolder(folder, event) {\r\n      vm.folder = folder;\r\n\r\n      var confirm = $mdDialog.confirm()\r\n        .title('Are you sure?')\r\n        .content('The Project will be deleted.')\r\n        .ariaLabel('Delete Project')\r\n        .ok('Delete')\r\n        .cancel('Cancel')\r\n        .targetEvent(event);\r\n\r\n      $mdDialog.show(confirm).then(function () {\r\n        api.folders.destroy(vm.folder.id).error(function (res) {\r\n          return $rootScope.message(\"Error Deleteing Project\", 'warning');\r\n        }).success(function (res) {\r\n          if (res === void 0 || res === null || res === '') {\r\n            return $rootScope.message(\"Error Deleteing Project\", 'warning');\r\n          } else if (res.code) {\r\n            return $rootScope.message(res.message, 'warning');\r\n          } else {\r\n\r\n            /* Remove From Folders Object */\r\n            vm.folders.splice(vm.folders.indexOf(folder), 1);\r\n\r\n            $rootScope.message('Project Deleted');\r\n\r\n            vm.folder.sending = false;\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n    /* Side Navigation Methods */\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n    }\r\n\r\n    /* Filter Methods */\r\n    function toggleFilter(filter) {\r\n      vm.folderFilters[filter] = !vm.folderFilters[filter];\r\n    }\r\n\r\n    function toggleFilterWithEmpty(filter) {\r\n      if (vm.folderFilters[filter] === '') {\r\n        vm.folderFilters[filter] = true;\r\n      }\r\n      else {\r\n        vm.folderFilters[filter] = '';\r\n      }\r\n    }\r\n\r\n    function resetFilters() {\r\n      vm.showAllFolders = true;\r\n      vm.folderFilters = angular.copy(vm.folderFiltersDefaults);\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.file-manager', [])\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($stateProvider, $translatePartialLoaderProvider, msApiProvider, msNavigationServiceProvider)\r\n    {\r\n        // State\r\n        $stateProvider.state('app.file-manager', {\r\n            url      : '/file-manager',\r\n            views    : {\r\n                'content@app': {\r\n                    templateUrl: 'app/main/file-manager/file-manager.html',\r\n                    controller : 'FileManagerController as vm'\r\n                }\r\n            },\r\n            resolve  : {\r\n                Documents: function (msApi)\r\n                {\r\n                    return msApi.resolve('fileManager.documents@get');\r\n                }\r\n            },\r\n            bodyClass: 'file-manager'\r\n        });\r\n\r\n        // Translation\r\n        $translatePartialLoaderProvider.addPart('app/main/file-manager');\r\n\r\n        // Api\r\n        msApiProvider.register('fileManager.documents', ['app/data/file-manager/documents.json']);\r\n\r\n        // Navigation\r\n        msNavigationServiceProvider.saveItem('Checklists.file-manager', {\r\n            title : 'File Manager',\r\n            icon  : 'icon-folder',\r\n            state : 'app.file-manager',\r\n            weight: 6\r\n        });\r\n    }\r\n\r\n})();\n\t(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.file-manager')\r\n        .controller('FileManagerController', FileManagerController);\r\n\r\n    /** @ngInject */\r\n    function FileManagerController($mdSidenav, Documents)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.accounts = {\r\n            'creapond'    : 'johndoe@creapond.com',\r\n            'withinpixels': 'johndoe@withinpixels.com'\r\n        };\r\n        vm.selectedAccount = 'creapond';\r\n        vm.currentView = 'list';\r\n        vm.showDetails = true;\r\n\r\n        vm.path = Documents.data.path;\r\n        vm.folders = Documents.data.folders;\r\n        vm.files = Documents.data.files;\r\n        vm.selected = vm.files[0];\r\n\r\n        vm.ngFlowOptions = {\r\n            // You can configure the ngFlow from here\r\n            /*target                   : 'api/media/image',\r\n             chunkSize                : 15 * 1024 * 1024,\r\n             maxChunkRetries          : 1,\r\n             simultaneousUploads      : 1,\r\n             testChunks               : false,\r\n             progressCallbacksInterval: 1000*/\r\n        };\r\n        \r\n        \t\r\n        vm.ngFlow = {\r\n            // ng-flow will be injected into here through its directive\r\n            flow: {}\r\n        };\r\n\r\n        // Methods\r\n        vm.fileAdded = fileAdded;\r\n        vm.upload = upload;\r\n        vm.fileSuccess = fileSuccess;\r\n\r\n        vm.select = select;\r\n        vm.toggleDetails = toggleDetails;\r\n        vm.toggleSidenav = toggleSidenav;\r\n        vm.toggleView = toggleView;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * File added callback\r\n         * Triggers when files added to the uploader\r\n         *\r\n         * @param file\r\n         */\r\n        function fileAdded(file)\r\n        {\r\n            // Prepare the temp file data for file list\r\n            var uploadingFile = {\r\n                id       : file.uniqueIdentifier,\r\n                file     : file,\r\n                type     : '',\r\n                owner    : 'Emily Bennett',\r\n                size     : '',\r\n                modified : moment().format('MMMM D, YYYY'),\r\n                opened   : '',\r\n                created  : moment().format('MMMM D, YYYY'),\r\n                extention: '',\r\n                location : 'My Files > Documents',\r\n                offline  : false,\r\n                preview  : 'assets/images/etc/sample-file-preview.jpg'\r\n            };\r\n\r\n            // Append it to the file list\r\n            vm.files.push(uploadingFile);\r\n        }\r\n\r\n        /**\r\n         * Upload\r\n         * Automatically triggers when files added to the uploader\r\n         */\r\n        function upload()\r\n        {\r\n            // Set headers\r\n            vm.ngFlow.flow.opts.headers = {\r\n                'X-Requested-With': 'XMLHttpRequest',\r\n                //'X-XSRF-TOKEN'    : $cookies.get('XSRF-TOKEN')\r\n            };\r\n\r\n            vm.ngFlow.flow.upload();\r\n        }\r\n\r\n        /**\r\n         * File upload success callback\r\n         * Triggers when single upload completed\r\n         *\r\n         * @param file\r\n         * @param message\r\n         */\r\n        function fileSuccess(file, message)\r\n        {\r\n            // Iterate through the file list, find the one we\r\n            // are added as a temp and replace its data\r\n            // Normally you would parse the message and extract\r\n            // the uploaded file data from it\r\n            angular.forEach(vm.files, function (item, index)\r\n            {\r\n                if ( item.id && item.id === file.uniqueIdentifier )\r\n                {\r\n                    // Normally you would update the file from\r\n                    // database but we are cheating here!\r\n\r\n                    // Update the file info\r\n                    item.name = file.file.name;\r\n                    item.type = 'document';\r\n\r\n                    // Figure out & upddate the size\r\n                    if ( file.file.size < 1024 )\r\n                    {\r\n                        item.size = parseFloat(file.file.size).toFixed(2) + ' B';\r\n                    }\r\n                    else if ( file.file.size >= 1024 && file.file.size < 1048576 )\r\n                    {\r\n                        item.size = parseFloat(file.file.size / 1024).toFixed(2) + ' Kb';\r\n                    }\r\n                    else if ( file.file.size >= 1048576 && file.file.size < 1073741824 )\r\n                    {\r\n                        item.size = parseFloat(file.file.size / (1024 * 1024)).toFixed(2) + ' Mb';\r\n                    }\r\n                    else\r\n                    {\r\n\t\t\t\t\t\titem.size = parseFloat(file.file.size / (1024 * 1024 * 1024)).toFixed(2) + ' Gb';\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Select an item\r\n         *\r\n         * @param item\r\n         */\r\n        function select(item)\r\n        {\r\n            vm.selected = item;\r\n        }\r\n\r\n        /**\r\n         * Toggle details\r\n         *\r\n         * @param item\r\n         */\r\n        function toggleDetails(item)\r\n        {\r\n            vm.selected = item;\r\n            toggleSidenav('details-sidenav');\r\n        }\r\n\r\n        /**\r\n         * Toggle sidenav\r\n         *\r\n         * @param sidenavId\r\n         */\r\n        function toggleSidenav(sidenavId)\r\n        {\r\n            $mdSidenav(sidenavId).toggle();\r\n        }\r\n\r\n        /**\r\n         * Toggle view\r\n         */\r\n        function toggleView()\r\n        {\r\n            vm.currentView = vm.currentView === 'list' ? 'grid' : 'list';\r\n        }\r\n    }\r\n})();\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.dashboard', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, msApiProvider, msNavigationServiceProvider, $translatePartialLoaderProvider) {\r\n\r\n    // State\r\n    $stateProvider.state('app.dashboard', {\r\n      url: '/dashboard',\r\n      views: {\r\n        'content@app': {\r\n          //templateUrl: 'app/main/dashboard/dashboard.html',\r\n          controller: 'DashboardController as vm'\r\n        }\r\n      }\r\n    });\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/dashboard');\r\n\r\n    // Navagation\r\n    msNavigationServiceProvider.saveItem('reports.dashboard', {\r\n      title: 'Dashboard',\r\n      icon: 'icon-poll-box',\r\n      state: 'app.dashboard',\r\n      weight: 2\r\n    });\r\n\r\n  }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.dashboard')\r\n        .controller('DashboardController', DashboardController);\r\n\r\n    /** @ngInject */\r\n    function DashboardController($rootScope, $stateParams, $location, $mdDialog, $mdSidenav, $document, $http, $scope)\r\n    {\r\n        var vm = this;\r\n\r\n      vm.url = 'https://checklinked.com/ajax/dashboard-login.php';\r\n\r\n      window.open(vm.url);\r\n    }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.create', [])\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($stateProvider, $translatePartialLoaderProvider, msNavigationServiceProvider)\r\n    {\r\n        // State\r\n        $stateProvider.state('app.create', {\r\n            url      : '/create',\r\n            views    : {\r\n                'main@'                       : {\r\n                    templateUrl: 'app/core/layouts/content-only.html',\r\n                    controller : 'MainController as vm'\r\n                },\r\n                'content@app.create': {\r\n                    templateUrl: 'app/main/create/create.html',\r\n                    controller : 'CreateController as vm'\r\n                }\r\n            },\r\n            bodyClass: 'create'\r\n        });\r\n        \r\n        // Translation\r\n        $translatePartialLoaderProvider.addPart('app/main/create');\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.create')\r\n        .controller('CreateController', CreateController);\r\n\r\n    /** @ngInject */\r\n    function CreateController($rootScope, $http, $state, api, $location)\r\n    {\r\n\t\tvar vm = this;\r\n\r\n        // Methods\r\n\t\tvm.sendInfo = sendInfo;\r\n    \r\n\t\tvm.create = {\r\n\t\t  sending: false,\r\n\t\t  success: false\r\n\t\t};\r\n    \t\r\n\t    vm.create.reg = {\r\n\t      email: '',\r\n\t      phone: '',\r\n\t      notifications: 1,\r\n\t      baseURL: 'http://checklinked.com',\r\n\t      password: '',\r\n\t      password2: '',\r\n\t      name: {\r\n\t        first: '',\r\n\t        middle: '',\r\n\t        last: ''\r\n\t      }\r\n\t    };\r\n    \r\n\t    function sendInfo() {\r\n\t      vm.create.sending = true;\r\n\t      return api.create.register(vm.create.reg).success(function(res) {\r\n\t        if (+res.code) {\r\n\t          return $rootScope.message(res.message, 'warning');\r\n\t        } else {\r\n\t          \t\t\t\tvm.create = {\r\n\t\t  \t\t\t\t\tsuccess: true\r\n\t\t\t\t\t\t\t};\r\n    \r\n\t        }\r\n\t      })[\"finally\"](function() {\r\n\t        return vm.create.sending = false;\r\n\t      });\r\n\t    };\r\n    \r\n\r\n    }\r\n})();\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.contacts')\r\n    .controller('ContactsController', ContactsController);\r\n\r\n  /** @ngInject */\r\n  function ContactsController($rootScope, $state, $stateParams, $scope, $mdSidenav, msUtils, $mdDialog, $document, api, $http, $filter) {\r\n    var vm = this;\r\n\r\n\r\n    vm.contacts = [];\r\n    api.contacts.get().then(function (d) {\r\n      vm.contacts = d.data.friendships;\r\n\r\n      if($stateParams.passID){\r\n        vm.filterChange('invitations');\r\n      }\r\n      console.log('vm.contacts', vm.contacts);\r\n    });\r\n\r\n    vm.user = $rootScope.user;\r\n\r\n    vm.contacts.shift = showWhichInviteContactData(vm.contacts);\r\n\r\n    vm.filterIds = null;\r\n    vm.listType = 'all';\r\n    vm.listOrder = 'name';\r\n    vm.listOrderAsc = false;\r\n    vm.selectedContacts = [];\r\n    vm.newGroupName = '';\r\n    vm.showIDs = [];\r\n\r\n    vm.filterChange = filterChange;\r\n    vm.openContactDialog = openContactDialog;\r\n    vm.openAddContactDialog = openAddContactDialog;\r\n    vm.deleteContactConfirm = deleteContactConfirm;\r\n    vm.toggleSidenav = toggleSidenav;\r\n    vm.setBlank = setBlank;\r\n    vm.updateFriends = updateFriends;\r\n    vm.friendshipStatus = friendshipStatus;\r\n    vm.invitationStatus = invitationStatus;\r\n    vm.deleteConnection = deleteConnection;\r\n    vm.find = find;\r\n    vm.queryContacts = queryContacts;\r\n    vm.acceptConnectionInvitation = acceptConnectionInvitation;\r\n    vm.inviteToConnect = inviteToConnect;\r\n    vm.removeConnectionInvitation = removeConnectionInvitation;\r\n    vm.showWhichInviteContactData = showWhichInviteContactData;\r\n    vm.openDirectMessageDialog = openDirectMessageDialog;\r\n    vm.openConversationDialog = openConversationDialog;\r\n    vm.closeDialog = closeDialog;\r\n\r\n    vm.passID = $stateParams.passID;\r\n\r\n    //console.log('vm.passID', vm.passID);\r\n\r\n    function filterChange(type) {\r\n\r\n      vm.listType = type;\r\n\r\n      var me = $rootScope.user.idCON;\r\n\r\n      if (type === 'all') {\r\n        vm.filterIds = null;\r\n        console.log('vm.listType.name', vm.listType.name);\r\n      }\r\n      else if (type === 'invitations') {\r\n        var out = [];\r\n        vm.filterIds = [];\r\n        out = $filter('filter')(vm.contacts, function (invite) {\r\n          return (invite.contacts.originator.id !== me && invite.accepted == '');\r\n        });\r\n        out.forEach(function (invite) {\r\n          vm.filterIds.push(invite.id);\r\n        });\r\n      }\r\n      else if (type === 'requests') {\r\n        var out = [];\r\n        vm.filterIds = [];\r\n        out = $filter('filter')(vm.contacts, function (invite) {\r\n          return (invite.contacts.originator.id == me && invite.accepted == '');\r\n        });\r\n        out.forEach(function (invite) {\r\n          vm.filterIds.push(invite.id);\r\n        });\r\n        console.log('filterIds (requests)', vm.filterIds);\r\n      }\r\n      else if (angular.isObject(type)) {\r\n        vm.filterIds = type.contactIds;\r\n      }\r\n      vm.selectedContacts = [];\r\n    }\r\n\r\n\r\n    function setBlank() {\r\n      vm.contacts = [];\r\n      vm.loading = {\r\n        friends: false,\r\n        invites: false\r\n      };\r\n      return vm.loaded = {\r\n        friends: false,\r\n        invites: false\r\n      };\r\n    };\r\n    vm.setBlank();\r\n\r\n    function updateFriends() {\r\n      vm.loading.friends = true;\r\n      return api.contacts.get().success(function (res) {\r\n        if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          vm.contacts = res.friendships;\r\n          return vm.loaded.friends = true;\r\n        }\r\n      })[\"finally\"](function () {\r\n        return vm.loading.friends = false;\r\n      });\r\n    };\r\n    $scope.$on('event:friendshipInviteCountUpdated', function () {\r\n      return vm.updateFriends();\r\n    });\r\n    $scope.$on('event:userSelected', function () {\r\n      return vm.setBlank();\r\n    });\r\n    $scope.$on('event:userLoaded', function () {\r\n      console.log('event:userLoaded was triigered');\r\n      if (!vm.loading.friends && !vm.loaded.friends) {\r\n        return vm.updateFriends();\r\n      }\r\n    });\r\n    if (!vm.loading.friends && !vm.loaded.friends) {\r\n      vm.updateFriends();\r\n    }\r\n    function friendshipStatus(idCON) {\r\n      var friend, i, key, len, ref;\r\n      ref = vm.contacts;\r\n      for (key = i = 0, len = ref.length; i < len; key = ++i) {\r\n        friend = ref[key];\r\n        if (friend.accepted === '') {\r\n          if (friend.contacts.accepter.id === idCON) {\r\n            return 'Sent';\r\n          } else if (friend.contacts.originator.id === idCON) {\r\n            return 'Received';\r\n          }\r\n        } else {\r\n          if (friend.contacts.accepter.id === idCON) {\r\n            return 'Friend';\r\n          } else if (friend.contacts.originator.id === idCON) {\r\n            return 'Friend';\r\n          }\r\n        }\r\n      }\r\n      return 'Strangers';\r\n    };\r\n    function invitationStatus(idCON, invite) {\r\n      if (invite == null) {\r\n        invite = null;\r\n      }\r\n      if (invite.accepted !== '') {\r\n        return 'Friend';\r\n      }\r\n      if (invite.contacts.accepter.id === idCON) {\r\n        return 'Received';\r\n      }\r\n      if (invite.contacts.originator.id === idCON) {\r\n        return 'Sent';\r\n      } else {\r\n        return 'Strangers';\r\n      }\r\n    };\r\n    function deleteConnection(idCON) {\r\n      if (confirm('Are you sure you wish to delete this connection?')) {\r\n        return vm.removeConnectionInvitation(idCON);\r\n      }\r\n    };\r\n    function find(ev) {\r\n      vm.findContacts = {\r\n        criteria: {\r\n          queryString: ''\r\n        },\r\n        searchCount: 0,\r\n        searching: false,\r\n        results: []\r\n      };\r\n      vm.openAddContactDialog(ev);\r\n      return null;\r\n    };\r\n    function queryContacts() {\r\n      console.log('queryContacts', vm.findContacts.criteria.queryString);\r\n      if (vm.findContacts.criteria.queryString === '') {\r\n        return $rootScope.message('Please provide Search criteria.', 'warning');\r\n      } else {\r\n        vm.findContacts.searching = true;\r\n        return api.contacts.find(vm.findContacts.criteria.queryString).success(function (res) {\r\n          if (res.code) {\r\n            return $rootScope.message(res.message, 'warning');\r\n          } else {\r\n            vm.findContacts.results = res.contacts;\r\n            return vm.findContacts.searchCount += 1;\r\n          }\r\n        })[\"finally\"](function () {\r\n          return vm.findContacts.searching = false;\r\n        });\r\n      }\r\n    };\r\n    function acceptConnectionInvitation(idCON, index) {\r\n\r\n\r\n      var friendship;\r\n\r\n      friendship = vm.contacts[index];\r\n\r\n      console.log('friendship', friendship);\r\n\r\n      return api.contacts.invite.accept(idCON).success(function (res) {\r\n        if (!res.code) {\r\n\r\n          vm.contacts.remove(friendship);\r\n\r\n          //console.log('res.friendships[0]', res.friendships[0]);\r\n\r\n          return vm.contacts.unshift(res.friendships[0]);\r\n        }\r\n      });\r\n    };\r\n    function inviteToConnect(idCON) {\r\n      return api.contacts.invite.send(idCON).success(function (res) {\r\n        if (!res.code) {\r\n          return vm.contacts.unshift(res.friendships[0]);\r\n        }\r\n      });\r\n    };\r\n    function removeConnectionInvitation(idCON) {\r\n      return api.contacts.invite.remove(idCON).success(function () {\r\n        var i, invite, invites, len, results;\r\n        invites = $filter('filter')(vm.contacts, {\r\n          contacts: {\r\n            accepter: {\r\n              id: idCON\r\n            }\r\n          }\r\n        }, true);\r\n        invites = invites.concat($filter('filter')(vm.contacts, {\r\n          contacts: {\r\n            originator: {\r\n              id: idCON\r\n            }\r\n          }\r\n        }, true));\r\n        console.log('invites from filter', invites);\r\n        results = [];\r\n        for (i = 0, len = invites.length; i < len; i++) {\r\n          invite = invites[i];\r\n          results.push(vm.contacts.splice(vm.contacts.indexOf($filter('filter')(vm.contacts, {id: invite.id}, true)[0]), 1));\r\n          console.log('removed invites[i]', invites, vm.contacts);\r\n        }\r\n        console.log('vm.contact removed', vm.contacts, results);\r\n        return results;\r\n      });\r\n    };\r\n    function showWhichInviteContactData(friend) {\r\n      var ref, ref1, ref2;\r\n      if (((ref = $rootScope.user) != null ? ref.idCON : void 0) === (friend != null ? (ref1 = friend.contacts) != null ? (ref2 = ref1.accepter) != null ? ref2.id : void 0 : void 0 : void 0)) {\r\n        return 'originator';\r\n      }\r\n      return 'accepter';\r\n    };\r\n\r\n    function openContactDialog(ev, contact) {\r\n\r\n      vm.contact = angular.copy(contact);\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/contacts/dialogs/contact/contact-dialog.html',\r\n        parent: angular.element($document.find('#contacts')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n    function openAddContactDialog(ev) {\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/contacts/dialogs/contact/add-contact-dialog.html',\r\n        parent: angular.element($document.find('#contacts')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n    function deleteContactConfirm(ev, contact, idCON) {\r\n      console.log(contact);\r\n      var confirm = $mdDialog.confirm()\r\n        .title('Are you sure want to delete the contact?')\r\n        .htmlContent('<b>' + contact.name.full + '</b>' + ' will be deleted.')\r\n        .ariaLabel('delete contact')\r\n        .targetEvent(ev)\r\n        .ok('OK')\r\n        .cancel('CANCEL');\r\n\r\n      $mdDialog.show(confirm).then(function () {\r\n        vm.removeConnectionInvitation(idCON);\r\n      });\r\n\r\n    }\r\n\r\n\r\n    /*\r\n     function openDirectMessageDialog(contact, ev)\t{\r\n\r\n     var which;\r\n\r\n     which = vm.showWhichInviteContactData(contact)\r\n\r\n     console.log('contact.contacts[which].name.full', contact.contacts[which].name.full);\r\n\r\n     $mdDialog.show({\r\n     scope\t\t\t   : $scope,\r\n     preserveScope\t   : true,\r\n     templateUrl        : 'app/main/contacts/dialogs/contact/direct-message-dialog.html',\r\n     parent             : angular.element($document.find('#content-container')),\r\n     targetEvent        : ev,\r\n     clickOutsideToClose: true,\r\n     locals             : {\r\n     contactId : contact.id,\r\n     contactName : contact.contacts[which].name.full\r\n     }\r\n     });\r\n     }\r\n\r\n     */\r\n    function openDirectMessageDialog(contact, ev) {\r\n\r\n      vm.contact = contact;\r\n\r\n      vm.which = vm.showWhichInviteContactData(contact);\r\n\r\n      console.log('vm.which', vm.which);\r\n\r\n      $mdDialog.show({\r\n        controller: 'DirectMessageDialogController',\r\n        controllerAs: 'vm',\r\n        templateUrl: 'app/main/contacts/dialogs/contact/direct-message-dialog.html',\r\n        parent: angular.element($document.find('#contacts')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n        locals: {\r\n          contact: vm.contact,\r\n          which: vm.which\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n\r\n    function openConversationDialog(ev, producerType, id, name) {\r\n\r\n      console.log('id', id);\r\n      console.log('name', name);\r\n      console.log('producerType', producerType);\r\n\r\n      $mdDialog.show({\r\n        controller: 'ChecklistConversationDialogController',\r\n        controllerAs: 'vm',\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-conversation-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n        locals: {\r\n          convoId: id,\r\n          convoName: name,\r\n          producerType: producerType\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n    if (vm.passID) {\r\n      vm.filterChange('invitations');\r\n\r\n    }\r\n\r\n\r\n    function closeDialog() {\r\n      $mdDialog.hide();\r\n    }\r\n\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n    }\r\n\r\n  }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.confirm', [])\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($stateProvider, $translatePartialLoaderProvider, msNavigationServiceProvider)\r\n    {\r\n        // State\r\n        $stateProvider.state('app.confirm', {\r\n            url      : '/confirm/:id',\r\n            views    : {\r\n                'main@'                       : {\r\n                    templateUrl: 'app/core/layouts/content-only.html',\r\n                    controller : 'MainController as vm'\r\n                },\r\n                'content@app.confirm': {\r\n                    templateUrl: 'app/main/confirm/confirm.html',\r\n                    controller : 'ConfirmController as vm'\r\n                }\r\n            },\r\n            bodyClass: 'confirm'\r\n        })\r\n        // Translation\r\n        $translatePartialLoaderProvider.addPart('app/main/confirm');\r\n    }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.confirm')\r\n        .controller('ConfirmController', ConfirmController);\r\n\r\n    /** @ngInject */\r\n    function ConfirmController($rootScope, $scope, $http, $state, api, $location, $stateParams) {\r\n\r\n\tvar vm = this;\r\n\r\n\tconsole.log('params', $stateParams);\r\n    if ($stateParams.id === '') {\r\n      vm.sending = false;\r\n      vm.confirmed = false;\r\n      $rootScope.message(\"No confirmation key provided.  Please use the full confirmation link in your confirmation email\", 'warning');\r\n      return vm.message = 'No confirmation key provided.  Please use the full confirmation link in your confirmation email.';\r\n    } else {\r\n      vm.message = 'Confirming...';\r\n      vm.sending = true;\r\n\r\n      return api.confirm.validate($stateParams.id).error(function(res) {\r\n      $rootScope.message('Unknown error conforming New User Account.', 'warning');\r\n        }).success(function(res) {\r\n        \tconsole.log('res', res);\r\n          if (res.code) {\r\n\r\n            if(res.code === 0 || res.code == 0)\r\n            {\r\n              $rootScope.message(res.message, 'success');\r\n              return vm.message = res.message;\r\n            } else {\r\n              $rootScope.message(\"Error creating New User Account: \" + res.message, 'warning');\r\n              return vm.message = res.message;\r\n            }\r\n\r\n          } else {\r\n\r\n        vm.message = res.message;\r\n\r\n          }\r\n        })[\"finally\"](function() {\r\n           return vm.sending = false;\r\n        });\r\n\r\n\r\n\r\n    }\r\n\r\n    }\r\n})();\r\n\nvar indexOf = [].indexOf || function (item) {\r\n    for (var i = 0, l = this.length; i < l; i++) {\r\n      if (i in this && this[i] === item) return i;\r\n    }\r\n    return -1;\r\n  };\r\n\r\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.checklist')\r\n    .controller('checklistController', checklistController);\r\n\r\n  /** @ngInject */\r\n  function checklistController($rootScope, $scope, api, $stateParams, $location, $mdDialog, $mdSidenav, $document, $http, $state, $filter, $window) {\r\n    var vm = this;\r\n    var ref;\r\n\r\n\r\n    vm.setChecklistCtrlBlank = setChecklistCtrlBlank;\r\n    vm.preventDefault = preventDefault;\r\n    vm.deleteConfirm = deleteConfirm;\r\n    vm.deleteItem = deleteItem;\r\n    vm.toggleSidenav = toggleSidenav;\r\n    vm.toggleFilter = toggleFilter;\r\n    vm.resetFilters = resetFilters;\r\n    vm.toggleFilterWithEmpty = toggleFilterWithEmpty;\r\n    vm.completeLoad = completeLoad;\r\n    vm.organizeData = organizeData;\r\n    vm.children = children;\r\n    vm.joinFeeds = joinFeeds;\r\n    vm.toggleComplete = toggleComplete;\r\n    vm.isForm = isForm;\r\n    vm.add = add;\r\n    vm.toggleCheckbox = toggleCheckbox;\r\n    vm.showWhichInviteContactData = showWhichInviteContactData;\r\n    vm.CFC = CFC;\r\n    vm.next = next;\r\n    vm.previous = previous;\r\n    vm.group = group;\r\n    vm.checkIfLinked = checkIfLinked;\r\n    vm.loadChecklist = loadChecklist;\r\n    vm.setSocketStuff = setSocketStuff;\r\n\r\n    vm.showLinkedUsers = showLinkedUsers;\r\n    vm.sendLinkRequest = sendLinkRequest;\r\n    vm.publishTemplate = publishTemplate;\r\n    vm.createSegment = createSegment;\r\n    vm.svc = svc;\r\n    vm.fetchGroups = fetchGroups;\r\n    vm.closeDialog = closeDialog;\r\n    vm.setLabels = setLabels;\r\n    vm.addChecklistDialog = addChecklistDialog;\r\n    vm.addNewFolder = addNewFolder;\r\n    vm.addNewGroup = addNewGroup;\r\n    vm.addNewChecklist = addNewChecklist;\r\n    vm.toggle = toggle;\r\n    vm.openFolderInput = openFolderInput;\r\n    vm.cancelFolderInput = cancelFolderInput;\r\n    vm.openGroupInput = openGroupInput;\r\n    vm.cancelGroupInput = cancelGroupInput;\r\n    vm.cancelChecklistInput = cancelChecklistInput;\r\n    vm.openAddChecklistTemplateDialog = openAddChecklistTemplateDialog;\r\n    vm.openUploadAttachmentDialog = openUploadAttachmentDialog;\r\n    vm.openConflictsDialog = openConflictsDialog;\r\n    vm.viewAttachmentsDialog = viewAttachmentsDialog;\r\n    vm.fetchAttachmentsParent = fetchAttachmentsParent;\r\n    vm.fetchAttachmentsChecklist = fetchAttachmentsChecklist;\r\n    vm.uploadAttachment = uploadAttachment;\r\n    vm.uniqueString = uniqueString;\r\n    vm.getUserKey = getUserKey;\r\n    vm.downloadPDF = downloadPDF;\r\n    vm.downloadXML = downloadXML;\r\n    vm.fetchHeadingBlock = fetchHeadingBlock;\r\n    vm.fetchItemBlock = fetchItemBlock;\r\n    vm.displayUserCheckboxes = displayUserCheckboxes;\r\n    vm.evaluateConflicts = evaluateConflicts;\r\n    vm.appendCheckboxesToItems = appendCheckboxesToItems;\r\n    vm.removeUserCheckboxes = removeUserCheckboxes;\r\n    vm.userCheckboxes = userCheckboxes;\r\n    vm.setBlank = setBlank;\r\n    vm.setError = setError;\r\n    vm.toggleShowCheckboxes = toggleShowCheckboxes;\r\n    vm.loadLinkedUsers = loadLinkedUsers;\r\n\r\n    vm.openChecklistDialog = openChecklistDialog;\r\n    vm.saveChecklist = saveChecklist;\r\n    vm.openSectionDialog = openSectionDialog;\r\n    vm.saveSection = saveSection;\r\n    vm.openHeadingDialog = openHeadingDialog;\r\n    vm.saveHeading = saveHeading;\r\n    vm.openItemDialog = openItemDialog;\r\n    vm.openFormLineDialog = openFormLineDialog;\r\n    vm.saveItem = saveItem;\r\n    vm.openConversationDialog = openConversationDialog;\r\n    vm.children = children;\r\n    vm.isExpandable = isExpandable;\r\n    vm.toggleableChildren = toggleableChildren;\r\n    vm.expand = expand;\r\n    vm.collapse = collapse;\r\n    vm.isExpanded = isExpanded;\r\n    vm.toggle = toggle;\r\n    vm.downloadAttachment = downloadAttachment;\r\n\r\n    // CONFLICTS\r\n    vm.fetchConflictsHeadingBlock = fetchConflictsHeadingBlock;\r\n    vm.fetchConflictsItemBlock = fetchConflictsItemBlock;\r\n   \r\n    //vm.loadMore = loadMore;\r\n\r\n    //console.log('$stateParams', $stateParams, $state);\r\n    vm.idCHK = $stateParams.id;\r\n\r\n    vm.folders = [];\r\n\r\n    api.folders.get().then(function (d) {\r\n      vm.folders = d.data.folders;\r\n    });\r\n\r\n    vm.checklist = {\r\n      sending: false\r\n    };\r\n\r\n    vm.wizard = {\r\n      newFolder: false,\r\n      newGroup: false\r\n    };\r\n\r\n    vm.tempGroup = {};\r\n\r\n\r\n    if (!vm.isExpandedCounter) {\r\n      vm.isExpandedCounter = 0;\r\n    }\r\n\r\n    if ($stateParams.id !== undefined && $stateParams.id != null) {\r\n      //console.log('$stateParams.id not null/undefined', $stateParams);\r\n      //console.log('$state', $state);\r\n       debugger;\r\n      if ($stateParams.id == '') {\r\n        console.log('$stateParams empty', $stateParams);\r\n        console.log('$state', $state);\r\n        $location.path('/checklist');\r\n      } else if ($state.is('app.checklist.detail')) {\r\n        debugger;\r\n        console.log('stateParams', $stateParams);\r\n        console.log('$state', $state);\r\n        vm.passChecklist = [];\r\n        api.checklists.getGroup($stateParams.id).then(function (d) {\r\n        vm.passChecklist = d.data.checklists;\r\n\r\n        });\r\n        vm.setChecklistCtrlBlank();\r\n        vm.loadChecklist($stateParams.id);\r\n\r\n\r\n        if ($stateParams.headings && $stateParams.sections && $stateParams.items) {\r\n\r\n          //console.log('grab conflicts objects');\r\n\r\n\r\n          var section, heading, i;\r\n\r\n          for (i = 0; i < $stateParams.sections.length; i++) {\r\n            section = {\r\n              id: $stateParams.sections[i],\r\n              headings: []\r\n            };\r\n            vm.toggle('section', section);\r\n            vm.fetchConflictsHeadingBlock(section, $stateParams.id);\r\n          }\r\n\r\n          for (z = 0; z < $stateParams.headings.length; z++) {\r\n            heading = {\r\n              id: $stateParams.headings[z],\r\n              items: []\r\n            };\r\n            vm.toggle('heading', heading);\r\n            vm.fetchConflictsItemBlock(heading, $stateParams.id);\r\n          }\r\n\r\n\r\n          for (i = 0; i < $stateParams.headings.length; i++) {\r\n            heading = {\r\n              id: $stateParams.headings[i],\r\n              items: []\r\n            };\r\n            vm.toggle('heading', heading);\r\n            vm.fetchConflictsItemBlock(heading, $stateParams.id);\r\n          }\r\n\r\n\r\n          vm.completeLoad();\r\n        }\r\n\r\n\r\n      } else if ($state.is('app.checklist.conflicts')) {\r\n        //console.log('stateParams', $stateParams);\r\n        //console.log('$state', $state);\r\n        vm.passChecklist = [];\r\n        api.checklists.getGroup($stateParams.id).then(function (d) {\r\n          vm.passChecklist = d.data.checklists;\r\n        });\r\n        //console.log('$stateParams.id here', $stateParams.id);\r\n        vm.setChecklistCtrlBlank();\r\n        vm.loadChecklist($stateParams.id);\r\n\r\n        if ($stateParams.headings && $stateParams.sections) {\r\n\r\n          console.log('$stateParams.sections.length', $stateParams.sections.length);\r\n          console.log('$stateParams.sections.length', $stateParams.headings.length);\r\n\r\n          var section, heading, i, z;\r\n\r\n          for (i = 0; i < $stateParams.sections.length; i++) {\r\n            section = {\r\n              id: $stateParams.sections[i],\r\n              headings: []\r\n            };\r\n            vm.toggle('section', section);\r\n            vm.fetchConflictsHeadingBlock(section, $stateParams.id);\r\n          }\r\n\r\n          for (z = 0; z < $stateParams.headings.length; z++) {\r\n            heading = {\r\n              id: $stateParams.headings[z],\r\n              items: []\r\n            };\r\n            vm.toggle('heading', heading);\r\n            vm.fetchConflictsItemBlock(heading, $stateParams.id);\r\n          }\r\n\r\n          vm.completeLoad();\r\n        }\r\n\r\n      } else if ($state.is('app.checklist.notifications')) {\r\n        console.log('stateParams', $stateParams);\r\n        console.log('$state', $state);\r\n\r\n        vm.passedNotification = {\r\n          id: $stateParams.id,\r\n          idCHK: $stateParams.idCHK,\r\n          sections: $stateParams.sections,\r\n          headings: $stateParams.headings,\r\n          items: $stateParams.items,\r\n          name: $stateParams.name,\r\n          type: $stateParams.type\r\n        };\r\n\r\n\r\n        vm.passChecklist = [];\r\n        api.checklists.getGroup($stateParams.idCHK).then(function (d) {\r\n          vm.passChecklist = d.data.checklists;\r\n        });\r\n\r\n        //console.log('$stateParams.id here', $stateParams.id);\r\n        vm.setChecklistCtrlBlank();\r\n        vm.loadChecklist($stateParams.idCHK);\r\n\r\n        if ($stateParams.headings && $stateParams.sections) {\r\n\r\n          var sections, headings;\r\n\r\n          sections = $stateParams.sections;\r\n\r\n          headings = $stateParams.headings;\r\n\r\n          console.log('vm.passedNotification', vm.passedNotification);\r\n\r\n          var section, heading, i, z;\r\n\r\n          console.log('sections', sections);\r\n          console.log('sections.length', sections.length);\r\n\r\n          for (i = 0; i < sections.length; i++) {\r\n            section = {\r\n              id: sections[i],\r\n              headings: []\r\n            };\r\n            vm.toggle('section', section);\r\n            vm.fetchConflictsHeadingBlock(section, $stateParams.idCHK);\r\n          }\r\n\r\n\r\n          console.log('headings', headings);\r\n          console.log('headings.length', headings.length);\r\n\r\n          for (z = 0; z < $stateParams.headings.length; z++) {\r\n            heading = {\r\n              id: $stateParams.headings[z],\r\n              items: []\r\n            };\r\n            vm.toggle('heading', heading);\r\n            vm.fetchConflictsItemBlock(heading, $stateParams.idCHK);\r\n          }\r\n\r\n          vm.completeLoad();\r\n\r\n          if (vm.passedNotification.type == 'post') {\r\n            vm.openConversationDialog('item', vm.passedNotification.id, vm.passedNotification.name);\r\n          }\r\n        }\r\n\r\n      }\r\n      else {\r\n        debugger;\r\n        vm.checklists = [];\r\n        api.checklists.getGroup($stateParams.id).then(function (d) {\r\n          vm.checklists = d.data.checklists;\r\n          //console.log('vm.checklists', vm.checklists);\r\n        });\r\n      }\r\n\r\n    } else {\r\n      vm.setChecklistCtrlBlank();\r\n      vm.loadChecklist();\r\n    }\r\n\r\n\r\n    //FUSE Methods\r\n    vm.checklistFilters = {\r\n      search: '',\r\n      deleted: false\r\n    };\r\n\r\n    vm.dragControlListenersSections = {\r\n\r\n      accept: function (sourceItemHandleScope, destSortableScope, destItemScope) {\r\n\r\n        //console.log('sourceItemHandleScope', sourceItemHandleScope);\r\n        //console.log('destSortableScope', destSortableScope);\r\n\r\n        if (sourceItemHandleScope.itemScope.section && (!sourceItemHandleScope.itemScope.heading && !sourceItemHandleScope.itemScope.item)) {\r\n          //console.log('truthy');\r\n          //console.log('sourceItemHandleScope', sourceItemHandleScope);\r\n          //console.log('sourceItemHandleScope.itemScope', sourceItemHandleScope.itemScope);\r\n          //console.log('sourceItemHandleScope.itemScope.section', sourceItemHandleScope.itemScope.section);\r\n          //console.log('sourceItemHandleScope.itemScope.heading', sourceItemHandleScope.itemScope.heading);\r\n          //console.log('sourceItemHandleScope.itemScope.item', sourceItemHandleScope.itemScope.item);\r\n          return true\r\n        } else {\r\n          //console.log('falsy');\r\n          //console.log('sourceItemHandleScope', sourceItemHandleScope);\r\n          //console.log('sourceItemHandleScope.itemScope', sourceItemHandleScope.itemScope);\r\n          //console.log('sourceItemHandleScope.itemScope.section', sourceItemHandleScope.itemScope.section);\r\n          //console.log('sourceItemHandleScope.itemScope.heading', sourceItemHandleScope.itemScope.heading);\r\n          //console.log('sourceItemHandleScope.itemScope.item', sourceItemHandleScope.itemScope.item);\r\n          return false\r\n        }\r\n\r\n        //console.log('destItemScope', destItemScope);\r\n        //console.log('source cl.id', sourceItemHandleScope.itemScope.sortableScope.$parent.checklist.id);\r\n        //console.log('destination cl.id', destSortableScope.$parent.checklist.id);\r\n        //return sourceItemHandleScope.itemScope.sortableScope.$parent.checklist.id === destSortableScope.$parent.checklist.id;\r\n      },\r\n      itemMoved: function (event) {\r\n\r\n        var moveSuccess, moveFailure;\r\n        /**\r\n         * Action to perform after move success.\r\n         */\r\n        moveSuccess = function () {\r\n        };\r\n\r\n        /**\r\n         * Action to perform on move failure.\r\n         * remove the item from destination Column.\r\n         * insert the item again in original Column.\r\n         */\r\n        moveFailure = function () {\r\n          eventObj.dest.sortableScope.removeItem(eventObj.dest.index);\r\n          eventObj.source.itemScope.sortableScope.insertItem(eventObj.source.index, eventObj.source.itemScope.item);\r\n        };\r\n\r\n      },\r\n      orderChanged: function (event) {\r\n\r\n        console.log('event', event);\r\n\r\n        // Location where section was dragged to\r\n\r\n\r\n        var arrayKeyNext = (event.dest.index + 1);\r\n        var arrayKeyMoved = (event.dest.index);\r\n        var arrayKeyPrevious = (event.dest.index - 1);\r\n\r\n        console.log('arrayKeyNext', arrayKeyNext);\r\n        console.log('arrayKeyMoved', arrayKeyMoved);\r\n        console.log('arrayKeyPrevious', arrayKeyPrevious);\r\n\r\n        var itemNext = event.dest.sortableScope.modelValue[arrayKeyNext];\r\n        var itemMoved = event.dest.sortableScope.modelValue[arrayKeyMoved];\r\n        var itemPrevious = event.dest.sortableScope.modelValue[arrayKeyPrevious];\r\n\r\n        console.log('itemNext', itemNext);\r\n        console.log('itemMoved', itemMoved);\r\n        console.log('itemPrevious', itemPrevious);\r\n\r\n\r\n        if (arrayKeyPrevious != -1 && typeof itemNext != 'undefined') {\r\n\r\n\r\n          var reorderOrder = (((itemNext.order - itemPrevious.order) / 2) + itemPrevious.order);\r\n        } else if (arrayKeyPrevious == -1 && itemNext.order != 0) {\r\n          var reorderOrder = (((itemNext.order) / 2));\r\n          //console.log('nope');\r\n          //return;\r\n        } else if (itemPrevious.order != 0 && typeof itemNext === 'undefined') {\r\n          var reorderOrder = (itemPrevious.order + 1);\r\n\r\n        }\r\n\r\n        console.log('reorderOrder', reorderOrder);\r\n\r\n        vm.reorder = {\r\n          id: itemMoved.id,\r\n          type: 'section',\r\n          id_parent: itemMoved.id_parent,\r\n          order: reorderOrder\r\n        };\r\n\r\n        console.log('pre API vm.sections', vm.sections);\r\n\r\n\r\n        api.items.reorder(vm.reorder.id, vm.reorder.order, vm.reorder.type, vm.reorder.id_parent).error(function (res) {\r\n          $rootScope.message('Unknown error updating server with reorder info.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            return $rootScope.message(\"Error updating reorder information. (\" + res.code + \": \" + res.message + \")\");\r\n          } else {\r\n\r\n            $rootScope.message(\"Checklist has been modified\");\r\n\r\n            var itemIndex;\r\n\r\n            itemIndex = vm.sections.indexOf(itemMoved);\r\n            console.log('itemIndex', itemIndex);\r\n            vm.sections[itemIndex].order = vm.reorder.order;\r\n\r\n            vm.organizeData();\r\n\r\n            console.log('post vm.sections', vm.sections);\r\n\r\n            var packet;\r\n            packet = {\r\n              catalog: 'sections',\r\n              type: 'reorder',\r\n              user: {\r\n                idCON: $rootScope.user.idCON,\r\n                name: $rootScope.user.name\r\n              },\r\n              record: vm.sections[itemIndex]\r\n            };\r\n            console.log('emitting data', packet);\r\n            $rootScope.socketio.emit('data', packet);\r\n\r\n          }\r\n        });\r\n\r\n      },\r\n      containment: '#sections',\r\n      allowDuplicates: false\r\n    };\r\n\r\n    vm.dragControlListenersHeadings = {\r\n\r\n      accept: function (sourceItemHandleScope, destSortableScope, destItemScope) {\r\n\r\n        if (sourceItemHandleScope.itemScope.heading && (!sourceItemHandleScope.itemScope.item)) {\r\n          //console.log('truthy');\r\n          //console.log('sourceItemHandleScope', sourceItemHandleScope);\r\n          //console.log('sourceItemHandleScope.itemScope', sourceItemHandleScope.itemScope);\r\n          //console.log('sourceItemHandleScope.itemScope.section', sourceItemHandleScope.itemScope.section);\r\n          //console.log('sourceItemHandleScope.itemScope.heading', sourceItemHandleScope.itemScope.heading);\r\n          //console.log('sourceItemHandleScope.itemScope.item', sourceItemHandleScope.itemScope.item);\r\n          return true\r\n        } else {\r\n          //console.log('falsy');\r\n          //console.log('sourceItemHandleScope', sourceItemHandleScope);\r\n          //console.log('sourceItemHandleScope.itemScope', sourceItemHandleScope.itemScope);\r\n          //console.log('sourceItemHandleScope.itemScope.section', sourceItemHandleScope.itemScope.section);\r\n          //console.log('sourceItemHandleScope.itemScope.heading', sourceItemHandleScope.itemScope.heading);\r\n          //console.log('sourceItemHandleScope.itemScope.item', sourceItemHandleScope.itemScope.item);\r\n          return false\r\n        }\r\n\r\n\r\n      },\r\n      itemMoved: function (event) {\r\n        var moveSuccess, moveFailure;\r\n        /**\r\n         * Action to perform after move success.\r\n         */\r\n        moveSuccess = function () {\r\n        };\r\n\r\n        /**\r\n         * Action to perform on move failure.\r\n         * remove the item from destination Column.\r\n         * insert the item again in original Column.\r\n         */\r\n        moveFailure = function () {\r\n          eventObj.dest.sortableScope.removeItem(eventObj.dest.index);\r\n          eventObj.source.itemScope.sortableScope.insertItem(eventObj.source.index, eventObj.source.itemScope.item);\r\n        };\r\n\r\n      },\r\n      orderChanged: function (event) {\r\n\r\n\r\n        console.log('event', event);\r\n\r\n        // Location where heading was dragged to\r\n\r\n\r\n        var arrayKeyNext = (event.dest.index + 1);\r\n        var arrayKeyMoved = (event.dest.index);\r\n        var arrayKeyPrevious = (event.dest.index - 1);\r\n\r\n        console.log('arrayKeyNext', arrayKeyNext);\r\n        console.log('arrayKeyMoved', arrayKeyMoved);\r\n        console.log('arrayKeyPrevious', arrayKeyPrevious);\r\n\r\n        var itemNext = event.dest.sortableScope.modelValue[arrayKeyNext];\r\n        var itemMoved = event.dest.sortableScope.modelValue[arrayKeyMoved];\r\n        var itemPrevious = event.dest.sortableScope.modelValue[arrayKeyPrevious];\r\n\r\n        console.log('itemNext', itemNext);\r\n        console.log('itemMoved', itemMoved);\r\n        console.log('itemPrevious', itemPrevious);\r\n\r\n\r\n        if (arrayKeyPrevious != -1 && typeof itemNext != 'undefined') {\r\n\r\n\r\n          var reorderOrder = (((itemNext.order - itemPrevious.order) / 2) + itemPrevious.order);\r\n        } else if (arrayKeyPrevious == -1 && itemNext.order != 0) {\r\n          var reorderOrder = (((itemNext.order) / 2));\r\n          //console.log('nope');\r\n          //return;\r\n        } else if (itemPrevious.order != 0 && typeof itemNext === 'undefined') {\r\n          var reorderOrder = (itemPrevious.order + 1);\r\n\r\n        }\r\n\r\n        console.log('reorderOrder', reorderOrder);\r\n\r\n        vm.reorder = {\r\n          id: itemMoved.id,\r\n          type: 'heading',\r\n          id_parent: itemMoved.id_parent,\r\n          order: reorderOrder\r\n        };\r\n\r\n        console.log('pre API vm.headings', vm.headings);\r\n\r\n\r\n        api.items.reorder(vm.reorder.id, vm.reorder.order, vm.reorder.type, vm.reorder.id_parent).error(function (res) {\r\n          $rootScope.message('Unknown error updating server with reorder info.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            return $rootScope.message(\"Error updating reorder information. (\" + res.code + \": \" + res.message + \")\");\r\n          } else {\r\n\r\n            $rootScope.message(\"Checklist has been modified\");\r\n\r\n            var itemIndex;\r\n\r\n            itemIndex = vm.headings.indexOf(itemMoved);\r\n            console.log('itemIndex', itemIndex);\r\n            vm.headings[itemIndex].order = vm.reorder.order;\r\n\r\n            vm.organizeData();\r\n\r\n            console.log('post vm.headings', vm.headings);\r\n\r\n            var packet;\r\n            packet = {\r\n              catalog: 'headings',\r\n              type: 'reorder',\r\n              user: {\r\n                idCON: $rootScope.user.idCON,\r\n                name: $rootScope.user.name\r\n              },\r\n              record: vm.headings[itemIndex]\r\n            };\r\n            console.log('emitting data', packet);\r\n            $rootScope.socketio.emit('data', packet);\r\n\r\n          }\r\n        });\r\n\r\n      },\r\n      containment: '#headings',\r\n      allowDuplicates: false\r\n    };\r\n\r\n    vm.dragControlListenersItems = {\r\n      accept: function (sourceItemHandleScope, destSortableScope, destItemScope) {\r\n\r\n        if (sourceItemHandleScope.itemScope.item) {\r\n          //console.log('truthy');\r\n          //console.log('destSortableScope', destSortableScope);\r\n          //console.log('sourceItemHandleScope', sourceItemHandleScope);\r\n          //console.log('sourceItemHandleScope.itemScope', sourceItemHandleScope.itemScope);\r\n          //console.log('sourceItemHandleScope.itemScope.section', sourceItemHandleScope.itemScope.section);\r\n          //console.log('sourceItemHandleScope.itemScope.heading', sourceItemHandleScope.itemScope.heading);\r\n          //console.log('sourceItemHandleScope.itemScope.item', sourceItemHandleScope.itemScope.item);\r\n\r\n          var sourceItemID = sourceItemHandleScope.itemScope.item.id;\r\n\r\n          var modelArray;\r\n\r\n          modelArray = destSortableScope.modelValue;\r\n\r\n          //console.log('sourceItemHandleScope.sortableScope.modelValue', sourceItemHandleScope.sortableScope.modelValue);\r\n\r\n          function findItem(element) {\r\n            return element.id === sourceItemID;\r\n          }\r\n\r\n\r\n          var abc = sourceItemHandleScope.sortableScope.modelValue.findIndex(findItem);\r\n\r\n\r\n          return true\r\n        } else {\r\n          //console.log('falsy');\r\n          //console.log('destSortableScope', destSortableScope);\r\n          //console.log('sourceItemHandleScope', sourceItemHandleScope);\r\n          //console.log('sourceItemHandleScope.itemScope', sourceItemHandleScope.itemScope);\r\n          //console.log('sourceItemHandleScope.itemScope.section', sourceItemHandleScope.itemScope.section);\r\n          //console.log('sourceItemHandleScope.itemScope.heading', sourceItemHandleScope.itemScope.heading);\r\n          //console.log('sourceItemHandleScope.itemScope.item', sourceItemHandleScope.itemScope.item);\r\n\r\n          console.log('sourceItemID', sourceItemID);\r\n\r\n          return false\r\n        }\r\n\r\n\r\n      },\r\n      orderChanged: function (event) {\r\n\r\n        console.log('event', event);\r\n\r\n        // Location where item was dragged to\r\n\r\n\r\n        var arrayKeyNext = (event.dest.index + 1);\r\n        var arrayKeyMoved = (event.dest.index);\r\n        var arrayKeyPrevious = (event.dest.index - 1);\r\n\r\n        console.log('arrayKeyNext', arrayKeyNext);\r\n        console.log('arrayKeyMoved', arrayKeyMoved);\r\n        console.log('arrayKeyPrevious', arrayKeyPrevious);\r\n\r\n        var itemNext = event.dest.sortableScope.modelValue[arrayKeyNext];\r\n        var itemMoved = event.dest.sortableScope.modelValue[arrayKeyMoved];\r\n        var itemPrevious = event.dest.sortableScope.modelValue[arrayKeyPrevious];\r\n\r\n        console.log('itemNext', itemNext);\r\n        console.log('itemMoved', itemMoved);\r\n        console.log('itemPrevious', itemPrevious);\r\n\r\n\r\n        if (arrayKeyPrevious != -1 && typeof itemNext != 'undefined') {\r\n\r\n\r\n          var reorderOrder = (((itemNext.order - itemPrevious.order) / 2) + itemPrevious.order);\r\n        } else if (arrayKeyPrevious == -1 && itemNext.order != 0) {\r\n          var reorderOrder = (((itemNext.order) / 2));\r\n          console.log('reorderOrder', reorderOrder);\r\n          console.log('arrayKeyPrevious == -1 && itemNext.order != 0');\r\n          //return;\r\n        } else if (itemPrevious.order != 0 && typeof itemNext === 'undefined') {\r\n          var reorderOrder = (itemPrevious.order + 1);\r\n          console.log('reorderOrder', reorderOrder);\r\n          console.log('itemPrevious.order != 0 && typeof itemNext === undefined');\r\n          //return;\r\n        }\r\n\r\n        console.log('reorderOrder', reorderOrder);\r\n\r\n        vm.reorder = {\r\n          id: itemMoved.id,\r\n          type: 'item',\r\n          id_parent: itemMoved.id_parent,\r\n          order: reorderOrder\r\n        };\r\n\r\n        console.log('pre API vm.items', vm.items);\r\n\r\n\r\n        api.items.reorder(vm.reorder.id, vm.reorder.order, vm.reorder.type, vm.reorder.id_parent).error(function (res) {\r\n          $rootScope.message('Unknown error updating server with reorder info.', 'warning');\r\n        }).success(function (res) {\r\n          var i, len, old, packet, ref1;\r\n          if (res.code) {\r\n            return $rootScope.message(\"Error updating reorder information. (\" + res.code + \": \" + res.message + \")\");\r\n          } else {\r\n\r\n            $rootScope.message(\"Checklist has been modified\");\r\n\r\n            var itemIndex;\r\n\r\n            itemIndex = vm.items.indexOf(itemMoved);\r\n            console.log('itemIndex', itemIndex);\r\n            vm.items[itemIndex].order = vm.reorder.order;\r\n\r\n            vm.organizeData();\r\n\r\n            console.log('post vm.items', vm.items);\r\n\r\n            var packet;\r\n            packet = {\r\n              catalog: 'items',\r\n              type: 'reorder',\r\n              user: {\r\n                idCON: $rootScope.user.idCON,\r\n                name: $rootScope.user.name\r\n              },\r\n              record: vm.items[itemIndex]\r\n            };\r\n            console.log('emitting data', packet);\r\n            $rootScope.socketio.emit('data', packet);\r\n\r\n          }\r\n        });\r\n\r\n\r\n      },\r\n      containment: '#items',\r\n      allowDuplicates: false\r\n    };\r\n\r\n\r\n    vm.sortableOptions = {\r\n      handle: '.handle',\r\n      forceFallback: true,\r\n      ghostClass: 'checklist-item-placeholder',\r\n      fallbackClass: 'checklist-item-ghost',\r\n      fallbackOnBody: true,\r\n      sort: true\r\n    };\r\n\r\n    vm.msScrollOptions = {\r\n      suppressScrollX: true\r\n    };\r\n\r\n\r\n    //console.log('vm.checklistFilters', vm.checklistFilters);\r\n    vm.checklistFiltersDefaults = angular.copy(vm.checklistFilters);\r\n    vm.showAllChecklists = true;\r\n\r\n    vm.checklistOrder = '';\r\n    vm.checklistOrderDescending = false;\r\n\r\n\r\n    /*\r\n     LEGACY CONTROLLER\r\n     */\r\n    function setChecklistCtrlBlank() {\r\n      vm.conflicts = 0;\r\n      vm.nonCompliant = [0, 0];\r\n      vm.loading = vm.loaded = {\r\n        checklist: false,\r\n        sections: false,\r\n        headings: false,\r\n        items: false,\r\n        checkboxes: false,\r\n        attachments: false\r\n      };\r\n      vm.checklists = [];\r\n      vm.sections = [];\r\n      vm.headings = [];\r\n      vm.items = [];\r\n      vm.checkboxes = [];\r\n      vm.attachments = [];\r\n      vm.referencess=[];\r\n      if (!vm.expanded) {\r\n        console.log('set vm.expanded');\r\n        vm.expanded = {\r\n          sections: [],\r\n          headings: [],\r\n          items: [],\r\n          referencess:[]\r\n        };\r\n      } else {\r\n        console.log('vm.expanded is already set', vm.expanded);\r\n      }\r\n      vm.type = [];\r\n      return vm.itemShortLength = 45;\r\n    };\r\n\r\n    vm.setChecklistCtrlBlank();\r\n\r\n\r\n    /*\r\n     NESTED ACCORDION FUNCTIONS\r\n     */\r\n\r\n    function children(whats, parentID) {\r\n      return $filter('orderBy')($filter('filter')(vm[whats], {\r\n        id_parent: parentID\r\n      }, true), 'order');\r\n    };\r\n    function isExpandable(what, which) {\r\n      if (what === !'item') {\r\n        return true;\r\n      }\r\n      if (which.name.length > vm.itemShortLength) {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n    function toggleableChildren(what, parentID) {\r\n      var items, whats;\r\n      if (what === 'section') {\r\n        return vm.sections;\r\n      }\r\n      whats = what + 's';\r\n      if (what !== 'item') {\r\n        return $filter('filter')(vm[whats], {\r\n          id_parent: parentID\r\n        }, true);\r\n      }\r\n      items = vm.items;\r\n      return $filter('filter')(items, function (item, index, items) {\r\n        if (item.id_parent === parentID && vm.isExpandable(what, item)) {\r\n          return true;\r\n        }\r\n      });\r\n    };\r\n    function expand(what, which, parentID) {\r\n      console.log('function expand');\r\n      console.log('what', what);\r\n      console.log('which', which);\r\n      console.log('vm.expanded', vm.expanded);\r\n\r\n\r\n      var catalog, item, items, key, whats;\r\n      if (parentID == null) {\r\n        parentID = null;\r\n      }\r\n      whats = what + 's';\r\n      if (which === 'all') {\r\n        catalog = [];\r\n        if (parentID === null) {\r\n          catalog = vm.sections;\r\n        } else {\r\n          items = vm.toggleableChildren(what, parentID);\r\n          for (key in items) {\r\n            item = items[key];\r\n            if (indexOf.call(vm.expanded[whats], item) < 0) {\r\n              catalog.push(item);\r\n            }\r\n          }\r\n        }\r\n        console.log('vm.expanded', vm.expanded);\r\n        return vm.expanded[whats] = vm.expanded[whats].concat(catalog);\r\n      } else {\r\n        vm.expanded[whats].push(which);\r\n        console.log('vm.expanded after push', vm.expanded);\r\n      }\r\n    };\r\n    function collapse(what, which, parentID) {\r\n      var catalog, item, items, key, ref1, whats;\r\n      if (parentID == null) {\r\n        parentID = null;\r\n      }\r\n      whats = what + 's';\r\n      if (which === 'all') {\r\n        catalog = [];\r\n        if (parentID === !null) {\r\n          items = vm.toggleableChildren(what, parentID);\r\n          ref1 = vm.expanded[whats];\r\n          for (key in ref1) {\r\n            item = ref1[key];\r\n            if (indexOf.call(items, item) < 0) {\r\n              catalog.push(item);\r\n            }\r\n          }\r\n        }\r\n        return vm.expanded[whats] = catalog;\r\n      } else {\r\n        return vm.expanded[whats].remove(which);\r\n      }\r\n    };\r\n    function isExpanded(what, which) {\r\n      var whats, i, x;\r\n      whats = what + 's';\r\n      x = false;\r\n\r\n      vm.isExpandedCounter++;\r\n      console.log('function isExpanded');\r\n      console.log('what', what);\r\n      console.log('which', which);\r\n      console.log('vm.expanded', vm.expanded);\r\n      console.log('vm.expanded[whats]', vm.expanded[whats]);\r\n      console.log(which.id);\r\n      //console.log('indexOf', vm.expanded[whats].indexOf(which.id));\r\n\r\n      for (i = 0; i < vm.expanded[whats].length; i++) {\r\n        if (vm.expanded[whats][i].id == which.id) {\r\n          console.log('found');\r\n          return true;\r\n        }\r\n      }\r\n    };\r\n\r\n    function toggle(what, which, parentID) {\r\n       debugger;\r\n      console.log('function toggle');\r\n      console.log('what', what);\r\n      console.log('which', which);\r\n      console.log('vm.expanded', vm.expanded);\r\n    //console.log('vm.isExpanded(what, which)', vm.isExpanded(what, which));\r\n\r\n      if (parentID == null) {\r\n        parentID = null;\r\n      }\r\n      if (what === 'item' && which.name.length <= vm.itemShortLength) {\r\n        return false;\r\n      }\r\n      if (what === 'references') {\r\n        which.showReferences = !which.showReferences;\r\n        console.log('which.showReferences', which.showReferences);\r\n        return false;\r\n      }\r\n      if (what === 'na') {\r\n        which.notApplicable = !which.notApplicable;\r\n        return false;\r\n      }\r\n      if (vm.isExpanded(what, which)) {\r\n        console.log('trying to collapse');\r\n        return vm.collapse(what, which, parentID);\r\n      } else {\r\n        console.log('trying to expand');\r\n        return vm.expand(what, which, parentID);\r\n      }\r\n    };\r\n\r\n\r\n    function toggleComplete(checklist) {\r\n      api.checklists.toggleComplete(checklist.id).error(function (res) {\r\n        return $rootScope.message(\"Error toggling Complete. (Communication with Server)\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error toggling Complete. (No response.)\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          return vm.checklists.forEach(function (local) {\r\n            var index, notifyItem;\r\n            if (local.id === res.checklist.id) {\r\n              //console.log('local found', local);\r\n              index = vm.checklists.indexOf(local);\r\n              //console.log('local index is', index);\r\n              vm.checklists[index] = res.checklist;\r\n              vm.organizeData();\r\n              notifyItem = $.extend({}, res.checklist, {\r\n                type: 'complete',\r\n                idFDI: res.checklist.idFDI_latest\r\n              });\r\n              return $rootScope.notify(notifyItem);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    };\r\n\r\n\r\n    /*\r\n     INITIAL DATA LOAD\r\n     */\r\n    vm.feedsJoined = false;\r\n    vm.loadComplete = false;\r\n\r\n    function joinFeeds() {\r\n      var checklist, heading, item, j, k, l, len, len1, len2, len3, m, ref, ref1, ref2, ref3, ref4, section;\r\n      //console.log('joinFeeds()');\r\n      if (vm.feedsJoined) {\r\n        return true;\r\n      }\r\n      if (!vm.loadComplete) {\r\n        return false;\r\n      }\r\n      if (!((ref = $rootScope.socketio) != null ? ref.connected : void 0)) {\r\n        return false;\r\n      }\r\n      //console.log('joining feeds', vm.loadComplete, vm.checklists, vm.sections, vm.headings, vm.items);\r\n      ref1 = vm.items;\r\n      for (j = 0, len = ref1.length; j < len; j++) {\r\n        item = ref1[j];\r\n        //console.log('joining room: ', \"/items/\" + item.id);\r\n        $rootScope.socketio.emit('join', \"/items/\" + item.id);\r\n      }\r\n      ref2 = vm.headings;\r\n      for (k = 0, len1 = ref2.length; k < len1; k++) {\r\n        heading = ref2[k];\r\n        //console.log('joining room: ', \"/headings/\" + heading.id);\r\n        $rootScope.socketio.emit('join', \"/headings/\" + heading.id);\r\n      }\r\n      ref3 = vm.sections;\r\n      for (l = 0, len2 = ref3.length; l < len2; l++) {\r\n        section = ref3[l];\r\n        //console.log('joining room: ', \"/sections/\" + section.id);\r\n        $rootScope.socketio.emit('join', \"/sections/\" + section.id);\r\n      }\r\n      ref4 = vm.checklists;\r\n      for (m = 0, len3 = ref4.length; m < len3; m++) {\r\n        checklist = ref4[m];\r\n        //console.log('joining room: ', \"/checklists/\" + checklist.idCHK);\r\n        $rootScope.socketio.emit('join', \"/checklists/\" + checklist.idCHK);\r\n      }\r\n      return vm.feedsJoined = true;\r\n      //console.log('feedsJoined', true);\r\n    };\r\n\r\n    function completeLoad() {\r\n      if (vm.loading.checklist || vm.loading.sections || vm.loading.headings || vm.loading.items || vm.loading.attachments) {\r\n        return false;\r\n      }\r\n      vm.loadComplete = true;\r\n      vm.loading.checklist = false;\r\n      vm.joinFeeds();\r\n      vm.organizeData();\r\n\r\n      //return $scope.$broadcast('event:dataOrganized');\r\n    };\r\n\r\n    function organizeData() {\r\n      vm.items.forEach(function (item) {\r\n        return item.attachments = vm.children('attachments', item.id);\r\n      });\r\n      vm.headings.forEach(function (heading) {\r\n        heading.items = vm.children('items', heading.id);\r\n        return heading.attachments = vm.children('attachments', heading.id);\r\n      });\r\n      vm.sections.forEach(function (section) {\r\n        section.headings = vm.children('headings', section.id);\r\n        return section.attachments = vm.children('attachments', section.id);\r\n      });\r\n\r\n      vm.checklists.forEach(function (checklist) {\r\n        checklist.sections = vm.children('sections', checklist.idCHK);\r\n        return checklist.attachments = vm.children('attachments', checklist.idCHK);\r\n      });\r\n      //console.log('data organized', vm.checklists);\r\n    };\r\n\r\n    function checkIfLinked(idCHK) {\r\n      //console.log('cfc vm.checklists', $rootScope.checklists);\r\n      var cfc;\r\n      cfc = $filter('filter')($rootScope.checklists, {\r\n        idCHK: idCHK\r\n      });\r\n      //console.log(cfc);\r\n      //console.log('checking if viewAs.user is linked to checklist', idCHK, $rootScope.viewAs.user, $rootScope.checklists);\r\n      return vm.isLinked = cfc.length > 0;\r\n      return console.log('set isLinked', vm.isLinked);\r\n    };\r\n\r\n    function loadChecklist(idCHK) {\r\n      //console.log('idCHK', idCHK);\r\n      vm.setChecklistCtrlBlank();\r\n      vm.checkIfLinked(idCHK);\r\n      if (vm.isLinked) {\r\n        //console.log('is linked');\r\n        if (!vm.loaded.checklist) {\r\n          //console.log('not loaded');\r\n          api.checklists.get(idCHK).success(function (res) {\r\n            console.log('res', res);\r\n            var ref;\r\n            if ((ref = res.checklists) != null ? ref.length : void 0) {\r\n              vm.checklists = res.checklists;\r\n              //console.log('vm.checklists', vm.checklists);\r\n            } else {\r\n              //console.log('problem');\r\n            }\r\n\r\n            console.log('not sure');\r\n            vm.loaded.checklist = true;\r\n            return $scope.$broadcast('event:checklistLoaded');\r\n            console.log('broadcast event:checklistLoaded');\r\n          })[\"finally\"](function () {\r\n            vm.loading.checklist = false;\r\n            return vm.completeLoad();\r\n          });\r\n        }\r\n\r\n        if (!vm.loaded.sections) {\r\n          api.sections.get(idCHK).success(function (res) {\r\n            var ref;\r\n            if ((ref = res.sections) != null ? ref.length : void 0) {\r\n              vm.sections = res.sections;\r\n            }\r\n            return vm.loaded.sections = true;\r\n          })[\"finally\"](function () {\r\n            vm.loading.sections = false;\r\n            return vm.completeLoad();\r\n          });\r\n        }\r\n\r\n        /*\r\n         if(!vm.loaded.headings){\r\n         api.headings.get(idCHK).success(function(res) {\r\n         var ref;\r\n         if ((ref = res.headings) != null ? ref.length : void 0) {\r\n         vm.headings = res.headings;\r\n         }\r\n         return vm.loaded.headings = true;\r\n         })[\"finally\"](function() {\r\n         vm.loading.headings = false;\r\n         return vm.completeLoad();\r\n         });\r\n         }\r\n         if(!vm.loaded.items){\r\n         api.items.get(idCHK).success(function(res) {\r\n         var ref;\r\n         if ((ref = res.items) != null ? ref.length : void 0) {\r\n         vm.items = res.items;\r\n         console.log('res.items', res.items)\r\n         }\r\n         vm.loaded.items = true;\r\n\r\n         return $scope.$emit('event:itemsLoaded');\r\n         //console.log('broadcast event:itemsLoaded');\r\n         })[\"finally\"](function() {\r\n         vm.loading.items = false;\r\n         return vm.completeLoad();\r\n         });\r\n         }\r\n         */\r\n\r\n        if (!vm.loaded.attachments) {\r\n          //console.log('look for attachments');\r\n          api.attachments.checklist(idCHK).success(function (res) {\r\n            var ref;\r\n            if ((ref = res.attachments) != null ? ref.length : void 0) {\r\n              vm.attachments = vm.attachments.concat(res.attachments);\r\n            }\r\n            vm.loaded.attachments = true;\r\n            return $scope.$broadcast('event:attachmentsLoaded');\r\n            //console.log('broadcast event:attachmentsLoaded');\r\n          })[\"finally\"](function () {\r\n            vm.loading.attachments = false;\r\n            return vm.completeLoad();\r\n          });\r\n        }\r\n\r\n        return true;\r\n      } else {\r\n        console.log('not linked');\r\n        vm.loading = {\r\n          checklist: false,\r\n          sections: false,\r\n          headings: false,\r\n          items: false,\r\n          attachments: false,\r\n          checkboxes: false\r\n        };\r\n\r\n        vm.loaded = {\r\n          checklist: true,\r\n          sections: true,\r\n          headings: true,\r\n          items: true,\r\n          attachments: false,\r\n          checkboxes: true\r\n        };\r\n      }\r\n    };\r\n\r\n    $scope.$on('event:checklistsLoaded', function () {\r\n      if (!vm.loading.checklist) {\r\n        return vm.loadChecklist(vm.idCHK);\r\n      }\r\n    });\r\n\r\n    /*\r\n     SET UP THE SOCKET CONNECTION FOR REALTIME\r\n     */\r\n    function setSocketStuff() {\r\n      //console.log('setting socket stuff for checklist');\r\n      vm.joinFeeds();\r\n      return $rootScope.socketio.on('data', function (update) {\r\n        var catalog, local;\r\n        if (update.user.idCON !== $rootScope.user.idCON) {\r\n          //console.log('section data received', update);\r\n          catalog = update.catalog;\r\n          switch (update.type) {\r\n            case 'add':\r\n              $scope[catalog] = $scope[catalog].concat(update.record);\r\n              $rootScope.socketio.emit('feed_subscribe', {\r\n                idCON: $rootScope.user.idCON,\r\n                ids: [update.record.id]\r\n              });\r\n              break;\r\n            case 'edit':\r\n            case 'reorder':\r\n              $scope[catalog].forEach(function (local) {\r\n                var index;\r\n                if (local.id === update.record.id) {\r\n                  //console.log('local found', local);\r\n                  index = $scope[catalog].indexOf(local);\r\n                  //console.log('local index is', index);\r\n                  return $scope[catalog][index] = update.record;\r\n                }\r\n              });\r\n              break;\r\n            case 'delete':\r\n              local = $filter('filter')($scope[catalog], {\r\n                id: update.record.id\r\n              }, true);\r\n              if (local != null ? local.length : void 0) {\r\n                $scope[catalog].remove(local[0]);\r\n                $rootScope.socketio.emit('feed_unsubscribe', {\r\n                  idCON: $rootScope.user.idCON,\r\n                  ids: [update.record.id]\r\n                });\r\n              }\r\n          }\r\n          vm.organizeData();\r\n          return $scope.$apply();\r\n        }\r\n      });\r\n    };\r\n\r\n    if ((ref = $rootScope.socketio) != null ? ref.connected : void 0) {\r\n      //console.log('socket was already connected (checklist)');\r\n      vm.setSocketStuff();\r\n    }\r\n\r\n    $scope.$on('event:socketConnected', function () {\r\n      console.log('received ng event:socketConnected (checklist)');\r\n      return vm.setSocketStuff();\r\n    });\r\n\r\n    /*\r\n     NESTED ACCORDION FUNCTIONS\r\n     */\r\n    function children(whats, parentID) {\r\n      return $filter('orderBy')($filter('filter')(vm[whats], {\r\n        id_parent: parentID\r\n      }, true), 'order');\r\n    };\r\n\r\n    /*\r\n     DATA FUNCTIONS\r\n     */\r\n    $scope.svc = function (what) {\r\n\r\n      var checklists, sections, items, checkbox, headings;\r\n\r\n      if (what === 'checklist') {\r\n        return api.checklists;\r\n      }\r\n      if (what === 'section') {\r\n        return api.sections;\r\n      }\r\n      if (what === 'heading') {\r\n        return api.headings;\r\n      }\r\n      if (what === 'item') {\r\n        return api.items;\r\n      }\r\n      if (what === 'checkbox') {\r\n        return api.checkbox;\r\n      }\r\n    };\r\n\r\n    function svc(what) {\r\n      var checklist, sections, headings, items, checkbox;\r\n\r\n      if (what === 'checklist') {\r\n        return api.checklists;\r\n      }\r\n      if (what === 'section') {\r\n        return api.sections;\r\n      }\r\n      if (what === 'heading') {\r\n        return api.headings;\r\n      }\r\n      if (what === 'item') {\r\n        return api.items;\r\n      }\r\n      if (what === 'checkbox') {\r\n        return api.checkbox;\r\n      }\r\n    };\r\n\r\n    function createSegment(what, name, to, type, info) {\r\n      debugger;\r\n      console.log('what', what);\r\n      console.log('name', name);\r\n      console.log('to', to);\r\n      console.log('type', type);\r\n      console.log('info', info);\r\n\r\n      var count, order, ref1, svc, whats;\r\n      if (to == null) {\r\n        to = null;\r\n      }\r\n      if (type == null) {\r\n        type = 1;\r\n      }\r\n      if (info == null) {\r\n        info = '';\r\n      }\r\n      whats = what + 's';\r\n\r\n      svc = $scope.svc(what);\r\n\r\n      //console.log('svc', svc);\r\n\r\n      //console.log('what post svc', what);\r\n      vm.newItem.submitting = true;\r\n      order = 1;\r\n      if (what === 'section') {\r\n        order += vm.sections.length;\r\n      } else {\r\n        count = (ref1 = $filter('filter')(vm[whats], {\r\n          id_parent: to\r\n        }, true)) != null ? ref1 : [];\r\n        order += count.length;\r\n      }\r\n\r\n      return svc.add(name, order, to, type, info).success(function (res) {\r\n        var notifyItem, packet;\r\n        if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n\r\n          vm[whats].push(res[what]);\r\n          vm.organizeData();\r\n          packet = {\r\n            catalog: whats,\r\n            type: 'add',\r\n            user: {\r\n              idCON: $rootScope.user.idCON,\r\n              name: $rootScope.user.name\r\n            },\r\n            record: res[what]\r\n          };\r\n          //console.log('emitting data', packet);\r\n          $rootScope.socketio.emit('data', packet);\r\n          notifyItem = $.extend({}, res[what], {\r\n            type: 'data'\r\n          });\r\n          //console.log('about to sent notify event', notifyItem);\r\n          $rootScope.socketio.emit('notify', [notifyItem]);\r\n          $rootScope.message('Success', 'success');\r\n          // //Added by me for manipulating newly created Checkboxes// \r\n        $rootScope.showingUsers.forEach(function (user) {\r\n            vm.displayUserCheckboxes(user);\r\n          });\r\n          vm.closeDialog();\r\n        }\r\n      })[\"finally\"](function () {\r\n        return vm.newItem.submitting = false;\r\n      });\r\n    };\r\n\r\n    function destroy(what, item) {\r\n      console.log('what', what);\r\n      console.log('item', item);\r\n\r\n      var svc, whats;\r\n      svc = vm.svc(what);\r\n      whats = what + 's';\r\n\r\n      console.log('svc', svc);\r\n      console.log('whats', whats);\r\n\r\n      return svc.destroy(item.rid).success(function (res) {\r\n        var notifyItem, packet;\r\n        if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          vm[whats].remove(item);\r\n          vm.expanded[whats].remove(item.id);\r\n          vm.organizeData();\r\n          packet = {\r\n            catalog: whats,\r\n            type: 'delete',\r\n            user: {\r\n              idCON: $rootScope.user.idCON,\r\n              name: $rootScope.user.name\r\n            },\r\n            record: item\r\n          };\r\n          $rootScope.socketio.emit('data', packet);\r\n          notifyItem = $.extend({}, item, {\r\n            type: 'data'\r\n          });\r\n          return $rootScope.socketio.emit('notify', [notifyItem]);\r\n        }\r\n      });\r\n    };\r\n\r\n    function isForm(item) {\r\n      /*\r\n       1= bool, 2= str, 3 =num\r\n       */\r\n      return item.type === 2 || item.type === 3;\r\n    };\r\n\r\n    function add(what, to, ev, option) {\r\n      debugger;\r\n      var option;\r\n      var title;\r\n\r\n      if (option === void 0 || option === null || option === '') {\r\n        option = 1;\r\n      } else {\r\n        option = option;\r\n      }\r\n\r\n\r\n      switch (what) {\r\n        case 'item':\r\n          if (option == '1') {\r\n            vm.type =\r\n              {\r\n                title: 'Checkbox',\r\n                label: 'Checkbox Label'\r\n              }\r\n          } else if (option == '2') {\r\n            vm.type =\r\n              {\r\n                title: 'Text Box',\r\n                label: 'Text Box Label'\r\n              }\r\n          }\r\n          break;\r\n        case 'section':\r\n          vm.type.title = 'Section';\r\n          vm.type.label = 'Section Label'\r\n          break;\r\n        case 'heading':\r\n          vm.type.title = 'Heading';\r\n          vm.type.label = 'Heading Label';\r\n          break;\r\n        default:\r\n          vm.type.title = what;\r\n          vm.type.label = what + 'label';\r\n      }\r\n\r\n\r\n      vm.newItem = {\r\n        type: what,\r\n        to: to,\r\n        option: option,\r\n        name: '',\r\n        submitting: false,\r\n        dataType: option\r\n      };\r\n\r\n      $mdDialog.show({\r\n        controller: function DialogController($scope, $mdDialog) {\r\n          $scope.closeDialog = function () {\r\n            $mdDialog.hide();\r\n          }\r\n        },\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-add-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n\r\n    };\r\n\r\n    function userCheckboxes(userID) {\r\n      return $filter('filter')(vm.checkboxes, {\r\n        id_user: userID\r\n      }, true);\r\n    };\r\n\r\n    vm.item = {\r\n      applies: function (itemID) {\r\n        if ($filter('filter')(vm.checkboxDisplay.userCheckboxes(), {\r\n            id_item: itemID,\r\n            type: 1\r\n          }, true)[0] === !void 0) {\r\n          return true;\r\n        }\r\n      },\r\n      complies: function (itemID) {\r\n        if ($filter('filter')(vm.checkboxDisplay.userCheckboxes(), {\r\n            id_item: itemID,\r\n            type: 2\r\n          }, true)[0] === !void 0) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    function getUserKey(user) {\r\n      var ref1, ref2;\r\n      if (user.idCON === ((ref1 = $rootScope.showingUsers[0]) != null ? ref1.idCON : void 0)) {\r\n        return 0;\r\n      }\r\n      if (user.idCON === ((ref2 = $rootScope.showingUsers[1]) != null ? ref2.idCON : void 0)) {\r\n        return 1;\r\n      }\r\n      return -1;\r\n    };\r\n\r\n    function displayUserCheckboxes(user) {\r\n      debugger;\r\n      var userID, userKey;\r\n      userKey = vm.getUserKey(user);\r\n      console.log('initial userKey check', userKey);\r\n      if (userKey === -1) {\r\n        userKey = $rootScope.showingUsers.length ? 1 : 0;\r\n      }\r\n      console.log('final userKey', userKey);\r\n      $rootScope.showingUsers[userKey] = user;\r\n      userID = user.idCON;\r\n      if (!vm.userCheckboxes(userID).length) {\r\n        vm.loading.checkboxes = true;\r\n        return api.checkbox.get(vm.idCHK, userID).error(function (res) {\r\n          return $rootScope.message('Error talking to server to find user checkboxes.', 'warning');\r\n        }).success(function (res) {\r\n          console.log('vm.checkboxes', vm.checkboxes);\r\n\r\n          vm.checkboxes = vm.checkboxes.concat(res.checkboxes);\r\n          return vm.appendCheckboxesToItems(user);\r\n        })[\"finally\"](function () {\r\n          return vm.loading.checkboxes = false;\r\n        });\r\n      }\r\n    };\r\n\r\n    function evaluateConflicts(item, operation) {\r\n      var addConflicts, leftNonCompliant, ref1, ref2, rightNonCompliant;\r\n      item = api.summary.evaluateItem(item, item.checkbox);\r\n      addConflicts = operation * +item.conflicts;\r\n      vm.conflicts += addConflicts;\r\n      if (((ref1 = item.checkbox) != null ? ref1[0] : void 0) !== void 0) {\r\n        leftNonCompliant = operation * +item.checkbox[0].nonCompliant;\r\n        vm.nonCompliant[0] += leftNonCompliant;\r\n      }\r\n      if (((ref2 = item.checkbox) != null ? ref2[1] : void 0) !== void 0) {\r\n        rightNonCompliant = operation * +item.checkbox[1].nonCompliant;\r\n        vm.nonCompliant[1] += rightNonCompliant;\r\n      }\r\n      return item;\r\n    };\r\n\r\n    function appendCheckboxesToItems(user) {\r\n      var userKey;\r\n      vm.nonCompliant = [0, 0];\r\n      vm.conflicts = 0;\r\n      userKey = vm.getUserKey(user);\r\n      if (userKey === -1) {\r\n        return false;\r\n      }\r\n      return vm.items.forEach(function (item) {\r\n        var checkbox;\r\n        if (item.checkbox === void 0) {\r\n          item.checkbox = [];\r\n        }\r\n        checkbox = $filter('filter')(vm.checkboxes, {\r\n          id_item: item.id,\r\n          id_contact: user.idCON\r\n        }, true);\r\n        if (checkbox != null ? checkbox.length : void 0) {\r\n        item.checkbox[userKey] = checkbox[0];\r\n        }\r\n        return vm.evaluateConflicts(item, +1);\r\n      });\r\n    };\r\n\r\n    function removeUserCheckboxes(user) {\r\n      var action, userKey;\r\n      userKey = vm.getUserKey(user);\r\n      if (userKey === -1) {\r\n        return false;\r\n      }\r\n      action = ['shift', 'pop'][userKey];\r\n      vm.items.forEach(function (item) {\r\n        var checkbox, ref1;\r\n        checkbox = $filter('filter')(vm.checkboxes, {\r\n          id_item: item.id,\r\n          id_contact: user.idCON\r\n        }, true);\r\n        if ((ref1 = item.checkbox) != null) {\r\n          ref1[action]();\r\n        }\r\n        return item.checkbox[1] = [];\r\n      });\r\n      $rootScope.showingUsers[action]();\r\n      vm.conflicts = 0;\r\n      vm.nonCompliant = [0, 0];\r\n      vm.items.forEach(function (item) {\r\n        return vm.evaluateConflicts(item, +1);\r\n      });\r\n      return console.log('user checkboxes removed', user, $rootScope.showingUsers);\r\n    };\r\n\r\n    function showLinkedUsers(ev, item) {\r\n\r\n      vm.item = {\r\n        'name': item.name\r\n      }\r\n      $mdDialog.show({\r\n        controller: function DialogController($scope, $mdDialog) {\r\n          $scope.closeDialog = function () {\r\n            $mdDialog.hide();\r\n          }\r\n        },\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-show-linked-users-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n    $scope.$on('event:itemsLoaded', function () {\r\n      console.log('received event:itemsLoaded', $rootScope.showingUsers);\r\n      return $rootScope.showingUsers.forEach(function (user) {\r\n        vm.displayUserCheckboxes(user);\r\n      });\r\n    });\r\n\r\n    function toggleCheckbox(item, which, userKey) {\r\n      debugger;\r\n      vm.evaluateConflicts(item, -1);\r\n      return api.checkbox.toggle(item.id, $rootScope.showingUsers[userKey].idCON, which).success(function (res) {\r\n        if (item.checkbox === void 0) {\r\n          item.checkbox = [];\r\n        }\r\n        item.checkbox[userKey] = res.checkboxes[0];\r\n        return vm.evaluateConflicts(item, +1);\r\n      });\r\n    };\r\n\r\n    function showWhichInviteContactData(friend) {\r\n      var ref1, ref2, ref3;\r\n      if (((ref1 = $rootScope.user) != null ? ref1.idCON : void 0) === (friend != null ? (ref2 = friend.contacts) != null ? (ref3 = ref2.accepter) != null ? ref3.id : void 0 : void 0 : void 0)) {\r\n        return 'originator';\r\n      }\r\n      return 'accepter';\r\n    };\r\n\r\n    function CFC() {\r\n      var CFCs, checklists, group;\r\n      group = vm.group();\r\n      checklists = $rootScope.children('checklists', group.id);\r\n      CFCs = $filter('filter')(checklists, {\r\n        idCHK: vm.idCHK\r\n      }, true);\r\n      return CFCs[0];\r\n    };\r\n    function group() {\r\n      return $filter('filter')($rootScope.groups, {\r\n        id: vm.checklists[0].id_parent\r\n      }, true)[0];\r\n    };\r\n    function previous() {\r\n      var cfc, checklists, group, previousIndex, thisIndex;\r\n      group = vm.group();\r\n      if (group === void 0) {\r\n        return void 0;\r\n      }\r\n      checklists = $rootScope.children('checklists', group.id);\r\n      cfc = vm.CFC();\r\n      thisIndex = checklists.indexOf(cfc);\r\n      previousIndex = thisIndex - 1;\r\n      return checklists[thisIndex - 1];\r\n    };\r\n    function next() {\r\n      var cfc, checklists, group, nextIndex, thisIndex;\r\n      group = vm.group();\r\n      if (group === void 0) {\r\n        return void 0;\r\n      }\r\n      checklists = $rootScope.children('checklists', group.id);\r\n      cfc = vm.CFC();\r\n      thisIndex = checklists.indexOf(cfc);\r\n      nextIndex = thisIndex + 1;\r\n      return checklists[thisIndex + 1];\r\n    };\r\n\r\n    /*\r\n     PUBLISH\r\n     */\r\n    vm.publish = {\r\n      idCHK: null,\r\n      name: null,\r\n      pvt: true,\r\n      submitting: false,\r\n      gatherInfo: function (idCHK) {\r\n        vm.publish.idCHK = idCHK;\r\n        return true;\r\n      },\r\n      togglePrivate: function () {\r\n        this.pvt = !this.pvt;\r\n        return true;\r\n      },\r\n      publish: function () {\r\n\r\n        console.log('vm.publish.name', vm.publish.name);\r\n\r\n        var ref1, ref2;\r\n        if (((ref1 = vm.publish.idCHK) != null ? ref1.length : void 0) && ((ref2 = vm.publish.name) != null ? ref2.length : void 0)) {\r\n          vm.publish.submitting = true;\r\n          return api.checklists.publish(vm.publish.idCHK, vm.publish.name, 'checklist', vm.publish.pvt).error(function (res) {\r\n            return $rootScope.message('Unknown error publishing Template.', 'warning');\r\n          }).success(function (res) {\r\n            if (res.code) {\r\n              return $rootScope.message(\"Error publishing Template. (\" + res.code + \": \" + res.message + \")\", 'warning');\r\n            } else {\r\n              $rootScope.message(\"Template published successfully.\");\r\n              return $(\"#publishTemplate\").modal('hide');\r\n            }\r\n          })[\"finally\"](function () {\r\n            vm.publish.submitting = false;\r\n            vm.publish.idCHK = null;\r\n            return vm.publish.name = null;\r\n          });\r\n        } else {\r\n          return $rootScope.message('You must specify the Template Name.', 'warning');\r\n        }\r\n      }\r\n    };\r\n\r\n    /*\r\n     UPLOAD EXCEL\r\n     */\r\n    vm.uploaderOpts = {\r\n      url: 'ajax/checklist_details-uploadExcel.php',\r\n      queueLimit: 1,\r\n      filters: [\r\n        {\r\n          name: 'allTrue',\r\n          fn: function (item) {\r\n            return true;\r\n          }\r\n        }\r\n      ],\r\n      formData: [],\r\n      removeAfterUpload: true,\r\n      autoUpload: false,\r\n      onCancelItem: function (item) {\r\n        return item.remove();\r\n      },\r\n      onErrorItem: function (item, res) {\r\n        return $rootScope.message('Unable to upload File.', 'warning');\r\n      },\r\n      onSuccessItem: function (item, res) {\r\n        if (res.code) {\r\n          return $rootScope.message(\"Error adding Checklist details: (\" + res.code + \") \" + res.message, 'warning');\r\n        } else {\r\n          $rootScope.message(\"File uploaded.  Please refresh the page to see the changes.\");\r\n          return $(\"#uploadFile\").modal(\"hide\");\r\n        }\r\n      },\r\n      onAfterAddingFile: function (item) {\r\n        return console.log('File added: ', item);\r\n      },\r\n      onWhenAddingFileFailed: function (item, filter, options) {\r\n        return console.log('File add failed: ', item, filter, options);\r\n      },\r\n      onAfterAddingAll: function (addedItems) {\r\n        console.log('All added: ', addedItems);\r\n        vm.uploader.queue = addedItems;\r\n        return console.log('Queue: ', vm.uploader.queue);\r\n      }\r\n    };\r\n    //vm.uploader = new FileUploader(vm.uploaderOpts);\r\n    vm.upload = function (chkID) {\r\n      vm.uploader.formData = [\r\n        {\r\n          idCHK: chkID\r\n        }\r\n      ];\r\n      console.log('Form Data: ', vm.uploader.formData);\r\n      $(\"#uploadFile\").modal(\"show\");\r\n      return null;\r\n    };\r\n\r\n    /*\r\n     MODE SPECIFIC\r\n     */\r\n    vm.edit = {\r\n      start: function (what, which) {\r\n        var index, whats;\r\n        whats = what + 's';\r\n        index = vm[whats].indexOf(which);\r\n        vm[whats][index].edit = {\r\n          id: what === 'checklist' ? which.idCHK : which.id,\r\n          rid: which.rid,\r\n          index: index,\r\n          type: what,\r\n          text: which.name,\r\n          info: '',\r\n          submitting: false,\r\n          error: null,\r\n          message: ''\r\n        };\r\n        if (what === 'item') {\r\n          vm[whats][index].edit.info = which.info;\r\n        }\r\n        return vm[whats][index].editing = true;\r\n      },\r\n      stop: function (which) {\r\n        var whats;\r\n        whats = which.type + 's';\r\n        vm[whats][which.index].edit = null;\r\n        return vm[whats][which.index].editing = false;\r\n      },\r\n      submit: function (which) {\r\n        var whats;\r\n        whats = which.type + 's';\r\n        if (vm[whats][which.index].edit.text === vm[whats][which.index].name && vm[whats][which.index].edit.info === vm[whats][which.index].info) {\r\n          vm.edit.stop(which);\r\n          return false;\r\n        }\r\n        return api.edit.attemptEdit(which).error(function (res) {\r\n          vm[whats][which.index].edit.error = res.code;\r\n          return vm[whats][which.index].edit.message = res.message;\r\n        }).success(function (res) {\r\n          var notifyItem, packet;\r\n          vm[whats][which.index] = res.updated;\r\n          packet = {\r\n            catalog: whats,\r\n            type: 'edit',\r\n            user: {\r\n              idCON: $rootScope.user.idCON,\r\n              name: $rootScope.user.name\r\n            },\r\n            record: res.updated\r\n          };\r\n          console.log('emitting data', packet);\r\n          $rootScope.socketio.emit('data', packet);\r\n          notifyItem = $.extend({}, res.updated, {\r\n            type: 'data'\r\n          });\r\n          $rootScope.notify(notifyItem);\r\n          vm.organizeData();\r\n          return $rootScope.showingUsers.forEach(function (user) {\r\n            return vm.appendCheckboxesToItems(user);\r\n          });\r\n        })[\"finally\"](function () {\r\n          return vm.edit.stop(which);\r\n        });\r\n      }\r\n    };\r\n\r\n\r\n    /*\r\n     LABELS\r\n     */\r\n    $scope.$on('event:labelsUpdated', function () {\r\n      return vm.labels.selectable = $filter('filter')($rootScope.user.dashboard.labels, {\r\n        type: vm.labels.item.type\r\n      });\r\n    });\r\n    $scope.$on('event:labelSelectionUpdated', function (e, data) {\r\n      var idx, item, itemLocal, showModal, user;\r\n      console.log('labelSelectionUpdated triggered', data);\r\n      user = data.user;\r\n      item = data.item;\r\n      if (user.idCON === $rootScope.user.idCON) {\r\n        return console.log('event triggered by this user; no action');\r\n      } else if (item.idCHK !== vm.idCHK) {\r\n        return console.log('event triggered on other checklist');\r\n      } else {\r\n        console.log('event is relevant; replacing local item');\r\n        itemLocal = $filter('filter')(vm.items, {\r\n          id: item.id\r\n        }, true)[0];\r\n        if (itemLocal === void 0) {\r\n          console.log('could not find local item');\r\n        } else {\r\n          idx = vm.items.indexOf(itemLocal);\r\n          if (idx === -1) {\r\n            console.log('could not index local item');\r\n          } else {\r\n            vm.items[idx] = item;\r\n            console.log('local item replaced', idx, vm.items);\r\n          }\r\n        }\r\n        if (item.id === vm.labels.item.id) {\r\n          console.log('event is about this item!');\r\n          showModal = ($('#select-labels-modal').data('bs.modal') || {\r\n            isShown: false\r\n          }).isShown;\r\n          vm.labels.select(item, showModal);\r\n          $scope.$apply();\r\n          console.log('new item selected', vm.labels.item);\r\n          return $rootScope.message(\"Label selection updated by \" + user.name.full);\r\n        }\r\n      }\r\n    });\r\n\r\n    vm.labels = {\r\n      saving: false,\r\n      item: null,\r\n      selected: [],\r\n      selectable: [],\r\n      select: function (item) {\r\n        var base, base1;\r\n        vm.labels.selected = item.labels;\r\n        vm.labels.item = {\r\n          id: item.id,\r\n          index: vm.items.indexOf(item),\r\n          type: item.type,\r\n          displayType: typeof (base = item.type === 2) === \"function\" ? base({\r\n            'Text': typeof (base1 = item.type === 3) === \"function\" ? base1({\r\n              'Number': 'Apply/Comply'\r\n            }) : void 0\r\n          }) : void 0\r\n        };\r\n        vm.labels.saving = false;\r\n        vm.labels.create.entering = false;\r\n        vm.labels.create.saving = false;\r\n        vm.labels.create.name = '';\r\n        vm.labels.create.explanation = '';\r\n        vm.labels.selectable = $filter('filter')($rootScope.user.dashboard.labels, {\r\n          type: item.type\r\n        });\r\n        //console.log('item selected for label update', item);\r\n        //console.log('labels selectable for item label update', vm.labels);\r\n        vm.setLabels(item);\r\n        return false;\r\n      },\r\n      isSelected: function (label) {\r\n        //console.log('isSelected => label', label);\r\n        var index;\r\n        index = vm.labels.selected.indexOf(label.id);\r\n        if (index < 0) {\r\n          return false;\r\n        }\r\n        return true;\r\n      },\r\n      toggle: function (label) {\r\n        var index, isSelected;\r\n        isSelected = vm.labels.isSelected(label);\r\n        if (isSelected) {\r\n          index = vm.labels.selected.indexOf(label.id);\r\n          return vm.labels.selected.splice(index, 1);\r\n        } else {\r\n          return vm.labels.selected.push(label.id);\r\n        }\r\n      },\r\n      hide: function (lbl) {\r\n        lbl.hiding = true;\r\n        return api.dashboard.labels.hide(lbl.id).success(function (res) {\r\n          var idx;\r\n          if (res === void 0 || res === null || res === \"\") {\r\n            return $rootScope.message(\"Server not responding properly.\", 'warning');\r\n          } else if (res.code) {\r\n            return $rootScope.message(res.message, 'warning');\r\n          } else {\r\n            idx = $rootScope.user.dashboard.labels.indexOf(lbl);\r\n            $rootScope.user.dashboard.labels.splice(idx, 1);\r\n            idx = vm.labels.selectable.indexOf(lbl);\r\n            return vm.labels.selectable.splice(idx, 1);\r\n          }\r\n        }).error(function (res) {\r\n          return $rootScope.message(\"Server not responding.\", 'warning');\r\n        })[\"finally\"](function () {\r\n          return lbl.hiding = false;\r\n        });\r\n      },\r\n      save: function () {\r\n        vm.labels.saving = true;\r\n        return api.dashboard.labels.update(this.item.id, this.selected).success(function (res) {\r\n          var notifyItem, packet;\r\n          if (res === void 0 || res === null || res === \"\") {\r\n            return $rootScope.message(\"Server not responding properly.\", 'warning');\r\n          } else if (res.code) {\r\n            return $rootScope.message(res.message, 'warning');\r\n          } else {\r\n            vm.items[vm.labels.item.index] = res.item;\r\n            packet = {\r\n              catalog: 'items',\r\n              type: 'edit',\r\n              user: {\r\n                idCON: $rootScope.user.idCON,\r\n                name: $rootScope.user.name\r\n              },\r\n              record: res.item\r\n            };\r\n            //console.log('emitting data', packet);\r\n            $rootScope.socketio.emit('data', packet);\r\n            notifyItem = $.extend({}, res.item, {\r\n              type: 'data'\r\n            });\r\n            //console.log('about to sent notify event', notifyItem);\r\n            $rootScope.socketio.emit('notify', [notifyItem]);\r\n            $rootScope.message(\"Labels saved.\", 'success');\r\n            vm.closeDialog();\r\n            return vm.organizeData();\r\n          }\r\n        }).error(function (res) {\r\n          return $rootScope.message(\"Server not responding.\", 'warning');\r\n        })[\"finally\"](function () {\r\n\r\n          return vm.labels.saving = false;\r\n        });\r\n      },\r\n      create: {\r\n        entering: false,\r\n        saving: false,\r\n        name: '',\r\n        explanation: '',\r\n        enter: function () {\r\n          vm.labels.create.entering = true;\r\n          return false;\r\n        },\r\n        save: function () {\r\n          vm.labels.create.saving = true;\r\n          //console.log('adding new label', vm.labels.item, this.name, this.explanation);\r\n          return api.dashboard.labels.add(vm.labels.item.type, this.name, this.explanation).success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              return $rootScope.message(\"Server not responding properly.\", 'warning');\r\n            } else if (res.code) {\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              vm.labels.selectable.push(res.labels[0]);\r\n              vm.labels.create.entering = false;\r\n              $rootScope.user = res.user;\r\n              //console.log('about to propagate labels created', $rootScope.user.organization.idACC, $rootScope.socketio);\r\n              $rootScope.socketio.emit('labels_changed', $rootScope.user.organization.idACC);\r\n              return $rootScope.message(\"New Label added\", 'success');\r\n              //vm.closeDialog();\r\n            }\r\n          }).error(function (res) {\r\n            return $rootScope.message(\"Server not responding.\", 'warning');\r\n          })[\"finally\"](function () {\r\n            return vm.labels.create.saving = false;\r\n\r\n          });\r\n        }\r\n      },\r\n      test: function (label) {\r\n        //console.log(label);\r\n      }\r\n    };\r\n\r\n    vm.find = {\r\n      template: null,\r\n      searchCount: 0,\r\n      searching: false,\r\n      creating: false,\r\n      results: [],\r\n      begin: function (ev, parentID, type) {\r\n\r\n        console.log(ev, parentID, type);\r\n        vm.find.template = {\r\n          criteria: {\r\n            name: '',\r\n            organization: '',\r\n            author: '',\r\n            version: '',\r\n            type: type\r\n          },\r\n          parentID: parentID\r\n        };\r\n        vm.find.searching = false;\r\n        vm.find.creating = false;\r\n        vm.find.searchCount = 0;\r\n        vm.find.results = [];\r\n        vm.openAddChecklistTemplateDialog(ev);\r\n        return null;\r\n      },\r\n      search: function () {\r\n        vm.find.searching = true;\r\n        if (vm.find.template.criteria.name === '' && vm.find.template.criteria.organization === '' && vm.find.template.criteria.author === '' && vm.find.template.criteria.version === '') {\r\n          $rootScope.message('Please provide Search Criteria', 'warning');\r\n          vm.find.searching = false;\r\n          //console.log('died in search');\r\n          return false;\r\n        }\r\n\r\n        //console.log('vm.find', vm.find.template);\r\n        return api.checklists.searchForTemplates(vm.find.template.criteria).error(function (res) {\r\n          return $rootScope.message('Unknown error finding Templates.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            res.display = \"Error finding Templates: (\" + res.code + \"): \" + res.message;\r\n            $rootScope.message(res.display, 'warning');\r\n          }\r\n          vm.find.results = res;\r\n          console.log('vm.find.results', vm.find.results);\r\n          return vm.find.searchCount++;\r\n        })[\"finally\"](function () {\r\n          return vm.find.searching = false;\r\n        });\r\n      },\r\n      create: function (idCTMPL, parentID) {\r\n        console.log('idCTMPL', idCTMPL);\r\n        console.log('parentID', parentID);\r\n\r\n\r\n        vm.find.creating = true;\r\n        return api.checklists.createFromTemplate(idCTMPL, parentID, 'checklist').error(function (res) {\r\n          return $rootScope.message('Unknown error creating Checklist from selected Template.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            return $rootScope.message(\"Error creating Checklist from Template: (\" + res.code + \"): \" + res.message, 'warning');\r\n          } else {\r\n\r\n            $rootScope.$broadcast('event:updateModels');\r\n\r\n            if (!$state.is('app.checklist.detail')) {\r\n              vm.checklists.unshift(res.checklists[0]);\r\n            }\r\n\r\n            $rootScope.message('Template had been applied', 'success');\r\n            $rootScope.organizeData();\r\n            vm.closeDialog();\r\n          }\r\n        })[\"finally\"](function () {\r\n          return vm.find.creating = false;\r\n        });\r\n      }\r\n\r\n    };\r\n\r\n    function preventDefault(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    };\r\n\r\n    function addChecklistDialog(ev) {\r\n\r\n      vm.verticalStepper = {\r\n        step1: {},\r\n        step2: {},\r\n        step3: {}\r\n      };\r\n\r\n      $mdDialog.show({\r\n        controller: function DialogController($scope, $mdDialog) {\r\n          $scope.closeDialog = function () {\r\n            $mdDialog.hide();\r\n          }\r\n        },\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-new-checklist-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n\r\n    };\r\n\r\n    function openAddChecklistTemplateDialog(ev) {\r\n\r\n      vm.title = 'Download From Checklist Templates';\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-add-from-template-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n\r\n    };\r\n\r\n\r\n    function openUploadAttachmentDialog(ev, pType, pID, index, attachments) {\r\n      debugger;\r\n      vm.pType = pType;\r\n      vm.pID = pID;\r\n      vm.title = 'Attachments';\r\n      vm.index = index;\r\n      vm.attachments = attachments;\r\n      vm.upload = false;\r\n      console.log('vm.attachments', vm.attachments);\r\n\r\n\r\n      $mdDialog.show({\r\n        controller: function DialogController($scope, $mdDialog) {\r\n          $scope.closeDialog = function () {\r\n            $mdDialog.hide();\r\n          }\r\n        },\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-upload-attachment-dialog.html',\r\n        parent: angular.element($document.find('#todo')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n\r\n    };\r\n    \r\n\r\n\r\n    function openConflictsDialog(ev) {\r\n\r\n      console.log('vm.conflicts', vm.conflicts);\r\n\r\n\r\n      $mdDialog.show({\r\n        controller: function DialogController($scope, $mdDialog) {\r\n          $scope.closeDialog = function () {\r\n            $mdDialog.hide();\r\n          }\r\n        },\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-conflicts-dialog.html',\r\n        parent: angular.element($document.find('#todo')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n\r\n    };\r\n\r\n    function uploadAttachment(what, pID, index) {\r\n\r\n      var whats;\r\n\r\n      whats = what + 's';\r\n\r\n      console.log('what', what);\r\n      console.log('whats', whats);\r\n      console.log('PID', pID);\r\n      console.log('index', index);\r\n\r\n      console.log('AWS.config', AWS.config);\r\n\r\n      AWS.config.update({accessKeyId: vm.creds.access_key, secretAccessKey: vm.creds.secret_key});\r\n      AWS.config.region = 'us-west-1';\r\n      var bucket = new AWS.S3({params: {Bucket: vm.creds.bucket}});\r\n\r\n      vm.file = $('#AWSFileUploadInput')[0].files[0];\r\n\r\n      if (vm.file) {\r\n        vm.file.label = vm.lable;\r\n        console.log('vm.file', vm.file);\r\n        console.log('vm.file.label', vm.label);\r\n        var fileSize = Math.round(parseInt(vm.file.size));\r\n        if (fileSize > vm.sizeLimit) {\r\n          $rootScope.message('Sorry, your attachment is too big. <br/> Maximum ' + vm.fileSizeLabel() + ' file attachment allowed', 'warning');\r\n          return false;\r\n        }\r\n        // Prepend Unique String To Prevent Overwrites\r\n        var uniqueFileName = vm.uniqueString() + '-' + vm.file.name;\r\n        vm.aws = 'https://s3-us-west-1.amazonaws.com/checklinked-attachments-temp/' + uniqueFileName;\r\n\r\n        var params = {Key: uniqueFileName, ContentType: vm.file.type, Body: vm.file, ServerSideEncryption: 'AES256'};\r\n\r\n        bucket.putObject(params, function (err, data) {\r\n\r\n          api.attachments.add(vm.pID, vm.pType, vm.aws, vm.file.name, vm.file.size, vm.label).error(function (res) {\r\n            debugger;\r\n            return $rootScope.message(\"Error Uploading Attachment\", 'warning');\r\n          }).success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              $rootScope.message(\"Error Adding Attachments\", 'warning');\r\n            } else if (res.code) {\r\n              $rootScope.message(res.message, 'warning');\r\n            } else {\r\n\r\n\r\n              console.log('vm[whats]', vm[whats]);\r\n              console.log('res', res.attachments[0]);\r\n              vm[whats][index].attachments.push(res.attachments[0]);\r\n\r\n            }\r\n          });\r\n\r\n          if (err) {\r\n            $rootScope.message(err.message, err.code, 'warning');\r\n            return false;\r\n          }\r\n          else {\r\n\r\n\r\n            //vm[whats][pID].push(res[what]);\r\n\r\n            // Upload Successfully Finished\r\n            $rootScope.message(\"Attachment Uploaded\", 'success');\r\n\r\n            vm.checklist.// Reset The Progress Bar\r\n            setTimeout(function () {\r\n              vm.uploadProgress = 0;\r\n              $scope.$digest();\r\n            }, 4000);\r\n          }\r\n        })\r\n          .on('httpUploadProgress', function (progress) {\r\n            vm.uploadProgress = Math.round(progress.loaded / progress.total * 100);\r\n            $scope.$digest();\r\n          });\r\n      }\r\n      else {\r\n        // No File Selected\r\n        $rootScope.message('Please select a file to upload', 'warning');\r\n      }\r\n\r\n      vm.organizeData();\r\n\r\n      vm.closeDialog();\r\n    };\r\n\r\n    function uniqueString() {\r\n      var text = \"\";\r\n      var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n\r\n      for (var i = 0; i < 8; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n      }\r\n      return text;\r\n    };\r\n\r\n    vm.sizeLimit = 10585760; // 10MB in Bytes\r\n    vm.uploadProgress = 0;\r\n    vm.creds = {\r\n      bucket: 'checklinked-attachments-temp',\r\n      access_key: 'AKIAI6XHWIU2YCPG6BPA',\r\n      secret_key: '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'\r\n    };\r\n\r\n    vm.fileSizeLabel = function () {\r\n      // Convert Bytes To MB\r\n      return Math.round(vm.sizeLimit / 1024 / 1024) + 'MB';\r\n    };\r\n\r\n\r\n    function viewAttachmentsDialog(ev, idParent, idCHK, idCNV, s) {\r\n\r\n      vm.title = 'View Attachemnts';\r\n\r\n      $mdDialog.show({\r\n        controller: 'ChecklistViewAttachmentsDialogController',\r\n        controllerAs: 'vm',\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-view-attachments-dialog.html',\r\n        parent: angular.element($document.find('#todo')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n        locals: {\r\n          idParent: idParent,\r\n          idATT: idATT,\r\n          idCHK: idCHK,\r\n          idCNV: idCNV,\r\n          s: s\r\n        }\r\n      });\r\n\r\n    };\r\n\r\n\r\n    function openFolderInput() {\r\n      vm.folder = '';\r\n      vm.group = '';\r\n      vm.wizard.newFolder = true;\r\n      vm.wizard.newGroup = false;\r\n      vm.wizard.newChecklist = false;\r\n      console.log('vm.wizard', vm.wizard);\r\n\r\n    };\r\n\r\n    function cancelFolderInput() {\r\n      return vm.wizard.newFolder = false;\r\n      console.log('vm.wizard', vm.wizard);\r\n    };\r\n\r\n    function cancelGroupInput() {\r\n      console.log('fff');\r\n      return vm.wizard.newGroup = false;\r\n      return vm.wizard.switch = false;\r\n      console.log('vm.wizard', vm.wizard);\r\n    };\r\n\r\n    function cancelChecklistInput() {\r\n      vm.closeDialog();\r\n      console.log('vm.wizard', vm.wizard);\r\n    };\r\n\r\n    function openGroupInput() {\r\n      vm.group = '';\r\n      vm.wizard.newFolder = false;\r\n      vm.wizard.newChecklist = false;\r\n      vm.wizard.newGroup = true;\r\n      vm.wizard.switch = true;\r\n      console.log('vm.wizard', vm.wizard);\r\n    };\r\n\r\n\r\n    function addNewFolder() {\r\n      //console.log('pre insert vm.folders', vm.folders);\r\n      //Set sending variable for buttons\r\n      vm.folder.sending = true;\r\n\r\n      //Set order variable for sql insert\r\n      vm.folder.order = 1;\r\n      vm.folder.order += vm.folders.length;\r\n\r\n      api.folders.add(vm.folder.name, vm.folder.description, vm.folder.order).error(function (res) {\r\n        return $rootScope.message(\"Error Creating Project\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error Creating Project\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          vm.verticalStepper = {\r\n            newFolderID: res.folder.id\r\n          }\r\n\r\n\r\n          $rootScope.$broadcast('event:updateModels');\r\n          vm.folders.push(res.folder);\r\n          $rootScope.organizeData();\r\n\r\n          vm.fetchGroups(res.folder.id);\r\n\r\n\r\n          $rootScope.message('Project Added');\r\n\r\n          //Hide Buttons\r\n          vm.wizard.newFolder = false;\r\n\r\n\r\n        }\r\n      });\r\n\r\n    };\r\n\r\n    function addNewGroup(groupName, folderID) {\r\n\r\n      //Set sending variable for buttons\r\n      vm.group.sending = true;\r\n\r\n      //Set order variable for sql insert\r\n      vm.group.order = 1;\r\n      vm.group.order += vm.groups.length;\r\n      vm.group.text = groupName;\r\n      vm.group.id_parent = folderID;\r\n\r\n      api.groups.add(vm.group.text, vm.group.order, vm.group.id_parent).error(function (res) {\r\n        return $rootScope.message(\"Error Adding Folder\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error Adding Folder\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          console.log('res.groups', res.groups);\r\n          $rootScope.$broadcast('event:updateModels');\r\n          vm.groups.push(res.group);\r\n          $rootScope.organizeData();\r\n\r\n          vm.verticalStepper.newGroupID = res.group.id;\r\n          vm.verticalStepper.newFolderID = res.group.id_parent;\r\n\r\n          vm.wizard.newGroup = false;\r\n          vm.wizard.switch = false;\r\n\r\n\r\n          $rootScope.message('Folder Added');\r\n        }\r\n      });\r\n    };\r\n\r\n    function addNewChecklist(checklistName, groupID, folderID) {\r\n       \r\n      //Set sending variable for buttons\r\n      vm.checklist.sending = true;\r\n\r\n      //Set order variable for sql insert\r\n      vm.checklist.order = 1;\r\n      vm.checklist.order += vm.checklists.length;\r\n\r\n      //name, order, to\r\n      api.checklists.add(checklistName, vm.checklist.order, groupID).error(function (res) {\r\n        return $rootScope.message(\"Error Adding Checklist\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error Adding Checklist\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          //console.log('res checklist', res);\r\n          //console.log('res.checklist.id', res.checklist.id);\r\n          api.sections.add('sections', 1, res.checklist.id).error(function (res) {\r\n            return $rootScope.message(\"Error Adding Section\", 'warning');\r\n          }).success(function (res) {\r\n            //console.log('res failed', res);\r\n            if (res === void 0 || res === null || res === '') {\r\n              return $rootScope.message(\"Error Adding Section\", 'warning');\r\n            } else if (res.code) {\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              //console.log('res success', res);\r\n              vm.sections.push(res.section);\r\n            }\r\n          });\r\n          //console.log('vm.checklists pre', vm.checklists);\r\n\r\n          $rootScope.$broadcast('event:updateModels');\r\n          console.log('$stateParams.id', $stateParams.id);\r\n          //console.log('$state', $state);\r\n          console.log('$state.is', $state.is);\r\n\r\n\r\n          //vm.checklists = $rootScope.checklists;\r\n          if (!$state.is('app.checklist.detail')) {\r\n            console.log('pre unshift vm.checklists', vm.checklists);\r\n            vm.checklists.unshift(res.checklist);\r\n            console.log('post unshift vm.checklists', vm.checklists);\r\n          }\r\n\r\n          $rootScope.organizeData();\r\n          $rootScope.message('Checklist Added');\r\n\r\n        }\r\n      });\r\n\r\n      vm.closeDialog();\r\n    };\r\n\r\n    function setLabels(item, ev) {\r\n      $mdDialog.show({\r\n        controller: function DialogController($scope, $mdDialog) {\r\n          $scope.closeDialog = function () {\r\n            $mdDialog.hide();\r\n          }\r\n        },\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-set-labels-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    };\r\n\r\n    function sendLinkRequest(ev, idCHK) {\r\n\r\n      $mdDialog.show({\r\n        controller: 'ChecklistSendLinkRequestDialogController',\r\n        controllerAs: 'vm',\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-send-link-request-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n        locals: {\r\n          idCHK: idCHK\r\n        }\r\n      });\r\n\r\n    };\r\n\r\n    function publishTemplate(ev, idCHK) {\r\n      $mdDialog.show({\r\n        controller: 'ChecklistPublishTemplateDialogController',\r\n        controllerAs: 'vm',\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-publish-template-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n        locals: {\r\n          idCHK: idCHK\r\n        }\r\n      });\r\n\r\n    };\r\n\r\n    function deleteConfirm(what, item, ev) {\r\n      console.log('what', what);\r\n      console.log('item', item);\r\n      var confirm = $mdDialog.confirm()\r\n        .title('Please confirm you want to delete ' + item.name + '?')\r\n        .htmlContent('This action cannot be undone.')\r\n        .ariaLabel('delete' + what)\r\n        .targetEvent(ev)\r\n        .ok('OK')\r\n        .cancel('CANCEL');\r\n\r\n      $mdDialog.show(confirm).then(function () {\r\n        vm.deleteItem(what, item, ev);\r\n      });\r\n    };\r\n\r\n    function deleteItem(what, item, ev) {\r\n\r\n      var svc, whats;\r\n      whats = what + 's';\r\n\r\n      svc = vm.svc(what);\r\n\r\n      console.log()\r\n\r\n      return svc.destroy(item.id).success(function (res) {\r\n        var notifyItem, packet;\r\n        if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          vm[whats].remove(item);\r\n          vm.organizeData();\r\n          packet = {\r\n            catalog: whats,\r\n            type: 'delete',\r\n            user: {\r\n              idCON: $rootScope.user.idCON,\r\n              name: $rootScope.user.name\r\n            },\r\n            record: item\r\n          };\r\n          //console.log('emitting data', packet);\r\n          $rootScope.socketio.emit('data', packet);\r\n          notifyItem = $.extend({}, item, {\r\n            type: 'data'\r\n          });\r\n          //console.log('about to sent notify event', notifyItem);\r\n          $rootScope.message(item.name + ' successfully deleted', 'success');\r\n          return $rootScope.socketio.emit('notify', [notifyItem]);\r\n        }\r\n      });\r\n\r\n    };\r\n\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n      //console.log('sidenavId', sidenavId);\r\n    };\r\n\r\n    function toggleFilter(filter) {\r\n      vm.checklistFilters[filter] = !vm.checklistFilters[filter];\r\n\r\n      checkFilters();\r\n    };\r\n\r\n    function toggleFilterWithEmpty(filter) {\r\n      if (vm.checklistFilters[filter] === '') {\r\n        vm.checklistFilters[filter] = true;\r\n      }\r\n      else {\r\n        vm.checklistFilters[filter] = '';\r\n      }\r\n      checkFilters();\r\n    };\r\n\r\n    function resetFilters() {\r\n      vm.showAllChecklists = true;\r\n      vm.checklistFilters = angular.copy(vm.checklistFiltersDefaults);\r\n    };\r\n\r\n    function checkFilters() {\r\n      vm.showAllChecklists = !!angular.equals(vm.checklistFiltersDefaults, vm.checklistFilters);\r\n    };\r\n\r\n    function fetchGroups(id) {\r\n\r\n      vm.groups = $rootScope.children('groups', id);\r\n      console.log('vm.groups pre organizeData id / vm.groups', id, vm.groups)\r\n      $rootScope.organizeData();\r\n      console.log('fetching', id, vm.groups);\r\n\r\n      if (!vm.groups.length > 0) {\r\n        vm.wizard.switch = true;\r\n      } else {\r\n        vm.wizard.switch = false;\r\n      }\r\n    };\r\n\r\n    vm.loading = {\r\n      checklist: false,\r\n      sections: false,\r\n      headings: false,\r\n      items: false,\r\n      checkboxes: false\r\n    };\r\n\r\n    vm.loaded = {\r\n      checklist: false,\r\n      sections: false,\r\n      headings: false,\r\n      items: false,\r\n      checkboxes: false\r\n    };\r\n\r\n    //console.log('initial loading & loaded set', vm.loading, vm.loaded);\r\n\r\n    function setBlank() {\r\n      vm.loadingLinked = false;\r\n      vm.error = 0;\r\n      vm.message = '';\r\n      vm.users = [];\r\n      return vm.usersLoaded = false;\r\n    };\r\n\r\n    vm.setBlank();\r\n\r\n    function setError(err, msg) {\r\n      vm.error = err;\r\n      return vm.message = msg;\r\n    };\r\n\r\n    function toggleShowCheckboxes(user) {\r\n      var show;\r\n      show = {\r\n        idCON: user.idCON,\r\n        name: user.name.first\r\n      };\r\n      user.isShowing = !$rootScope.userCheckboxesAreShowing(show);\r\n      if (user.isShowing) {\r\n        vm.displayUserCheckboxes(show);\r\n        console.log('displayed user', user, show);\r\n        console.log('showingUsers', $rootScope.showingUsers);\r\n      } else {\r\n        vm.removeUserCheckboxes(show);\r\n        console.log('undisplayed user', user, show);\r\n      }\r\n      return true;\r\n    };\r\n\r\n    function loadLinkedUsers() {\r\n      console.log('loading users', $scope);\r\n      vm.setBlank();\r\n      vm.loadingLinked = true;\r\n      return api.checklists.getLinkedUsers(vm.idCHK).then(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return vm.setError(-1, 'Server not responding properly.');\r\n        } else if (res.code) {\r\n          return vm.setError(res.code, res.message);\r\n        } else {\r\n          res.checklists.forEach(function (cfc) {\r\n            var show, usr;\r\n            usr = cfc.ownerDetails;\r\n            usr.isShowing = $rootScope.userCheckboxesAreShowing(usr);\r\n            if (cfc.complete) {\r\n              usr.complete = true;\r\n            } else {\r\n              usr.complete = false;\r\n            }\r\n            vm.users.push(usr);\r\n            console.log('pushed cfc to users', cfc, usr, vm.users);\r\n            if (usr.isShowing) {\r\n              show = {\r\n                idCON: usr.idCON,\r\n                name: usr.name.first\r\n              };\r\n              return vm.displayUserCheckboxes(show);\r\n            }\r\n          });\r\n          return vm.usersLoaded = true;\r\n        }\r\n      }, function (err) {\r\n        return vm.setError(-1, 'Unable to load linked user list.');\r\n      }).then(function () {\r\n        return vm.loadingLinked = false;\r\n      });\r\n    };\r\n\r\n\r\n///////////////figure a way to make this work/////////////////\r\n\r\n    $scope.$on('event:checklistLoaded', function () {\r\n      console.log('$on');\r\n      if (!vm.usersLoaded && !vm.loadingLinked) {\r\n        console.log('loading users by event');\r\n        vm.loadLinkedUsers();\r\n      }\r\n    });\r\n\r\n    if (!vm.usersLoaded && !vm.loadingLinked) {\r\n      console.log('loading users by default');\r\n      vm.loadLinkedUsers();\r\n    }\r\n\r\n    /*\r\n     function createHeading(what, name, to, type, info) {\r\n     var count, order, ref1, svc, whats;\r\n     if (to == null) {\r\n     to = null;\r\n     }\r\n     if (type == null) {\r\n     type = 1;\r\n     }\r\n     if (info == null) {\r\n     info = '';\r\n     }\r\n     whats = what + 's';\r\n     svc = vm.svc(what);\r\n     vm.newItem.submitting = true;\r\n     order = 1;\r\n     if (what === 'section') {\r\n     order += vm.sections.length;\r\n\r\n     } else {\r\n     count = (ref1 = $filter('filter')($scope[whats], {\r\n     id_parent: to\r\n     }, true)) != null ? ref1 : [];\r\n     order += count.length;\r\n     }\r\n     console.log('calling create:add service', name, order, to, type, info);\r\n     return svc.add(name, order, to, type, info).success(function(res) {\r\n     var notifyItem, packet;\r\n     if (res.code) {\r\n     return $rootScope.message(res.message, 'warning');\r\n     } else {\r\n     vm.sections.push(res[what]);\r\n     vm.organizeData();\r\n     packet = {\r\n     catalog: whats,\r\n     type: 'add',\r\n     user: {\r\n     idCON: $rootScope.user.idCON,\r\n     name: $rootScope.user.name\r\n     },\r\n     record: res[what]\r\n     };\r\n     console.log('emitting data', packet);\r\n     $rootScope.socketio.emit('data', packet);\r\n     notifyItem = $.extend({}, res[what], {\r\n     type: 'data'\r\n     });\r\n     console.log('about to sent notify event', notifyItem);\r\n     $rootScope.socketio.emit('notify', [notifyItem]);\r\n     return $(\"#newItem\").modal(\"hide\");\r\n     }\r\n     })[\"finally\"](function() {\r\n     return vm.newItem.submitting = false;\r\n     });\r\n     };\r\n     */\r\n\r\n    function openChecklistDialog(ev, checklist) {\r\n\r\n      vm.checklist = checklist;\r\n      vm.title = 'Edit Checklist';\r\n\r\n      console.log('vm.checklist', vm.checklist);\r\n\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-edit-checklist-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n    function saveChecklist() {\r\n\r\n      var editPack;\r\n\r\n      editPack = {\r\n        'id': vm.checklist.idCHK,\r\n        'rid': vm.checklist.rid,\r\n        'index': 0,\r\n        'type': 'checklist',\r\n        'text': vm.checklist.name\r\n      };\r\n\r\n      console.log('vm.vars.message', vm.checklist.name);\r\n\r\n      api.checklists.edit(editPack).error(function (res) {\r\n        $rootScope.message(\"Error Editing Checklist\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          $rootScope.message(\"Error Editing Checklist\", 'warning');\r\n        } else if (res.code) {\r\n          $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          //Toaster Notification\r\n          $rootScope.message('Checklist Edited', 'success');\r\n\r\n          vm.checklist.sending = false;\r\n\r\n          //Close Dialog Window\r\n          vm.closeDialog();\r\n        }\r\n      });\r\n    }\r\n\r\n    function openSectionDialog(ev, section) {\r\n\r\n      vm.section = section;\r\n      vm.title = 'Edit Section';\r\n\r\n      console.log('vm.section', vm.section);\r\n\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-edit-section-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n    function saveSection() {\r\n\r\n      var editPack;\r\n\r\n      editPack = {\r\n        'id': vm.section.id,\r\n        'rid': vm.section.rid,\r\n        'index': 0,\r\n        'type': 'section',\r\n        'text': vm.section.name\r\n      };\r\n\r\n      api.checklists.edit(editPack).error(function (res) {\r\n        $rootScope.message(\"Error Editing Section\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          $rootScope.message(\"Error Editing Section\", 'warning');\r\n        } else if (res.code) {\r\n          $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          $rootScope.message('Section Edited', 'success');\r\n\r\n          vm.section.sending = false;\r\n\r\n          vm.closeDialog();\r\n        }\r\n      });\r\n    }\r\n\r\n    function openHeadingDialog(ev, heading) {\r\n\r\n      vm.heading = heading;\r\n      vm.title = 'Edit Heading';\r\n\r\n      console.log('vm.heading', vm.heading);\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-edit-heading-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n    function saveHeading() {\r\n\r\n      var editPack;\r\n\r\n      editPack = {\r\n        'id': vm.heading.id,\r\n        'rid': vm.heading.rid,\r\n        'index': 0,\r\n        'type': 'heading',\r\n        'text': vm.heading.name\r\n      };\r\n\r\n      api.checklists.edit(editPack).error(function (res) {\r\n        $rootScope.message(\"Error Editing Heading\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          $rootScope.message(\"Error Editing Heading\", 'warning');\r\n        } else if (res.code) {\r\n          $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          $rootScope.message('Section Heading', 'success');\r\n\r\n          vm.heading.sending = false;\r\n\r\n          vm.closeDialog();\r\n        }\r\n      });\r\n    }\r\n\r\n    function openItemDialog(ev, item) {\r\n debugger;\r\n      vm.item = item;\r\n      vm.title = 'Edit Checkbox Item';\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-edit-item-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n    function openFormLineDialog(ev, item) {\r\n      debugger;\r\n      vm.item = item;\r\n      vm.title = 'Edit Item';\r\n\r\n      console.log('vm.item', vm.item);\r\n\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-edit-form-line-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n    function saveItem() {\r\n\r\n      var editPack;\r\n\r\n      editPack = {\r\n        'id': vm.item.id,\r\n        'rid': vm.item.rid,\r\n        'index': 0,\r\n        'type': 'item',\r\n        'info': vm.item.info,\r\n        'text': vm.item.name\r\n      };\r\n\r\n      api.checklists.edit(editPack).error(function (res) {\r\n        $rootScope.message(\"Error Editing Item\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          $rootScope.message(\"Error Editing Item\", 'warning');\r\n        } else if (res.code) {\r\n          $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          $rootScope.message('Section Item', 'success');\r\n\r\n          vm.item.sending = false;\r\n\r\n          vm.closeDialog();\r\n        }\r\n      });\r\n    }\r\n\r\n    function openConversationDialog(producerType, id, name, $event) {\r\n       debugger;\r\n      console.log('id', id);\r\n      console.log('name', name);\r\n      console.log('producerType', producerType);\r\n\r\n      $mdDialog.show({\r\n        controller: 'ChecklistConversationDialogController',\r\n        controllerAs: 'vm',\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-conversation-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: $event,\r\n        clickOutsideToClose: true,\r\n        locals: {\r\n          convoId: id,\r\n          convoName: name,\r\n          producerType: producerType\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n    /*\r\n     MODE SPECIFIC\r\n     */\r\n    $scope.edit = {\r\n      start: function (what, which, ev, checklists) {\r\n        console.log('what', what);\r\n        console.log('which', which);\r\n        console.log('checklists', checklists);\r\n\r\n        var index, whats;\r\n        whats = what + 's';\r\n        index = vm[whats].indexOf(which);\r\n\r\n        $rootScope[whats][index].edit = {\r\n          id: what === 'checklist' ? which.idCHK : which.id,\r\n          rid: which.rid,\r\n          index: index,\r\n          type: what,\r\n          text: which.name,\r\n          info: '',\r\n          submitting: false,\r\n          error: null,\r\n          message: ''\r\n        };\r\n\r\n\r\n        console.log('vm[whats][index].edit', vm[whats][index].edit);\r\n\r\n        if (what === 'item') {\r\n          $rootScope[whats][index].edit.info = which.info;\r\n        }\r\n\r\n        $mdDialog.show({\r\n          controller: function DialogController($scope, $mdDialog) {\r\n            $scope.closeDialog = function () {\r\n              $mdDialog.hide();\r\n            }\r\n          },\r\n          scope: $scope,\r\n          preserveScope: true,\r\n          templateUrl: 'app/main/checklist/dialogs/checklist/checklist-edit-checklist-dialog.html',\r\n          parent: angular.element($document.find('#checklist')),\r\n          targetEvent: ev,\r\n          clickOutsideToClose: true\r\n        });\r\n\r\n        return vm[whats][index].editing = true;\r\n      },\r\n      stop: function (which) {\r\n        var whats;\r\n        whats = which.type + 's';\r\n        vm[whats][which.index].edit = null;\r\n        return vm[whats][which.index].editing = false;\r\n      },\r\n      submit: function (which) {\r\n\r\n        //console.log('which', which);\r\n        var whats;\r\n        whats = which.type + 's';\r\n        if (vm[whats][which.index].edit.text === vm[whats][which.index].name && vm[whats][which.index].edit.info === vm[whats][which.index].info) {\r\n          $scope.edit.stop(which);\r\n          return false;\r\n        }\r\n        return api.checklists.edit(which).error(function (res) {\r\n          vm[whats][which.index].edit.error = res.code;\r\n          return vm[whats][which.index].edit.message = res.message;\r\n        }).success(function (res) {\r\n          var notifyItem, packet;\r\n          vm[whats][which.index] = res.updated;\r\n          packet = {\r\n            catalog: whats,\r\n            type: 'edit',\r\n            user: {\r\n              idCON: $rootScope.user.idCON,\r\n              name: $rootScope.user.name\r\n            },\r\n            record: res.updated\r\n          };\r\n          //console.log('emitting data', packet);\r\n          $rootScope.socketio.emit('data', packet);\r\n          notifyItem = $.extend({}, res.updated, {\r\n            type: 'data'\r\n          });\r\n          //console.log('about to sent notify event', notifyItem);\r\n          $rootScope.socketio.emit('notify', [notifyItem]);\r\n          vm.organizeData();\r\n          return $rootScope.message(\"Checklist Updated Successfully\", 'success');\r\n        })[\"finally\"](function () {\r\n          vm.closeDialog();\r\n          return vm.edit.stop(which);\r\n        });\r\n      }\r\n    };\r\n\r\n    function fetchAttachmentsChecklist(idCHK) {\r\n      var attme;\r\n      api.attachments.checklist(idCHK).then(function (d) {\r\n        attme = d;\r\n      });\r\n\r\n    }\r\n\r\n\r\n    function fetchAttachmentsParent(idPARENT) {\r\n\r\n      api.attachments.parent(idPARENT).success(function (res) {\r\n        if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          return res;\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n\r\n    $scope.pdf = {\r\n      submit: function (data) {\r\n\r\n        console.log('data', data);\r\n      }\r\n    };\r\n\r\n    function downloadPDF(ev, idCHK, chkName) {\r\n\r\n      vm.title = 'Download ' + chkName + ' To PDF';\r\n\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-dialog-pdf.html',\r\n        parent: angular.element($document.find('#todo')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n        locals: {\r\n          idCHK: idCHK,\r\n          chkName: chkName\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n\r\n    function downloadXML(ev, idCHK, chkName) {\r\n\r\n      $window.location.href = ('https://checklinked.com/archive.php?idCHK=' + idCHK);\r\n    }\r\n\r\n\r\n    function downloadAttachment(ev, location) {\r\n      //$window.location.href = (location);\r\n      $window.open(location, '_blank');\r\n    }\r\n\r\n\r\n    function fetchHeadingBlock(section, idCHK) {\r\n\r\n      console.log('section', section);\r\n\r\n      var id_parent = section.id;\r\n      var i;\r\n      var x;\r\n\r\n      console.log('id_parent', id_parent);\r\n\r\n\r\n      if (!section.headings.length && id_parent) {\r\n\r\n        console.log('say hello');\r\n\r\n        api.headings.getParent(id_parent).success(function (res) {\r\n\r\n          console.log('res on getParent', res);\r\n          console.log('id_parent', id_parent);\r\n\r\n          var ref;\r\n          if ((ref = res.headings) != null ? ref.length : void 0) {\r\n\r\n            console.log('pre result', vm.headings);\r\n\r\n            if ((ref = vm.headings) != null ? vm.headings.length : void 0) {\r\n              console.log('about to loop');\r\n              for (i = 0; i < res.headings.length; i++) {\r\n\r\n                console.log('looping', i);\r\n                vm.headings.push(res.headings[i]);\r\n              }\r\n\r\n            } else {\r\n              console.log('first heading');\r\n              vm.headings = res.headings;\r\n            }\r\n\r\n            console.log('heading data', vm.headings);\r\n\r\n          }\r\n          return vm.loaded.headings = true;\r\n        })[\"finally\"](function () {\r\n          vm.loading.headings = false;\r\n          return vm.completeLoad();\r\n        });\r\n\r\n\r\n        api.attachments.checklist(idCHK).success(function (res) {\r\n          var ref;\r\n          if ((ref = res.attachments) != null ? ref.length : void 0) {\r\n            vm.attachments = vm.attachments.concat(res.attachments);\r\n          }\r\n          vm.loaded.attachments = true;\r\n          return $scope.$broadcast('event:attachmentsLoaded');\r\n          //console.log('broadcast event:attachmentsLoaded');\r\n        })[\"finally\"](function () {\r\n          vm.loading.attachments = false;\r\n          return vm.completeLoad();\r\n        });\r\n\r\n\r\n      }\r\n\r\n    }\r\n\r\n\r\n    function fetchConflictsHeadingBlock(section, idCHK) {\r\n\r\n      console.log('section', section);\r\n\r\n      var id_parent = section.id;\r\n      var i;\r\n      var x;\r\n\r\n      console.log('id_parent', id_parent);\r\n\r\n\r\n      if (id_parent) {\r\n\r\n        console.log('Try to fetch Headings for Conflicts');\r\n\r\n        api.headings.getParent(id_parent).success(function (res) {\r\n\r\n          console.log('api results api.headings.getParent', res);\r\n\r\n          var ref;\r\n          if ((ref = res.headings) != null ? ref.length : void 0) {\r\n\r\n            console.log('existing vm.headings array', vm.headings);\r\n\r\n            if ((ref = vm.headings) != null ? vm.headings.length : void 0) {\r\n\r\n              for (i = 0; i < res.headings.length; i++) {\r\n                console.log('looping', i);\r\n                vm.headings.push(res.headings[i]);\r\n              }\r\n\r\n            } else {\r\n              console.log('first heading');\r\n              vm.headings = res.headings;\r\n            }\r\n\r\n            console.log('post process vm.headings array', vm.headings);\r\n\r\n          }\r\n          return vm.loaded.headings = true;\r\n        })[\"finally\"](function () {\r\n          vm.loading.headings = false;\r\n          return vm.completeLoad();\r\n        });\r\n\r\n\r\n        // Worry about attachments later, do not want to fuck upi the bullshit here.\r\n        api.attachments.checklist(idCHK).success(function (res) {\r\n          var ref;\r\n          if ((ref = res.attachments) != null ? ref.length : void 0) {\r\n            vm.attachments = vm.attachments.concat(res.attachments);\r\n          }\r\n          vm.loaded.attachments = true;\r\n          return $scope.$broadcast('event:attachmentsLoaded');\r\n          //console.log('broadcast event:attachmentsLoaded');\r\n        })[\"finally\"](function () {\r\n          vm.loading.attachments = false;\r\n          return vm.completeLoad();\r\n        });\r\n\r\n\r\n      }\r\n\r\n    }\r\n\r\n    function fetchItemBlock(heading, idCHK) {\r\n\r\n      var id_parent = heading.id;\r\n      var i;\r\n      var x;\r\n\r\n      console.log('heading', heading);\r\n      console.log('id_parent', id_parent);\r\n\r\n      if (!heading.items.length && id_parent) {\r\n\r\n        api.items.getParent(id_parent).success(function (res) {\r\n          //console.log('api.item.get');\r\n          var ref;\r\n          if ((ref = res.items) != null ? ref.length : void 0) {\r\n\r\n\r\n            console.log('pre result', vm.headings);\r\n\r\n            if ((ref = vm.items) != null ? vm.items.length : void 0) {\r\n              console.log('about to loop');\r\n              for (i = 0; i < res.items.length; i++) {\r\n\r\n                console.log('looping', i);\r\n                vm.items.push(res.items[i]);\r\n              }\r\n\r\n            } else {\r\n              console.log('first heading');\r\n              vm.items = res.items;\r\n            }\r\n\r\n            console.log('post result', vm.items);\r\n\r\n\r\n            //vm.items = res.items;\r\n          }\r\n          vm.loaded.items = true;\r\n\r\n          return $scope.$emit('event:itemsLoaded');\r\n          //console.log('broadcast event:itemsLoaded');\r\n        })[\"finally\"](function () {\r\n          vm.loading.items = false;\r\n          return vm.completeLoad();\r\n        });\r\n\r\n        api.attachments.checklist(idCHK).success(function (res) {\r\n          var ref;\r\n          if ((ref = res.attachments) != null ? ref.length : void 0) {\r\n            vm.attachments = vm.attachments.concat(res.attachments);\r\n          }\r\n          vm.loaded.attachments = true;\r\n          return $scope.$broadcast('event:attachmentsLoaded');\r\n          //console.log('broadcast event:attachmentsLoaded');\r\n        })[\"finally\"](function () {\r\n          vm.loading.attachments = false;\r\n          return vm.completeLoad();\r\n        });\r\n      }\r\n\r\n    }\r\n\r\n    function fetchConflictsItemBlock(heading, idCHK) {\r\n\r\n      var id_parent = heading.id;\r\n      var i;\r\n      var x;\r\n\r\n      console.log('heading', heading);\r\n      console.log('id_parent', id_parent);\r\n\r\n      if (!heading.items.length && id_parent) {\r\n\r\n        api.items.getParent(id_parent).success(function (res) {\r\n          //console.log('api.item.get');\r\n          var ref;\r\n          if ((ref = res.items) != null ? ref.length : void 0) {\r\n\r\n\r\n            console.log('pre result', vm.headings);\r\n\r\n            if ((ref = vm.items) != null ? vm.items.length : void 0) {\r\n              console.log('about to loop');\r\n              for (i = 0; i < res.items.length; i++) {\r\n\r\n                console.log('looping', i);\r\n                vm.items.push(res.items[i]);\r\n              }\r\n\r\n            } else {\r\n              console.log('first heading');\r\n              vm.items = res.items;\r\n            }\r\n\r\n            console.log('post result', vm.items);\r\n\r\n\r\n            //vm.items = res.items;\r\n          }\r\n          vm.loaded.items = true;\r\n\r\n          return $scope.$emit('event:itemsLoaded');\r\n          //console.log('broadcast event:itemsLoaded');\r\n        })[\"finally\"](function () {\r\n          vm.loading.items = false;\r\n\r\n        });\r\n\r\n        api.attachments.checklist(idCHK).success(function (res) {\r\n          var ref;\r\n          if ((ref = res.attachments) != null ? ref.length : void 0) {\r\n            vm.attachments = vm.attachments.concat(res.attachments);\r\n          }\r\n          vm.loaded.attachments = true;\r\n          return $scope.$broadcast('event:attachmentsLoaded');\r\n          //console.log('broadcast event:attachmentsLoaded');\r\n        })[\"finally\"](function () {\r\n          vm.loading.attachments = false;\r\n          return vm.completeLoad();\r\n        });\r\n      }\r\n\r\n    }\r\n\r\n    console.log('vm.expanded end of controller', vm.expanded);\r\n    console.log('vm.checklist', vm.checklist);\r\n\r\n    function closeDialog() {\r\n      $mdDialog.hide();\r\n    }\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.chat', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, $translatePartialLoaderProvider, msNavigationServiceProvider) {\r\n\r\n    // State\r\n    $stateProvider.state('app.chat', {\r\n      url: '/chat',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/chat/chat.html',\r\n          controller: 'ChatController as vm'\r\n        }\r\n      }\r\n    })\r\n      .state('app.chat.user', {\r\n      url: '/:id',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/chat/chat.html',\r\n          controller: 'ChatController as vm'\r\n        }\r\n      }\r\n    }).state('app.chat.pass', {\r\n      url: '/chat/:passID',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/chat/chat.html',\r\n          controller: 'ChatController as vm'\r\n        }\r\n      }\r\n    });\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/chat');\r\n\r\n    // Navigation\r\n    msNavigationServiceProvider.saveItem('conversations.chat', {\r\n      title: 'Messages',\r\n      icon: 'icon-hangouts',\r\n      state: 'app.chat' ,\r\n      weight: 2\r\n    });\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.chat')\r\n    .controller('ChatController', ChatController);\r\n\r\n  /** @ngInject */\r\n  function ChatController($rootScope, $state, $stateParams, $scope, $filter, $mdSidenav, $timeout, $document, $mdMedia, api) {\r\n\r\n    var vm = this;\r\n\r\n    var id;\r\n    var type;\r\n    vm.contacts = [];\r\n    vm.user = $rootScope.user;\r\n    var array_test = [];\r\n    vm.leftSidenavView = false;\r\n    vm.chat = undefined;\r\n    vm.newPost = {\r\n      text: '',\r\n      submitting: false\r\n    };\r\n    var ref;\r\n\r\n    vm.viewingConversation = {\r\n      id: id,\r\n      type: type\r\n    };\r\n\r\n    // Methods\r\n    vm.getChat = getChat;\r\n    vm.toggleSidenav = toggleSidenav;\r\n    vm.toggleLeftSidenavView = toggleLeftSidenavView;\r\n    vm.reply = reply;\r\n    vm.setUserStatus = setUserStatus;\r\n    vm.clearMessages = clearMessages;\r\n    vm.showWhichInviteContactData = showWhichInviteContactData;\r\n    vm.openConversation = openConversation;\r\n    vm.setSocketStuff = setSocketStuff;\r\n    vm.submitPost = submitPost;\r\n    vm.old = old;\r\n    vm.closeConversation = closeConversation;\r\n    vm.pushPosts = pushPosts;\r\n    vm.postProcessPosts = postProcessPosts;\r\n    vm.getLatestPosts = getLatestPosts;\r\n\r\n    vm.passID = $stateParams.passID;\r\n\r\n    console.log('vm.passID', vm.passID);\r\n\r\n    //Build Fetch contactsTest\r\n    var i = '';\r\n    var contacts = [];\r\n    var switchUser;\r\n    var contactsTest = [];\r\n    //var vm.contactsTest = [];\r\n\r\n    api.contacts.get().then(function (d) {\r\n      contacts = d.data.friendships;\r\n\r\n      for (i = 0; i < contacts.length; i++) {\r\n        switchUser = showWhichInviteContactData(contacts[i]);\r\n        //console.log('contacts[i].accepted', i, contacts[i].accepted);\r\n        //Switch array\r\n        if ((contacts[i].accepted != '') && (contacts[i].accepted != '') && (contacts[i].accepted !== void 0) && (switchUser == 'accepter')) {\r\n          console.log('contacts[i].accepted', contacts[i].accepted);\r\n          vm.contacts[i] = contacts[i].contacts.accepter;\r\n          vm.contacts[i].accepted = contacts[i].accepted;\r\n          vm.contacts[i].contact_id = contacts[i].id;\r\n          vm.contacts[i].rid = contacts[i].rid;\r\n        }\r\n\r\n        if ((contacts[i].accepted != '') && (contacts[i].accepted != '') && (contacts[i].accepted !== void 0) && (switchUser == 'originator')) {\r\n          console.log('contacts[i].accepted', i, contacts[i].accepted);\r\n          vm.contacts[i] = contacts[i].contacts.originator;\r\n          vm.contacts[i].accepted = contacts[i].accepted;\r\n          vm.contacts[i].contact_id = contacts[i].id;\r\n          vm.contacts[i].rid = contacts[i].rid;\r\n        }\r\n      }\r\n      console.log('contacts processed', vm.contacts);\r\n\r\n      if(vm.passID){\r\n\r\n        console.log('we are here', vm.contacts.length);\r\n\r\n          for (var i = 0; i < vm.contacts.length; i++) {\r\n            if (vm.contacts[i].id === vm.passID) {\r\n              //vm.open(vm.threads[i]);\r\n\r\n              console.log('hello charlie', vm.contacts[i]);\r\n\r\n              vm.openConversation(vm.contacts[i].contact_id, 'message', vm.contacts[i].name, vm.contacts[i]);\r\n\r\n              break;\r\n            }\r\n          }\r\n\r\n\r\n      }\r\n\r\n    });\r\n\r\n    vm.contacts.shift = showWhichInviteContactData(vm.contacts);\r\n\r\n    function showWhichInviteContactData(friend) {\r\n      var ref2, ref3, ref4;\r\n      if (((ref2 = $rootScope.user) != null ? ref2.idCON : void 0) === (friend != null ? (ref3 = friend.contacts) != null ? (ref4 = ref3.accepter) != null ? ref4.id : void 0 : void 0 : void 0)) {\r\n        return 'originator';\r\n      } else {\r\n        return 'accepter';\r\n      }\r\n    }\r\n\r\n\r\n    /**\r\n     * Get Chat by Contact id\r\n     * @param contactId\r\n     */\r\n    function getChat(contactId) {\r\n\r\n\r\n      vm.chatContactId = contactId;\r\n\r\n\r\n      for (i = 0; i < $rootScope.feed.items; i++) {\r\n        switchUser = showWhichInviteContactData(contacts[i]);\r\n        //Switch array\r\n        if (switchUser == 'accepter') {\r\n          vm.contacts[i] = contacts[i].contacts.accepter;\r\n        } else {\r\n          vm.contacts[i] = contacts[i].contacts.originator;\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n    /**\r\n     * Reply\r\n     */\r\n\r\n    function reply($event) {\r\n\r\n      console.log(vm.viewingConversation);\r\n\r\n      // If \"shift + enter\" pressed, grow the reply textarea\r\n      if ($event && $event.keyCode === 13 && $event.shiftKey) {\r\n        vm.textareaGrow = true;\r\n        return;\r\n      }\r\n\r\n      // Prevent the reply() for key presses rather than the\"enter\" key.\r\n      if ($event && $event.keyCode !== 13) {\r\n        return;\r\n      }\r\n\r\n      // Check for empty messages\r\n      if (vm.replyMessage === '') {\r\n        resetReplyTextarea();\r\n        return;\r\n      }\r\n\r\n      // Message\r\n      var message = {\r\n        who: 'user',\r\n        text: vm.replyMessage,\r\n        timestamp: Date.now()\r\n      };\r\n\r\n      // Scroll to the new message\r\n      scrollToBottomOfChat();\r\n\r\n      console.log('submitting convo entry', vm.viewingConversation.id, vm.replyMessage, 'message');\r\n\r\n      api.conversations.add(vm.viewingConversation.id, vm.replyMessage, 'message').error(function (res) {\r\n        $rootScope.message('Error posting.', 'warning');\r\n      }).success(function (res) {\r\n        if (res.code) {\r\n          $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          $rootScope.socketio.emit('message', res.posts[0]);\r\n        }\r\n      })[\"finally\"](function () {\r\n        // Reset the reply textarea\r\n        resetReplyTextarea();\r\n      });\r\n\r\n    }\r\n\r\n    /**^\r\n     * Clear Chat Messages\r\n     */\r\n    function clearMessages() {\r\n      vm.chats[vm.chatContactId] = vm.chat = [];\r\n      vm.contacts.getById(vm.chatContactId).lastMessage = null;\r\n    }\r\n\r\n    /**\r\n     * Reset reply textarea\r\n     */\r\n    function resetReplyTextarea() {\r\n      vm.replyMessage = '';\r\n      vm.textareaGrow = false;\r\n    }\r\n\r\n    /**\r\n     * Scroll Chat Content to the bottom\r\n     * @param speed\r\n     */\r\n    function scrollToBottomOfChat() {\r\n      $timeout(function () {\r\n        var chatContent = angular.element($document.find('#chat-content'));\r\n\r\n        chatContent.animate({\r\n          scrollTop: chatContent[0].scrollHeight\r\n        }, 400);\r\n      }, 0);\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * Set User Status\r\n     */\r\n    function setUserStatus(status) {\r\n      vm.user.status = status;\r\n    }\r\n\r\n\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n    }\r\n\r\n    /**\r\n     * Toggle Left Sidenav View\r\n     *\r\n     * @param view id\r\n     */\r\n    function toggleLeftSidenavView(id) {\r\n      vm.leftSidenavView = id;\r\n    }\r\n\r\n    /**\r\n     * Array prototype\r\n     *\r\n     * Get by id\r\n     *\r\n     * @param value\r\n     * @returns {T}\r\n     */\r\n    Array.prototype.getById = function (value) {\r\n      return this.filter(function (x) {\r\n        return x.id === value;\r\n      })[0];\r\n    };\r\n\r\n\r\n    function openConversation(id, type, name, contact) {\r\n\r\n      console.log('id', id);\r\n      console.log('type', type);\r\n      console.log('name', name);\r\n      console.log('contact', contact);\r\n\r\n      if (type == null) {\r\n        type = 'post';\r\n      }\r\n\r\n      vm.viewingConversation = {\r\n        id: id,\r\n        type: type,\r\n        nameFirst: name.first,\r\n        nameLast: name.last,\r\n        nameFull: name.full,\r\n        organization: contact.organization,\r\n        phone: contact.phone,\r\n        email: contact.email\r\n      };\r\n\r\n      console.log('vm.viewingConversation', vm.viewingConversation);\r\n\r\n      console.log('opening conversation', vm.viewingConversation);\r\n\r\n      $rootScope.socketio.emit('join', \"/conversation/\" + vm.viewingConversation.id);\r\n      vm.getLatestPosts(vm.viewingConversation.id, vm.viewingConversation.type);\r\n\r\n      // Reset the reply textarea\r\n      resetReplyTextarea();\r\n\r\n      // Scroll to the last message\r\n      scrollToBottomOfChat();\r\n\r\n      if (!$mdMedia('gt-md')) {\r\n        $mdSidenav('left-sidenav').close();\r\n      }\r\n\r\n      // Reset Left Sidenav View\r\n      vm.toggleLeftSidenavView(false);\r\n    };\r\n\r\n\r\n    vm.loading = {\r\n      posts: true\r\n    };\r\n\r\n    function old(ts) {\r\n      var now, old, post;\r\n      if (typeof ts.getTime() !== 'function') {\r\n        return false;\r\n      }\r\n      now = Math.round(new Date().getTime() / 1000);\r\n      old = now - (12 * 3600);\r\n      post = Math.round(ts.getTime() / 1000);\r\n      console.log('calculating age', ts, now, old, post, post < old);\r\n      return post < old;\r\n    };\r\n\r\n    vm.conversation = {\r\n      id: vm.viewingConversation.id,\r\n      posts: [],\r\n      name: '',\r\n      currentSkip: 0\r\n    };\r\n\r\n    console.log('vm.conversation', vm.conversation);\r\n\r\n    ///////SET UP THE SOCKET CONNECTION FOR REALTIME\r\n\r\n    function setSocketStuff() {\r\n      console.log('setting socket stuff (convo)');\r\n      //$rootScope.socketio.emit('join', \"/conversation/\" + vm.viewingConversation.id);\r\n      return $rootScope.socketio.on('message', function (post) {\r\n        var notifyItem;\r\n        console.log('message received', post);\r\n        if (post.idFDI && post.id_contact === $rootScope.user.idCON) {\r\n          notifyItem = $.extend({}, post, {\r\n            type: 'post'\r\n          });\r\n          console.log('about to sent notify event', notifyItem);\r\n          $rootScope.socketio.emit('notify', [notifyItem]);\r\n        }\r\n\r\n        return vm.pushPosts(vm.postProcessPosts([post]));\r\n      });\r\n    };\r\n    if ((ref = $rootScope.socketio) != null ? ref.connected : void 0) {\r\n      console.log('socket was already connected (convo)');\r\n      vm.setSocketStuff();\r\n    }\r\n    $scope.$on('event:socketConnected', function () {\r\n      console.log('received ng event:socketConnected (convo)');\r\n      return vm.setSocketStuff();\r\n    });\r\n\r\n    function postProcessPosts(posts) {\r\n      console.log('post processing posts', posts);\r\n      for (i = 0; i < posts.length; i++) {\r\n\r\n        if ($rootScope.user.idCON == posts[i].id_contact) {\r\n          posts[i].who = 'user';\r\n        } else {\r\n          posts[i].who = 'contact';\r\n          //\tvm.chat.name = vm.chat[i].user\r\n        }\r\n\r\n      }\r\n      console.log('posts postprocessed', posts);\r\n      return posts;\r\n    }\r\n\r\n    function getLatestPosts(id) {\r\n\r\n      //console.log('$rootScope.feed.items.length', $rootScope.feed.items.length);\r\n\r\n      /*for(i = 0; i < $rootScope.feed.items.length; i++) {\r\n\r\n       if($rootScope.feed.items[i].user.id  == id)\r\n       {\r\n       vm.conversation.id = $rootScope.feed.items[i].item.id;\r\n       vm.contactname = $rootScope.feed.items[i].user.name;\r\n       break;\r\n       }\r\n       vm.conversation.id = 0;\r\n       }*/\r\n      api.conversations.get(vm.viewingConversation.id, vm.viewingConversation.currentSkip).success(function (res) {\r\n\r\n        vm.chat = [];\r\n        if (res !== undefined && res != null && res != '' && !res.code) {\r\n          vm.chat = vm.postProcessPosts(res.posts);\r\n        }\r\n\r\n\r\n        console.log('vm.chat', vm.chat);\r\n\r\n      })[\"finally\"](function () {\r\n        return vm.loading.posts = false;\r\n\r\n      });\r\n      scrollToBottomOfChat();\r\n    };\r\n\r\n\r\n    function pushPosts(posts, filter) {\r\n      console.log('checking received message(s)', posts, filter);\r\n      var i, len, post, ref1, results;\r\n      if (filter == null) {\r\n        filter = $filter;\r\n      }\r\n      if (posts != null ? posts.length : void 0) {\r\n        for (i = 0, len = posts.length; i < len; i++) {\r\n          post = posts[i];\r\n          if (post.id_parent === vm.viewingConversation.id) {\r\n            if (!((ref1 = $filter('filter')(vm.chat, {\r\n                rid: post.rid\r\n              }, true)) != null ? ref1.length : void 0)) {\r\n              vm.chat.push(post);\r\n              vm.conversation.currentSkip++;\r\n              scrollToBottomOfChat();\r\n              console.log('post accepted', post);\r\n            } else {\r\n              console.log('post rejected: already added', post);\r\n            }\r\n          } else {\r\n            console.log('post rejected: not this convo', post);\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    function submitPost() {\r\n      $scope.newPost.submitting = true;\r\n      console.log('submitting convo entry', vm.viewingConversation, vm.replyMessage, vm.newPost.text);\r\n      return ConversationService.add(vm.viewingConversation.id, vm.replyMessage, 'post').error(function (res) {\r\n        return $rootScope.message('Error posting.', 'warning');\r\n      }).success(function (res) {\r\n        if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          return $rootScope.socketio.emit('message', res.posts[0]);\r\n        }\r\n      })[\"finally\"](function () {\r\n        return vm.newPost = {\r\n          text: '',\r\n          submitting: false\r\n        };\r\n      });\r\n    };\r\n\r\n\r\n\r\n    if ($stateParams.id !== undefined && $stateParams.id != null) {\r\n\r\n      console.log('user id', $stateParams.id);\r\n\r\n      //vm.openConversation(contact.contact_id, 'message', contact.name, contact)\r\n    }\r\n\r\n\r\n    function closeConversation() {\r\n      return $uibModalInstance.dismiss('cancel');\r\n    };\r\n\r\n  }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.account', [])\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($stateProvider, $translatePartialLoaderProvider, msNavigationServiceProvider)\r\n    {\r\n        // State\r\n        $stateProvider.state('app.account', {\r\n            url      : '/account',\r\n             views  : {\r\n             \t'main@': {\r\n                    templateUrl: 'app/core/layouts/content-only.html',\r\n                    controller : 'MainController as vm'\r\n                },\r\n                'content@app': {\r\n                    templateUrl: 'app/main/account/',\r\n                    controller : 'AccountController as vm'\r\n                }\r\n            }\r\n        })\r\n        .state('app.account.confirm', {\r\n            url      : '/create/confirm/:key',\r\n            views    : {\r\n                'main@': {\r\n                    templateUrl: 'app/core/layouts/content-only.html',\r\n                    controller : 'MainController as vm'\r\n                },\r\n                'content@app.account.confirm': {\r\n                    templateUrl: 'app/main/account/confirm.html',\r\n                    controller : 'AccountController as vm'\r\n                }\r\n            },\r\n            bodyClass: 'account'\r\n        })\r\n        .state('app.account.invite', {\r\n            url      : '/invite/accept/:idSUI',\r\n            views    : {\r\n                'main@': {\r\n                    templateUrl: 'app/core/layouts/content-only.html',\r\n                    controller : 'MainController as vm'\r\n                },\r\n                'content@app.account.invite': {\r\n                    templateUrl: 'app/main/account/invite.html',\r\n                    controller : 'AccountController as vm'\r\n                }\r\n            },\r\n            bodyClass: 'account'\r\n        });\r\n        // Translation\r\n        $translatePartialLoaderProvider.addPart('app/main/account');\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.account')\r\n        .controller('AccountController', AccountController);\r\n\r\n    /** @ngInject */\r\n    function AccountController($rootScope, $http, $state, api, $location, $stateParams, $scope) {\r\n    \t\r\n\tvar vm = this;\r\n\t\r\n\tconsole.log('$stateParams.key', $stateParams.key);\r\n\tconsole.log('$stateParams', $stateParams);\r\n\t\r\n\t/* confirmAccount START */\r\n\t\r\n\t\r\n\tif ($stateParams.key !== void 0 && $stateParams.key !== null && $stateParams.key  !== '') {\r\n\t\t\r\n\tif ($stateParams.key === '') {\r\n      vm.sending = false;\r\n      vm.confirmed = false;\r\n      return vm.message = 'No confirmation key provided.  Please use the full confirmation link in your confirmation email.';\r\n    } else {\r\n      vm.message = 'Accounting...';\r\n      vm.sending = true;\r\n      \r\n      return api.confirm.validate($stateParams.key).error(function(res) {\r\n      $rootScope.message('Unknown error conforming New User Account.', 'warning');\r\n        }).success(function(res) {\r\n        \tconsole.log('res', res);\r\n          if (res.type==='success') {\r\n            $rootScope.message(res.message, 'success');\r\n            return vm.message = res.message;\r\n          } else {\r\n        $rootScope.message(res.message, 'warning');\r\n        return vm.message = res.message;\r\n        \r\n        console.log('res.message', res.message);\r\n\t\t\t\t\r\n\t\t\t\t\r\n          }\r\n        })[\"finally\"](function() {\r\n           return vm.sending = false;\r\n        });\r\n    }\r\n    \r\n    }\r\n    /* confirmAccount END */\r\n   \r\n   \r\n   \r\n   /* invites\tAccount START */\r\n  if ($stateParams.idSUI !== void 0 && $stateParams.idSUI !== null && $stateParams.idSUI  !== '') {\r\n  \t\r\n \tvar idSUI;\r\n    vm.loading = false;\r\n    vm.inviting = false;\r\n    vm.makingSubActive = false;\r\n    vm.withdrawing = [];\r\n    vm.invite = null;\r\n    vm.offers = [];\r\n    \r\n    vm.makeSubscriptionActive = makeSubscriptionActive;\r\n    \r\n    api.subscriptions.getCurrentOffers().success(function(res) {\r\n      var ref;\r\n      if ((ref = res.plans) != null ? ref.length : void 0) {\r\n        return vm.offers = vm.offers.concat(res.plans);\r\n      }\r\n    })[\"finally\"](function() {\r\n      return vm.loading = false;\r\n    });\r\n    \r\n    function makeSubscriptionActive() {\r\n      vm.makingSubActive = true;\r\n      return api.subscriptions.makeSubscriptionActive($rootScope.subscriptions.selected.id).error(function(res) {\r\n        return $rootScope.message('Error inviting.', 'warning');\r\n      }).success(function(res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message('Invalid response.', 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          $rootScope.user = res.user;\r\n          return $rootScope.subscriptions.selected.users = res.contacts;\r\n        }\r\n      })[\"finally\"](function() {\r\n        return vm.makingSubActive = false;\r\n      });\r\n    };\r\n    \r\n    idSUI = $stateParams.idSUI;\r\n    \r\n    if (idSUI !== void 0 && idSUI !== null && idSUI !== '') {\r\n    \tconsole.log('checking idSUI');\r\n    \t\r\n      vm.acceptInvite = {\r\n        accepting: false,\r\n        signin: {\r\n          username: '',\r\n          password: ''\r\n        },\r\n        reg: {\r\n          contact: {\r\n            name: {\r\n              first: '',\r\n              middle: '',\r\n              last: ''\r\n            },\r\n            phone: '',\r\n            email: ''\r\n          },\r\n          password: '',\r\n          password2: ''\r\n        },\r\n        login: function() {\r\n          vm.acceptInvite.accepting = true;\r\n          return api.subscriptions.acceptInvite(idSUI, 'login', vm.acceptInvite.signin).error(function(res) {\r\n            console.log('invite accept error', idSUI, res);\r\n            $rootScope.message('Error accepting invitation.', 'warning');\r\n          }).success(function(res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              console.log('invite accept error', idSUI, res);\r\n            $rootScope.message('Invalid response.', 'warning');\r\n            } else if (res.code) {\r\n              console.log('invite accept error', idSUI, res);\r\n            $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              return vm.acceptInvite.succeeded(res.user.token);\r\n            }\r\n          })[\"finally\"](function() {\r\n            vm.acceptInvite.accepting = false;\r\n          });\r\n        },\r\n        signup: function() {\r\n          vm.acceptInvite.accepting = true;\r\n          return api.subscriptions.acceptInvite(idSUI, 'signup', vm.acceptInvite.reg).error(function(res) {\r\n            console.log('invite accept error', idSUI, res);\r\n            return $rootScope.message('Error accepting invitation.', 'warning');\r\n          }).success(function(res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              console.log('invite accept error', idSUI, res);\r\n              return $rootScope.message('Invalid response.', 'warning');\r\n            } else if (res.code) {\r\n              console.log('invite accept error', idSUI, res);\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              return vm.acceptInvite.succeeded(res.user.token);\r\n            }\r\n          })[\"finally\"](function() {\r\n            return vm.acceptInvite.accepting = false;\r\n          });\r\n        },\r\n        succeeded: function(token) {\r\n          return api.login.doAuth({\r\n            m: 't',\r\n            t: token\r\n          });\r\n        }\r\n      };\r\n      \r\n      vm.invite = api.subscriptions.getInvite(idSUI).success(function(res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n\t\tconsole.log('res void');\r\n        } else if (res.code) {\r\n\t\tconsole.log('res.code', res.code);\r\n        } else {\r\n        \tconsole.log('res', res);\r\n          vm.invite = res.invite;\r\n          vm.acceptInvite.signin.username = res.invite.email;\r\n          vm.acceptInvite.reg.contact.email = res.invite.email;\r\n        }\r\n      });\r\n      \r\n     \r\n    }   \r\n     console.log('vm.invite', vm.invite);\r\n    }\r\n\t/* inviteAccount END */\r\n\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .service('fuseTheming', fuseThemingService);\r\n\r\n    /** @ngInject */\r\n    function fuseThemingService($cookies, $log, $mdTheming)\r\n    {\r\n        var service = {\r\n            getRegisteredPalettes: getRegisteredPalettes,\r\n            getRegisteredThemes  : getRegisteredThemes,\r\n            setActiveTheme       : setActiveTheme,\r\n            setThemesList        : setThemesList,\r\n            themes               : {\r\n                list  : {},\r\n                active: {\r\n                    'name' : '',\r\n                    'theme': {}\r\n                }\r\n            }\r\n        };\r\n\r\n        return service;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Get registered palettes\r\n         *\r\n         * @returns {*}\r\n         */\r\n        function getRegisteredPalettes()\r\n        {\r\n            return $mdTheming.PALETTES;\r\n        }\r\n\r\n        /**\r\n         * Get registered themes\r\n         *\r\n         * @returns {*}\r\n         */\r\n        function getRegisteredThemes()\r\n        {\r\n            return $mdTheming.THEMES;\r\n        }\r\n\r\n        /**\r\n         * Set active theme\r\n         *\r\n         * @param themeName\r\n         */\r\n        function setActiveTheme(themeName)\r\n        {\r\n            // If theme does not exist, fallback to the default theme\r\n            if ( angular.isUndefined(service.themes.list[themeName]) )\r\n            {\r\n                // If there is no theme called \"default\"...\r\n                if ( angular.isUndefined(service.themes.list.default) )\r\n                {\r\n                    $log.error('You must have at least one theme named \"default\"');\r\n                    return;\r\n                }\r\n\r\n                $log.warn('The theme \"' + themeName + '\" does not exist! Falling back to the \"default\" theme.');\r\n\r\n                // Otherwise set theme to default theme\r\n                service.themes.active.name = 'default';\r\n                service.themes.active.theme = service.themes.list.default;\r\n                $cookies.put('selectedTheme', service.themes.active.name);\r\n                return;\r\n            }\r\n\r\n            service.themes.active.name = themeName;\r\n            service.themes.active.theme = service.themes.list[themeName];\r\n            $cookies.put('selectedTheme', themeName);\r\n        }\r\n\r\n        /**\r\n         * Set available themes list\r\n         *\r\n         * @param themeList\r\n         */\r\n        function setThemesList(themeList)\r\n        {\r\n            service.themes.list = themeList;\r\n        }\r\n    }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($mdThemingProvider, fusePalettes, fuseThemes)\r\n    {\r\n        // Inject Cookies Service\r\n        var $cookies;\r\n        angular.injector(['ngCookies']).invoke([\r\n            '$cookies', function (_$cookies)\r\n            {\r\n                $cookies = _$cookies;\r\n            }\r\n        ]);\r\n\r\n        // Check if custom theme exist in cookies\r\n        var customTheme = $cookies.getObject('customTheme');\r\n        if ( customTheme )\r\n        {\r\n            fuseThemes['custom'] = customTheme;\r\n        }\r\n\r\n        $mdThemingProvider.alwaysWatchTheme(true);\r\n\r\n        // Define custom palettes\r\n        angular.forEach(fusePalettes, function (palette)\r\n        {\r\n            $mdThemingProvider.definePalette(palette.name, palette.options);\r\n        });\r\n\r\n        // Register custom themes\r\n        angular.forEach(fuseThemes, function (theme, themeName)\r\n        {\r\n            $mdThemingProvider.theme(themeName)\r\n                .primaryPalette(theme.primary.name, theme.primary.hues)\r\n                .accentPalette(theme.accent.name, theme.accent.hues)\r\n                .warnPalette(theme.warn.name, theme.warn.hues)\r\n                .backgroundPalette(theme.background.name, theme.background.hues);\r\n        });\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    var fuseThemes = {\r\n        default  : {\r\n            primary   : {\r\n                name: 'fuse-paleblue',\r\n                hues: {\r\n                    'default': '700',\r\n                    'hue-1'  : '500',\r\n                    'hue-2'  : '600',\r\n                    'hue-3'  : '400'\r\n                }\r\n            },\r\n            accent    : {\r\n                name: 'custom',\r\n                hues: {\r\n                    'default': '800',\r\n                    'hue-1'  : '800',\r\n                    'hue-2'  : '800',\r\n                    'hue-3'  : 'A100'\r\n                }\r\n            },\r\n            warn      : {\r\n                name: 'red'\r\n            },\r\n            background: {\r\n                name: 'grey',\r\n                hues: {\r\n                    'default': 'A100',\r\n                    'hue-1'  : 'A100',\r\n                    'hue-2'  : '100',\r\n                    'hue-3'  : '300'\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    angular\r\n        .module('app.core')\r\n        .constant('fuseThemes', fuseThemes);\r\n})();\r\n\n(function () {\r\n    'use strict';\r\n\r\n    var fusePalettes = [\r\n        {\r\n            name: 'fuse-blue',\r\n            options: {\r\n                '50': '#ebf1fa',\r\n                '100': '#c2d4ef',\r\n                '200': '#9ab8e5',\r\n                '300': '#78a0dc',\r\n                '400': '#5688d3',\r\n                '500': '#3470ca',\r\n                '600': '#2e62b1',\r\n                '700': '#275498',\r\n                '800': '#21467e',\r\n                '900': '#1a3865',\r\n                'A100': '#c2d4ef',\r\n                'A200': '#9ab8e5',\r\n                'A400': '#5688d3',\r\n                'A700': '#275498',\r\n                'contrastDefaultColor': 'light',\r\n                'contrastDarkColors': '50 100 200 A100',\r\n                'contrastStrongLightColors': '300 400'\r\n            }\r\n        },\r\n      {\r\n        name: 'fuse-paleblue',\r\n        options: {\r\n          '50': '#ececee',\r\n          '100': '#c5c6cb',\r\n          '200': '#9ea1a9',\r\n          '300': '#7d818c',\r\n          '400': '#5c616f',\r\n          '500': '#3c4252',\r\n          '600': '#353a48',\r\n          '700': '#2d323e',\r\n          '800': '#262933',\r\n          '900': '#1e2129',\r\n          'A100': '#c5c6cb',\r\n          'A200': '#9ea1a9',\r\n          'A400': '#5c616f',\r\n          'A700': '#2d323e',\r\n          'contrastDefaultColor': 'light',\r\n          'contrastDarkColors': '50 100 200 A100',\r\n          'contrastStrongLightColors': '300 400'\r\n        }\r\n      },{\r\n        name: 'custom',\r\n        options: {\r\n          '50': '#ececee',\r\n          '100': '#c5c6cb',\r\n          '200': '#9ea1a9',\r\n          '300': '#7d818c',\r\n          '400': '#5c616f',\r\n          '500': '#3c4252',\r\n          '600': '#353a48',\r\n          '700': '#2d323e',\r\n          '800': '#416ea3',\r\n          '900': '#1e2129',\r\n          'A100': '#c5c6cb',\r\n          'A200': '#9ea1a9',\r\n          'A400': '#5c616f',\r\n          'A700': '#2d323e',\r\n          'contrastDefaultColor': 'light',\r\n          'contrastDarkColors': '50 100 200 A100',\r\n          'contrastStrongLightColors': '300 400'\r\n        }\r\n      }\r\n      ];\r\n\r\n    angular\r\n        .module('app.core')\r\n        .constant('fusePalettes', fusePalettes);\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .factory('fuseGenerator', fuseGeneratorService);\r\n\r\n    /** @ngInject */\r\n    function fuseGeneratorService($cookies, $log, fuseTheming)\r\n    {\r\n        // Storage for simplified themes object\r\n        var themes = {};\r\n\r\n        var service = {\r\n            generate: generate,\r\n            rgba    : rgba\r\n        };\r\n\r\n        return service;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Generate less variables for each theme from theme's\r\n         * palette by using material color naming conventions\r\n         */\r\n        function generate()\r\n        {\r\n            // Get registered themes and palettes and copy\r\n            // them so we don't modify the original objects\r\n            var registeredThemes = angular.copy(fuseTheming.getRegisteredThemes());\r\n            var registeredPalettes = angular.copy(fuseTheming.getRegisteredPalettes());\r\n\r\n            // First, create a simplified object that stores\r\n            // all registered themes and their colors\r\n\r\n            // Iterate through registered themes\r\n            angular.forEach(registeredThemes, function (registeredTheme)\r\n            {\r\n                themes[registeredTheme.name] = {};\r\n\r\n                // Iterate through color types (primary, accent, warn & background)\r\n                angular.forEach(registeredTheme.colors, function (colorType, colorTypeName)\r\n                {\r\n                    themes[registeredTheme.name][colorTypeName] = {\r\n                        'name'  : colorType.name,\r\n                        'levels': {\r\n                            'default': {\r\n                                'color'    : rgba(registeredPalettes[colorType.name][colorType.hues.default].value),\r\n                                'contrast1': rgba(registeredPalettes[colorType.name][colorType.hues.default].contrast, 1),\r\n                                'contrast2': rgba(registeredPalettes[colorType.name][colorType.hues.default].contrast, 2),\r\n                                'contrast3': rgba(registeredPalettes[colorType.name][colorType.hues.default].contrast, 3),\r\n                                'contrast4': rgba(registeredPalettes[colorType.name][colorType.hues.default].contrast, 4)\r\n                            },\r\n                            'hue1'   : {\r\n                                'color'    : rgba(registeredPalettes[colorType.name][colorType.hues['hue-1']].value),\r\n                                'contrast1': rgba(registeredPalettes[colorType.name][colorType.hues['hue-1']].contrast, 1),\r\n                                'contrast2': rgba(registeredPalettes[colorType.name][colorType.hues['hue-1']].contrast, 2),\r\n                                'contrast3': rgba(registeredPalettes[colorType.name][colorType.hues['hue-1']].contrast, 3),\r\n                                'contrast4': rgba(registeredPalettes[colorType.name][colorType.hues['hue-1']].contrast, 4)\r\n                            },\r\n                            'hue2'   : {\r\n                                'color'    : rgba(registeredPalettes[colorType.name][colorType.hues['hue-2']].value),\r\n                                'contrast1': rgba(registeredPalettes[colorType.name][colorType.hues['hue-2']].contrast, 1),\r\n                                'contrast2': rgba(registeredPalettes[colorType.name][colorType.hues['hue-2']].contrast, 2),\r\n                                'contrast3': rgba(registeredPalettes[colorType.name][colorType.hues['hue-2']].contrast, 3),\r\n                                'contrast4': rgba(registeredPalettes[colorType.name][colorType.hues['hue-2']].contrast, 4)\r\n                            },\r\n                            'hue3'   : {\r\n                                'color'    : rgba(registeredPalettes[colorType.name][colorType.hues['hue-3']].value),\r\n                                'contrast1': rgba(registeredPalettes[colorType.name][colorType.hues['hue-3']].contrast, 1),\r\n                                'contrast2': rgba(registeredPalettes[colorType.name][colorType.hues['hue-3']].contrast, 2),\r\n                                'contrast3': rgba(registeredPalettes[colorType.name][colorType.hues['hue-3']].contrast, 3),\r\n                                'contrast4': rgba(registeredPalettes[colorType.name][colorType.hues['hue-3']].contrast, 4)\r\n                            }\r\n                        }\r\n                    };\r\n                });\r\n            });\r\n\r\n            // Process themes one more time and then store them in the service for external use\r\n            processAndStoreThemes(themes);\r\n\r\n            // Iterate through simplified themes\r\n            // object and create style variables\r\n            var styleVars = {};\r\n\r\n            // Iterate through registered themes\r\n            angular.forEach(themes, function (theme, themeName)\r\n            {\r\n                styleVars = {};\r\n                styleVars['@themeName'] = themeName;\r\n\r\n                // Iterate through color types (primary, accent, warn & background)\r\n                angular.forEach(theme, function (colorTypes, colorTypeName)\r\n                {\r\n                    // Iterate through color levels (default, hue1, hue2 & hue3)\r\n                    angular.forEach(colorTypes.levels, function (colors, colorLevelName)\r\n                    {\r\n                        // Iterate through color name (color, contrast1, contrast2, contrast3 & contrast4)\r\n                        angular.forEach(colors, function (color, colorName)\r\n                        {\r\n                            styleVars['@' + colorTypeName + ucfirst(colorLevelName) + ucfirst(colorName)] = color;\r\n                        });\r\n                    });\r\n                });\r\n\r\n                // Render styles\r\n                render(styleVars);\r\n            });\r\n        }\r\n\r\n        // ---------------------------\r\n        //  INTERNAL HELPER FUNCTIONS\r\n        // ---------------------------\r\n\r\n        /**\r\n         * Process and store themes for global use\r\n         *\r\n         * @param _themes\r\n         */\r\n        function processAndStoreThemes(_themes)\r\n        {\r\n            // Here we will go through every registered theme one more time\r\n            // and try to simplify their objects as much as possible for\r\n            // easier access to their properties.\r\n            var themes = angular.copy(_themes);\r\n\r\n            // Iterate through themes\r\n            angular.forEach(themes, function (theme)\r\n            {\r\n                // Iterate through color types (primary, accent, warn & background)\r\n                angular.forEach(theme, function (colorType, colorTypeName)\r\n                {\r\n                    theme[colorTypeName] = colorType.levels;\r\n                    theme[colorTypeName].color = colorType.levels.default.color;\r\n                    theme[colorTypeName].contrast1 = colorType.levels.default.contrast1;\r\n                    theme[colorTypeName].contrast2 = colorType.levels.default.contrast2;\r\n                    theme[colorTypeName].contrast3 = colorType.levels.default.contrast3;\r\n                    theme[colorTypeName].contrast4 = colorType.levels.default.contrast4;\r\n                    delete theme[colorTypeName].default;\r\n                });\r\n            });\r\n\r\n            // Store themes and set selected theme for the first time\r\n            fuseTheming.setThemesList(themes);\r\n\r\n            // Remember selected theme.\r\n            var selectedTheme = $cookies.get('selectedTheme');\r\n\r\n            if ( selectedTheme )\r\n            {\r\n                fuseTheming.setActiveTheme(selectedTheme);\r\n            }\r\n            else\r\n            {\r\n                fuseTheming.setActiveTheme('default');\r\n            }\r\n        }\r\n\r\n\r\n        /**\r\n         * Render css files\r\n         *\r\n         * @param styleVars\r\n         */\r\n        function render(styleVars)\r\n        {\r\n            var cssTemplate = '/* Content hack because they wont fix */\\n/* https://github.com/angular/material/pull/8067 */\\n[md-theme=\"@themeName\"] md-content.md-hue-1,\\nmd-content.md-@themeName-theme.md-hue-1 {\\n    color: @backgroundHue1Contrast1;\\n    background-color: @backgroundHue1Color;\\n}\\n\\n[md-theme=\"@themeName\"] md-content.md-hue-2,\\nmd-content.md-@themeName-theme.md-hue-2 {\\n    color: @backgroundHue2Contrast1;\\n    background-color: @backgroundHue2Color;\\n}\\n\\n[md-theme=\"@themeName\"] md-content.md-hue-3,\\n md-content.md-@themeName-theme.md-hue-3 {\\n    color: @backgroundHue3Contrast1;\\n    background-color: @backgroundHue3Color;\\n}\\n\\n/* Text Colors */\\n[md-theme=\"@themeName\"] a {\\n    color: @accentDefaultColor;\\n}\\n\\n[md-theme=\"@themeName\"] .secondary-text,\\n[md-theme=\"@themeName\"] .icon {\\n    color: @backgroundDefaultContrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .hint-text,\\n[md-theme=\"@themeName\"] .disabled-text {\\n    color: @backgroundDefaultContrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .fade-text,\\n[md-theme=\"@themeName\"] .divider {\\n    color: @backgroundDefaultContrast4;\\n}\\n\\n/* Primary */\\n[md-theme=\"@themeName\"] .md-primary-bg {\\n    background-color: @primaryDefaultColor;\\n    color: @primaryDefaultContrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg .secondary-text,\\n[md-theme=\"@themeName\"] .md-primary-bg .icon {\\n    color: @primaryDefaultContrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg .hint-text,\\n[md-theme=\"@themeName\"] .md-primary-bg .disabled-text {\\n    color: @primaryDefaultContrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg .fade-text,\\n[md-theme=\"@themeName\"] .md-primary-bg .divider {\\n    color: @primaryDefaultContrast4;\\n}\\n\\n/* Primary, Hue-1 */\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-1 {\\n    background-color: @primaryHue1Color;\\n    color: @primaryHue1Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-1 .secondary-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-1 .icon {\\n    color: @primaryHue1Contrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-1 .hint-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-1 .disabled-text {\\n    color: @primaryHue1Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-1 .fade-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-1 .divider {\\n    color: @primaryHue1Contrast4;\\n}\\n\\n/* Primary, Hue-2 */\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-2 {\\n    background-color: @primaryHue2Color;\\n    color: @primaryHue2Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-2 .secondary-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-2 .icon {\\n    color: @primaryHue2Contrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-2 .hint-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-2 .disabled-text {\\n    color: @primaryHue2Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-2 .fade-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-2 .divider {\\n    color: @primaryHue2Contrast4;\\n}\\n\\n/* Primary, Hue-3 */\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-3 {\\n    background-color: @primaryHue3Color;\\n    color: @primaryHue3Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-3 .secondary-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-3 .icon {\\n    color: @primaryHue3Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-3 .hint-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-3 .disabled-text {\\n    color: @primaryHue3Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-3 .fade-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-3 .divider {\\n    color: @primaryHue3Contrast4;\\n}\\n\\n/* Primary foreground */\\n[md-theme=\"@themeName\"] .md-primary-fg {\\n    color: @primaryDefaultColor !important;\\n}\\n\\n/* Primary foreground, Hue-1 */\\n[md-theme=\"@themeName\"] .md-primary-fg.md-hue-1 {\\n    color: @primaryHue1Color !important;\\n}\\n\\n/* Primary foreground, Hue-2 */\\n[md-theme=\"@themeName\"] .md-primary-fg.md-hue-2 {\\n    color: @primaryHue2Color !important;\\n}\\n\\n/* Primary foreground, Hue-3 */\\n[md-theme=\"@themeName\"] .md-primary-fg.md-hue-3 {\\n    color: @primaryHue3Color !important;\\n}\\n\\n/* Accent */\\n[md-theme=\"@themeName\"] .md-accent-bg {\\n    background-color: @accentDefaultColor;\\n    color: @accentDefaultContrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg .secondary-text,\\n[md-theme=\"@themeName\"] .md-accent-bg .icon {\\n    color: @accentDefaultContrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg .hint-text,\\n[md-theme=\"@themeName\"] .md-accent-bg .disabled-text {\\n    color: @accentDefaultContrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg .fade-text,\\n[md-theme=\"@themeName\"] .md-accent-bg .divider {\\n    color: @accentDefaultContrast4;\\n}\\n\\n/* Accent, Hue-1 */\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-1 {\\n    background-color: @accentHue1Color;\\n    color: @accentHue1Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-1 .secondary-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-1 .icon {\\n    color: @accentHue1Contrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-1 .hint-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-1 .disabled-text {\\n    color: @accentHue1Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-1 .fade-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-1 .divider {\\n    color: @accentHue1Contrast4;\\n}\\n\\n/* Accent, Hue-2 */\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-2 {\\n    background-color: @accentHue2Color;\\n    color: @accentHue2Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-2 .secondary-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-2 .icon {\\n    color: @accentHue2Contrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-2 .hint-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-2 .disabled-text {\\n    color: @accentHue2Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-2 .fade-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-2 .divider {\\n    color: @accentHue2Contrast4;\\n}\\n\\n/* Accent, Hue-3 */\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-3 {\\n    background-color: @accentHue3Color;\\n    color: @accentHue3Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-3 .secondary-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-3 .icon {\\n    color: @accentHue3Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-3 .hint-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-3 .disabled-text {\\n    color: @accentHue3Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-3 .fade-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-3 .divider {\\n    color: @accentHue3Contrast4;\\n}\\n\\n/* Accent foreground */\\n[md-theme=\"@themeName\"] .md-accent-fg {\\n    color: @accentDefaultColor !important;\\n}\\n\\n/* Accent foreground, Hue-1 */\\n[md-theme=\"@themeName\"] .md-accent-fg.md-hue-1 {\\n    color: @accentHue1Color !important;\\n}\\n\\n/* Accent foreground, Hue-2 */\\n[md-theme=\"@themeName\"] .md-accent-fg.md-hue-2 {\\n    color: @accentHue2Color !important;\\n}\\n\\n/* Accent foreground, Hue-3 */\\n[md-theme=\"@themeName\"] .md-accent-fg.md-hue-3 {\\n    color: @accentHue3Color !important;\\n}\\n\\n/* Warn */\\n[md-theme=\"@themeName\"] .md-warn-bg {\\n    background-color: @warnDefaultColor;\\n    color: @warnDefaultContrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg .secondary-text,\\n[md-theme=\"@themeName\"] .md-warn-bg .icon {\\n    color: @warnDefaultContrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg .hint-text,\\n[md-theme=\"@themeName\"] .md-warn-bg .disabled-text {\\n    color: @warnDefaultContrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg .fade-text,\\n[md-theme=\"@themeName\"] .md-warn-bg .divider {\\n    color: @warnDefaultContrast4;\\n}\\n\\n/* Warn, Hue-1 */\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-1 {\\n    background-color: @warnHue1Color;\\n    color: @warnHue1Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-1 .secondary-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-1 .icon {\\n    color: @warnHue1Contrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-1 .hint-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-1 .disabled-text {\\n    color: @warnHue1Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-1 .fade-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-1 .divider {\\n    color: @warnHue1Contrast4;\\n}\\n\\n/* Warn, Hue-2 */\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-2 {\\n    background-color: @warnHue2Color;\\n    color: @warnHue2Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-2 .secondary-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-2 .icon {\\n    color: @warnHue2Contrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-2 .hint-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-2 .disabled-text {\\n    color: @warnHue2Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-2 .fade-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-2 .divider {\\n    color: @warnHue2Contrast4;\\n}\\n\\n/* Warn, Hue-3 */\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-3 {\\n    background-color: @warnHue3Color;\\n    color: @warnHue3Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-3 .secondary-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-3 .icon {\\n    color: @warnHue3Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-3 .hint-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-3 .disabled-text {\\n    color: @warnHue3Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-3 .fade-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-3 .divider {\\n    color: @warnHue3Contrast4;\\n}\\n\\n/* Warn foreground */\\n[md-theme=\"@themeName\"] .md-warn-fg {\\n    color: @warnDefaultColor !important;\\n}\\n\\n/* Warn foreground, Hue-1 */\\n[md-theme=\"@themeName\"] .md-warn-fg.md-hue-1 {\\n    color: @warnHue1Color !important;\\n}\\n\\n/* Warn foreground, Hue-2 */\\n[md-theme=\"@themeName\"] .md-warn-fg.md-hue-2 {\\n    color: @warnHue2Color !important;\\n}\\n\\n/* Warn foreground, Hue-3 */\\n[md-theme=\"@themeName\"] .md-warn-fg.md-hue-3 {\\n    color: @warnHue3Color !important;\\n}\\n\\n/* Background */\\n[md-theme=\"@themeName\"] .md-background-bg {\\n    background-color: @backgroundDefaultColor;\\n    color: @backgroundDefaultContrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg .secondary-text,\\n[md-theme=\"@themeName\"] .md-background-bg .icon {\\n    color: @backgroundDefaultContrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg .hint-text,\\n[md-theme=\"@themeName\"] .md-background-bg .disabled-text {\\n    color: @backgroundDefaultContrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg .fade-text,\\n[md-theme=\"@themeName\"] .md-background-bg .divider {\\n    color: @backgroundDefaultContrast4;\\n}\\n\\n/* Background, Hue-1 */\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-1 {\\n    background-color: @backgroundHue1Color;\\n    color: @backgroundHue1Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-1 .secondary-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-1 .icon {\\n    color: @backgroundHue1Contrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-1 .hint-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-1 .disabled-text {\\n    color: @backgroundHue1Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-1 .fade-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-1 .divider {\\n    color: @backgroundHue1Contrast4;\\n}\\n\\n/* Background, Hue-2 */\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-2 {\\n    background-color: @backgroundHue2Color;\\n    color: @backgroundHue2Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-2 .secondary-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-2 .icon {\\n    color: @backgroundHue2Contrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-2 .hint-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-2 .disabled-text {\\n    color: @backgroundHue2Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-2 .fade-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-2 .divider {\\n    color: @backgroundHue2Contrast4;\\n}\\n\\n/* Background, Hue-3 */\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-3 {\\n    background-color: @backgroundHue3Color;\\n    color: @backgroundHue3Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-3 .secondary-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-3 .icon {\\n    color: @backgroundHue3Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-3 .hint-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-3 .disabled-text {\\n    color: @backgroundHue3Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-3 .fade-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-3 .divider {\\n    color: @backgroundHue3Contrast4;\\n}\\n\\n/* Background foreground */\\n[md-theme=\"@themeName\"] .md-background-fg {\\n    color: @backgroundDefaultColor !important;\\n}\\n\\n/* Background foreground, Hue-1 */\\n[md-theme=\"@themeName\"] .md-background-fg.md-hue-1 {\\n    color: @backgroundHue1Color !important;\\n}\\n\\n/* Background foreground, Hue-2 */\\n[md-theme=\"@themeName\"] .md-background-fg.md-hue-2 {\\n    color: @backgroundHue2Color !important;\\n}\\n\\n/* Background foreground, Hue-3 */\\n[md-theme=\"@themeName\"] .md-background-fg.md-hue-3 {\\n    color: @backgroundHue3Color !important;\\n}';\r\n\r\n            var regex = new RegExp(Object.keys(styleVars).join('|'), 'gi');\r\n            var css = cssTemplate.replace(regex, function (matched)\r\n            {\r\n                return styleVars[matched];\r\n            });\r\n\r\n            var headEl = angular.element('head');\r\n            var styleEl = angular.element('<style type=\"text/css\"></style>');\r\n            styleEl.html(css);\r\n            headEl.append(styleEl);\r\n        }\r\n\r\n        /**\r\n         * Convert color array to rgb/rgba\r\n         * Also apply contrasts if needed\r\n         *\r\n         * @param color\r\n         * @param _contrastLevel\r\n         * @returns {string}\r\n         */\r\n        function rgba(color, _contrastLevel)\r\n        {\r\n            var contrastLevel = _contrastLevel || false;\r\n\r\n            // Convert 255,255,255,0.XX to 255,255,255\r\n            // According to Google's Material design specs, white primary\r\n            // text must have opacity of 1 and we will fix that here\r\n            // because Angular Material doesn't care about that spec\r\n            if ( color.length === 4 && color[0] === 255 && color[1] === 255 && color[2] === 255 )\r\n            {\r\n                color.splice(3, 4);\r\n            }\r\n\r\n            // If contrast level provided, apply it to the current color\r\n            if ( contrastLevel )\r\n            {\r\n                color = applyContrast(color, contrastLevel);\r\n            }\r\n\r\n            // Convert color array to color string (rgb/rgba)\r\n            if ( color.length === 3 )\r\n            {\r\n                return 'rgb(' + color.join(',') + ')';\r\n            }\r\n            else if ( color.length === 4 )\r\n            {\r\n                return 'rgba(' + color.join(',') + ')';\r\n            }\r\n            else\r\n            {\r\n                $log.error('Invalid number of arguments supplied in the color array: ' + color.length + '\\n' + 'The array must have 3 or 4 colors.');\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Apply given contrast level to the given color\r\n         *\r\n         * @param color\r\n         * @param contrastLevel\r\n         */\r\n        function applyContrast(color, contrastLevel)\r\n        {\r\n            var contrastLevels = {\r\n                'white': {\r\n                    '1': '1',\r\n                    '2': '0.7',\r\n                    '3': '0.3',\r\n                    '4': '0.12'\r\n                },\r\n                'black': {\r\n                    '1': '0.87',\r\n                    '2': '0.54',\r\n                    '3': '0.26',\r\n                    '4': '0.12'\r\n                }\r\n            };\r\n\r\n            // If white\r\n            if ( color[0] === 255 && color[1] === 255 && color[2] === 255 )\r\n            {\r\n                color[3] = contrastLevels.white[contrastLevel];\r\n            }\r\n            // If black\r\n            else if ( color[0] === 0 && color[1] === 0 && color[2] === 0 )\r\n            {\r\n                color[3] = contrastLevels.black[contrastLevel];\r\n            }\r\n\r\n            return color;\r\n        }\r\n\r\n        /**\r\n         * Uppercase first\r\n         */\r\n        function ucfirst(string)\r\n        {\r\n            return string.charAt(0).toUpperCase() + string.slice(1);\r\n        }\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('MsThemeOptionsController', MsThemeOptionsController)\r\n        .directive('msThemeOptions', msThemeOptions);\r\n\r\n    /** @ngInject */\r\n    function MsThemeOptionsController($cookies, fuseTheming)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.themes = fuseTheming.themes;\r\n\r\n        vm.layoutModes = [\r\n            {\r\n                label: 'Boxed',\r\n                value: 'boxed'\r\n            },\r\n            {\r\n                label: 'Wide',\r\n                value: 'wide'\r\n            }\r\n        ];\r\n        vm.layoutStyles = [\r\n            {\r\n                label : 'Vertical Navigation',\r\n                value : 'verticalNavigation',\r\n                figure: '/assets/images/theme-options/vertical-nav.jpg'\r\n            },\r\n            {\r\n                label : 'Vertical Navigation with Fullwidth Toolbar',\r\n                value : 'verticalNavigationFullwidthToolbar',\r\n                figure: '/assets/images/theme-options/vertical-nav-with-full-toolbar.jpg'\r\n            },\r\n            {\r\n                label : 'Vertical Navigation with Fullwidth Toolbar 2',\r\n                value : 'verticalNavigationFullwidthToolbar2',\r\n                figure: '/assets/images/theme-options/vertical-nav-with-full-toolbar-2.jpg'\r\n            },\r\n            {\r\n                label : 'Horizontal Navigation',\r\n                value : 'horizontalNavigation',\r\n                figure: '/assets/images/theme-options/horizontal-nav.jpg'\r\n            },\r\n            {\r\n                label : 'Content with Toolbar',\r\n                value : 'contentWithToolbar',\r\n                figure: '/assets/images/theme-options/content-with-toolbar.jpg'\r\n            },\r\n            {\r\n                label : 'Content Only',\r\n                value : 'contentOnly',\r\n                figure: '/assets/images/theme-options/content-only.jpg'\r\n            },\r\n        ];\r\n\r\n        vm.layoutMode = 'wide';\r\n        vm.layoutStyle = $cookies.get('layoutStyle') || 'verticalNavigation';\r\n\r\n        // Methods\r\n        vm.setActiveTheme = setActiveTheme;\r\n        vm.getActiveTheme = getActiveTheme;\r\n        vm.updateLayoutMode = updateLayoutMode;\r\n        vm.updateLayoutStyle = updateLayoutStyle;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Set active theme\r\n         *\r\n         * @param themeName\r\n         */\r\n        function setActiveTheme(themeName)\r\n        {\r\n            fuseTheming.setActiveTheme(themeName);\r\n        }\r\n\r\n        /**\r\n         * Get active theme\r\n         *\r\n         * @returns {service.themes.active|{name, theme}}\r\n         */\r\n        function getActiveTheme()\r\n        {\r\n            return fuseTheming.themes.active;\r\n        }\r\n\r\n        /**\r\n         * Update layout mode\r\n         */\r\n        function updateLayoutMode()\r\n        {\r\n            var bodyEl = angular.element('body');\r\n\r\n            // Update class on body element\r\n            bodyEl.toggleClass('boxed', (vm.layoutMode === 'boxed'));\r\n        }\r\n\r\n        /**\r\n         * Update layout style\r\n         */\r\n        function updateLayoutStyle()\r\n        {\r\n            // Update the cookie\r\n            $cookies.put('layoutStyle', vm.layoutStyle);\r\n\r\n            // Reload the page to apply the changes\r\n            location.reload();\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msThemeOptions($mdSidenav)\r\n    {\r\n        return {\r\n            restrict   : 'E',\r\n            scope      : {},\r\n            controller : 'MsThemeOptionsController as vm',\r\n            templateUrl: 'app/core/theme-options/theme-options.html',\r\n            compile    : function (tElement)\r\n            {\r\n                tElement.addClass('ms-theme-options');\r\n\r\n                return function postLink(scope)\r\n                {\r\n                    /**\r\n                     * Toggle options sidenav\r\n                     */\r\n                    function toggleOptionsSidenav()\r\n                    {\r\n                        // Toggle the fuse theme options panel\r\n                        $mdSidenav('fuse-theme-options').toggle();\r\n                    }\r\n\r\n                    // Expose the toggle function\r\n                    scope.toggleOptionsSidenav = toggleOptionsSidenav;\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .factory('msUtils', msUtils);\r\n\r\n    /** @ngInject */\r\n    function msUtils($window)\r\n    {\r\n        // Private variables\r\n        var mobileDetect = new MobileDetect($window.navigator.userAgent),\r\n            browserInfo = null;\r\n\r\n        var service = {\r\n            exists       : exists,\r\n            detectBrowser: detectBrowser,\r\n            guidGenerator: guidGenerator,\r\n            isMobile     : isMobile,\r\n            toggleInArray: toggleInArray\r\n        };\r\n\r\n        return service;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Check if item exists in a list\r\n         *\r\n         * @param item\r\n         * @param list\r\n         * @returns {boolean}\r\n         */\r\n        function exists(item, list)\r\n        {\r\n            return list.indexOf(item) > -1;\r\n        }\r\n\r\n        /**\r\n         * Returns browser information\r\n         * from user agent data\r\n         *\r\n         * Found at http://www.quirksmode.org/js/detect.html\r\n         * but modified and updated to fit for our needs\r\n         */\r\n        function detectBrowser()\r\n        {\r\n            // If we already tested, do not test again\r\n            if ( browserInfo )\r\n            {\r\n                return browserInfo;\r\n            }\r\n\r\n            var browserData = [\r\n                {\r\n                    string       : $window.navigator.userAgent,\r\n                    subString    : 'Edge',\r\n                    versionSearch: 'Edge',\r\n                    identity     : 'Edge'\r\n                },\r\n                {\r\n                    string   : $window.navigator.userAgent,\r\n                    subString: 'Chrome',\r\n                    identity : 'Chrome'\r\n                },\r\n                {\r\n                    string       : $window.navigator.userAgent,\r\n                    subString    : 'OmniWeb',\r\n                    versionSearch: 'OmniWeb/',\r\n                    identity     : 'OmniWeb'\r\n                },\r\n                {\r\n                    string       : $window.navigator.vendor,\r\n                    subString    : 'Apple',\r\n                    versionSearch: 'Version',\r\n                    identity     : 'Safari'\r\n                },\r\n                {\r\n                    prop    : $window.opera,\r\n                    identity: 'Opera'\r\n                },\r\n                {\r\n                    string   : $window.navigator.vendor,\r\n                    subString: 'iCab',\r\n                    identity : 'iCab'\r\n                },\r\n                {\r\n                    string   : $window.navigator.vendor,\r\n                    subString: 'KDE',\r\n                    identity : 'Konqueror'\r\n                },\r\n                {\r\n                    string   : $window.navigator.userAgent,\r\n                    subString: 'Firefox',\r\n                    identity : 'Firefox'\r\n                },\r\n                {\r\n                    string   : $window.navigator.vendor,\r\n                    subString: 'Camino',\r\n                    identity : 'Camino'\r\n                },\r\n                {\r\n                    string   : $window.navigator.userAgent,\r\n                    subString: 'Netscape',\r\n                    identity : 'Netscape'\r\n                },\r\n                {\r\n                    string       : $window.navigator.userAgent,\r\n                    subString    : 'MSIE',\r\n                    identity     : 'Explorer',\r\n                    versionSearch: 'MSIE'\r\n                },\r\n                {\r\n                    string       : $window.navigator.userAgent,\r\n                    subString    : 'Trident/7',\r\n                    identity     : 'Explorer',\r\n                    versionSearch: 'rv'\r\n                },\r\n                {\r\n                    string       : $window.navigator.userAgent,\r\n                    subString    : 'Gecko',\r\n                    identity     : 'Mozilla',\r\n                    versionSearch: 'rv'\r\n                },\r\n                {\r\n                    string       : $window.navigator.userAgent,\r\n                    subString    : 'Mozilla',\r\n                    identity     : 'Netscape',\r\n                    versionSearch: 'Mozilla'\r\n                }\r\n            ];\r\n\r\n            var osData = [\r\n                {\r\n                    string   : $window.navigator.platform,\r\n                    subString: 'Win',\r\n                    identity : 'Windows'\r\n                },\r\n                {\r\n                    string   : $window.navigator.platform,\r\n                    subString: 'Mac',\r\n                    identity : 'Mac'\r\n                },\r\n                {\r\n                    string   : $window.navigator.platform,\r\n                    subString: 'Linux',\r\n                    identity : 'Linux'\r\n                },\r\n                {\r\n                    string   : $window.navigator.platform,\r\n                    subString: 'iPhone',\r\n                    identity : 'iPhone'\r\n                },\r\n                {\r\n                    string   : $window.navigator.platform,\r\n                    subString: 'iPod',\r\n                    identity : 'iPod'\r\n                },\r\n                {\r\n                    string   : $window.navigator.platform,\r\n                    subString: 'iPad',\r\n                    identity : 'iPad'\r\n                },\r\n                {\r\n                    string   : $window.navigator.platform,\r\n                    subString: 'Android',\r\n                    identity : 'Android'\r\n                }\r\n            ];\r\n\r\n            var versionSearchString = '';\r\n\r\n            function searchString(data)\r\n            {\r\n                for ( var i = 0; i < data.length; i++ )\r\n                {\r\n                    var dataString = data[i].string;\r\n                    var dataProp = data[i].prop;\r\n\r\n                    versionSearchString = data[i].versionSearch || data[i].identity;\r\n\r\n                    if ( dataString )\r\n                    {\r\n                        if ( dataString.indexOf(data[i].subString) !== -1 )\r\n                        {\r\n                            return data[i].identity;\r\n\r\n                        }\r\n                    }\r\n                    else if ( dataProp )\r\n                    {\r\n                        return data[i].identity;\r\n                    }\r\n                }\r\n            }\r\n\r\n            function searchVersion(dataString)\r\n            {\r\n                var index = dataString.indexOf(versionSearchString);\r\n\r\n                if ( index === -1 )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                return parseInt(dataString.substring(index + versionSearchString.length + 1));\r\n            }\r\n\r\n            var browser = searchString(browserData) || 'unknown-browser';\r\n            var version = searchVersion($window.navigator.userAgent) || searchVersion($window.navigator.appVersion) || 'unknown-version';\r\n            var os = searchString(osData) || 'unknown-os';\r\n\r\n            // Prepare and store the object\r\n            browser = browser.toLowerCase();\r\n            version = browser + '-' + version;\r\n            os = os.toLowerCase();\r\n\r\n            browserInfo = {\r\n                browser: browser,\r\n                version: version,\r\n                os     : os\r\n            };\r\n\r\n            return browserInfo;\r\n        }\r\n\r\n        /**\r\n         * Generates a globally unique id\r\n         *\r\n         * @returns {*}\r\n         */\r\n        function guidGenerator()\r\n        {\r\n            var S4 = function ()\r\n            {\r\n                return (((1 + Math.random()) * 0x10000) || 0).toString(16).substring(1);\r\n            };\r\n            return (S4() + S4() + S4() + S4() + S4() + S4());\r\n        }\r\n\r\n        /**\r\n         * Return if current device is a\r\n         * mobile device or not\r\n         */\r\n        function isMobile()\r\n        {\r\n            return mobileDetect.mobile();\r\n        }\r\n\r\n        /**\r\n         * Toggle in array (push or splice)\r\n         *\r\n         * @param item\r\n         * @param array\r\n         */\r\n        function toggleInArray(item, array)\r\n        {\r\n            if ( array.indexOf(item) === -1 )\r\n            {\r\n                array.push(item);\r\n            }\r\n            else\r\n            {\r\n                array.splice(array.indexOf(item), 1);\r\n            }\r\n        }\r\n    }\r\n}());\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .provider('msApi', msApiProvider);\r\n\r\n    /** @ngInject **/\r\n    function msApiProvider()\r\n    {\r\n        /* ----------------- */\r\n        /* Provider          */\r\n        /* ----------------- */\r\n        var provider = this;\r\n\r\n        // Inject the $log service\r\n        var $log = angular.injector(['ng']).get('$log');\r\n\r\n        // Data\r\n        var baseUrl = '';\r\n        var api = [];\r\n\r\n        // Methods\r\n        provider.setBaseUrl = setBaseUrl;\r\n        provider.getBaseUrl = getBaseUrl;\r\n        provider.getApiObject = getApiObject;\r\n        provider.register = register;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Set base url for API endpoints\r\n         *\r\n         * @param url {string}\r\n         */\r\n        function setBaseUrl(url)\r\n        {\r\n            baseUrl = url;\r\n        }\r\n\r\n        /**\r\n         * Return the base url\r\n         *\r\n         * @returns {string}\r\n         */\r\n        function getBaseUrl()\r\n        {\r\n            return baseUrl;\r\n        }\r\n\r\n        /**\r\n         * Return the api object\r\n         *\r\n         * @returns {object}\r\n         */\r\n        function getApiObject()\r\n        {\r\n            return api;\r\n        }\r\n\r\n        /**\r\n         * Register API endpoint\r\n         *\r\n         * @param key\r\n         * @param resource\r\n         */\r\n        function register(key, resource)\r\n        {\r\n            if ( !angular.isString(key) )\r\n            {\r\n                $log.error('\"path\" must be a string (eg. `dashboard.project`)');\r\n                return;\r\n            }\r\n\r\n            if ( !angular.isArray(resource) )\r\n            {\r\n                $log.error('\"resource\" must be an array and it must follow $resource definition');\r\n                return;\r\n            }\r\n\r\n            // Store the API object\r\n            api[key] = {\r\n                url          : baseUrl + (resource[0] || ''),\r\n                paramDefaults: resource[1] || [],\r\n                actions      : resource[2] || [],\r\n                options      : resource[3] || {}\r\n            };\r\n        }\r\n\r\n        /* ----------------- */\r\n        /* Service           */\r\n        /* ----------------- */\r\n        this.$get = function ($log, $q, $resource, $rootScope)\r\n        {\r\n            // Data\r\n\r\n            // Methods\r\n            var service = {\r\n                setBaseUrl: setBaseUrl,\r\n                getBaseUrl: getBaseUrl,\r\n                register  : register,\r\n                resolve   : resolve,\r\n                request   : request\r\n            };\r\n\r\n            return service;\r\n\r\n            //////////\r\n\r\n            /**\r\n             * Resolve an API endpoint\r\n             *\r\n             * @param action {string}\r\n             * @param parameters {object}\r\n             * @returns {promise|boolean}\r\n             */\r\n            function resolve(action, parameters)\r\n            {\r\n                // Emit an event\r\n                $rootScope.$broadcast('msApi::resolveStart');\r\n                \r\n                var actionParts = action.split('@'),\r\n                    resource = actionParts[0],\r\n                    method = actionParts[1],\r\n                    params = parameters || {};\r\n\r\n                if ( !resource || !method )\r\n                {\r\n                    $log.error('msApi.resolve requires correct action parameter (resourceName@methodName)');\r\n                    return false;\r\n                }\r\n\r\n                // Create a new deferred object\r\n                var deferred = $q.defer();\r\n\r\n                // Get the correct resource definition from api object\r\n                var apiObject = api[resource];\r\n\r\n                if ( !apiObject )\r\n                {\r\n                    $log.error('Resource \"' + resource + '\" is not defined in the api service!');\r\n                    deferred.reject('Resource \"' + resource + '\" is not defined in the api service!');\r\n                }\r\n                else\r\n                {\r\n                    // Generate the $resource object based on the stored API object\r\n                    var resourceObject = $resource(apiObject.url, apiObject.paramDefaults, apiObject.actions, apiObject.options);\r\n\r\n                    // Make the call...\r\n                    resourceObject[method](params,\r\n\r\n                        // Success\r\n                        function (response)\r\n                        {\r\n                            deferred.resolve(response);\r\n\r\n                            // Emit an event\r\n                            $rootScope.$broadcast('msApi::resolveSuccess');\r\n                        },\r\n\r\n                        // Error\r\n                        function (response)\r\n                        {\r\n                            deferred.reject(response);\r\n\r\n                            // Emit an event\r\n                            $rootScope.$broadcast('msApi::resolveError');\r\n                        }\r\n                    );\r\n                }\r\n\r\n                // Return the promise\r\n                return deferred.promise;\r\n            }\r\n\r\n            /**\r\n             * Make a request to an API endpoint\r\n             *\r\n             * @param action {string}\r\n             * @param [parameters] {object}\r\n             * @param [success] {function}\r\n             * @param [error] {function}\r\n             *\r\n             * @returns {promise|boolean}\r\n             */\r\n            function request(action, parameters, success, error)\r\n            {\r\n                // Emit an event\r\n                $rootScope.$broadcast('msApi::requestStart');\r\n                \r\n                var actionParts = action.split('@'),\r\n                    resource = actionParts[0],\r\n                    method = actionParts[1],\r\n                    params = parameters || {};\r\n\r\n                if ( !resource || !method )\r\n                {\r\n                    $log.error('msApi.resolve requires correct action parameter (resourceName@methodName)');\r\n                    return false;\r\n                }\r\n\r\n                // Create a new deferred object\r\n                var deferred = $q.defer();\r\n\r\n                // Get the correct resource definition from api object\r\n                var apiObject = api[resource];\r\n\r\n                if ( !apiObject )\r\n                {\r\n                    $log.error('Resource \"' + resource + '\" is not defined in the api service!');\r\n                    deferred.reject('Resource \"' + resource + '\" is not defined in the api service!');\r\n                }\r\n                else\r\n                {\r\n                    // Generate the $resource object based on the stored API object\r\n                    var resourceObject = $resource(apiObject.url, apiObject.paramDefaults, apiObject.actions, apiObject.options);\r\n\r\n                    // Make the call...\r\n                    resourceObject[method](params,\r\n\r\n                        // SUCCESS\r\n                        function (response)\r\n                        {\r\n                            // Emit an event\r\n                            $rootScope.$broadcast('msApi::requestSuccess');\r\n                            \r\n                            // Resolve the promise\r\n                            deferred.resolve(response);\r\n\r\n                            // Call the success function if there is one\r\n                            if ( angular.isDefined(success) && angular.isFunction(success) )\r\n                            {\r\n                                success(response);\r\n                            }\r\n                        },\r\n\r\n                        // ERROR\r\n                        function (response)\r\n                        {\r\n                            // Emit an event\r\n                            $rootScope.$broadcast('msApi::requestError');\r\n                            \r\n                            // Reject the promise\r\n                            deferred.reject(response);\r\n\r\n                            // Call the error function if there is one\r\n                            if ( angular.isDefined(error) && angular.isFunction(error) )\r\n                            {\r\n                                error(response);\r\n                            }\r\n                        }\r\n                    );\r\n                }\r\n\r\n                // Return the promise\r\n                return deferred.promise;\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .factory('apiResolver', apiResolverService);\r\n\r\n    /** @ngInject */\r\n    function apiResolverService($q, $log, api)\r\n    {\r\n        var service = {\r\n            resolve: resolve\r\n        };\r\n\r\n        return service;\r\n//console.log(service);\r\n        //////////\r\n        /**\r\n         * Resolve api\r\n         * @param action\r\n         * @param parameters\r\n         */\r\n        function resolve(action, parameters)\r\n        {\r\n            var actionParts = action.split('@'),\r\n                resource = actionParts[0],\r\n                method = actionParts[1],\r\n                params = parameters || {};\r\n\r\n            if ( !resource || !method )\r\n            {\r\n                $log.error('apiResolver.resolve requires correct action parameter (ResourceName@methodName)');\r\n                return false;\r\n            }\r\n\r\n            // Create a new deferred object\r\n            var deferred = $q.defer();\r\n\r\n            // Get the correct api object from api service\r\n            var apiObject = getApiObject(resource);\r\n\r\n            if ( !apiObject )\r\n            {\r\n                $log.error('Resource \"' + resource + '\" is not defined in the api service!');\r\n                deferred.reject('Resource \"' + resource + '\" is not defined in the api service!');\r\n            }\r\n            else\r\n            {\r\n                apiObject[method](params,\r\n\r\n                    // Success\r\n                    function (response)\r\n                    {\r\n                        deferred.resolve(response);\r\n                    },\r\n\r\n                    // Error\r\n                    function (response)\r\n                    {\r\n                        deferred.reject(response);\r\n                    }\r\n                );\r\n            }\r\n\r\n            // Return the promise\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * Get correct api object\r\n         *\r\n         * @param resource\r\n         * @returns {*}\r\n         */\r\n        function getApiObject(resource)\r\n        {\r\n            // Split the resource in case if we have a dot notated object\r\n            var resourceParts = resource.split('.'),\r\n                apiObject = api;\r\n\r\n            // Loop through the resource parts and go all the way through\r\n            // the api object and return the correct one\r\n            for ( var l = 0; l < resourceParts.length; l++ )\r\n            {\r\n                if ( angular.isUndefined(apiObject[resourceParts[l]]) )\r\n                {\r\n                    $log.error('Resource part \"' + resourceParts[l] + '\" is not defined!');\r\n                    apiObject = false;\r\n                    break;\r\n                }\r\n\r\n                apiObject = apiObject[resourceParts[l]];\r\n            }\r\n\r\n            if ( !apiObject )\r\n            {\r\n                return false;\r\n            }\r\n\r\n            return apiObject;\r\n        }\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .filter('filterByTags', filterByTags)\r\n        .filter('filterSingleByTags', filterSingleByTags);\r\n\r\n    /** @ngInject */\r\n    function filterByTags()\r\n    {\r\n        return function (items, tags)\r\n        {\r\n            if ( items.length === 0 || tags.length === 0 )\r\n            {\r\n                return items;\r\n            }\r\n\r\n            var filtered = [];\r\n\r\n            items.forEach(function (item)\r\n            {\r\n                var match = tags.every(function (tag)\r\n                {\r\n                    var tagExists = false;\r\n\r\n                    item.tags.forEach(function (itemTag)\r\n                    {\r\n                        if ( itemTag.name === tag.name )\r\n                        {\r\n                            tagExists = true;\r\n                            return;\r\n                        }\r\n                    });\r\n\r\n                    return tagExists;\r\n                });\r\n\r\n                if ( match )\r\n                {\r\n                    filtered.push(item);\r\n                }\r\n            });\r\n\r\n            return filtered;\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function filterSingleByTags()\r\n    {\r\n        return function (itemTags, tags)\r\n        {\r\n            if ( itemTags.length === 0 || tags.length === 0 )\r\n            {\r\n                return;\r\n            }\r\n\r\n            if ( itemTags.length < tags.length )\r\n            {\r\n                return [];\r\n            }\r\n\r\n            var filtered = [];\r\n\r\n            var match = tags.every(function (tag)\r\n            {\r\n                var tagExists = false;\r\n\r\n                itemTags.forEach(function (itemTag)\r\n                {\r\n                    if ( itemTag.name === tag.name )\r\n                    {\r\n                        tagExists = true;\r\n                        return;\r\n                    }\r\n                });\r\n\r\n                return tagExists;\r\n            });\r\n\r\n            if ( match )\r\n            {\r\n                filtered.push(itemTags);\r\n            }\r\n\r\n            return filtered;\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .filter('filterByPropIds', filterByPropIds);\r\n\r\n    /** @ngInject */\r\n    function filterByPropIds()\r\n    {\r\n        return function (items, parameter, ids)\r\n        {\r\n            if ( items.length === 0 || !ids || ids.length === 0 )\r\n            {\r\n                return items;\r\n            }\r\n\r\n            var filtered = [];\r\n\r\n            for ( var i = 0; i < items.length; i++ )\r\n            {\r\n                var item = items[i];\r\n                var match = false;\r\n\r\n                for ( var j = 0; j < ids.length; j++ )\r\n                {\r\n                    var id = ids[j];\r\n                    if ( item[parameter].indexOf(id) > -1 )\r\n                    {\r\n                        match = true;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if ( match )\r\n                {\r\n                    filtered.push(item);\r\n                }\r\n\r\n            }\r\n\r\n            return filtered;\r\n\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .filter('filterByIds', filterByIds);\r\n\r\n    /** @ngInject */\r\n    function filterByIds()\r\n    {\r\n        return function (items, ids)\r\n        {\r\n\r\n            if ( items.length === 0 || !ids )\r\n            {\r\n                return items;\r\n            }\r\n\r\n            if ( ids.length === 0 )\r\n            {\r\n                return [];\r\n            }\r\n\r\n            var filtered = [];\r\n\r\n            for ( var i = 0; i < items.length; i++ )\r\n            {\r\n                var item = items[i];\r\n                var match = false;\r\n\r\n                for ( var j = 0; j < ids.length; j++ )\r\n                {\r\n                    var id = ids[j];\r\n                    if ( item.id === id )\r\n                    {\r\n                        match = true;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if ( match )\r\n                {\r\n                    filtered.push(item);\r\n                }\r\n\r\n            }\r\n\r\n            return filtered;\r\n\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .filter('toTrusted', toTrustedFilter)\r\n        .filter('htmlToPlaintext', htmlToPlainTextFilter)\r\n        .filter('nospace', nospaceFilter)\r\n        .filter('humanizeDoc', humanizeDocFilter);\r\n\r\n    /** @ngInject */\r\n    function toTrustedFilter($sce)\r\n    {\r\n        return function (value)\r\n        {\r\n            return $sce.trustAsHtml(value);\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function htmlToPlainTextFilter()\r\n    {\r\n        return function (text)\r\n        {\r\n            return String(text).replace(/<[^>]+>/gm, '');\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function nospaceFilter()\r\n    {\r\n        return function (value)\r\n        {\r\n            return (!value) ? '' : value.replace(/ /g, '');\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function humanizeDocFilter()\r\n    {\r\n        return function (doc)\r\n        {\r\n            if ( !doc )\r\n            {\r\n                return;\r\n            }\r\n            if ( doc.type === 'directive' )\r\n            {\r\n                return doc.name.replace(/([A-Z])/g, function ($1)\r\n                {\r\n                    return '-' + $1.toLowerCase();\r\n                });\r\n            }\r\n            return doc.label || doc.name;\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .filter('altDate', altDate);\r\n\r\n    /** @ngInject */\r\n    function altDate()\r\n    {\r\n        return function (value)\r\n        {\r\n            var diff = Date.now() - new Date(value);\r\n\r\n            /**\r\n             * If in a hour\r\n             * e.g. \"2 minutes ago\"\r\n             */\r\n            if ( diff < (60 * 60 * 1000) )\r\n            {\r\n                return moment(value).fromNow();\r\n            }\r\n            /*\r\n             * If in the day\r\n             * e.g. \"11:23\"\r\n             */\r\n            else if ( diff < (60 * 60 * 24 * 1000) )\r\n            {\r\n                return moment(value).format('HH:mm');\r\n            }\r\n            /*\r\n             * If in week\r\n             * e.g \"Tuesday\"\r\n             */\r\n            else if ( diff < (60 * 60 * 24 * 7 * 1000) )\r\n            {\r\n                return moment(value).format('dddd');\r\n            }\r\n            /*\r\n             * If more than a week\r\n             * e.g. 03/29/2016\r\n             */\r\n            else\r\n            {\r\n                return moment(value).calendar();\r\n            }\r\n\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .directive('hljs', hljsDirective);\r\n\r\n    /** @ngInject */\r\n    function hljsDirective($timeout, $q, $interpolate)\r\n    {\r\n        return {\r\n            restrict: 'E',\r\n            compile : function (element, attr)\r\n            {\r\n                var code;\r\n                //No attribute? code is the content\r\n                if ( !attr.code )\r\n                {\r\n                    code = element.html();\r\n                    element.empty();\r\n                }\r\n\r\n                return function (scope, element, attr)\r\n                {\r\n\r\n                    if ( attr.code )\r\n                    {\r\n                        // Attribute? code is the evaluation\r\n                        code = scope.$eval(attr.code);\r\n                    }\r\n                    var shouldInterpolate = scope.$eval(attr.shouldInterpolate);\r\n\r\n                    $q.when(code).then(function (code)\r\n                    {\r\n                        if ( code )\r\n                        {\r\n                            if ( shouldInterpolate )\r\n                            {\r\n                                code = $interpolate(code)(scope);\r\n                            }\r\n                            var contentParent = angular.element(\r\n                                '<pre><code class=\"highlight\" ng-non-bindable></code></pre>'\r\n                            );\r\n                            element.append(contentParent);\r\n                            // Defer highlighting 1-frame to prevent GA interference...\r\n                            $timeout(function ()\r\n                            {\r\n                                render(code, contentParent);\r\n                            }, 34, false);\r\n                        }\r\n                    });\r\n\r\n                    function render(contents, parent)\r\n                    {\r\n\r\n                        var codeElement = parent.find('code');\r\n                        var lines = contents.split('\\n');\r\n\r\n                        // Remove empty lines\r\n                        lines = lines.filter(function (line)\r\n                        {\r\n                            return line.trim().length;\r\n                        });\r\n\r\n                        // Make it so each line starts at 0 whitespace\r\n                        var firstLineWhitespace = lines[0].match(/^\\s*/)[0];\r\n                        var startingWhitespaceRegex = new RegExp('^' + firstLineWhitespace);\r\n                        lines = lines.map(function (line)\r\n                        {\r\n                            return line\r\n                                .replace(startingWhitespaceRegex, '')\r\n                                .replace(/\\s+$/, '');\r\n                        });\r\n\r\n                        var highlightedCode = hljs.highlight(attr.language || attr.lang, lines.join('\\n'), true);\r\n                        highlightedCode.value = highlightedCode.value\r\n                            .replace(/=<span class=\"hljs-value\">\"\"<\\/span>/gi, '')\r\n                            .replace('<head>', '')\r\n                            .replace('<head/>', '');\r\n                        codeElement.append(highlightedCode.value).addClass('highlight');\r\n                    }\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .provider('fuseConfig', fuseConfigProvider);\r\n\r\n    /** @ngInject */\r\n    function fuseConfigProvider()\r\n    {\r\n        // Default configuration\r\n        var fuseConfiguration = {\r\n            'disableCustomScrollbars'        : false,\r\n            'disableMdInkRippleOnMobile'     : true,\r\n            'disableCustomScrollbarsOnMobile': true\r\n        };\r\n\r\n        // Methods\r\n        this.config = config;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Extend default configuration with the given one\r\n         *\r\n         * @param configuration\r\n         */\r\n        function config(configuration)\r\n        {\r\n            fuseConfiguration = angular.extend({}, fuseConfiguration, configuration);\r\n        }\r\n\r\n        /**\r\n         * Service\r\n         */\r\n        this.$get = function ()\r\n        {\r\n            var service = {\r\n                getConfig: getConfig,\r\n                setConfig: setConfig\r\n            };\r\n\r\n            return service;\r\n\r\n            //////////\r\n\r\n            /**\r\n             * Returns a config value\r\n             */\r\n            function getConfig(configName)\r\n            {\r\n                if ( angular.isUndefined(fuseConfiguration[configName]) )\r\n                {\r\n                    return false;\r\n                }\r\n\r\n                return fuseConfiguration[configName];\r\n            }\r\n\r\n            /**\r\n             * Creates or updates config object\r\n             *\r\n             * @param configName\r\n             * @param configValue\r\n             */\r\n            function setConfig(configName, configValue)\r\n            {\r\n                fuseConfiguration[configName] = configValue;\r\n            }\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.toolbar', [])\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($translatePartialLoaderProvider)\r\n    {\r\n        $translatePartialLoaderProvider.addPart('app/toolbar');\r\n    }\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.toolbar')\r\n    .controller('ToolbarController', ToolbarController);\r\n\r\n  /** @ngInject */\r\n  function ToolbarController($rootScope, $scope, $q, $state, $location, $timeout, $http, $mdSidenav, $translate, $mdToast, msNavigationService, toastr) {\r\n    var vm = this;\r\n\r\n    // Data\r\n    $rootScope.global = {\r\n      search: ''\r\n    };\r\n\r\n\r\n    vm.bodyEl = angular.element('body');\r\n    vm.userStatusOptions = [\r\n      {\r\n        'title': 'Online',\r\n        'icon' : 'icon-checkbox-marked-circle',\r\n        'color': '#4CAF50'\r\n      },\r\n      {\r\n        'title': 'Away',\r\n        'icon' : 'icon-clock',\r\n        'color': '#FFC107'\r\n      },\r\n      {\r\n        'title': 'Do not Disturb',\r\n        'icon' : 'icon-minus-circle',\r\n        'color': '#F44336'\r\n      },\r\n      {\r\n        'title': 'Invisible',\r\n        'icon' : 'icon-checkbox-blank-circle-outline',\r\n        'color': '#BDBDBD'\r\n      },\r\n      {\r\n        'title': 'Offline',\r\n        'icon' : 'icon-checkbox-blank-circle-outline',\r\n        'color': '#616161'\r\n      }\r\n    ];\r\n\r\n    // Methods\r\n    vm.toggleSidenav = toggleSidenav;\r\n    vm.toggleHorizontalMobileMenu = toggleHorizontalMobileMenu;\r\n    vm.toggleMsNavigationFolded = toggleMsNavigationFolded;\r\n    vm.setUserStatus = setUserStatus;\r\n\r\n    vm.badgeData = $rootScope.inviteCounts;\r\n\r\n    console.log('badge data friendships', vm.badgeData.friendships);\r\n\r\n    // Select the first status as a default\r\n    vm.userStatus = vm.userStatusOptions[0];\r\n\r\n\r\n    /**\r\n     * Toggle sidenav\r\n     *\r\n     * @param sidenavId\r\n     */\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n    }\r\n\r\n\r\n    /**\r\n     * Toggle horizontal mobile menu\r\n     */\r\n    function toggleHorizontalMobileMenu() {\r\n      vm.bodyEl.toggleClass('ms-navigation-horizontal-mobile-menu-active');\r\n    }\r\n\r\n    /**\r\n     * Toggle msNavigation folded\r\n     */\r\n    function toggleMsNavigationFolded() {\r\n      msNavigationService.toggleFolded();\r\n    }\r\n\r\n\r\n    function setUserStatus(status)\r\n    {\r\n      vm.userStatus = status;\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.navigation', [])\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config()\r\n    {\r\n        \r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.navigation')\r\n        .controller('NavigationController', NavigationController);\r\n\r\n    /** @ngInject */\r\n    function NavigationController($scope, $rootScope)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.bodyEl = angular.element('body');\r\n        vm.folded = false;\r\n        vm.msScrollOptions = {\r\n            suppressScrollX: true\r\n        };\r\n\r\n        // Methods\r\n        vm.toggleMsNavigationFolded = toggleMsNavigationFolded;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Toggle folded status\r\n         */\r\n        function toggleMsNavigationFolded()\r\n        {\r\n            vm.folded = !vm.folded;\r\n        }\r\n\r\n        // Close the mobile menu on $stateChangeSuccess\r\n        $scope.$on('$stateChangeSuccess', function ()\r\n        {\r\n            vm.bodyEl.removeClass('ms-navigation-horizontal-mobile-menu-active');\r\n        });\r\n    }\r\n\r\n})();\n(function () {\r\n  'use strict';\r\n\r\n\r\n  angular\r\n    .module('checklinked', [\r\n\r\n      // Common 3rd Party Dependencies\r\n      'textAngular',\r\n\r\n      // Toastr\r\n      'toastr',\r\n\r\n      // Core\r\n      'app.core',\r\n\r\n      // Navigation\r\n      'app.navigation',\r\n\r\n      // Toolbar\r\n      'app.toolbar',\r\n\r\n      // Logout\r\n      'app.logout',\r\n\r\n      // User\r\n      'app.user',\r\n\r\n      // Checklist\r\n      'app.checklist',\r\n\r\n      // Chat\r\n      'app.chat',\r\n\r\n      // Mailbox\r\n      'app.mail',\r\n\r\n      // Invitations\r\n      'app.invitations',\r\n\r\n      // Organization\r\n      'app.organization',\r\n\r\n      // Subscriptions\r\n      'app.subscriptions',\r\n\r\n      // Folders\r\n      'app.folders',\r\n\r\n      // Groups\r\n      'app.groups',\r\n\r\n      // Teammembers\r\n      'app.teammembers',\r\n\r\n      // Queue\r\n      'app.queue',\r\n\r\n      // Templates\r\n      'app.templates',\r\n\r\n      // Contacts\r\n      'app.contacts',\r\n\r\n      // Create Account\r\n      'app.create',\r\n\r\n      // Account Account\r\n      'app.account',\r\n\r\n      // Confirm Account\r\n      'app.confirm',\r\n\r\n      // Invite Account\r\n      'app.invite',\r\n\r\n      // Conflicts Module\r\n      'app.summary',\r\n\r\n      // Dassboard Module\r\n      'app.dashboard',\r\n\r\n      // Dassboard Module\r\n      //'app.todo',\r\n\r\n      // Login\r\n      'app.login'\r\n\r\n    ]);\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('checklinked')\r\n        .controller('MainController', MainController);\r\n\r\n    /** @ngInject */\r\n    function MainController($scope, $rootScope)\r\n    {\r\n        // Data\r\n\r\n\r\n\r\n        // Remove the splash screen\r\n        $scope.$on('$viewContentAnimationEnded', function (event)\r\n        {\r\n            if ( event.targetScope.$id === $scope.$id )\r\n            {\r\n                $rootScope.$broadcast('msSplashScreen::remove');\r\n            }\r\n        });\r\n    }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .run(runBlock);\r\n\r\n    /** @ngInject */\r\n    function runBlock(msUtils, fuseGenerator, fuseConfig)\r\n    {\r\n        /**\r\n         * Generate extra classes based on registered themes so we\r\n         * can use same colors with non-angular-material elements\r\n         */\r\n        fuseGenerator.generate();\r\n\r\n        /**\r\n         * Disable md-ink-ripple effects on mobile\r\n         * if 'disableMdInkRippleOnMobile' config enabled\r\n         */\r\n        if ( fuseConfig.getConfig('disableMdInkRippleOnMobile') && msUtils.isMobile() )\r\n        {\r\n            var bodyEl = angular.element('body');\r\n            bodyEl.attr('md-no-ink', true);\r\n        }\r\n\r\n        /**\r\n         * Put isMobile() to the html as a class\r\n         */\r\n        if ( msUtils.isMobile() )\r\n        {\r\n            angular.element('html').addClass('is-mobile');\r\n        }\r\n\r\n        /**\r\n         * Put browser information to the html as a class\r\n         */\r\n        var browserInfo = msUtils.detectBrowser();\r\n        if ( browserInfo )\r\n        {\r\n            var htmlClass = browserInfo.browser + ' ' + browserInfo.version + ' ' + browserInfo.os;\r\n            angular.element('html').addClass(htmlClass);\r\n        }\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($ariaProvider, $logProvider, msScrollConfigProvider, $translateProvider, fuseConfigProvider)\r\n    {\r\n        // Enable debug logging\r\n        $logProvider.debugEnabled(true);\r\n        \r\n        // angular-translate configuration\r\n        $translateProvider.useLoader('$translatePartialLoader', {\r\n            urlTemplate: '{part}/i18n/{lang}.json'\r\n        });\r\n        $translateProvider.preferredLanguage('en');\r\n        $translateProvider.useSanitizeValueStrategy('sanitize');\r\n\r\n        /*eslint-disable */\r\n\r\n        // ng-aria configuration\r\n        $ariaProvider.config({\r\n            tabindex: false\r\n        });\r\n\r\n        // Fuse theme configurations\r\n        fuseConfigProvider.config({\r\n            'disableCustomScrollbars'        : false,\r\n            'disableCustomScrollbarsOnMobile': true,\r\n            'disableMdInkRippleOnMobile'     : true\r\n        });\r\n\r\n        // msScroll configuration\r\n        msScrollConfigProvider.config({\r\n            wheelPropagation: true\r\n        });\r\n\r\n        /*eslint-enable */\r\n    }\r\n})();\nArray.prototype.remove = function (e) {\r\n  var ref, t;\r\n  if ((t = this.indexOf(e)) > -1) {\r\n    return ([].splice.apply(this, [t, t - t + 1].concat(ref = [])), ref);\r\n  }\r\n};\r\n\r\n\r\nArray.prototype.diff = function (a) {\r\n  return this.filter(function (i) {\r\n    return a.indexOf(i) < 0;\r\n  });\r\n};\r\n\r\n\r\n(function () {\r\n  'use strict';\r\n  angular\r\n    .module('checklinked')\r\n    .run(runBlock);\r\n  /** @ngInject */\r\n  function runBlock($rootScope, $timeout, $state, $stateParams, $location, $http, toastr, api, $filter) {\r\n\r\n    // Activate loading indicator\r\n    var silent;\r\n\r\n\r\n\r\n\r\n    // Authinication\r\n    $rootScope.checkLogin = function (event, toState) {\r\n      //console.log('checkLogin', toState);\r\n      var check, module, path;\r\n\r\n      path = toState.url;\r\n\r\n      module = toState.name.split('.');\r\n\r\n      check = function (path) {\r\n        //Bad Session => redirect to login\r\n        if (!$rootScope.userAuthenticated() || $rootScope.user === null || $rootScope.user === '') {\r\n          console.log('checking 1');\r\n          if (path != null) {\r\n            api.cache.local.put('navTo', toState.name);\r\n          }\r\n          $state.go('app.login');\r\n        } else if (!$rootScope.userSignupComplete() && module[1] !== 'user') {\r\n          console.log('attempted to navigate to', module, path);\r\n          if (path != null) {\r\n            api.cache.local.put('navTo', toState.name);\r\n          }\r\n          console.log('success');\r\n          return $state.go(module.path);\r\n        }\r\n        /*\r\n         else if (!$rootScope.userSubscribed() && module[1] !== 'user' && module[1] !== 'organization' && module[1] !== 'subscriptions' && module[1] !== 'teammembers') {\r\n         console.log('WTF');\r\n         if (path != null) {\r\n         api.cache.local.put('navTo', toState.name);\r\n         }\r\n         $state.go('app.login');\r\n         //return $state.go('app.user');\r\n         }\r\n         */\r\n\r\n        else {\r\n          api.cache.local.remove('navTo');\r\n          return true;\r\n        }\r\n      }\r\n\r\n\r\n      //console.log('module[1]', module[1]);\r\n      switch (module[1]) {\r\n        case 'login':\r\n          console.log('navigating to login.  return true');\r\n          return true;\r\n          break;\r\n        case 'account':\r\n          console.log('navigating to account for confirm.  return true');\r\n          return true;\r\n          break;\r\n        case 'create':\r\n          console.log('navigating to create.  return true');\r\n          return true;\r\n          break;\r\n        case 'confirm':\r\n          console.log('navigating to confirm.  return true');\r\n          return true;\r\n          break;\r\n        case 'invite':\r\n          console.log('navigating to invite.  return true');\r\n          return true;\r\n          break;\r\n        case 'feed':\r\n        case 'user':\r\n        case 'checklist':\r\n        case 'invitations':\r\n        case 'organization':\r\n        case 'subscriptions':\r\n        case 'folders':\r\n        case 'groups':\r\n        case 'teammembers':\r\n        case 'templates':\r\n        case 'contacts':\r\n        case 'chat':\r\n        case 'mail':\r\n        case 'queue':\r\n        case 'summary':\r\n        case 'dashboard':\r\n        case 'checkout':\r\n        case 'to-do':\r\n        case 'revoke':\r\n          //case 'file-manager':\r\n\r\n          if (module[1] === 'organization' && module[2] === 'invite' && module[3] === 'accept') {\r\n            console.log('organization invite accept does not require login');\r\n            return true;\r\n          } else if ($rootScope.user === void 0) {\r\n            console.log('user not defined, pulling now');\r\n            return $http.get('https://checklinked.com/ajax/login-authCheck.php', {\r\n              cache: false\r\n            }).then(\r\n              function (d) { //success\r\n                var res;\r\n                console.log('success on user pull', d);\r\n                if (d === void 0 || d == null || d == '') {\r\n                  //console.log('server did not send response');\r\n                } else {\r\n                  res = d.data;\r\n\r\n                  if (typeof res == 'string') {\r\n                    res = JSON.parse(d.data, 1);\r\n                  }\r\n                }\r\n                if (res === void 0 || res == null || res == '') {\r\n                  console.log('not logged in (no res)');\r\n                  $rootScope.user = void 0;\r\n                  return check(path);\r\n                } else {\r\n                  console.log('res has content', typeof res, res);\r\n\r\n                  $rootScope.user = res.user;\r\n                  if ($rootScope.user !== void 0 && $rootScope.user != null && res.viewAs !== void 0 && res.viewAs != null) {\r\n                    //console.log('WTF', viewAs);\r\n                    $rootScope.viewAs.set(res.viewAs);\r\n                  }\r\n                  console.log('about to check path again after user load successful');\r\n                  return check(path);\r\n                }\r\n\r\n              },\r\n              function (err) { //error\r\n                console.log('error on user pull', err);\r\n                var ref;\r\n                if (!((ref = $rootScope.user) != null ? ref.authenticated : void 0)) {\r\n                  console.log('user not authenticated already after error on user pull, checking path now');\r\n                  return check(path);\r\n                }\r\n              }\r\n            );\r\n          } else {\r\n            console.log('user already loaded, checking path');\r\n            return check(path);\r\n          }\r\n          break;\r\n        case 'logout':\r\n          return check();\r\n      }\r\n    };\r\n\r\n    $rootScope.userAuthenticated = function () {\r\n      var ref;\r\n      if ((ref = $rootScope.user) != null ? ref.authenticated : void 0) {\r\n        return true;\r\n      }\r\n    };\r\n\r\n    $rootScope.userSignupComplete = function () {\r\n      if ($rootScope.user === void 0) {\r\n        return false;\r\n      }\r\n      if ($rootScope.user.organizationError === null) {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    $rootScope.userSubscribed = function () {\r\n      var ref, ref1;\r\n      if (((ref = $rootScope.user) != null ? (ref1 = ref.roles) != null ? ref1.indexOf('basic') : void 0 : void 0) !== -1) {\r\n        return true;\r\n      }\r\n    };\r\n\r\n    $rootScope.showReturnToLogin = function () {\r\n      if (!$rootScope.userAuthenticated() && $location.path() !== '/login') {\r\n        return false;\r\n      }\r\n    };\r\n\r\n    $rootScope.loading = {\r\n      folders: true,\r\n      groups: true,\r\n      checklists: true,\r\n      invites: false\r\n    };\r\n\r\n    $rootScope.loaded = {\r\n      folders: false,\r\n      groups: false,\r\n      checklists: false,\r\n      invites: false\r\n    };\r\n\r\n    $rootScope.folders = [];\r\n    $rootScope.groups = [];\r\n    $rootScope.checklists = [];\r\n\r\n    $rootScope.expanded = {\r\n      folders: [],\r\n      groups: []\r\n    };\r\n\r\n    $rootScope.inviteCounts = {\r\n      checklists: 0,\r\n      friendships: 0\r\n    };\r\n\r\n    $rootScope.showingUsers = [];\r\n\r\n    $rootScope.userCheckboxesAreShowing = function (usr) {\r\n      var usrShowing;\r\n      usrShowing = $filter('filter')($rootScope.showingUsers, {\r\n        idCON: usr.idCON\r\n      }, true);\r\n      if (usrShowing[0] !== void 0) {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    $rootScope.children = function (whats, parentID) {\r\n\r\n      //console.log('whats', whats);\r\n      //console.log('parentID', parentID);\r\n\r\n      //console.log('$rootScope[whats]', $rootScope[whats]);\r\n      return $filter('orderBy')($filter('filter')($rootScope[whats], {\r\n        id_parent: parentID\r\n      }, true), 'order');\r\n    };\r\n\r\n    $rootScope.organizeData = function () {\r\n      console.log('$rootScope.organizeData');\r\n      var folder, group, j, k, len, len1, ref, ref1;\r\n\r\n      //Check to see if checklists/folders/groups are loading into models\r\n      if ($rootScope.loading.folders || $rootScope.loading.groups || $rootScope.loading.checklists) {\r\n        return false;\r\n      }\r\n\r\n      ref = $rootScope.groups;\r\n      //console.log('$rootScope.groups', $rootScope.groups);\r\n      for (j = 0, len = ref.length; j < len; j++) {\r\n        group = ref[j];\r\n        group.checklists = $rootScope.children('checklists', group.id);\r\n        //console.log('group.checklists', group.checklists);\r\n      }\r\n      ref1 = $rootScope.folders;\r\n      //console.log('$rootScope.folders', $rootScope.folders);\r\n      for (k = 0, len1 = ref1.length; k < len1; k++) {\r\n        folder = ref1[k];\r\n        folder.groups = $rootScope.children('groups', folder.id);\r\n      }\r\n      console.log('event:dataOrganized');\r\n      return $rootScope.$broadcast('event:dataOrganized');\r\n    };\r\n\r\n    silent = true;\r\n\r\n    $rootScope.$on('coe:pleaseCache', function () {\r\n      return CacheLocalUser.put('coe', JSON.stringify($rootScope.items));\r\n    });\r\n\r\n    //activate toastr for $rootScope\r\n    $rootScope.message = function (text, type, duration) {\r\n      if (type == null) {\r\n        type = 'success';\r\n      }\r\n      if (duration == null) {\r\n        duration = 4000;\r\n      }\r\n      return toastr[type](text, {\r\n        timeOut: duration\r\n      });\r\n    };\r\n\r\n    $rootScope.notify = function (notifications) {\r\n      console.log('about to sent notify event', notifications);\r\n      if (!Array.isArray(notifications)) {\r\n        notifications = [notifications];\r\n      }\r\n      return $rootScope.socketio.emit('notify', notifications);\r\n    };\r\n\r\n    $rootScope.showSection = function (section) {\r\n      if ($rootScope.section === section) {\r\n        return true;\r\n      }\r\n    };\r\n\r\n    $rootScope.showSectionImg = function (section) {\r\n      if (section === 'login') {\r\n        return true;\r\n      }\r\n    };\r\n\r\n    // Cleanup\r\n    $rootScope.$on('$destroy', function () {\r\n      stateChangeStartEvent();\r\n      stateChangeSuccessEvent();\r\n    });\r\n\r\n    //SEARCH BAR\r\n    $rootScope.globalSearch = {\r\n      active: false,\r\n      toggle: function () {\r\n        $rootScope.globalSearch.active = !$rootScope.globalSearch.active;\r\n        if (!$rootScope.globalSearch.active) {\r\n          $rootScope.globalSearch.searchTerm = '';\r\n        }\r\n        return false;\r\n      },\r\n      searchTerm: ''\r\n    };\r\n\r\n    $rootScope.globalSearchCollapse = true;\r\n\r\n    $rootScope.viewAs = {\r\n      loading: false,\r\n      user: {},\r\n      allowed: false,\r\n      available: [],\r\n      notMe: false,\r\n      getAvailable: function () {\r\n        var self;\r\n        self = this;\r\n        return $http.get('https://checklinked.com/ajax/organization_members-get.php').then(function (d) {\r\n          var res;\r\n          if (typeof d !== 'object') {\r\n            return false;\r\n          }\r\n          res = d.data;\r\n          if (typeof res !== 'object') {\r\n            return false;\r\n          }\r\n          if (res.code) {\r\n            return false;\r\n          }\r\n          self.available = res.members;\r\n          //return console.log('loaded available members for view as', res.members);\r\n        });\r\n      },\r\n      change: function () {\r\n        return true;\r\n      },\r\n      restore: function () {\r\n        console.log('restoring view to logged in user');\r\n        this.select($rootScope.user);\r\n        return true;\r\n      },\r\n      set: function (user) {\r\n        var ref;\r\n        $rootScope.folders = [];\r\n        $rootScope.groups = [];\r\n        $rootScope.checklists = [];\r\n        $rootScope.$broadcast('event:userSelected');\r\n        console.log('broadcast event:userSelected');\r\n        this.user = user;\r\n        console.log('viewAs.user set', user);\r\n        this.notMe = (user != null ? user.idCON : void 0) !== ((ref = $rootScope.user) != null ? ref.idCON : void 0) ? true : false;\r\n        console.log('viewAs.notMe set', this.notMe);\r\n        $rootScope.$broadcast('event:userLoaded');\r\n        console.log('broadcast event:userLoaded');\r\n        this.loading = false;\r\n        return true;\r\n      },\r\n      select: function (contact) {\r\n        var self;\r\n        if (contact.idCON === this.user.idCON) {\r\n          return false;\r\n        }\r\n        this.loading = contact.idCON;\r\n        self = this;\r\n        return $http.get(\"https://checklinked.com/ajax/userByID-get.php?idCON=\" + contact.idCON + \"&viewAs=1\").then(function (d) {\r\n          var res;\r\n          if (typeof d !== 'object') {\r\n            return $rootScope.message(\"Server not responding properly.\", 'warning');\r\n          } else {\r\n            res = d.data;\r\n            if (typeof res !== 'object') {\r\n              return $rootScope.message(\"Server not responding properly.\", 'warning');\r\n            } else if (res.code) {\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              return self.set(res.user);\r\n            }\r\n          }\r\n        }, function (err) {\r\n          return $rootScope.message(\"Server not responding.\", 'warning');\r\n        }).then(function () {\r\n          return self.loading = false;\r\n        });\r\n      }\r\n    };\r\n\r\n    $rootScope.resetFeed = function () {\r\n\r\n      return $rootScope.feed = {\r\n        modal: {\r\n          eventsSet: false,\r\n          showing: false\r\n        },\r\n        loading: true,\r\n        items: [],\r\n        show: [],\r\n        next: {\r\n          start: 0,\r\n          qty: 20\r\n        },\r\n        unread: [],\r\n        marking: [],\r\n        unmarking: [],\r\n        marked: [],\r\n        mark: function (itemIDs) {\r\n          console.log('mark:', itemIDs);\r\n          $rootScope.feed.marking.concat(itemIDs);\r\n          $rootScope.feed.unread = $rootScope.feed.unread.diff(itemIDs);\r\n          console.log('$rootScope.feed.unread', $rootScope.feed.unread);\r\n          $rootScope.socketio.emit('mark_feed_items_read', $rootScope.user.idCON, itemIDs);\r\n        },\r\n        unmark: function (itemIDs) {\r\n          $rootScope.feed.unmarking.concat(itemIDs);\r\n          return $rootScope.socketio.emit('mark_feed_items_unread', $rootScope.user.idCON, itemIDs);\r\n        },\r\n        isUnread: function (item) {\r\n          var f, id;\r\n          f = $rootScope.feed;\r\n          id = item.id;\r\n          if (!item.unread) {\r\n            return false;\r\n          }\r\n          if (!f.marked.indexOf(id) < 0) {\r\n            return false;\r\n          }\r\n          if (!f.marking.indexOf(id) < 0) {\r\n            return false;\r\n          }\r\n          return true;\r\n        }\r\n      };\r\n    };\r\n\r\n    $rootScope.resetFeed();\r\n\r\n    $rootScope.addUserData = function (type, data) {\r\n      return $http.post('https://checklinked.com/ajax/realtime-adjustUser-post.php', {\r\n        w: type,\r\n        d: data\r\n      }, {\r\n        headers: {\r\n          'Content-Type': 'application/x-www-form-urlencoded'\r\n        },\r\n        cache: false\r\n      });\r\n    };\r\n\r\n\r\n    $rootScope.permissions = {\r\n      canChange: false,\r\n      hasAny: function (features, data) {\r\n        var has;\r\n        if (data == null) {\r\n          data = null;\r\n        }\r\n        has = false;\r\n        features.forEach(function (feature) {\r\n          return has = has || $rootScope.permissions.has(feature, data);\r\n        });\r\n        return has;\r\n      },\r\n      has: function (feature, data) {\r\n        var basic;\r\n        if (data == null) {\r\n          data = null;\r\n        }\r\n        switch (feature) {\r\n          case 'viewTeamMembers':\r\n          case 'viewTemplates':\r\n            if ($rootScope.userSubscribed()) {\r\n              return true;\r\n            }\r\n            break;\r\n          case 'viewFolders':\r\n          case 'viewChecklist':\r\n            if ($rootScope.userSignupComplete()) {\r\n              return true;\r\n            }\r\n            break;\r\n          case 'viewAs':\r\n            if ($rootScope.user.roles.indexOf('manager') !== -1) {\r\n              return true;\r\n            }\r\n            break;\r\n          case 'deleteTemplate':\r\n          case 'offboardMember':\r\n            if (+data.idCON === +$rootScope.user.idCON) {\r\n              return true;\r\n            }\r\n            if ($rootScope.user.roles.indexOf('corporate') !== -1) {\r\n              return true;\r\n            }\r\n            if ($rootScope.user.roles.indexOf('leader') !== -1) {\r\n              return true;\r\n            }\r\n            if ($rootScope.user.roles.indexOf('manager') !== -1) {\r\n              return true;\r\n            }\r\n            break;\r\n          case 'linkToChecklist':\r\n            if ($rootScope.userSubscribed() && $rootScope.user.roles.indexOf('manager') !== -1) {\r\n              return true;\r\n            }\r\n            break;\r\n          case 'changePermissions':\r\n            if ($rootScope.user.roles.indexOf('leader') !== -1) {\r\n              return true;\r\n            }\r\n            break;\r\n          case 'subscriptionManagement':\r\n            if ($rootScope.viewAs.user.organization.colleagueCount === 0) {\r\n              return true;\r\n            }\r\n            if ($rootScope.viewAs.user.roles.indexOf('financial') !== -1) {\r\n              return true;\r\n            }\r\n            break;\r\n          case 'incomingChecklists':\r\n            if ($rootScope.viewAs.user.roles.indexOf('queue') !== -1) {\r\n              return true;\r\n            }\r\n            break;\r\n          case 'editOrgInfo':\r\n            if ($rootScope.user.roles.indexOf('leader') !== -1) {\r\n              return true;\r\n            }\r\n            if ($rootScope.user.roles.indexOf('financial') !== -1) {\r\n              return true;\r\n            }\r\n            break;\r\n          case 'saveChecklist':\r\n          case 'restoreChecklist':\r\n          case 'downloadTemplate':\r\n          case 'publishTemplate':\r\n          case 'inviteToChecklist':\r\n            if ($rootScope.user.roles.indexOf('basic') !== -1) {\r\n              return true;\r\n            }\r\n            break;\r\n          case 'modifyChecklist':\r\n            if ($rootScope.user.roles.indexOf('basic') !== -1) {\r\n              return true;\r\n            }\r\n            if (data.CHK.inviterDetails.idCON === $rootScope.user.idCON) {\r\n              return true;\r\n            }\r\n            break;\r\n          case 'inviteToOrg':\r\n            basic = $filter('filter')($rootScope.user.organization.rolePool, {\r\n              web_name: 'basic'\r\n            }, true);\r\n            if (typeof basic[0] === 'object') {\r\n              if (+basic[0].available) {\r\n                return true;\r\n              }\r\n            }\r\n            break;\r\n          default:\r\n            return false;\r\n        }\r\n      },\r\n      set: function () {\r\n        var has;\r\n        has = this.has('viewAs');\r\n        $rootScope.viewAs.allowed = has;\r\n        has = this.has('changePermissions');\r\n        return $rootScope.permissions.canChange = has;\r\n      }\r\n    };\r\n\r\n    $rootScope.socketio = false;\r\n\r\n\r\n    //USER LOADED\r\n\r\n    $rootScope.$on('event:userLoaded', function (e, data) {\r\n      var realtime, show;\r\n      $rootScope.resetFeed();\r\n      $rootScope.viewAs.getAvailable();\r\n      $rootScope.permissions.set();\r\n      show = {\r\n        idCON: $rootScope.viewAs.user.idCON,\r\n        name: $rootScope.viewAs.user.name.first\r\n      };\r\n      $rootScope.showingUsers = [show];\r\n      console.log('set showing users', $rootScope.showingUsers);\r\n      api.folders.get().success(function (res) {\r\n        var ref;\r\n        if ((ref = res.folders) != null ? ref.length : void 0) {\r\n          return $rootScope.folders = res.folders;\r\n        }\r\n      })[\"finally\"](function () {\r\n        $rootScope.loading.folders = false;\r\n        return $rootScope.organizeData();\r\n      });\r\n      api.groups.get().success(function (res) {\r\n        var ref;\r\n        if ((ref = res.groups) != null ? ref.length : void 0) {\r\n          return $rootScope.groups = res.groups;\r\n        }\r\n      })[\"finally\"](function () {\r\n        $rootScope.loading.groups = false;\r\n        return $rootScope.organizeData();\r\n      });\r\n      api.checklists.get().success(function (res) {\r\n        var ref;\r\n        if ((ref = res.checklists) != null ? ref.length : void 0) {\r\n          $rootScope.checklists = res.checklists;\r\n        }\r\n        $rootScope.loaded.checklists = true;\r\n        return $rootScope.$broadcast('event:checklistsLoaded');\r\n      })[\"finally\"](function () {\r\n        $rootScope.loading.checklists = false;\r\n\r\n        console.log('rootScopeChecklists', $rootScope.checklists);\r\n\r\n        return $rootScope.organizeData();\r\n      });\r\n      //console.log('received event:userLoaded', $rootScope.user);\r\n      if ($location.search().devMode === true) {\r\n        realtime = 'http://localhost:3000';\r\n      } else {\r\n        realtime = 'https://realtime.checklinked.co:3000';\r\n      }\r\n      $rootScope.socketio = io(realtime, {\r\n        transports: ['websocket', 'polling', 'flashsocket'],\r\n        secure: true\r\n      });\r\n      return $rootScope.socketio.on('connect', function () {\r\n        var ids, sock, subs, subscriptionDetails, u;\r\n        sock = $rootScope.socketio;\r\n        u = $rootScope.user;\r\n        subs = u.subscriptions;\r\n        //console.log('broadcasted event:socketConnected');\r\n        $rootScope.$broadcast('event:socketConnected');\r\n        //console.log('subscriptions', subs);\r\n        ids = subs.contacts || [];\r\n        ids = ids.concat(subs.checklists || []);\r\n        ids = ids.concat(subs.sections || []);\r\n        ids = ids.concat(subs.headings || []);\r\n        ids = ids.concat(subs.items || []);\r\n        //console.log('ids', ids);\r\n        subscriptionDetails = {\r\n          idCON: u.idCON,\r\n          ids: ids\r\n        };\r\n\r\n        sock.emit('join', \"/feed/\" + $rootScope.user.idCON);\r\n\r\n        //console.log('sending total subscription', subscriptionDetails);\r\n        sock.emit('feed_total_subscription_update', subscriptionDetails);\r\n\r\n        sock.on('notification', function (notes) {\r\n          console.log('received notes: ', notes);\r\n          notes.forEach(function (note) {\r\n            //console.log('note', note);\r\n            var existing, f;\r\n            if (note.user.id !== u.idCON || note.type === 'invite_answered') {\r\n              f = $rootScope.feed;\r\n              note.timestamp = new Date(note.timestamp);\r\n\r\n              switch (note.type) {\r\n                case 'invited':\r\n                  note.labels = [3];\r\n                  break;\r\n                case 'notification':\r\n                  note.labels = [5];\r\n                  break;\r\n                case 'invite':\r\n                  note.labels = [2];\r\n                  break;\r\n                case 'accepted':\r\n                  note.labels = [2];\r\n                  break;\r\n                case 'message':\r\n                  note.labels = [4];\r\n                  break;\r\n                case 'post':\r\n                  note.labels = [6];\r\n                  break;\r\n                default:\r\n                  note.labels = [0];\r\n                  break;\r\n              }\r\n              switch (note.item.type) {\r\n                case 'checklist':\r\n                  note.labels.push(7);\r\n                  break;\r\n                case 'group':\r\n                  note.labels.push(9);\r\n                  break;\r\n                case 'section':\r\n                  note.labels.push(11);\r\n                  break;\r\n                case 'heading':\r\n                  note.labels.push(10);\r\n                  break;\r\n                case 'item':\r\n                  note.labels.push(12);\r\n                  break;\r\n                case 'post':\r\n                  note.labels.push(6);\r\n                  break;\r\n                default:\r\n                  note.labels.push(0);\r\n                  break;\r\n              }\r\n\r\n              existing = {\r\n                unread: $filter('filter')(f.unread, {\r\n                  id: note.id\r\n                }).length > 0,\r\n                items: $filter('filter')(f.items, {\r\n                  id: note.id\r\n                }).length > 0,\r\n                show: $filter('filter')(f.show, {\r\n                  id: note.id\r\n                }).length > 0\r\n              };\r\n              console.log('existing.unread', existing.unread);\r\n              if (f.isUnread(note) && !existing.unread) {\r\n                f.unread.push(note.id);\r\n              }\r\n              if (!existing.items) {\r\n                f.items.push(note);\r\n              }\r\n              if (f.modal.showing && !existing.show) {\r\n                f.show.push(note);\r\n                return f.mark([note.id]);\r\n              }\r\n            }\r\n\r\n          });\r\n          $rootScope.feed.loading = false;\r\n          $rootScope.$broadcast('event:feedNotificationsReceived');\r\n          return $rootScope.$apply();\r\n        });\r\n\r\n\r\n        if ($rootScope.socketio._callbacks['$checklist_invite_count'] === void 0) {\r\n          //console.log('socket checklist_invite_count callback is not defined; defining now');\r\n          $rootScope.socketio.on('checklist_invite_count', function (count) {\r\n            //console.log('received checklist invite count', count);\r\n            if ($rootScope.inviteCounts.checklists !== count) {\r\n              //console.log('broadcasting event:checklistInviteCountChanged');\r\n              $rootScope.$broadcast('event:checklistInviteCountChanged');\r\n            }\r\n            $rootScope.inviteCounts.checklists = count;\r\n            return $rootScope.$apply();\r\n          });\r\n        }\r\n\r\n        if ($rootScope.socketio._callbacks['$labels_changed'] === void 0) {\r\n          //console.log('socket labels_changed callback is not defined; defining now');\r\n          $rootScope.socketio.on('labels_changed', function () {\r\n            //console.log('received labels_changed');\r\n            return $rootScope.addUserData('labels-reset').then(function (d) {\r\n              var res;\r\n              if (typeof d !== 'object') {\r\n                return false;\r\n              }\r\n              res = d.data;\r\n              if (typeof res !== 'object') {\r\n                return false;\r\n              }\r\n              if (res.code) {\r\n                return false;\r\n              }\r\n              $rootScope.user = res.user;\r\n              return $rootScope.$broadcast('event:labelsUpdated');\r\n            });\r\n          });\r\n        }\r\n\r\n        if ($rootScope.socketio._callbacks['$friendship_invite_count'] === void 0) {\r\n          //console.log('socket friendship_invite_count callback is not defined; defining now');\r\n          $rootScope.socketio.on('friendship_invite_count', function (count) {\r\n            var update;\r\n            //console.log('received friendship invite count', count);\r\n            if (count !== $rootScope.inviteCounts.friendships) {\r\n              update = true;\r\n            }\r\n            $rootScope.inviteCounts.friendships = count;\r\n            $rootScope.$apply();\r\n            if (update) {\r\n              return $rootScope.$broadcast('event:friendshipInviteCountUpdated');\r\n            }\r\n          });\r\n        }\r\n\r\n        if ($rootScope.socketio._callbacks['$error_marking_feed_items_read'] === void 0) {\r\n          //console.log('socket error_marking_feed_items_read callback is not defined; defining now');\r\n          $rootScope.socketio.on('error_marking_feed_items_read', function (itemIDs) {\r\n            //console.log('received error marking feed items read', itemIDs, err);\r\n            $rootScope.feed.marking = $rootScope.feed.marking.diff(itemIDs);\r\n            return $rootScope.feed.unread = $rootScope.feed.unread.concat(itemIDs);\r\n          });\r\n        }\r\n\r\n        if ($rootScope.socketio._callbacks['$feed_items_marked_read'] === void 0) {\r\n          console.log('socket feed_items_marked_read callback is not defined; defining now');\r\n          $rootScope.socketio.on('feed_items_marked_read', function (itemIDs) {\r\n            console.log('received feed items marked read', itemIDs);\r\n\r\n\r\n            $rootScope.feed.marking = $rootScope.feed.marking.diff(itemIDs);\r\n            $rootScope.feed.marked = $rootScope.feed.marked.concat(itemIDs);\r\n\r\n            /*\r\n             $rootScope.feed.items.forEach(function (item) {\r\n             if ($rootScope.feed.unread.indexOf(item.id) < 0) {\r\n\r\n             return item.unread = false;\r\n             }\r\n             });\r\n             */\r\n            return $rootScope.$apply();\r\n          });\r\n        }\r\n\r\n        if ($rootScope.socketio._callbacks['$invite_count_update_ping'] === void 0) {\r\n          //console.log('socket invite_count_update_ping callback is not defined; defining now');\r\n          $rootScope.socketio.on('invite_count_update_ping', function (type) {\r\n            return $rootScope.socketio.emit('get_' + type + '_invite_count', $rootScope.user.idCON);\r\n          });\r\n        }\r\n\r\n        sock.emit('join', \"/feed/\" + $rootScope.user.idCON);\r\n        var ref;\r\n\r\n        if ((ref = $rootScope.user.organization) != null ? ref.idACC : void 0) {\r\n          sock.emit('join', \"/organization/\" + $rootScope.user.organization.idACC);\r\n        }\r\n\r\n        //console.log('sending total subscription', subscriptionDetails);\r\n        sock.emit('feed_total_subscription_update', subscriptionDetails);\r\n        sock.emit('feed_load', u.idCON);\r\n        sock.emit('get_checklist_invite_count', u.idCON);\r\n        sock.emit('get_friendship_invite_count', u.idCON);\r\n\r\n        return $rootScope.sendInviteCountUpdatePing = function (idCON, type) {\r\n          //console.log('sending invite count update ping', idCON, type);\r\n          sock.emit('ping_invite_count', idCON, type);\r\n          return true;\r\n        };\r\n\r\n      });\r\n    });\r\n\r\n\r\n    $rootScope.sendInviteCountUpdatePing = function (idCON, type) {\r\n    };\r\n\r\n    $rootScope.currentPaymentMethod = null;\r\n    $rootScope.enterPaymentMethodValues = {};\r\n\r\n    $rootScope.subscriptions = {\r\n      agreeToTerms: false,\r\n      finalizing: false,\r\n      selected: null,\r\n      doSelect: function (sub) {\r\n        $rootScope.subscriptions.selected = sub;\r\n        return api.subscriptions.getInvites($rootScope.subscriptions.selected.idSUB).success(function (res) {\r\n          var ref;\r\n          if (res != null ? (ref = res.invites) != null ? ref.length : void 0 : void 0) {\r\n            return $rootScope.subscriptions.selected.invites = res.invites;\r\n          } else {\r\n            return $rootScope.subscriptions.selected.invites = [];\r\n          }\r\n        });\r\n      },\r\n      select: function (offer) {\r\n        console.log('select', offer);\r\n        $rootScope.subscriptions.doSelect(offer);\r\n        $rootScope.enterPaymentMethodValues = {\r\n          submit: function () {\r\n            console.log('method form submitted');\r\n            return false;\r\n          },\r\n          submitText: 'Enter Method'\r\n        };\r\n        return false;\r\n      },\r\n      finalize: function () {\r\n        $rootScope.subscriptions.finalizing = true;\r\n        console.log('finalizing with values', $rootScope.subscriptions, $rootScope.currentPaymentMethod);\r\n        if (!$rootScope.subscriptions.agreeToTerms) {\r\n          $rootScope.message('You cannot subscribe if you do not agree to Checklink\\'s Terms and Conditions!', 'warning');\r\n          return false;\r\n        }\r\n        api.subscriptions.finalize($rootScope.subscriptions.selected, $rootScope.currentPaymentMethod).error(function (res) {\r\n          return $rootScope.message('Error talking to server.', 'warning');\r\n        }).success(function (res) {\r\n          if (res === void 0 || res === null || res === '') {\r\n            return $rootScope.message('No response from server.', 'warning');\r\n          } else if (res.code) {\r\n            $rootScope.currentPaymentMethod = null;\r\n            $rootScope.subscriptions.agreeToTerms = false;\r\n            return $rootScope.message(res.message, 'warning');\r\n          } else {\r\n            $rootScope.subscriptions.selected = null;\r\n            $rootScope.subscriptions.success = true;\r\n            $rootScope.message('Subscription Success.', 'success');\r\n            $rootScope.user = res.user;\r\n            return $rootScope.$broadcast('event:membersUpdated');\r\n          }\r\n        })[\"finally\"](function () {\r\n          return $rootScope.subscriptions.finalizing = false;\r\n        });\r\n        return false;\r\n      }\r\n    };\r\n\r\n\r\n    var stateChangeStartEvent = $rootScope.$on('$stateChangeStart', function (event, toState, toParams, fromState, fromParams, options) {\r\n\r\n      $rootScope.loadingProgress = true;\r\n      //console.log('checking route for permissions');\r\n\r\n      var mod, loginCheck;\r\n      $rootScope.module = mod = toState.name.split('.');\r\n\r\n      $rootScope.section = '';\r\n      $rootScope.section = mod[1] === 'login' && !mod[2] ? 'login' : mod[1];\r\n      if ($rootScope.section !== 'feed') {\r\n        //console.log('is not the feed');\r\n        $rootScope.backTo = '#' + toState.url;\r\n      }\r\n      if (mod[1] === 'login') {\r\n        //console.log('is the login');\r\n      } else if (mod[1] === 'logout') {\r\n\r\n        $http.post('https://checklinked.com/ajax/logout.php').then(\r\n          function (d) { //success\r\n            //$rootScope.socketio.disconnect();\r\n            $rootScope.user = void 0;\r\n            var loginTime = '';\r\n            loginCheck = $rootScope.checkLogin(event, toState);\r\n            if (!loginCheck) {\r\n              console.log('preventing logout', toState);\r\n              event.preventDefault();\r\n              $state.go('app.login');\r\n            } else {\r\n              //console.log('logout good');\r\n            }\r\n          }\r\n          , function (err) {\r\n            $rootScope.message('Error logging out.', 'warning');\r\n            event.preventDefault();\r\n          }\r\n        );\r\n      } else {\r\n        //console.log('no special condition');\r\n        loginCheck = $rootScope.checkLogin(event, toState);\r\n        //console.log('login check result:',loginCheck);\r\n        if (!loginCheck) {\r\n          //console.log('preventing navigation',toState);\r\n          event.preventDefault();\r\n          $state.go('app.login');\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n    // Update Checklists Load\r\n\r\n    $rootScope.$on('event:updateModels', function (e, data) {\r\n      console.log('e', e);\r\n      console.log('data', data);\r\n\r\n      $rootScope.folders = [];\r\n      $rootScope.groups = [];\r\n      $rootScope.checklists = [];\r\n\r\n      //console.log('set showing users', $rootScope.showingUsers);\r\n      api.folders.get().success(function (res) {\r\n        var ref;\r\n        if ((ref = res.folders) != null ? ref.length : void 0) {\r\n          return $rootScope.folders = res.folders;\r\n        }\r\n      })[\"finally\"](function () {\r\n        $rootScope.loading.folders = false;\r\n        return $rootScope.organizeData();\r\n      });\r\n      api.groups.get().success(function (res) {\r\n        var ref;\r\n        if ((ref = res.groups) != null ? ref.length : void 0) {\r\n          return $rootScope.groups = res.groups;\r\n        }\r\n      })[\"finally\"](function () {\r\n        $rootScope.loading.groups = false;\r\n        return $rootScope.organizeData();\r\n      });\r\n      api.checklists.get().success(function (res) {\r\n        var ref;\r\n        if ((ref = res.checklists) != null ? ref.length : void 0) {\r\n          $rootScope.checklists = res.checklists;\r\n        }\r\n        $rootScope.loaded.checklists = true;\r\n      })[\"finally\"](function () {\r\n        $rootScope.loading.checklists = false;\r\n      });\r\n\r\n    });\r\n\r\n\r\n    // De-activate loading indicator\r\n    var stateChangeSuccessEvent = $rootScope.$on('$stateChangeSuccess', function () {\r\n      $timeout(function () {\r\n        $rootScope.loadingProgress = false;\r\n      });\r\n    });\r\n\r\n    // Store state in the root scope for easy access\r\n    $rootScope.state = $state;\r\n\r\n\r\n    $rootScope.$broadcast('event:startDoomsDayDevice', $rootScope);\r\n\r\n    //console.log('$rootScope.feed', $rootScope.feed);\r\n  }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('checklinked')\r\n        .config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider, $locationProvider)\r\n    {\r\n        $locationProvider.html5Mode(true);\r\n\r\n        $urlRouterProvider.otherwise('/user');\r\n\r\n        /**\r\n         * Layout Style Switcher\r\n         *\r\n         * This code is here for demonstration purposes.\r\n         * If you don't need to switch between the layout\r\n         * styles like in the demo, you can set one manually by\r\n         * typing the template urls into the `State definitions`\r\n         * area and remove this code\r\n         */\r\n\r\n        // Inject $cookies\r\n        var $cookies;\r\n\r\n        angular.injector(['ngCookies']).invoke([\r\n            '$cookies', function (_$cookies)\r\n            {\r\n                //$cookies = _$cookies;\r\n            }\r\n        ]);\r\n\r\n        // Get active layout\r\n        var layoutStyle = 'verticalNavigation';\r\n\r\n        var layouts = {\r\n            verticalNavigation  : {\r\n                main      : 'app/core/layouts/vertical-navigation.html',\r\n                toolbar   : 'app/toolbar/layouts/vertical-navigation/toolbar.html',\r\n                navigation: 'app/navigation/layouts/vertical-navigation/navigation.html'\r\n          }\r\n        };\r\n        // END - Layout Style Switcher\r\n\r\n        // State definitions\r\n        $stateProvider\r\n            .state('app', {\r\n                abstract: true,\r\n                views   : {\r\n                    'main@'         : {\r\n                        templateUrl: layouts[layoutStyle].main,\r\n                        controller : 'MainController as vm'\r\n                    },\r\n                    'toolbar@app'   : {\r\n                        templateUrl: layouts[layoutStyle].toolbar,\r\n                        controller : 'ToolbarController as vm'\r\n                    },\r\n                    'navigation@app': {\r\n                        templateUrl: layouts[layoutStyle].navigation,\r\n                        controller : 'NavigationController as vm'\r\n                    }\r\n\r\n                }\r\n            });\r\n    }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('checklinked')\r\n        .controller('IndexController', IndexController);\r\n\r\n    /** @ngInject */\r\n    function IndexController(fuseTheming)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.themes = fuseTheming.themes;\r\n\r\n        //////////\r\n    }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('checklinked');\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n\t.module('checklinked')\r\n\t.config(config, ['provide', 'httpProvider']);\r\n\r\n    /** @ngInject */\r\n\tfunction config($provide, $httpProvider)\r\n\t{\r\n\r\n\t\t$provide.factory('httpRequestInterceptor', function ($q, $rootScope) {\r\n\t\t\treturn {\r\n\t\t\t\trequest: function (config) {\r\n\t\t\t\t\tif ($rootScope.userAuthenticated()) {\r\n\t\t\t\t\t\tconfig.headers['X-AntiCSRF-Token'] = $rootScope.user.token;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn config;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\t$httpProvider.defaults.withCredentials = true;\r\n\t\t$httpProvider.defaults.useXDomain = true;\r\n\t\t$httpProvider.defaults.headers.common = {\r\n\t\t\tAccept: \"application/json, text/plain, */*\"\r\n\t\t};\r\n\t\t$httpProvider.defaults.headers.post = {\r\n\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\"\r\n\t\t};\r\n\t\t$httpProvider.interceptors.push('httpRequestInterceptor');\r\n\t}\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('checklinked')\r\n    .factory('api', apiService);\r\n\r\n  /** @ngInject */\r\n  function apiService($rootScope, $cacheFactory, $resource, $http, $location) {\r\n\r\n    var api = {};\r\n\r\n    // Base Url\r\n    api.baseUrl = 'app/data/';\r\n\r\n    // api.sample = $resource(api.baseUrl + 'sample/sample.json');\r\n    api.generateCacheLocal = function () {\r\n\r\n      var PREFIX, USERNAME, cache;\r\n\r\n      cache = $cacheFactory('someCache', {});\r\n\r\n      PREFIX = 'Cacher::';\r\n\r\n      cache.get = function (key) {\r\n        var lruEntry;\r\n        lruEntry = localStorage.getItem(PREFIX + key);\r\n        if (!lruEntry) {\r\n          return;\r\n        }\r\n        lruEntry = JSON.parse(lruEntry);\r\n        if (lruEntry.data === void 0) {\r\n          return lruEntry;\r\n        }\r\n        return lruEntry.data;\r\n      };\r\n      cache.put = function (key, value) {\r\n        if (typeof value.then === 'function') {\r\n          return value.then(function (value) {\r\n            return localStorage.setItem(PREFIX + key, JSON.stringify(value));\r\n          });\r\n        } else {\r\n          return localStorage.setItem(PREFIX + key, JSON.stringify(value));\r\n        }\r\n      };\r\n      cache.remove = function (key) {\r\n        return localStorage.removeItem(PREFIX + key);\r\n      };\r\n      cache.removeAll = function () {\r\n        var i, j, key, len, results;\r\n        results = [];\r\n        for (key = j = 0, len = localStorage.length; j < len; key = ++j) {\r\n          i = localStorage[key];\r\n          if (key.indexOf(PREFIX === 0)) {\r\n            results.push(localStorage.removeItem(key));\r\n          } else {\r\n            results.push(void 0);\r\n          }\r\n        }\r\n        return results;\r\n      };\r\n      cache.nuke = function () {\r\n        return localStorage.clear();\r\n      };\r\n      return cache;\r\n    };\r\n\r\n    api.cache = {\r\n      local: api.generateCacheLocal()\r\n    };\r\n\r\n    ////////////////////// USER (rootScope.user)\r\n    api.user = {\r\n\r\n      get: function ($rootScope) {\r\n        return {\r\n          user: function () {\r\n            return $rootScope.user;\r\n          }\r\n        };\r\n      }\r\n    };\r\n\r\n\r\n    ////////////////////// LOGIN\r\n    api.login = {\r\n\r\n      doAuth: function (creds) {\r\n        return $http.post('https://checklinked.com/ajax/login-doAuth.php', creds, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        }).error(function (resp) {\r\n          console.log('doAuth resp', resp);\r\n          return $rootScope.message(\"Unknown error communicating with server. \" + resp, 'warning');\r\n        }).success(function (resp) {\r\n          var loginTime, path;\r\n          if (resp.code || resp.type === 'error') {\r\n            return $rootScope.message(resp.message, 'warning');\r\n          } else {\r\n            $rootScope.user = resp.user;\r\n            $rootScope.viewAs.set(resp.viewAs);\r\n            $rootScope.orderThanksData = '';\r\n            //path = CacheLocal.get('navTo');\r\n            console.log('path', path);\r\n            loginTime = new Date();\r\n            if (path) {\r\n              console.log('path 1');\r\n              return $location.path(path);\r\n            } else {\r\n              console.log('path 2');\r\n              return $location.path('/user');\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    ////////////////////// CREATE\r\n    api.create = {\r\n\r\n      register: function (reg) {\r\n        return $http.post('https://checklinked.com/ajax/account-create.php', {\r\n          email: reg.email,\r\n          phone: reg.phone,\r\n          notifications: reg.notifications,\r\n          password: reg.password,\r\n          password2: reg.password2,\r\n          name_first: reg.name.first,\r\n          name_last: reg.name.last,\r\n          baseURL: reg.baseURL\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      }\r\n    };\r\n\r\n\r\n    ////////////////////// CONFIRM\r\n    api.confirm = {\r\n\r\n      validate: function (validateId) {\r\n        console.log('validateId', validateId);\r\n        return $http.post('https://checklinked.com/ajax/account-create-confirm.php', {\r\n          key: validateId\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      }\r\n    };\r\n\r\n    ////////////////////// ACCOUNT\r\n    api.account = {\r\n\r\n      update: function (info) {\r\n        return $http.post(\"https://checklinked.com/ajax/account-update-post.php\", {\r\n          info: info\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        }).error(function (res) {\r\n          return res;\r\n        }).success(function (res) {\r\n          return res;\r\n        });\r\n      }\r\n    };\r\n\r\n\r\n    ////////////////////// FOLDERS\r\n    api.folders = {\r\n\r\n      get: function () {\r\n        return $http.get('https://checklinked.com/ajax/coe-get.php?t=folder');\r\n      },\r\n      add: function (name, description, order) {\r\n        return $http.post('https://checklinked.com/ajax/coe-post.php', {\r\n          type: 'folder',\r\n          name: name,\r\n          description: description,\r\n          order: order\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      edit: function (editPack) {\r\n        return $http.post('https://checklinked.com/ajax/coe-edit.php', {\r\n          pack: editPack\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      destroy: function (id) {\r\n        return $http.post('https://checklinked.com/ajax/coe-destroy.php', {\r\n          type: 'folder',\r\n          id: id\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      }\r\n    };\r\n\r\n\r\n    ////////////////////// GROUPS\r\n    api.groups = {\r\n\r\n      get: function (idCFC) {\r\n        return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=group&p=\" + idCFC, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res.groups;\r\n        });\r\n      },\r\n      add: function (name, order, to) {\r\n        return $http.post('https://checklinked.com/ajax/coe-post.php', {\r\n          type: 'group',\r\n          name: name,\r\n          order: order,\r\n          parentID: to\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      edit: function (editPack) {\r\n        return $http.post('https://checklinked.com/ajax/coe-edit.php', {\r\n          pack: editPack\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      destroy: function (id) {\r\n        return $http.post('https://checklinked.com/ajax/coe-destroy.php', {\r\n          type: 'group',\r\n          id: id\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      }\r\n\r\n    };\r\n\r\n    ////////////////////// CHECKLISTS\r\n    api.checklists = {\r\n\r\n      get: function (idCHK) {\r\n        if (idCHK == null) {\r\n          idCHK = '';\r\n        }\r\n        return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=checklist&idCHK=\" + idCHK, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res.checklists;\r\n        });\r\n      },\r\n      getGroup: function (idGROUP) {\r\n        if (idGROUP == null) {\r\n          idGROUP = '';\r\n        }\r\n        return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=checklist&p=\" + idGROUP, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res.checklists;\r\n        });\r\n      },\r\n      add: function (name, order, to) {\r\n        return $http.post('https://checklinked.com/ajax/coe-post.php', {\r\n          type: 'checklist',\r\n          name: name,\r\n          order: order,\r\n          parentID: to\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      edit: function (editPack) {\r\n        return $http.post(\"https://checklinked.com/ajax/coe-edit.php\", {\r\n          pack: editPack\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      destroy: function (id) {\r\n        console.log('item', id);\r\n        return $http.post('https://checklinked.com/ajax/coe-destroy.php', {\r\n          type: 'checklist',\r\n          id: id\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      publish: function (id, name, type, pvt) {\r\n        console.log('id', id);\r\n        console.log('name', name);\r\n        console.log('type', type);\r\n\r\n        if (pvt == null) {\r\n          pvt = false;\r\n        }\r\n        console.log('pvt', pvt);\r\n        return $http.post('https://checklinked.com/ajax/checklist-publish.php', {\r\n          id: id,\r\n          name: name,\r\n          type: type,\r\n          pvt: pvt\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      searchForTemplates: function (criteria) {\r\n        console.log('criteria', criteria);\r\n        return $http.get(\"https://checklinked.com/ajax/templates-get.php?n=\" + criteria.name + \"&o=\" + criteria.organization + \"&a=\" + criteria.author + \"&v=\" + criteria.version + \"&t=\" + criteria.type, {\r\n          cache: false\r\n        });\r\n      },\r\n      createFromTemplate: function (idCTMPL, idGRP, type) {\r\n        return $http.post('https://checklinked.com/ajax/checklist-post-fromTemplate.php', {\r\n          idPARENT: idGRP,\r\n          idCTMPL: idCTMPL,\r\n          type: type\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      toggleComplete: function (idCFC, complete) {\r\n        if (complete == null) {\r\n          complete = 'toggle';\r\n        }\r\n        console.log('toggling checklist complete', idCFC, complete);\r\n        return $http.post('https://checklinked.com/ajax/checklist-toggle_complete-post.php', {\r\n          idCFC: idCFC,\r\n          complete: complete\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      getOrgChecklists: function () {\r\n        return $http.get('https://checklinked.com/ajax/checklists_org-get.php').then(function (d) {\r\n          var res;\r\n          if (d === void 0 || d === null || d === '') {\r\n            res = {\r\n              code: -1,\r\n              message: \"Server not responding properly.\"\r\n            };\r\n          } else {\r\n            res = d.data;\r\n          }\r\n          return res;\r\n        });\r\n      },\r\n      getLinkedUsers: function (idCHK) {\r\n        return $http.get(\"https://checklinked.com/ajax/checklist_linkedUsers-get.php?idCHK=\" + idCHK).then(function (d) {\r\n          var res;\r\n          if (d === void 0 || d === null || d === '') {\r\n            res = {\r\n              code: -1,\r\n              message: \"Server not responding properly.\"\r\n            };\r\n          } else {\r\n            res = d.data;\r\n          }\r\n          return res;\r\n        });\r\n      },\r\n      invite: {\r\n        send: function (idCON, idCHK, findLink, idACC, type) {\r\n          console.log('send');\r\n          var pack;\r\n          if (findLink == null) {\r\n            findLink = false;\r\n          }\r\n          if (idACC == null) {\r\n            idACC = '';\r\n          }\r\n          if (type == null) {\r\n            type = '';\r\n          }\r\n          if (type === 'group') {\r\n            pack = {\r\n              type: type,\r\n              group: idCHK,\r\n              idCON: idCON,\r\n              idACC: idACC,\r\n              findLink: true\r\n            };\r\n          } else {\r\n            pack = {\r\n              idCON: idCON,\r\n              idACC: idACC,\r\n              idCHK: idCHK,\r\n              findLink: findLink,\r\n              type: type\r\n            };\r\n          }\r\n          return $http.post('https://checklinked.com/ajax/checklist_invite-post.php', pack, {\r\n            headers: {\r\n              'Content-Type': 'application/x-www-form-urlencoded'\r\n            },\r\n            cache: false\r\n          }).success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n\r\n            } else if (res.code) {\r\n\r\n            } else {\r\n              $rootScope.sendInviteCountUpdatePing(idCON, 'checklist');\r\n              return res;\r\n            }\r\n          });\r\n        },\r\n        accept: function (invite, idPARENT, name, order) {\r\n          var id;\r\n          id = invite.type === 'group' ? invite.id : invite.checklist.id;\r\n          return $http.post('https://checklinked.com/ajax/checklist_accept-post.php', {\r\n            id: id,\r\n            idPARENT: idPARENT,\r\n            name: name,\r\n            order: order,\r\n            type: invite.type\r\n          }, {\r\n            headers: {\r\n              'Content-Type': 'application/x-www-form-urlencoded'\r\n            },\r\n            cache: false\r\n          }).success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n\r\n            } else if (res.code) {\r\n\r\n            } else {\r\n              $rootScope.sendInviteCountUpdatePing($rootScope.user.idCON, invite.type);\r\n              return res;\r\n            }\r\n          });\r\n        },\r\n        get: function (idCHK) {\r\n          if (idCHK == null) {\r\n            idCHK = '';\r\n          }\r\n          return $http.get(\"https://checklinked.com/ajax/checklist_invites-get.php?idCHK=\" + idCHK, {\r\n            cache: false\r\n          }).success(function (res) {\r\n            return res;\r\n          });\r\n        },\r\n        destroy: function (invite) {\r\n          return $http.post(\"https://checklinked.com/ajax/checklist_invite-destroy.php\", {\r\n            idINVITE: invite.id,\r\n            type: invite.type,\r\n            rid: invite.rid\r\n          }, {\r\n            headers: {\r\n              'Content-Type': 'application/x-www-form-urlencoded'\r\n            },\r\n            cache: false\r\n          }).success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n\r\n            } else if (res.code) {\r\n\r\n            } else {\r\n              $rootScope.sendInviteCountUpdatePing(invite.users.recipient.id, 'checklist');\r\n              return res;\r\n            }\r\n          });\r\n        }\r\n      }\r\n    };\r\n\r\n    ////////////////////// SECTIONS\r\n    api.sections = {\r\n\r\n      get: function (idCHK) {\r\n        return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=section&idCHK=\" + idCHK, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res.sections;\r\n        });\r\n      },\r\n      add: function (name, order, to) {\r\n        return $http.post('https://checklinked.com/ajax/coe-post.php', {\r\n          type: 'section',\r\n          name: name,\r\n          order: order,\r\n          parentID: to\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      destroy: function (id) {\r\n        return $http.post('https://checklinked.com/ajax/coe-destroy.php', {\r\n          type: 'section',\r\n          id: id\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      }\r\n\r\n    };\r\n\r\n    ////////////////////// HEADINGS\r\n    api.headings = {\r\n\r\n      get: function (idCHK) {\r\n        return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=heading&idCHK=\" + idCHK, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res.headings;\r\n        });\r\n      },\r\n      getParent: function (id_parent) {\r\n        return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=heading&p=\" + id_parent, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res.headings;\r\n        });\r\n      },\r\n      add: function (name, order, to) {\r\n        return $http.post('https://checklinked.com/ajax/coe-post.php', {\r\n          type: 'heading',\r\n          name: name,\r\n          order: order,\r\n          parentID: to\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      destroy: function (id) {\r\n        return $http.post('https://checklinked.com/ajax/coe-destroy.php', {\r\n          type: 'heading',\r\n          id: id\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      }\r\n    };\r\n\r\n\r\n    ////////////////////// ITEMS\r\n    api.items = {\r\n\r\n      get: function (idCHK) {\r\n        return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=item&idCHK=\" + idCHK, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          var i, item, items, key, len, ref, results;\r\n          //console.log('res', res);\r\n          items = [];\r\n          ref = res.items;\r\n          results = [];\r\n          for (item = i = 0, len = ref.length; i < len; item = ++i) {\r\n            key = ref[item];\r\n            results.push(items.push($.extend({}, item, {\r\n              checkbox: {\r\n                applies: 0,\r\n                complies: 0,\r\n                conflicts: 0\r\n              }\r\n            })));\r\n          }\r\n          return results;\r\n        });\r\n      },\r\n      getParent: function (id_parent) {\r\n        return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=item&p=\" + id_parent, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          var i, item, items, key, len, ref, results;\r\n          items = [];\r\n          ref = res.items;\r\n          results = [];\r\n          for (item = i = 0, len = ref.length; i < len; item = ++i) {\r\n            key = ref[item];\r\n            results.push(items.push($.extend({}, item, {\r\n              checkbox: {\r\n                applies: 0,\r\n                complies: 0,\r\n                conflicts: 0\r\n              }\r\n            })));\r\n          }\r\n          return results;\r\n        });\r\n      },\r\n      add: function (name, order, to, type, info) {\r\n        if (type == null) {\r\n          type = 1;\r\n        }\r\n        if (info == null) {\r\n          info = '';\r\n        }\r\n        return $http.post('https://checklinked.com/ajax/coe-post.php', {\r\n          type: 'item',\r\n          name: name,\r\n          info: info,\r\n          order: order,\r\n          dataType: type,\r\n          parentID: to\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      destroy: function (id) {\r\n        return $http.post('https://checklinked.com/ajax/coe-destroy.php', {\r\n          type: 'item',\r\n          id: id\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      hasConflict: function (applies, complies) {\r\n        if (applies === true && complies === !true) {\r\n          return true;\r\n        }\r\n      },\r\n      reorder: function (id, dropPosition, type, parentID) {\r\n        return $http.post('https://checklinked.com/ajax/coe-reorder.php', {\r\n          id: id,\r\n          dropPosition: dropPosition,\r\n          type: type,\r\n          parentID: parentID\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      }\r\n\r\n    };\r\n\r\n\r\n    ////////////////////// CHECKBOX\r\n    api.checkbox = {\r\n\r\n      get: function (idCHK, idCON) {\r\n        if (idCON == null) {\r\n          idCON = '';\r\n        }\r\n        return $http.get(\"https://checklinked.com/ajax/checkboxes-get.php?idCHK=\" + idCHK + \"&u=\" + idCON, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res.checkboxes;\r\n        });\r\n      },\r\n      toggle: function (idCLI, idCON, which) {\r\n        return $http.post('https://checklinked.com/ajax/checkbox-toggle.php', {\r\n          idCLI: idCLI,\r\n          idCON: idCON,\r\n          which: which\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'applicatio/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        }).error(function (res) {\r\n          return $rootScope.message(\"Couldn't update checkbox. Unknown error\", 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            $rootScope.message(\"Couldn't update checkbox. Error: (\" + code + \"): \" + message, 'warning');\r\n          }\r\n          return res;\r\n        });\r\n      }\r\n\r\n    };\r\n\r\n    ////////////////////// CONTACTS\r\n    api.contacts = {\r\n\r\n      get: function () {\r\n        return $http.get('https://checklinked.com/ajax/friendships-get.php', {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res.contacts;\r\n        });\r\n      },\r\n      find: function (q) {\r\n        if (q == null) {\r\n          q = '';\r\n        }\r\n        return $http.get(\"https://checklinked.com/ajax/contacts-find.php?q=\" + q, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res;\r\n        });\r\n      },\r\n      add: function (name, order, to) {\r\n        return $http.post('https://checklinked.com/ajax/', {\r\n          type: 'group',\r\n          name: name,\r\n          order: order,\r\n          parentID: to\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      destroy: function (idCON) {\r\n        return $http.post('https://checklinked.com/ajax/friendship_invite-destroy.php', {\r\n          idCON: idCON\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        }).error(function (res) {\r\n          return $rootScope.message('Error removiong contact.  Unknown.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            return $rootScope.message(res.message, 'warning');\r\n          } else {\r\n            return $rootScope.message('Contact Deleted');\r\n            return res;\r\n          }\r\n        });\r\n      },\r\n      invite: {\r\n        accept: function (idCON) {\r\n          return $http.post('https://checklinked.com/ajax/friendship_accept-post.php', {\r\n            idCON: idCON\r\n          }, {\r\n            headers: {\r\n              'Content-Type': 'applicatio/x-www-form-urlencoded'\r\n            },\r\n            cache: false\r\n          }).error(function (res) {\r\n            return $rootScope.message('Error accepting invite.  Unknown.', 'warning');\r\n          }).success(function (res) {\r\n            if (res.code) {\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              console.log('api.invite.accept = $rootScope.user.idCON', $rootScope.user.idCON);\r\n              $rootScope.sendInviteCountUpdatePing($rootScope.user.idCON, 'friendship');\r\n              $rootScope.message('Contact Invitation Accepted');\r\n              return res;\r\n            }\r\n          });\r\n        },\r\n        send: function (idCON) {\r\n          return $http.post('https://checklinked.com/ajax/friendship_invite-post.php', {\r\n            idCON: idCON\r\n          }, {\r\n            headers: {\r\n              'Content-Type': 'applicatio/x-www-form-urlencoded'\r\n            },\r\n            cache: false\r\n          }).error(function (res) {\r\n            return $rootScope.message('Error sending invite.  Unknown.', 'warning');\r\n          }).success(function (res) {\r\n            if (res.code) {\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              $rootScope.message('Contact Invitation Sent');\r\n              return res;\r\n            }\r\n          });\r\n        },\r\n        remove: function (idCON) {\r\n          return $http.post('https://checklinked.com/ajax/friendship_invite-destroy.php', {\r\n            idCON: idCON\r\n          }, {\r\n            headers: {\r\n              'Content-Type': 'applicatio/x-www-form-urlencoded'\r\n            },\r\n            cache: false\r\n          }).error(function (res) {\r\n            return $rootScope.message('Error removing invite.  Unknown.', 'warning');\r\n          }).success(function (res) {\r\n            if (res.code) {\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              $rootScope.sendInviteCountUpdatePing($rootScope.user.idCON, 'friendship');\r\n              $rootScope.message('Invitation Withdrawn');\r\n              return res;\r\n            }\r\n          });\r\n        },\r\n        reject: function (idCON) {\r\n          return $http.post('https://checklinked.com/ajax/friendship_invite-destroy.php', {\r\n            idCON: idCON\r\n          }, {\r\n            headers: {\r\n              'Content-Type': 'applicatio/x-www-form-urlencoded'\r\n            },\r\n            cache: false\r\n          }).error(function (res) {\r\n            return $rootScope.message('Error removing invite.  Unknown.', 'warning');\r\n          }).success(function (res) {\r\n            if (res.code) {\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              console.log('later gator');\r\n              $rootScope.sendInviteCountUpdatePing($rootScope.user.idCON, 'friendship');\r\n              return $rootScope.message('Invitation Rejected');\r\n              return res;\r\n            }\r\n          });\r\n\r\n        }\r\n      }\r\n\r\n    };\r\n\r\n    ////////////////////// FEEDS\r\n    api.feed = {\r\n\r\n      get: function (chunk) {\r\n        if (chunk == null) {\r\n          chunk = null;\r\n        }\r\n        return $http.get(\"https://checklinked.com/ajax/feed-get.php\", {\r\n          cache: false\r\n        }).success(function (res) {\r\n          return res;\r\n        });\r\n      },\r\n      destroy: function (idFDI) {\r\n          return $http.post('https://checklinked.com/ajax/fdi-destroy.php', {\r\n          idFDI: idFDI\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        }).error(function (res) {\r\n          return $rootScope.message('Error removing notification.  Unknown.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            return $rootScope.message(res.message, 'warning');\r\n          } else {\r\n            return $rootScope.message('Notification Deleted');\r\n            return res;\r\n          }\r\n        });\r\n      }\r\n\r\n    }\r\n\r\n    ////////////////////// CONVERSATIONS\r\n    api.conversations = {\r\n\r\n      getMocks: function () {\r\n        return $http.get(\"https://checklinked.com/mocks/conversationPosts.json\", {\r\n          cache: false\r\n        }).success(function (res) {\r\n          return res;\r\n        });\r\n      },\r\n      get: function (id, skip) {\r\n        if (skip == null) {\r\n          skip = 0;\r\n        }\r\n        return $http.get(\"https://checklinked.com/ajax/posts-get.php?id=\" + id + \"&s=\" + skip, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          return $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res;\r\n        });\r\n      },\r\n      add: function (id, text, itemType, producerType) {\r\n        return $http.post('https://checklinked.com/ajax/posts-post.php', {\r\n          id: id,\r\n          text: text,\r\n          itemType: itemType,\r\n          producerType: producerType\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'applicatio/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        }).error(function (res) {\r\n          return $rootScope.message('Could not send message. Unknown error.', 'warning');\r\n        }).success(function (res) {\r\n          $rootScope.message('Message Sent.', 'success');\r\n          return res;\r\n        });\r\n      },\r\n      reply: function (idVIEW, text, producerType, itemType) {\r\n        console.log('adding convo entry', text, producerType, itemType, idVIEW);\r\n        return $http.post('https://checklinked.com/ajax/posts-post.php', {\r\n          id: idVIEW,\r\n          text: text,\r\n          itemType: itemType,\r\n          producerType: producerType\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'applicatio/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        }).error(function (res) {\r\n          return $rootScope.message('Could not send message. Unknown error.', 'warning');\r\n        }).success(function (res) {\r\n          $rootScope.message('Message Sent.', 'success');\r\n          return res;\r\n        });\r\n      },\r\n      sent: function (id, skip) {\r\n        if (skip == null) {\r\n          skip = 0;\r\n        }\r\n        return $http.get(\"https://checklinked.com/ajax/posts-sent-get.php?id=\" + id + \"&s=\" + skip, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          return $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res;\r\n        });\r\n      }\r\n    }\r\n\r\n    ////////////////////////DASHBOARD\r\n    api.dashboard = {\r\n\r\n      labels: {\r\n        hide: function (idLBL) {\r\n          return $http.post('https://checklinked.com/ajax/dashboard_label_hide-post.php', {\r\n            idLBL: idLBL\r\n          }, {\r\n            headers: {\r\n              'Content-Type': 'application/x-www-form-urlencoded'\r\n            },\r\n            cache: false\r\n          });\r\n        },\r\n        add: function (type, name, explanation) {\r\n          console.log('type', type);\r\n          console.log('name', name);\r\n          console.log('explanation', explanation);\r\n          return $http.post('https://checklinked.com/ajax/dashboard_label-post.php', {\r\n            type: type,\r\n            name: name,\r\n            explanation: explanation\r\n          }, {\r\n            headers: {\r\n              'Content-Type': 'application/x-www-form-urlencoded'\r\n            },\r\n            cache: false\r\n          });\r\n        },\r\n        update: function (idITEM, selected) {\r\n          console.log('updating item labels', idITEM, selected);\r\n          return $http.post('https://checklinked.com/ajax/dashboard_updateItemLabels-post.php', {\r\n            idITEM: idITEM,\r\n            selected: selected\r\n          }, {\r\n            headers: {\r\n              'Content-Type': 'application/x-www-form-urlencoded'\r\n            },\r\n            cache: false\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    //////////////////////SUBSCRIPTIONS\r\n    api.subscriptions = {\r\n\r\n      getCurrentOffers: function () {\r\n        return $http.get(\"https://checklinked.com/ajax/subscription_offers-get.php\", {\r\n          cache: false\r\n        }).error(function (res) {\r\n          return $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res;\r\n        });\r\n      },\r\n      getInvites: function (idSUB) {\r\n        return $http.get(\"https://checklinked.com/ajax/subscription_invites-get.php?idSUB=\" + idSUB, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          return $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res;\r\n        });\r\n      },\r\n      getInvite: function (idSUI) {\r\n        return $http.get(\"https://checklinked.com/ajax/subscription_invite-get.php?idSUI=\" + idSUI, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          return $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res;\r\n        });\r\n      },\r\n      finalize: function (offer, pmtMethod) {\r\n        return $http.post('https://checklinked.com/ajax/subscription_finalize-post.php', {\r\n          offer: offer,\r\n          pmtMethod: pmtMethod\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      makeSubscriptionActive: function (idSUB) {\r\n        return $http.post('https://checklinked.com/ajax/subscription_makeActive-post.php', {\r\n          idSUB: idSUB\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      invite: function (email) {\r\n        console.log('inviting', email);\r\n        return $http.post('https://checklinked.com/ajax/subscription_invite_send-post.php', {\r\n          email: email\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      withdrawInvite: function (invite) {\r\n        return $http.post('https://checklinked.com/ajax/subscription_invite_withdraw-post.php', {\r\n          suiRID: invite.rid\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      offboardMember: function (member) {\r\n        return $http.post('https://checklinked.com/ajax/organization_member_offboard-post.php', {\r\n          idCON: member.idCON\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      acceptInvite: function (idSUI, option, details) {\r\n        var pack;\r\n        if (option === 'login') {\r\n          pack = {\r\n            idSUI: idSUI,\r\n            option: option,\r\n            username: details.username,\r\n            password: details.password\r\n          };\r\n        } else if (option === 'signup') {\r\n          pack = {\r\n            idSUI: idSUI,\r\n            option: option,\r\n            contact: details.contact,\r\n            password: details.password\r\n          };\r\n        }\r\n        return $http.post('https://checklinked.com/ajax/subscription_invite_accept-post.php', pack, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      }\r\n    }\r\n\r\n\r\n    ////////////////////// ATTACHMENTS\r\n    api.attachments = {\r\n\r\n      add: function (pID, pType, aws, name, size, label) {\r\n        return $http.post('https://checklinked.com/ajax/attachments-finish_upload-post.php', {\r\n          pID: pID,\r\n          pType: pType,\r\n          aws: aws,\r\n          name: name,\r\n          size: size,\r\n          label: label\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      parent: function (idPARENT) {\r\n        return $http.get(\"https://checklinked.com/ajax/attachments-get.php?t=group&p=\" + idPARENT, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res.attachments;\r\n        });\r\n      },\r\n      checklist: function (idCHK) {\r\n        return $http.get('https://checklinked.com/ajax/attachments-get.php?idCHK=' + idCHK, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          console.log('res.attachments', res.attachments);\r\n          return res.attachments;\r\n        });\r\n      },\r\n      attachment: function (idATT) {\r\n        console.log('idATT', idATT);\r\n        return $http.get('https://checklinked.com/ajax/attachments-get.php?idATT=' + idATT, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res.attacments;\r\n        });\r\n      }\r\n\r\n    }\r\n\r\n    ////////////////////// SUMMARY\r\n    api.summary = {\r\n\r\n      evaluateItem: function (item, checkboxes) {\r\n\r\n        //console.log('item', item);\r\n        //console.log('checkboxes', checkboxes);\r\n\r\n        var left, right;\r\n        item.conflicts = false;\r\n        item.nonCompliant = false;\r\n        left = this.evaluateCheckbox(checkboxes[0]);\r\n        right = this.evaluateCheckbox(checkboxes[1]);\r\n        if (checkboxes[1] !== void 0) {\r\n          if (left !== right) {\r\n            item.conflicts = true;\r\n          }\r\n        }\r\n        if (left === 'non-compliant') {\r\n          checkboxes[0].nonCompliant = true;\r\n        } else if (checkboxes[0] !== void 0) {\r\n          checkboxes[0].nonCompliant = false;\r\n        }\r\n        if (right === 'non-compliant') {\r\n          checkboxes[1].nonCompliant = true;\r\n        } else if (checkboxes[1] !== void 0) {\r\n          checkboxes[1].nonCompliant = false;\r\n        }\r\n        item.checkbox = checkboxes;\r\n        if (left === 'non-compliant' || right === 'non-compliant') {\r\n          item.nonCompliant = true;\r\n        }\r\n        return item;\r\n      },\r\n      evaluateCheckbox: function (checkbox) {\r\n        var condition;\r\n        condition = 'blank';\r\n        if (checkbox === void 0 || checkbox === []) {\r\n\r\n        } else if (checkbox.applies && checkbox.complies) {\r\n          condition = 'compliant';\r\n        } else if (checkbox.applies) {\r\n          condition = 'non-compliant';\r\n        } else if (checkbox.complies) {\r\n          condition = 'irrelevant';\r\n        }\r\n        return condition;\r\n      },\r\n      reports: {\r\n        get: function () {\r\n          return $http.get('https://checklinked.com/ajax/conflictReports-get.php', {\r\n            cache: false\r\n          }).success(function (res) {\r\n            return res;\r\n          });\r\n        },\r\n        request: function () {\r\n          return $http.post('https://checklinked.com/ajax/conflictReports-request-post.php', {\r\n            idsCHK: [],\r\n            requestedAt: ''\r\n          }, {\r\n            headers: {\r\n              'Content-Type': 'application/x-www-form-urlencoded'\r\n            },\r\n            cache: false\r\n          });\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n\r\n    //////////////////////TEAMMEBERS\r\n    api.teammembers = {\r\n\r\n      get: function () {\r\n        return $http.get('https://checklinked.com/ajax/organization_members-get.php');\r\n      }\r\n\r\n    }\r\n\r\n\r\n    api.mail = {\r\n      inbox: $resource(api.baseUrl + 'mail/inbox.json')\r\n    };\r\n\r\n\r\n    return api;\r\n  }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.logout', [])\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($stateProvider)\r\n    {\r\n        $stateProvider.state('app.logout', {\r\n            url    : '/logout'\r\n        });\r\n    }\r\n})();\nangular.module(\"checklinked\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/core/layouts/content-only.html\",\"<div id=\\\"layout-content-only\\\" class=\\\"template-layout\\\" layout=\\\"column\\\" flex><md-content id=\\\"content\\\" \\nclass=\\\"animate-slide-up md-hue-2\\\" ui-view=\\\"content\\\" flex></md-content></div>\");\n$templateCache.put(\"app/core/layouts/content-with-toolbar.html\",\"<div id=\\\"layout-content-with-toolbar\\\" class=\\\"template-layout\\\" layout=\\\"column\\\" flex><md-toolbar id=\\\"toolbar\\\" \\nclass=\\\"md-menu-toolbar md-whiteframe-1dp\\\" ui-view=\\\"toolbar\\\"></md-toolbar><md-content id=\\\"content\\\" \\nclass=\\\"animate-slide-up md-hue-2\\\" ui-view=\\\"content\\\" flex></md-content><md-sidenav id=\\\"quick-panel\\\" \\nclass=\\\"md-sidenav-right md-whiteframe-4dp\\\" md-component-id=\\\"quick-panel\\\" ms-scroll ui-view=\\\"quickPanel\\\"></md-sidenav>\\n</div>\");\n$templateCache.put(\"app/core/layouts/horizontal-navigation.html\",\"<div id=\\\"layout-horizontal-navigation\\\" class=\\\"template-layout\\\" layout=\\\"column\\\" flex><md-toolbar id=\\\"toolbar\\\" \\nclass=\\\"md-menu-toolbar md-whiteframe-1dp\\\" ui-view=\\\"toolbar\\\"></md-toolbar><div id=\\\"content-container\\\" flex \\nlayout=\\\"column\\\"><md-content id=\\\"content\\\" class=\\\"animate-slide-up md-hue-2\\\" ms-scroll ui-view=\\\"content\\\" flex>\\n</md-content></div><md-sidenav id=\\\"quick-panel\\\" class=\\\"md-sidenav-right md-whiteframe-4dp\\\" \\nmd-component-id=\\\"quick-panel\\\" ms-scroll ui-view=\\\"quickPanel\\\"></md-sidenav></div>\");\n$templateCache.put(\"app/core/layouts/vertical-navigation-fullwidth-toolbar-2.html\",\"<div id=\\\"layout-vertical-navigation-fullwidth-toolbar-2\\\" class=\\\"template-layout\\\" layout=\\\"column\\\" flex><md-toolbar \\nid=\\\"toolbar\\\" class=\\\"md-menu-toolbar md-whiteframe-1dp md-accent\\\" ui-view=\\\"toolbar\\\"></md-toolbar><div \\nid=\\\"main-container\\\" layout=\\\"row\\\" flex><md-sidenav id=\\\"vertical-navigation\\\" class=\\\"md-primary-bg\\\" \\nmd-is-locked-open=\\\"$mdMedia(\\'gt-sm\\')\\\" md-component-id=\\\"navigation\\\" ms-scroll ui-view=\\\"navigation\\\"></md-sidenav><div \\nid=\\\"content-container\\\" flex layout=\\\"column\\\"><md-content id=\\\"content\\\" class=\\\"animate-slide-up md-hue-2\\\" ms-scroll \\nui-view=\\\"content\\\" flex></md-content></div><md-sidenav id=\\\"quick-panel\\\" class=\\\"md-sidenav-right md-whiteframe-4dp\\\" \\nmd-component-id=\\\"quick-panel\\\" ms-scroll ui-view=\\\"quickPanel\\\"></md-sidenav></div></div>\");\n$templateCache.put(\"app/core/layouts/vertical-navigation-fullwidth-toolbar.html\",\"<div id=\\\"layout-vertical-navigation-fullwidth-toolbar\\\" class=\\\"template-layout\\\" layout=\\\"column\\\" flex><md-toolbar \\nid=\\\"toolbar\\\" class=\\\"md-menu-toolbar md-whiteframe-1dp md-accent\\\" ui-view=\\\"toolbar\\\"></md-toolbar><div \\nid=\\\"main-container\\\" layout=\\\"row\\\" flex><md-sidenav id=\\\"vertical-navigation\\\" class=\\\"md-primary-bg\\\" \\nmd-is-locked-open=\\\"$mdMedia(\\'gt-sm\\')\\\" md-component-id=\\\"navigation\\\" ms-scroll ui-view=\\\"navigation\\\"></md-sidenav><div \\nid=\\\"content-container\\\" flex layout=\\\"column\\\"><md-content id=\\\"content\\\" class=\\\"animate-slide-up md-hue-2\\\" ms-scroll \\nui-view=\\\"content\\\" flex></md-content></div><md-sidenav id=\\\"quick-panel\\\" class=\\\"md-sidenav-right md-whiteframe-4dp\\\" \\nmd-component-id=\\\"quick-panel\\\" ms-scroll ui-view=\\\"quickPanel\\\"></md-sidenav></div></div>\");\n$templateCache.put(\"app/core/layouts/vertical-navigation.html\",\"<div id=\\\"layout-vertical-navigation\\\" class=\\\"template-layout\\\" layout=\\\"row\\\" flex><md-sidenav id=\\\"vertical-navigation\\\" \\nclass=\\\"md-primary-bg\\\" md-is-locked-open=\\\"$mdMedia(\\'gt-sm\\')\\\" md-component-id=\\\"navigation\\\" ms-scroll \\nui-view=\\\"navigation\\\" ng-show=\\\"userSignupComplete()\\\"></md-sidenav><div id=\\\"content-container\\\" flex layout=\\\"column\\\">\\n<md-toolbar id=\\\"toolbar\\\" class=\\\"md-menu-toolbar md-whiteframe-1dp\\\" ui-view=\\\"toolbar\\\"></md-toolbar><md-content \\nid=\\\"content\\\" class=\\\"animate-slide-up md-hue-2\\\" ms-scroll ui-view=\\\"content\\\" flex></md-content></div></div>\");\n$templateCache.put(\"app/core/theme-options/theme-options.html\",\"<div class=\\\"ms-theme-options-button md-primary-bg\\\" ng-click=\\\"toggleOptionsSidenav()\\\"><md-icon md-font-icon=\\\"icon-cog\\\" \\nclass=\\\"white-text\\\"></md-icon></div><md-sidenav md-component-id=\\\"fuse-theme-options\\\" class=\\\"md-sidenav-right\\\"><div \\nclass=\\\"ms-theme-options-list\\\" layout=\\\"column\\\"><div class=\\\"theme-option layout-options\\\"><div class=\\\"option-title\\\">\\nLayout Style:</div><md-radio-group layout=\\\"row\\\" layout-align=\\\"start start\\\" layout-wrap ng-model=\\\"vm.layoutStyle\\\" \\nng-change=\\\"vm.updateLayoutStyle()\\\"><md-radio-button ng-repeat=\\\"layoutStyle in vm.layoutStyles\\\" \\nng-value=\\\"layoutStyle.value\\\"><div layout=\\\"column\\\" layout-align=\\\"center center\\\"><img ng-src=\\\"{{layoutStyle.figure}}\\\"> \\n<span class=\\\"text-center font-size-12 mt-8\\\">{{layoutStyle.label}}</span></div></md-radio-button></md-radio-group></div>\\n<md-divider></md-divider><div class=\\\"theme-option\\\"><div class=\\\"option-title\\\">Layout Mode:</div><md-radio-group \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\" ng-model=\\\"vm.layoutMode\\\" ng-change=\\\"vm.updateLayoutMode()\\\"><md-radio-button \\nng-repeat=\\\"layoutMode in vm.layoutModes\\\" ng-value=\\\"layoutMode.value\\\">{{layoutMode.label}}</md-radio-button>\\n</md-radio-group></div><md-divider></md-divider><div class=\\\"theme-option color-palettes\\\"><div class=\\\"option-title\\\">\\nColor Palette:</div><div layout=\\\"row\\\" layout-align=\\\"start start\\\" layout-wrap><md-button \\nng-repeat=\\\"(themeName, theme) in vm.themes.list\\\" class=\\\"md-raised theme-button\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\" aria-label=\\\"{{themeName}}\\\" ng-click=\\\"vm.setActiveTheme(themeName)\\\" \\nng-style=\\\"{\\'background-color\\': theme.primary.color,\\'border-color\\': theme.accent.color,\\'color\\': theme.primary.contrast1}\\\" \\nng-class=\\\"{active: vm.getActiveTheme().name === themeName}\\\"><md-icon ng-style=\\\"{\\'color\\': theme.primary.contrast1}\\\" \\nmd-font-icon=\\\"icon-palette\\\" class=\\\"icon s32\\\"></md-icon></md-button></div></div></div></md-sidenav>\");\n$templateCache.put(\"app/main/account/confirm.html\",\"<div id=\\\"register\\\" class=\\\"flex-scrollable\\\" layout=\\\"column\\\" ms-scroll><div id=\\\"register-form-wrapper\\\" layout=\\\"column\\\" \\nlayout-align=\\\"center center\\\"><div id=\\\"register-form\\\" class=\\\"md-whiteframe-8dp\\\"><div class=\\\"logo md-accent-bg\\\"><span>CL\\n</span></div><div class=\\\"title\\\">{{vm.message}}</div><form name=\\\"loginForm\\\" action=\\\"/login/\\\"><md-button type=\\\"submit\\\" \\nclass=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"LOG IN\\\">LOG IN</md-button></form></div></div></div>\");\n$templateCache.put(\"app/main/account/invite.html\",\"<div id=\\\"login\\\" class=\\\"flex-scrollable\\\" layout=\\\"column\\\" ms-scroll><div id=\\\"login-form-wrapper\\\" layout=\\\"column\\\" \\nlayout-align=\\\"center center\\\"><div id=\\\"login-form\\\" class=\\\"md-whiteframe-8dp\\\"><div class=\\\"logo md-accent-bg\\\"><span>CL\\n</span></div><div class=\\\"title\\\">Invitation From: {{vm.invite.organization.name}}</div><div class=\\\"title\\\">\\nChoose this option to:</div><div><ul><li>Keep existing username/password</li><li>Leave current Org</li><li>\\nLose access to current Org info</li><li>Keep only Contacts &amp; Direct Messages</li></ul></div><form name=\\\"loginForm\\\" \\nnovalidate ng-submit=\\\"vm.acceptInvite.login()\\\"><md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"email\\\" \\nname=\\\"email\\\" ng-model=\\\"vm.acceptInvite.signin.username\\\" placeholder=\\\"Email\\\" ng-pattern=\\\"/^.+@.+\\\\..+$/\\\" required><div \\nng-messages=\\\"loginForm.email.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\"><span>\\nEmail field is required</span></div><div ng-message=\\\"pattern\\\"><span>Email must be a valid e-mail address</span></div>\\n</div></md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"password\\\" name=\\\"password\\\" \\nng-model=\\\"vm.acceptInvite.signin.password\\\" placeholder=\\\"Password\\\" required><div \\nng-messages=\\\"loginForm.password.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Password field is required</span>\\n</div></div></md-input-container><md-button type=\\\"submit\\\" class=\\\"md-raised md-accent submit-button\\\" \\naria-label=\\\"Accept Invitation\\\" ng-disabled=\\\"loginForm.$invalid || loginForm.$pristine\\\">ACCEPT INVITATION</md-button>\\n</form></div></div></div><div id=\\\"register\\\" class=\\\"flex-scrollable\\\" layout=\\\"column\\\" ms-scroll><div \\nid=\\\"register-form-wrapper\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\"><div id=\\\"register-form\\\" \\nclass=\\\"md-whiteframe-8dp\\\"><div class=\\\"logo md-accent-bg\\\"><span>CL</span></div><div class=\\\"title\\\" \\ntranslate=\\\"ACCOUNT.TITLE\\\">Create New Account</div><div ng-if=\\\"!vm.create.success\\\"><form name=\\\"registerForm\\\" novalidate \\nng-submit=\\\"vm.acceptInvite.signup()\\\"><md-input-container class=\\\"md-block\\\" md-no-float><input name=\\\"first\\\" \\nng-model=\\\"vm.acceptInvite.reg.contact.name.first\\\" placeholder=\\\"First Name\\\" translate \\ntranslate-attr-placeholder=\\\"ACCOUNT.FIRST\\\" required><div ng-messages=\\\"registerForm.first.$error\\\" role=\\\"alert\\\"><div \\nng-message=\\\"required\\\"><span translate=\\\"ACCOUNT.ERRORS.FIRSTNAME_REQUIRED\\\">First Name field is required</span></div>\\n</div></md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input name=\\\"last\\\" \\nng-model=\\\"vm.acceptInvite.reg.contact.name.last\\\" placeholder=\\\"Last Name\\\" translate \\ntranslate-attr-placeholder=\\\"ACCOUNT.LAST\\\" required><div ng-messages=\\\"registerForm.last.$error\\\" role=\\\"alert\\\"><div \\nng-message=\\\"required\\\"><span translate=\\\"ACCOUNT.ERRORS.LASTNAME_REQUIRED\\\">Last Name field is required</span></div></div>\\n</md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"email\\\" name=\\\"email\\\" \\nng-model=\\\"vm.acceptInvite.reg.contact.email\\\" placeholder=\\\"Email\\\" translate translate-attr-placeholder=\\\"ACCOUNT.EMAIL\\\" \\nng-pattern=\\\"/^.+@.+\\\\..+$/\\\" required><div ng-messages=\\\"registerForm.email.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div \\nng-message=\\\"required\\\"><span translate=\\\"ACCOUNT.ERRORS.EMAIL_REQUIRED\\\">Email field is required</span></div><div \\nng-message=\\\"pattern\\\"><span translate=\\\"ACCOUNT.ERRORS.EMAIL_MUST_VALID\\\">Email must be a valid e-mail address</span>\\n</div></div></md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"password\\\" \\nname=\\\"password\\\" ng-model=\\\"vm.acceptInvite.reg.password\\\" placeholder=\\\"Password\\\" translate \\ntranslate-attr-placeholder=\\\"ACCOUNT.PASSWORD\\\" required><div ng-messages=\\\"registerForm.password.$error\\\" role=\\\"alert\\\">\\n<div ng-message=\\\"required\\\"><span translate=\\\"ACCOUNT.ERRORS.PASSWORD_REQUIRED\\\">Password field is required</span></div>\\n</div></md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"password\\\" name=\\\"password2\\\" \\nng-model=\\\"vm.acceptInvite.reg.password2\\\" placeholder=\\\"Password (Confirm)\\\" translate \\ntranslate-attr-placeholder=\\\"ACCOUNT.PASSWORD_CONFIRM\\\" required><div ng-messages=\\\"registerForm.password2.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span translate=\\\"ACCOUNT.ERRORS.PASSWORD_CONFIRM_REQUIRED\\\">\\nPassword (Confirm) field is required</span></div></div></md-input-container><md-button type=\\\"submit\\\" \\nclass=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"ACCEPT INVITATION\\\" \\nng-disabled=\\\"registerForm.$invalid || registerForm.$pristine\\\" translate=\\\"ACCOUNT.ACCEPT_INVITATION\\\" \\ntranslate-attr-aria-label=\\\"ACCOUNT.ACCEPT_INVITATION\\\">ACCEPT INVITATION</md-button></form></div></div></div></div>\");\n$templateCache.put(\"app/main/chat/chat.html\",\"<div id=\\\"chat-app\\\" class=\\\"page-layout carded fullwidth\\\"><div class=\\\"top-bg md-accent-bg\\\"></div><div class=\\\"center\\\"><div\\n class=\\\"content-card\\\" layout=\\\"row\\\" flex><md-sidenav class=\\\"sidenav left-sidenav md-sidenav-left\\\" \\nmd-is-locked-open=\\\"$mdMedia(\\'gt-md\\')\\\" md-component-id=\\\"left-sidenav\\\" ms-sidenav-helper \\ndata-ng-include=\\\"\\'app/main/chat/sidenavs/left/left-sidenav.html\\'\\\" layout=\\\"column\\\"></md-sidenav><div \\nclass=\\\"start-point\\\" data-ng-if=\\\"!vm.chat\\\" flex layout=\\\"column\\\" flex layout-align=\\\"center center\\\"><div \\nclass=\\\"big-circle md-whiteframe-4dp\\\"><md-icon class=\\\"s128 md-accent\\\" md-font-icon=\\\"icon-hangouts\\\"></md-icon></div><span\\n class=\\\"app-title\\\" translate=\\\"CHAT.APP_TITLE\\\">Messaging</span> <span class=\\\"hide show-gt-md secondary-text\\\" \\ntranslate=\\\"CHAT.START_MESSAGE\\\">Select contact to start the chat!..</span><md-button class=\\\"md-raised hide-gt-md\\\" \\ndata-ng-click=\\\"vm.toggleSidenav(\\'left-sidenav\\')\\\" translate=\\\"CHAT.START_MESSAGE\\\">Select contact to start the chat!..\\n</md-button></div><div data-ng-if=\\\"vm.chat\\\" class=\\\"chat\\\" layout=\\\"column\\\" flex><md-toolbar class=\\\"chat-toolbar\\\"><div \\nclass=\\\"md-toolbar-tools\\\"><md-button class=\\\"hide-gt-md responsive-chats-button md-icon-button\\\" \\ndata-ng-click=\\\"vm.toggleLeftSidenavView(false);vm.toggleSidenav(\\'left-sidenav\\')\\\" aria-label=\\\"chats button\\\"><md-icon \\nmd-font-icon=\\\"icon-hangouts s36\\\"></md-icon></md-button><div class=\\\"chat-contact\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" data-ng-click=\\\"vm.toggleSidenav(\\'right-sidenav\\')\\\"><div class=\\\"avatar-wrapper\\\"><img \\nsrc=\\\"assets/images/avatars/profile.jpg\\\" class=\\\"avatar\\\" alt=\\\"{{vm.contacts.getById(vm.chatContactId).name}}\\\"> <i \\nclass=\\\"icon icon- s16 status\\\" data-ng-class=\\\"online\\\"></i></div><div class=\\\"chat-contact-name\\\">\\n{{vm.viewingConversation.nameFull}}</div></div><md-menu md-position-mode=\\\"target-right target\\\"><md-button \\nclass=\\\"md-icon-button\\\" data-ng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"more\\\"><md-icon md-font-icon=\\\"icon-dots-vertical\\\">\\n</md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button \\ndata-ng-click=\\\"vm.toggleSidenav(\\'right-sidenav\\')\\\" translate=\\\"CHAT.CONTACT_INFO\\\">Contact Info</md-button></md-menu-item>\\n<md-menu-item><md-button data-ng-click=\\\"vm.clearMessages()\\\" translate=\\\"CHAT.CLEAR_MESSAGES\\\">Clear Messages</md-button>\\n</md-menu-item></md-menu-content></md-menu></div></md-toolbar><md-content id=\\\"chat-content\\\" flex ms-scroll><div \\nclass=\\\"chat-messages\\\" data-ng-if=\\\"vm.chat\\\"><div layout=\\\"row\\\" data-ng-repeat=\\\"dialog in vm.chat\\\" \\nclass=\\\"md-padding message-row\\\" data-ng-class=\\\"dialog.who\\\"><img src=\\\"assets/images/avatars/profile.jpg\\\" class=\\\"avatar\\\" \\nalt=\\\"{{dialog.user}}\\\"><div class=\\\"bubble\\\"><div class=\\\"message\\\">{{dialog.text}}</div><div class=\\\"time secondary-text\\\">\\n{{dialog.timestamp | date:\\'medium\\'}}</div></div></div></div></md-content><div class=\\\"chat-footer flex-noshrink\\\" \\nlayout=\\\"row\\\" layout-align=\\\"center center\\\"><form data-ng-submit=\\\"vm.reply()\\\" flex class=\\\"reply-form\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-input-container flex md-no-float><textarea data-ng-keyup=\\\"vm.reply($event)\\\" \\nmd-no-autogrow data-ng-model=\\\"vm.replyMessage\\\" data-ng-class=\\\"{\\'grow\\': vm.textareaGrow}\\\" \\nplaceholder=\\\"Type and hit enter to send message\\\" translate translate-attr-placeholder=\\\"CHAT.REPLY_PLACEHOLDER\\\">\\n\\r\\n                            </textarea></md-input-container><md-button class=\\\"md-fab\\\" type=\\\"submit\\\" \\naria-label=\\\"Send message\\\" translate translate-attr-aria-label=\\\"CHAT.SEND_MESSAGE\\\"><md-icon md-font-icon=\\\"icon-send\\\">\\n</md-icon></md-button></form></div></div><md-sidenav class=\\\"sidenav right-sidenav md-sidenav-right\\\" layout=\\\"column\\\" \\nmd-component-id=\\\"right-sidenav\\\" ms-sidenav-helper data-ng-include=\\\"\\'app/main/chat/sidenavs/right/right-sidenav.html\\'\\\">\\n</md-sidenav></div></div></div>\");\n$templateCache.put(\"app/main/checklist/checklist.html\",\"<div id=\\\"checklist\\\" class=\\\"page-layout carded left-sidenav\\\" layout=\\\"row\\\" style=\\\"margin-top:20px\\\"><div \\nclass=\\\"top-bg md-accent-bg\\\"></div><div class=\\\"center\\\" layout=\\\"column\\\" flex><div class=\\\"content-card\\\" layout=\\\"column\\\" \\nflex><div class=\\\"toolbar-list\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\" ng-if=\\\"vm.checklists.length\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><md-select class=\\\"simplified\\\" ng-model=\\\"vm.checklistOrder\\\" \\nplaceholder=\\\"Order\\\" \\nng-change=\\\"vm.checklistOrderDescending = vm.checklistOrder === \\'\\' ? false : vm.checklistOrderDescending\\\"><md-option \\nvalue=\\\"name\\\" translate=\\\"CHECKLIST.NAME\\\">Checklist Title</md-option></md-select><md-button class=\\\"md-icon-button\\\" \\nng-disabled=\\\"vm.checklistOrder === \\'\\'\\\" ng-click=\\\"vm.checklistOrderDescending = !vm.checklistOrderDescending\\\" \\naria-label=\\\"Sort Direction\\\" translate translate-attr-aria-label=\\\"GROUP.SORT_DIRECTION\\\"><md-icon \\nmd-font-icon=\\\"icon-sort-ascending\\\" ng-if=\\\"vm.checklistOrderDescending === false\\\" class=\\\"s18\\\"></md-icon><md-icon \\nmd-font-icon=\\\"icon-sort-descending\\\" ng-if=\\\"vm.checklistOrderDescending === true\\\" class=\\\"s18\\\"></md-icon></md-button>\\n</div><div class=\\\"text-right\\\" layout=\\\"row\\\" layout-align=\\\"end center\\\"><md-icon md-font-icon=\\\"icon-alert-circle\\\" \\nclass=\\\"is-important red-600-fg\\\" ng-if=\\\"checklist.important\\\"></md-icon><md-menu><md-button \\nng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button\\\" aria-label=\\\"More\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical\\\" class=\\\"s18\\\"></md-icon>\\n</md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button class=\\\"item\\\" ng-click=\\\"vm.addChecklistDialog($event)\\\" \\naria-label=\\\"Create New Checklist\\\"><md-icon class=\\\"md-accent s18\\\" md-font-icon=\\\"icon-pencil\\\"></md-icon><span \\ntranslate-attr-aria-label=\\\"CHECKLIST.CREATE_NEW_CHECKLIST\\\">Create New Checklist</span></md-button></md-menu-item>\\n<md-menu-item><md-button class=\\\"item\\\" ng-click=\\\"vm.find.begin($event, vm.folder_id, \\'checklist\\')\\\" \\naria-label=\\\"Download Templates\\\"><md-icon class=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-cloud-download\\\"></md-icon><span \\ntranslate-attr-aria-label=\\\"CHECKLIST.DOWNLOAD_TEMPLATES\\\">Download Templates</span></md-button></md-menu-item>\\n</md-menu-content></md-menu></div></div><div class=\\\"content\\\" layout=\\\"row\\\" flex><md-content class=\\\"todo-list-pane\\\" flex \\nng-include=\\\"\\'app/main/checklist/views/list/checklists.html\\'\\\" ms-scroll=\\\"vm.msScrollOptions\\\"></md-content></div></div>\\n</div></div>\");\n$templateCache.put(\"app/main/confirm/confirm.html\",\"<div id=\\\"register\\\" class=\\\"flex-scrollable\\\" layout=\\\"column\\\" ms-scroll><div id=\\\"register-form-wrapper\\\" layout=\\\"column\\\" \\nlayout-align=\\\"center center\\\"><div id=\\\"register-form\\\" class=\\\"md-whiteframe-8dp\\\"><div class=\\\"logo md-accent-bg\\\"><span>CL\\n</span></div><div class=\\\"title\\\" translate=\\\"CONFIRM.TITLE\\\">Confirm Account</div><div ng-if=\\\"vm.message\\\"><p>\\n{{vm.message}}</p></div><form name=\\\"registerForm\\\" novalidate action=\\\"/logout/\\\"><md-button type=\\\"submit\\\" \\nclass=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"CREATE MY ACCOUNT\\\" translate=\\\"CONFIRM.LOGIN\\\" \\ntranslate-attr-aria-label=\\\"CONFIRM.LOGIN\\\">LOGIN</md-button></form></div></div></div>\");\n$templateCache.put(\"app/main/confirm/org.html\",\"\");\n$templateCache.put(\"app/main/contacts/contacts.html\",\"<div id=\\\"contacts\\\" class=\\\"page-layout simple tabbed pad-0\\\" layout=\\\"column\\\"><div class=\\\"header md-accent-bg\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"white-fg\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div \\nlayout=\\\"column\\\" layout-align=\\\"start start\\\"><div class=\\\"h2\\\"><span>Contacts</span></div></div></div></div><div \\nclass=\\\"content\\\"><md-tabs md-dynamic-height class=\\\"\\\"><md-tab><md-tab-label><span translate=\\\"\\\">Contacts</span>\\n</md-tab-label><md-tab-body class=\\\"pad-0\\\"><div ng-include=\\\"\\'app/main/contacts/partials/contacts.html\\'\\\"></div>\\n</md-tab-body></md-tab></md-tabs></div></div>\");\n$templateCache.put(\"app/main/create/create.html\",\"<div id=\\\"register\\\" class=\\\"flex-scrollable\\\" layout=\\\"column\\\" ms-scroll><div id=\\\"register-form-wrapper\\\" layout=\\\"column\\\" \\nlayout-align=\\\"center center\\\"><div id=\\\"register-form\\\" class=\\\"md-whiteframe-8dp\\\"><div class=\\\"logo md-accent-bg\\\"><span>CL\\n</span></div><div class=\\\"title\\\" translate=\\\"REGISTER.TITLE\\\">Create an account</div><div ng-if=\\\"!vm.create.success\\\"><p>\\nTo create your Account, enter your first and last name, email (which acts as your Login ID), and desired password. When you submit, you will be sent a confirmation.\\n</p></div><div ng-if=\\\"!vm.create.success\\\"><form name=\\\"registerForm\\\" novalidate ng-submit=\\\"vm.sendInfo()\\\">\\n<md-input-container class=\\\"md-block\\\" md-no-float><input name=\\\"first\\\" ng-model=\\\"vm.create.reg.name.first\\\" \\nplaceholder=\\\"First Name\\\" translate translate-attr-placeholder=\\\"REGISTER.FIRST\\\" required><div \\nng-messages=\\\"registerForm.first.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"REGISTER.ERRORS.FIRSTNAME_REQUIRED\\\">First Name field is required</span></div></div></md-input-container>\\n<md-input-container class=\\\"md-block\\\" md-no-float><input name=\\\"last\\\" ng-model=\\\"vm.create.reg.name.last\\\" \\nplaceholder=\\\"Last Name\\\" translate translate-attr-placeholder=\\\"REGISTER.LAST\\\" required><div \\nng-messages=\\\"registerForm.last.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"REGISTER.ERRORS.LASTNAME_REQUIRED\\\">Last Name field is required</span></div></div></md-input-container>\\n<md-input-container class=\\\"md-block\\\" md-no-float><input name=\\\"phone\\\" ng-model=\\\"vm.create.reg.phone\\\" \\nplaceholder=\\\"Phone Number\\\" translate translate-attr-placeholder=\\\"REGISTER.PHONE\\\" required><div \\nng-messages=\\\"registerForm.phone.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"REGISTER.ERRORS.PHONE_REQUIRED\\\">Phone Number field is required</span></div></div></md-input-container>\\n<md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"email\\\" name=\\\"email\\\" ng-model=\\\"vm.create.reg.email\\\" \\nplaceholder=\\\"Email\\\" translate translate-attr-placeholder=\\\"REGISTER.EMAIL\\\" ng-pattern=\\\"/^.+@.+\\\\..+$/\\\" required><div \\nng-messages=\\\"registerForm.email.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"REGISTER.ERRORS.EMAIL_REQUIRED\\\">Email field is required</span></div><div ng-message=\\\"pattern\\\"><span \\ntranslate=\\\"REGISTER.ERRORS.EMAIL_MUST_VALID\\\">Email must be a valid e-mail address</span></div></div>\\n</md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"password\\\" name=\\\"password\\\" \\nng-model=\\\"vm.create.reg.password\\\" placeholder=\\\"Password\\\" translate translate-attr-placeholder=\\\"REGISTER.PASSWORD\\\" \\nrequired><div ng-messages=\\\"registerForm.password.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"REGISTER.ERRORS.PASSWORD_REQUIRED\\\">Password field is required</span></div></div></md-input-container>\\n<md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"password\\\" name=\\\"password2\\\" \\nng-model=\\\"vm.create.reg.password2\\\" placeholder=\\\"Password (Confirm)\\\" translate \\ntranslate-attr-placeholder=\\\"REGISTER.PASSWORD_CONFIRM\\\" required><div ng-messages=\\\"registerForm.password2.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span translate=\\\"REGISTER.ERRORS.PASSWORD_CONFIRM_REQUIRED\\\">\\nPassword (Confirm) field is required</span></div></div></md-input-container><div class=\\\"terms\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\"><md-checkbox name=\\\"terms\\\" ng-model=\\\"data.cb1\\\" aria-label=\\\"I read and accept\\\" required>\\n</md-checkbox><div layout=\\\"row\\\" layout-sm=\\\"column\\\" layout-align=\\\"start center\\\"><span translate=\\\"REGISTER.READ_ACCEPT\\\">\\nI read and accept</span> <a href=\\\"#\\\" class=\\\"md-accent-color\\\" translate=\\\"REGISTER.TERMS_COND\\\">terms and conditions</a>\\n</div></div><md-button type=\\\"submit\\\" class=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"CREATE MY ACCOUNT\\\" \\nng-disabled=\\\"registerForm.$invalid || registerForm.$pristine\\\" translate=\\\"REGISTER.CREATE_ACCOUNT\\\" \\ntranslate-attr-aria-label=\\\"REGISTER.CREATE_ACCOUNT\\\">CREATE MY ACCOUNT</md-button></form><div class=\\\"login\\\" \\nlayout=\\\"row\\\" layout-xs=\\\"column\\\" layout-align=\\\"center center\\\"><span class=\\\"text\\\" translate=\\\"REGISTER.ALREADY_HAVE\\\">\\nAlready have an account?</span> <a class=\\\"link\\\" ui-sref=\\\"app.login\\\" translate=\\\"REGISTER.LOGIN\\\">Log in</a></div></div>\\n<div ng-if=\\\"vm.create.success\\\"><p>\\nYour registration has been received, and is pending; we have sent a confirmation email to the email address you provided.\\n</p><p>To complete your registration, please click the confirmation link in the email we sent.</p></div></div></div>\\n</div>\");\n$templateCache.put(\"app/main/dashboard/dashboard.html\",\"<div class=\\\"page-layout carded fullwidth\\\" layout=\\\"row\\\"><div class=\\\"top-bg md-accent-bg\\\"></div><div class=\\\"center\\\" \\nlayout=\\\"column\\\" flex><div class=\\\"header\\\"><span class=\\\"h2 white-fg\\\">Dashboard</span></div><div class=\\\"content-card\\\" \\nlayout=\\\"column\\\" flex><div class=\\\"toolbar\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><span>Metrics</span></div>\\n<md-content class=\\\"content\\\" flex ms-scroll><div class=\\\"demo-content\\\"><md-button type=\\\"button\\\" \\nhref=\\\"https://checklinked.com/ajax/dashboard-login.php\\\" target=\\\"_blank\\\" \\nclass=\\\"md-accent md-raised md-button ng-scope md-ink-ripple md-default-theme pull-right\\\">Label Metrics</md-button>\\n</div></md-content></div></div></div>\");\n$templateCache.put(\"app/main/file-manager/file-manager.html\",\"<div id=\\\"file-manager\\\" class=\\\"page-layout simple right-sidenav\\\" layout=\\\"row\\\"><md-sidenav class=\\\"main-sidenav\\\" \\nmd-component-id=\\\"main-sidenav\\\" ng-include=\\\"\\'app/main/file-manager/sidenavs/main/main-sidenav.html\\'\\\" ms-scroll \\nms-sidenav-helper></md-sidenav><div class=\\\"center\\\" layout=\\\"column\\\" flex><div class=\\\"header md-accent-bg\\\"><div \\nclass=\\\"header-content\\\" layout=\\\"column\\\" layout-align=\\\"space-between\\\"><div class=\\\"toolbar\\\" layout=\\\"row\\\" \\nlayout-align=\\\"space-between\\\"><md-button class=\\\"md-icon-button main-sidenav-toggle\\\" \\nng-click=\\\"vm.toggleSidenav(\\'main-sidenav\\')\\\" aria-label=\\\"Toggle Main Sidenav\\\" translate \\ntranslate-attr-aria-label=\\\"FILE.TOOGLE_MAIN_SIDENAV\\\"><md-icon md-font-icon=\\\"icon-menu\\\" class=\\\"icon\\\"></md-icon>\\n</md-button><div class=\\\"right-side\\\" layout=\\\"row\\\"><md-button class=\\\"md-icon-button\\\" aria-label=\\\"Search\\\" translate \\ntranslate-attr-aria-label=\\\"FM.SEARCH\\\"><md-icon md-font-icon=\\\"icon-magnify\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"FM.SEARCH\\\">Search</span></md-tooltip></md-button><md-button ng-if=\\\"vm.currentView === \\'list\\'\\\" \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.toggleView()\\\" aria-label=\\\"view type\\\" translate \\ntranslate-attr-aria-label=\\\"FM.GRID_VIEW\\\"><md-icon md-font-icon=\\\"icon-view-module\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"FM.GRID_VIEW\\\">Grid View</span></md-tooltip></md-button><md-button ng-if=\\\"vm.currentView === \\'grid\\'\\\" \\nclass=\\\"md-icon-button\\\" aria-label=\\\"view type\\\" ng-click=\\\"vm.toggleView()\\\" translate \\ntranslate-attr-aria-label=\\\"FM.LIST_VIEW\\\"><md-icon md-font-icon=\\\"icon-view-headline\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"FM.LIST_VIEW\\\">List View</span></md-tooltip></md-button></div></div><div class=\\\"breadcrumb text-truncate\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><span data-ng-repeat=\\\"path in vm.path\\\">{{path}}<md-icon \\nmd-font-icon=\\\"icon-chevron-right\\\" class=\\\"icon separator\\\"></md-icon></span></div></div><div id=\\\"file-uploader\\\" \\nflow-init=\\\"vm.ngFlowOptions\\\" flow-name=\\\"vm.ngFlow.flow\\\" flow-files-submitted=\\\"vm.upload()\\\" \\nflow-file-added=\\\"vm.fileAdded($file)\\\" flow-file-success=\\\"vm.fileSuccess($file, $message)\\\" \\nflow-complete=\\\"vm.uploadComplete()\\\"><md-button flow-btn class=\\\"add-file-button md-fab md-warn\\\" \\nng-click=\\\"vm.addFile($event)\\\" aria-label=\\\"Add file\\\" translate translate-attr-aria-label=\\\"FM.ADD_FILE\\\"><md-icon \\nmd-font-icon=\\\"icon-plus\\\"></md-icon></md-button></div></div><md-content class=\\\"content\\\" flex ms-scroll><div \\nng-if=\\\"vm.currentView === \\'grid\\'\\\" ng-include=\\\"\\'app/main/file-manager/views/grid/grid-view.html\\'\\\"></div><div \\nng-if=\\\"vm.currentView === \\'list\\'\\\" ng-include=\\\"\\'app/main/file-manager/views/list/list-view.html\\'\\\"></div></md-content>\\n</div><md-sidenav class=\\\"sidenav details-sidenav md-sidenav-right\\\" md-is-locked-open=\\\"$mdMedia(\\'gt-md\\')\\\" \\nmd-component-id=\\\"details-sidenav\\\" ng-include=\\\"\\'app/main/file-manager/sidenavs/details/details-sidenav.html\\'\\\" ms-scroll \\nms-sidenav-helper></md-sidenav></div>\");\n$templateCache.put(\"app/main/folders/folders.html\",\"<div id=\\\"contacts\\\" class=\\\"page-layout simple tabbed pad-0\\\" layout=\\\"column\\\"><div class=\\\"header md-accent-bg\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"white-fg\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div \\nlayout=\\\"column\\\" layout-align=\\\"start start\\\"><div class=\\\"h2\\\"><span>Checklists</span></div></div></div></div><div \\nclass=\\\"content\\\"><md-tabs md-dynamic-height class=\\\"\\\"><md-tab><md-tab-label><span translate=\\\"\\\">My Projects</span>\\n</md-tab-label><md-tab-body class=\\\"pad-0\\\"><div ng-include=\\\"\\'app/main/folders/partials/folders.html\\'\\\"></div>\\n</md-tab-body></md-tab></md-tabs></div></div>\");\n$templateCache.put(\"app/main/folders/foldersBAK.html\",\"<div id=\\\"checklist\\\" class=\\\"page-layout carded left-sidenav\\\" layout=\\\"row\\\"><div class=\\\"top-bg md-accent-bg\\\"></div>\\n<md-sidenav class=\\\"sidenav\\\" md-is-locked-open=\\\"$mdMedia(\\'gt-md\\')\\\" md-component-id=\\\"folder-sidenav\\\" \\nng-include=\\\"\\'app/main/folders/sidenavs/main/main-sidenav.html\\'\\\" ms-scroll ms-sidenav-helper></md-sidenav><div \\nclass=\\\"center\\\" layout=\\\"column\\\" flex><div class=\\\"header\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" hide-xs><div \\nclass=\\\"search-wrapper md-whiteframe-4dp\\\" flex layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button \\nclass=\\\"md-icon-button sidenav-toggle\\\" ng-click=\\\"vm.toggleSidenav(\\'folder-sidenav\\')\\\" hide-gt-md \\naria-label=\\\"Toggle sidenav\\\" translate translate-attr-aria-label=\\\"FOLDER.TOGGLE_SIDENAV\\\"><md-icon \\nmd-font-icon=\\\"icon-menu\\\" class=\\\"icon\\\"></md-icon></md-button><div class=\\\"search\\\" flex layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-icon md-font-icon=\\\"icon-magnify\\\" class=\\\"icon s24\\\"></md-icon><input flex \\nng-model=\\\"vm.folderFilters.search\\\" type=\\\"text\\\" placeholder=\\\"Search Folders\\\" translate \\ntranslate-attr-placeholder=\\\"FOLDER.SEARCH\\\"></div></div></div><div class=\\\"content-card\\\" layout=\\\"column\\\" flex><div \\nclass=\\\"toolbar-list\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\" ng-if=\\\"vm.folders.length\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-select class=\\\"simplified\\\" ng-model=\\\"vm.folderOrder\\\" placeholder=\\\"Order\\\" \\nng-change=\\\"vm.folderOrderDescending = vm.folderOrder === \\'\\' ? false : vm.folderOrderDescending\\\"><md-option \\nvalue=\\\"name\\\" translate=\\\"FOLDER.NAME\\\">Folder Title</md-option><md-option value=\\\"description\\\" \\ntranslate=\\\"FOLDER.DESCRIPTION\\\">Folder Description</md-option></md-select><md-button class=\\\"md-icon-button\\\" \\nng-disabled=\\\"vm.folderOrder === \\'\\'\\\" ng-click=\\\"vm.folderOrderDescending = !vm.folderOrderDescending\\\" \\naria-label=\\\"Sort Direction\\\" translate translate-attr-aria-label=\\\"FOLDER.SORT_DIRECTION\\\"><md-icon \\nmd-font-icon=\\\"icon-sort-ascending\\\" ng-if=\\\"vm.folderOrderDescending === false\\\" class=\\\"s18\\\"></md-icon><md-icon \\nmd-font-icon=\\\"icon-sort-descending\\\" ng-if=\\\"vm.folderOrderDescending === true\\\" class=\\\"s18\\\"></md-icon></md-button></div>\\n</div><div class=\\\"content\\\" layout=\\\"row\\\" flex><md-content class=\\\"todo-list-pane\\\" flex \\nng-include=\\\"\\'app/main/folders/views/list/folders.html\\'\\\" ms-scroll=\\\"vm.msScrollOptions\\\"></md-content></div></div></div>\\n</div>\");\n$templateCache.put(\"app/main/groups/groups.html\",\"<div id=\\\"contacts\\\" class=\\\"page-layout simple tabbed pad-0\\\" layout=\\\"column\\\"><div class=\\\"header md-accent-bg\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"white-fg\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div \\nlayout=\\\"column\\\" layout-align=\\\"start start\\\"><div class=\\\"h2\\\"><span>Checklists</span></div></div></div></div><div \\nclass=\\\"content\\\"><md-tabs md-dynamic-height class=\\\"\\\"><md-tab><md-tab-label><span translate=\\\"\\\">My Folders</span>\\n</md-tab-label><md-tab-body class=\\\"pad-0\\\"><div ng-include=\\\"\\'app/main/groups/partials/groups.html\\'\\\"></div></md-tab-body>\\n</md-tab></md-tabs></div></div>\");\n$templateCache.put(\"app/main/groups/groupsBAK.html\",\"<div id=\\\"checklist\\\" class=\\\"page-layout carded left-sidenav\\\" layout=\\\"row\\\"><div class=\\\"top-bg md-accent-bg\\\"></div>\\n<md-sidenav class=\\\"sidenav\\\" md-is-locked-open=\\\"$mdMedia(\\'gt-md\\')\\\" md-component-id=\\\"group-sidenav\\\" \\nng-include=\\\"\\'app/main/groups/sidenavs/main/main-sidenav.html\\'\\\" ms-scroll ms-sidenav-helper></md-sidenav><div \\nclass=\\\"center\\\" layout=\\\"column\\\" flex><div class=\\\"header\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" hide-xs><div \\nclass=\\\"search-wrapper md-whiteframe-4dp\\\" flex layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button \\nclass=\\\"md-icon-button sidenav-toggle\\\" ng-click=\\\"vm.toggleSidenav(\\'group-sidenav\\')\\\" hide-gt-md \\naria-label=\\\"Toggle sidenav\\\" translate translate-attr-aria-label=\\\"GROUP.TOGGLE_SIDENAV\\\"><md-icon \\nmd-font-icon=\\\"icon-menu\\\" class=\\\"icon\\\"></md-icon></md-button><div class=\\\"search\\\" flex layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-icon md-font-icon=\\\"icon-magnify\\\" class=\\\"icon s24\\\"></md-icon><input flex \\nng-model=\\\"vm.groupFilters.search\\\" type=\\\"text\\\" placeholder=\\\"Search Groups\\\" translate \\ntranslate-attr-placeholder=\\\"GROUP.SEARCHS\\\"></div></div></div><div class=\\\"content-card\\\" layout=\\\"column\\\" flex><div \\nclass=\\\"toolbar-list\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\" ng-if=\\\"vm.groups.length\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-select class=\\\"simplified\\\" ng-model=\\\"vm.groupOrder\\\" placeholder=\\\"Order\\\" \\nng-change=\\\"vm.groupOrderDescending = vm.groupOrder === \\'\\' ? false : vm.groupOrderDescending\\\"><md-option value=\\\"name\\\" \\ntranslate=\\\"GROUP.NAME\\\">Group Title</md-option></md-select><md-button class=\\\"md-icon-button\\\" \\nng-disabled=\\\"vm.groupOrder === \\'\\'\\\" ng-click=\\\"vm.groupOrderDescending = !vm.groupOrderDescending\\\" \\naria-label=\\\"Sort Direction\\\" translate translate-attr-aria-label=\\\"GROUP.SORT_DIRECTION\\\"><md-icon \\nmd-font-icon=\\\"icon-sort-ascending\\\" ng-if=\\\"vm.groupOrderDescending === false\\\" class=\\\"s18\\\"></md-icon><md-icon \\nmd-font-icon=\\\"icon-sort-descending\\\" ng-if=\\\"vm.groupOrderDescending === true\\\" class=\\\"s18\\\"></md-icon></md-button></div>\\n</div><div class=\\\"content\\\" layout=\\\"row\\\" flex><md-content class=\\\"todo-list-pane\\\" flex \\nng-include=\\\"\\'app/main/groups/views/list/groups.html\\'\\\" ms-scroll=\\\"vm.msScrollOptions\\\"></md-content></div></div></div>\\n</div>\");\n$templateCache.put(\"app/main/invitations/invitations.html\",\"<div id=\\\"team-members\\\" class=\\\"page-layout simple tabbed pad-0\\\" layout=\\\"column\\\"><div class=\\\"header md-accent-bg\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"white-fg\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div \\nlayout=\\\"column\\\" layout-align=\\\"start start\\\"><div class=\\\"h2\\\"><span>Invitations</span></div></div></div></div><div \\nclass=\\\"content\\\"><md-tabs md-dynamic-height class=\\\"\\\"><md-tab><md-tab-label><span translate=\\\"\\\">Received</span>\\n</md-tab-label><md-tab-body class=\\\"pad-0\\\"><div ng-include=\\\"\\'app/main/invitations/partials/received.html\\'\\\"></div>\\n</md-tab-body></md-tab><md-tab><md-tab-label><span translate=\\\"\\\">Awaiting Acceptance</span></md-tab-label><md-tab-body \\nclass=\\\"pad-0\\\"><div ng-include=\\\"\\'app/main/invitations/partials/sent.html\\'\\\"></div></md-tab-body></md-tab></md-tabs></div>\\n</div>\");\n$templateCache.put(\"app/main/invite/invite.html\",\"<div id=\\\"invite\\\" class=\\\"flex-scrollable\\\" layout=\\\"column\\\" ms-scroll><div id=\\\"invite-form-wrapper\\\" layout=\\\"column\\\" \\nlayout-align=\\\"center center\\\"><div ng-show=\\\"!vm.view.legacy && !vm.view.create\\\" \\nng-include=\\\"\\'app/main/invite/partials/switchboard.html\\'\\\"></div><div ng-show=\\\"vm.view.legacy\\\" \\nng-include=\\\"\\'app/main/invite/partials/legacy.html\\'\\\"></div><div ng-show=\\\"vm.view.create\\\" \\nng-include=\\\"\\'app/main/invite/partials/create.html\\'\\\"></div></div></div>\");\n$templateCache.put(\"app/main/login/login.html\",\"<div id=\\\"login\\\" class=\\\"flex-scrollable\\\" layout=\\\"column\\\" ms-scroll><div id=\\\"login-form-wrapper\\\" layout=\\\"column\\\" \\nlayout-align=\\\"center center\\\"><div id=\\\"login-form\\\" class=\\\"md-whiteframe-8dp\\\"><div class=\\\"logo md-accent-bg\\\"><span>CL\\n</span></div><div class=\\\"title\\\">Log in to your account</div><form name=\\\"loginForm\\\" novalidate ng-submit=\\\"vm.login()\\\">\\n<md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"email\\\" name=\\\"email\\\" ng-model=\\\"vm.email\\\" \\nplaceholder=\\\"Email\\\" ng-pattern=\\\"/^.+@.+\\\\..+$/\\\" required><div ng-messages=\\\"loginForm.email.$error\\\" role=\\\"alert\\\" \\nmultiple=\\\"multiple\\\"><div ng-message=\\\"required\\\"><span>Email field is required</span></div><div ng-message=\\\"pattern\\\">\\n<span>Email must be a valid e-mail address</span></div></div></md-input-container><md-input-container class=\\\"md-block\\\" \\nmd-no-float><input type=\\\"password\\\" name=\\\"password\\\" ng-model=\\\"vm.form.password\\\" placeholder=\\\"Password\\\" required><div \\nng-messages=\\\"loginForm.password.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Password field is required</span>\\n</div></div></md-input-container><md-button type=\\\"submit\\\" class=\\\"md-raised md-accent submit-button\\\" \\naria-label=\\\"LOG IN\\\" ng-disabled=\\\"loginForm.$invalid || loginForm.$pristine\\\">LOG IN</md-button></form><div \\nclass=\\\"register\\\" layout=\\\"row\\\" layout-sm=\\\"column\\\" layout-align=\\\"center center\\\"><span class=\\\"text\\\">Don\\'t have an account?\\n</span> <a class=\\\"link\\\" ui-sref=\\\"app.create\\\">Create an account</a></div></div></div></div>\");\n$templateCache.put(\"app/main/mail/mail.html\",\"<div id=\\\"mail\\\" class=\\\"page-layout carded left-sidenav\\\" layout=\\\"row\\\"><div class=\\\"top-bg md-accent-bg\\\"></div><md-sidenav \\nclass=\\\"sidenav\\\" md-is-locked-open=\\\"$mdMedia(\\'gt-md\\')\\\" md-component-id=\\\"main-sidenav\\\" \\nng-include=\\\"\\'app/main/mail/sidenavs/main/main-sidenav.html\\'\\\" ms-scroll ms-sidenav-helper></md-sidenav><div \\nclass=\\\"center\\\" layout=\\\"column\\\" flex><div class=\\\"header\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><div \\nclass=\\\"search-wrapper md-whiteframe-4dp\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><md-button \\nclass=\\\"md-icon-button sidenav-toggle\\\" ng-click=\\\"vm.toggleSidenav(\\'main-sidenav\\')\\\" hide-gt-md \\naria-label=\\\"Toggle Sidenav\\\" translate translate-attr-aria-label=\\\"MAIL.TOGGLE_SIDENAV\\\"><md-icon class=\\\"icon\\\" \\nmd-font-icon=\\\"icon-menu\\\"></md-icon></md-button><div class=\\\"search\\\" flex layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-icon md-font-icon=\\\"icon-magnify\\\" class=\\\"icon s24\\\"></md-icon><input flex ng-model=\\\"vm.search\\\" type=\\\"text\\\" \\nplaceholder=\\\"Search\\\" translate translate-attr-placeholder=\\\"MAIL.SEARCH_PLACEHOLDER\\\"></div></div></div><div \\nclass=\\\"content-card\\\" ng-class=\\\"vm.currentView\\\" layout=\\\"column\\\" flex ng-include=\\\"vm.views[vm.currentView]\\\"></div></div>\\n</div>\");\n$templateCache.put(\"app/main/organization/organization.html\",\"<div id=\\\"organization\\\" class=\\\"page-layout simple tabbed\\\" layout=\\\"column\\\"><div class=\\\"header md-accent-bg\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><div class=\\\"white-fg\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div layout=\\\"column\\\" \\nlayout-align=\\\"start start\\\"><div class=\\\"h2\\\"><span>Account Details</span></div></div></div></div><div class=\\\"content\\\">\\n<md-tabs md-dynamic-height class=\\\"\\\" ng-show=\\\"vm.createOrganization\\\"><md-tab><md-tab-label><span translate=\\\"\\\">\\nOrganization Details</span></md-tab-label><md-tab-body><div \\nng-include=\\\"\\'app/main/organization/partials/organization.html\\'\\\"></div></md-tab-body></md-tab></md-tabs><md-tabs \\nmd-dynamic-height class=\\\"\\\" ng-hide=\\\"vm.createOrganization\\\"><md-tab><md-tab-label><span translate=\\\"\\\">\\nAdd Organization Details</span></md-tab-label><md-tab-body ng-hide=\\\"vm.createOrganization\\\"><div \\nng-include=\\\"\\'app/main/organization/partials/create-organization.html\\'\\\"></div></md-tab-body></md-tab></md-tabs></div>\\n</div>\");\n$templateCache.put(\"app/main/queue/queue.html\",\"<div id=\\\"queue\\\" class=\\\"page-layout simple tabbed\\\" layout=\\\"column\\\"><div class=\\\"header md-accent-bg\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><div class=\\\"white-fg\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div layout=\\\"column\\\" \\nlayout-align=\\\"start start\\\"><div class=\\\"h2\\\"><span>Assign Checklists</span></div><div class=\\\"subtitle secondary-text\\\">\\n<span translate=\\\"\\\"></span> <span>{{vm.order.customer.firstName}} {{vm.order.customer.lastName}}</span></div></div>\\n</div></div><div class=\\\"content\\\"><md-tabs md-dynamic-height><md-tab><md-tab-label><span translate=\\\"\\\">Checklist Queue\\n</span></md-tab-label><md-tab-body><div ng-include=\\\"\\'app/main/queue/partials/queue.html\\'\\\"></div></md-tab-body></md-tab>\\n</md-tabs></div></div>\");\n$templateCache.put(\"app/main/subscriptions/subscriptions.html\",\"<div id=\\\"subscriptions\\\" class=\\\"page-layout simple tabbed\\\" layout=\\\"column\\\"><div class=\\\"header md-accent-bg\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"white-fg\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div \\nlayout=\\\"column\\\" layout-align=\\\"start start\\\"><div class=\\\"h2\\\"><span>Subscriptions</span></div></div></div></div><div \\nclass=\\\"content\\\"><md-tabs md-dynamic-height><md-tab><md-tab-label><span translate=\\\"\\\">License Pool</span></md-tab-label>\\n<md-tab-body><div ng-include=\\\"\\'app/main/subscriptions/partials/license-pool.html\\'\\\"></div></md-tab-body></md-tab>\\n<md-tab><md-tab-label><span translate=\\\"\\\">Add Subscription</span></md-tab-label><md-tab-body><div \\nng-include=\\\"\\'app/main/subscriptions/partials/add-subscription.html\\'\\\"></div></md-tab-body></md-tab><md-tab>\\n<md-tab-label><span translate=\\\"\\\">Subscriptions</span></md-tab-label><md-tab-body><div \\nng-include=\\\"\\'app/main/subscriptions/partials/subscriptions.html\\'\\\"></div></md-tab-body></md-tab></md-tabs></div></div>\");\n$templateCache.put(\"app/main/summary/summary.html\",\"<div id=\\\"summary\\\" class=\\\"page-layout simple tabbed\\\" layout=\\\"column\\\"><div class=\\\"header md-accent-bg\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><div class=\\\"white-fg\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div layout=\\\"column\\\" \\nlayout-align=\\\"start start\\\"><div class=\\\"h2\\\"><span>Checklist Summary</span></div></div></div></div><div class=\\\"content\\\">\\n<md-tabs md-dynamic-height><md-tab><md-tab-label><span translate=\\\"\\\">View Reports</span></md-tab-label><md-tab-body><div\\n ng-include=\\\"\\'app/main/summary/partials/summary.html\\'\\\"></div></md-tab-body></md-tab></md-tabs></div></div>\");\n$templateCache.put(\"app/main/teammembers/teammembers.html\",\"<div id=\\\"team-members\\\" class=\\\"page-layout simple tabbed pad-0\\\" layout=\\\"column\\\"><div class=\\\"header md-accent-bg\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"white-fg\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div \\nlayout=\\\"column\\\" layout-align=\\\"start start\\\"><div class=\\\"h2\\\"><span>Team Members</span></div></div></div></div><div \\nclass=\\\"content\\\"><md-tabs md-dynamic-height class=\\\"\\\"><md-tab><md-tab-label><span translate=\\\"\\\">Onboard</span>\\n</md-tab-label><md-tab-body class=\\\"pad-0\\\"><div ng-include=\\\"\\'app/main/teammembers/partials/teammembers.html\\'\\\"></div>\\n</md-tab-body></md-tab><md-tab><md-tab-label><span translate=\\\"\\\">Invitations</span></md-tab-label><md-tab-body \\nclass=\\\"pad-0\\\"><div ng-include=\\\"\\'app/main/teammembers/partials/invitations.html\\'\\\"></div></md-tab-body></md-tab>\\n</md-tabs></div></div>\");\n$templateCache.put(\"app/main/templates/templates.html\",\"<div id=\\\"templates\\\" class=\\\"page-layout simple tabbed\\\" layout=\\\"column\\\"><div class=\\\"header md-accent-bg\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><div class=\\\"white-fg\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div layout=\\\"column\\\" \\nlayout-align=\\\"start start\\\"><div class=\\\"h2\\\"><span>Templates</span></div></div></div></div><div class=\\\"content\\\"><md-tabs \\nmd-dynamic-height><md-tab><md-tab-label><span translate=\\\"\\\">Internal Templates</span></md-tab-label><md-tab-body><div \\nng-include=\\\"\\'app/main/templates/partials/internal-templates.html\\'\\\"></div></md-tab-body></md-tab><md-tab><md-tab-label>\\n<span translate=\\\"\\\">Public Templates</span></md-tab-label><md-tab-body><div \\nng-include=\\\"\\'app/main/templates/partials/public-templates.html\\'\\\"></div></md-tab-body></md-tab></md-tabs></div></div>\");\n$templateCache.put(\"app/main/todo/todo.html\",\"<div id=\\\"todo\\\" class=\\\"page-layout carded left-sidenav\\\" layout=\\\"row\\\"><div class=\\\"top-bg md-accent-bg\\\"></div><md-sidenav \\nclass=\\\"sidenav\\\" md-is-locked-open=\\\"$mdMedia(\\'gt-md\\')\\\" md-component-id=\\\"main-sidenav\\\" \\nng-include=\\\"\\'app/main/todo/sidenavs/main/main-sidenav.html\\'\\\" ms-scroll ms-sidenav-helper></md-sidenav><div \\nclass=\\\"center\\\" layout=\\\"column\\\" flex><div class=\\\"header\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><div \\nclass=\\\"search-wrapper md-whiteframe-4dp\\\" flex layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button \\nclass=\\\"md-icon-button sidenav-toggle\\\" ng-click=\\\"vm.toggleSidenav(\\'main-sidenav\\')\\\" hide-gt-md \\naria-label=\\\"Toggle sidenav\\\" translate translate-attr-aria-label=\\\"TODO.TOGGLE_SIDENAV\\\"><md-icon \\nmd-font-icon=\\\"icon-menu\\\" class=\\\"icon\\\"></md-icon></md-button><div class=\\\"search\\\" flex layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-icon md-font-icon=\\\"icon-magnify\\\" class=\\\"icon s24\\\"></md-icon><input flex \\nng-model=\\\"vm.taskFilters.search\\\" type=\\\"text\\\" placeholder=\\\"Search for a task or tag\\\" translate \\ntranslate-attr-placeholder=\\\"TODO.SEARCH\\\"></div></div></div><div class=\\\"content-card\\\" layout=\\\"column\\\" flex><div \\nclass=\\\"toolbar\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><md-select class=\\\"simplified\\\" \\nng-model=\\\"vm.selectedFilter.dueDate\\\" placeholder=\\\"Due Date\\\"><md-option value=\\\"Next 3 days\\\" \\ntranslate=\\\"TODO.NEXT_3_DAYS\\\">Next 3 days</md-option><md-option value=\\\"Next 7 days\\\" translate=\\\"TODO.NEXT_7_DAYS\\\">\\nNext 7 days</md-option><md-option value=\\\"Next 2 weeks\\\" translate=\\\"TODO.NEXT_2_WEEKS\\\">Next 2 weeks</md-option><md-option\\n value=\\\"Next month\\\" translate=\\\"TODO.NEXT_MONTH\\\">Next month</md-option></md-select><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-select class=\\\"simplified\\\" ng-model=\\\"vm.taskOrder\\\" placeholder=\\\"Order\\\" \\nng-change=\\\"vm.taskOrderDescending = vm.taskOrder === \\'\\' ? false : vm.taskOrderDescending\\\"><md-option \\nvalue=\\\"startDateTimestamp\\\" translate=\\\"TODO.START_DATE\\\">Start Date</md-option><md-option value=\\\"dueDateTimestamp\\\" \\ntranslate=\\\"TODO.DUE_DATE\\\">Due Date</md-option><md-option ng-value=\\\"\\'\\'\\\" translate=\\\"TODO.MANUAL\\\">Manual</md-option>\\n<md-option value=\\\"title\\\" translate=\\\"TODO.TITLE\\\">Title</md-option></md-select><md-button class=\\\"md-icon-button\\\" \\nng-disabled=\\\"vm.taskOrder === \\'\\'\\\" ng-click=\\\"vm.taskOrderDescending = !vm.taskOrderDescending\\\" \\naria-label=\\\"Sort Direction\\\" translate translate-attr-aria-label=\\\"TODO.SORT_DIRECTION\\\"><md-icon \\nmd-font-icon=\\\"icon-sort-ascending\\\" ng-if=\\\"vm.taskOrderDescending === false\\\"></md-icon><md-icon \\nmd-font-icon=\\\"icon-sort-descending\\\" ng-if=\\\"vm.taskOrderDescending === true\\\"></md-icon></md-button></div></div><div \\nclass=\\\"content\\\" layout=\\\"row\\\" flex><md-content class=\\\"todo-list-pane\\\" flex \\nng-include=\\\"\\'app/main/todo/views/list/list-view.html\\'\\\" ms-scroll=\\\"vm.msScrollOptions\\\"></md-content></div></div></div>\\n</div>\");\n$templateCache.put(\"app/main/user/user.html\",\"<div id=\\\"user\\\" class=\\\"page-layout simple tabbed\\\" layout=\\\"column\\\"><div class=\\\"header md-accent-bg\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><div class=\\\"white-fg\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div layout=\\\"column\\\" \\nlayout-align=\\\"start start\\\"><div class=\\\"h2\\\"><span>Account Details</span></div></div></div></div><div class=\\\"content\\\">\\n<md-tabs md-dynamic-height><md-tab><md-tab-label><span translate=\\\"\\\">User Profile</span></md-tab-label><md-tab-body><div\\n ng-include=\\\"\\'app/main/user/partials/user.html\\'\\\"></div></md-tab-body></md-tab></md-tabs></div></div>\");\n$templateCache.put(\"app/navigation/subnav/sidenav.html\",\"<div class=\\\"demo-sidenav\\\"><md-list><md-list-item><a href=\\\"/user\\\">Account Information</a></md-list-item><md-divider>\\n</md-divider><md-list-item><a href=\\\"/organization\\\">Organization</a></md-list-item><md-divider></md-divider>\\n<md-list-item><a href=\\\"/teammembers\\\">Team Members</a></md-list-item><md-divider></md-divider><md-list-item><a \\nhref=\\\"/templates\\\">Templates</a></md-list-item><md-divider></md-divider><md-list-item><a href=\\\"/subscriptions\\\">\\nSubscriptions</a></md-list-item></md-list></div>\");\n$templateCache.put(\"app/core/directives/ms-info-bar/ms-info-bar.html\",\"<div id=\\\"ms-info-bar\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div id=\\\"ms-info-bar-message\\\" ng-transclude flex>\\n</div><md-button id=\\\"ms-info-bar-close\\\" class=\\\"md-icon-button\\\" aria-label=\\\"Close\\\" ng-click=\\\"removeInfoBar()\\\"><md-icon \\nmd-font-icon=\\\"icon-close s24\\\"></md-icon></md-button></div>\");\n$templateCache.put(\"app/core/directives/ms-material-color-picker/ms-material-color-picker.html\",\"<md-menu md-position-mode=\\\"target-right target\\\"><div ng-click=\\\"$mdOpenMenu($event)\\\"><ms-color-picker-button><md-button \\naria-label=\\\"Row Color\\\" md-menu-origin ng-click=\\\"$mdOpenMenu($event)\\\" ng-class=\\\"vm.selectedColor.class\\\"><span \\nng-show=\\\"vm.selectedColor.palette\\\">{{vm.selectedColor.palette}} {{vm.selectedColor.hue}} </span><span \\nng-show=\\\"!vm.selectedColor.palette\\\">Select Color</span></md-button></ms-color-picker-button></div><md-menu-content \\nclass=\\\"ms-material-color-picker-menu-content\\\" layout-column><header \\nng-class=\\\"vm.selectedColor.class || \\'md-accent-bg\\'\\\" class=\\\"md-whiteframe-4dp\\\" layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\"><md-button md-prevent-menu-close ng-click=\\\"vm.activateHueSelection(false,false)\\\" \\nclass=\\\"md-icon-button\\\" ng-class=\\\"{\\'hidden\\':!vm.selectedPalette}\\\" aria-label=\\\"Palette\\\"><md-icon \\nmd-font-icon=\\\"icon-arrow-left\\\" class=\\\"s20\\\"></md-icon></md-button><span ng-if=\\\"vm.selectedColor.palette\\\">\\n{{vm.selectedColor.palette}} {{vm.selectedColor.hue}} </span><span ng-if=\\\"!vm.selectedColor.palette\\\">Select Color\\n</span><md-button class=\\\"remove-color-button md-icon-button\\\" ng-click=\\\"vm.removeColor()\\\" aria-label=\\\"Remove Color\\\">\\n<md-icon md-font-icon=\\\"icon-delete\\\" class=\\\"s20\\\"></md-icon></md-button></header><div class=\\\"colors\\\" ms-scroll><div \\nng-show=\\\"!vm.selectedPalette\\\" layout=\\\"row\\\" layout-wrap><div class=\\\"color\\\" ng-class=\\\"\\'md-\\'+palette+\\'-500-bg\\'\\\" \\nng-repeat=\\\"(palette, hues) in vm.palettes\\\" ng-click=\\\"vm.activateHueSelection(palette,hues)\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start end\\\" md-prevent-menu-close md-ink-ripple><span class=\\\"label\\\">{{palette}}</span></div></div><div \\nng-show=\\\"vm.selectedPalette\\\" layout=\\\"row\\\" layout-wrap><div class=\\\"color\\\" \\nng-class=\\\"\\'md-\\'+vm.selectedPalette+\\'-\\'+hue+\\'-bg\\'\\\" ng-repeat=\\\"(hue, values) in vm.selectedHues\\\" \\nng-click=\\\"vm.selectColor(vm.selectedPalette,hue)\\\" layout=\\\"row\\\" layout-align=\\\"start end\\\" md-ink-ripple><span \\nclass=\\\"label\\\">{{hue}} </span><i ng-if=\\\"vm.selectedPalette == vm.selectedColor.palette && hue == vm.selectedColor.hue\\\" \\nclass=\\\"s16 icon-check\\\"></i></div></div></div></md-menu-content></md-menu>\");\n$templateCache.put(\"app/core/directives/ms-search-bar/ms-search-bar.html\",\"<div flex layout=\\\"row\\\" layout-align=\\\"start center\\\"><label for=\\\"ms-search-bar-input\\\"><md-button \\nclass=\\\"ms-search-bar-expander md-icon-button\\\" aria-label=\\\"Expand Search Bar\\\" ng-click=\\\"MsSearchBar.expand()\\\" \\nng-if=\\\"!MsSearchBar.resultsLoading || MsSearchBar.collapsed\\\"><md-icon md-font-icon=\\\"icon-magnify\\\" class=\\\"icon s24\\\">\\n</md-icon></md-button><div class=\\\"ms-search-bar-loader\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\" \\nng-if=\\\"MsSearchBar.resultsLoading && !MsSearchBar.collapsed\\\"><md-progress-circular class=\\\"md-accent\\\" md-diameter=\\\"32\\\" \\nmd-mode=\\\"indeterminate\\\"></md-progress-circular></div></label><input id=\\\"ms-search-bar-input\\\" type=\\\"text\\\" \\nplaceholder=\\\"Search\\\" flex ng-model=\\\"MsSearchBar.query\\\" ng-model-options=\\\"MsSearchBar.queryOptions\\\" \\nng-keydown=\\\"MsSearchBar.handleKeydown($event)\\\"><md-button class=\\\"ms-search-bar-collapser md-icon-button\\\" \\nng-click=\\\"MsSearchBar.collapse()\\\" aria-label=\\\"Collapse Search Bar\\\"><md-icon md-font-icon=\\\"icon-close\\\" class=\\\"icon s24\\\">\\n</md-icon></md-button><div class=\\\"ms-search-bar-results\\\" ng-if=\\\"MsSearchBar.results\\\" ms-scroll><div class=\\\"no-results\\\" \\nng-if=\\\"MsSearchBar.results.length === 0\\\">No Results!</div><div class=\\\"result\\\" \\nng-repeat=\\\"result in MsSearchBar.results\\\" ng-click=\\\"MsSearchBar.handleResultClick(result)\\\" \\nng-mouseenter=\\\"MsSearchBar.handleMouseenter($index)\\\" ng-mousedown=\\\"MsSearchBar.absorbEvent($event)\\\" \\nng-class=\\\"{\\'selected\\': $index == MsSearchBar.selectedResultIndex}\\\" md-ink-ripple><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><div class=\\\"icon-container\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\"><i \\nng-if=\\\"result.icon\\\" class=\\\"icon {{result.icon}}\\\"></i><div ng-if=\\\"!result.icon\\\" class=\\\"square md-accent-bg\\\"></div></div>\\n<div><div class=\\\"title\\\">{{result.title}}</div><div class=\\\"description\\\" ng-if=\\\"result.description\\\">\\n{{result.description}}</div></div></div></div></div></div>\");\n$templateCache.put(\"app/core/directives/ms-shortcuts/ms-shortcuts.html\",\"<div class=\\\"shortcuts-container\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\" flex \\nng-class=\\\"{\\'mobile-bar-active\\': MsShortcuts.mobileBarActive}\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div \\nclass=\\\"shortcuts hide show-gt-xs\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" ms-scroll \\nng-if=\\\"MsShortcuts.shortcuts.length > 0\\\" ng-sortable=\\\"MsShortcuts.sortableOptions\\\"><div \\nng-repeat=\\\"shortcut in MsShortcuts.shortcuts\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\"><md-button \\nclass=\\\"md-icon-button shortcut\\\" aria-label=\\\"{{shortcut.title}}\\\" ui-sref=\\\"{{shortcut.uisref}}\\\"><md-icon \\nng-if=\\\"shortcut.icon\\\" md-font-icon=\\\"{{shortcut.icon}}\\\" class=\\\"icon s24\\\"></md-icon><div ng-if=\\\"!shortcut.icon\\\" \\nclass=\\\"first-letter\\\">{{shortcut.title.charAt(0)}}</div><md-tooltip md-direction=\\\"bottom\\\">{{shortcut.title}}\\n</md-tooltip></md-button></div></div><md-menu md-offset=\\\"8 56\\\" class=\\\"shortcut-menu hide show-gt-xs\\\"><md-button \\nclass=\\\"md-icon-button add-shortcut-button\\\" aria-label=\\\"Add shortcut\\\" ng-click=\\\"$mdOpenMenu($event)\\\"><md-icon \\nmd-menu-origin md-font-icon=\\\"icon-star\\\" class=\\\"icon amber-600-fg s24\\\"></md-icon><md-tooltip md-direction=\\\"bottom\\\">\\nClick to add/remove shortcut</md-tooltip></md-button><md-menu-content><div id=\\\"ms-shortcut-add-menu\\\"><div \\nclass=\\\"shortcut-search\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"search-icon\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\" ng-if=\\\"!MsShortcuts.resultsLoading\\\"><md-icon md-menu-align-target \\nmd-font-icon=\\\"icon-magnify\\\" class=\\\"icon s24\\\"></md-icon></div><div class=\\\"shortcut-loader\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\" ng-if=\\\"MsShortcuts.resultsLoading\\\"><md-progress-circular class=\\\"md-accent\\\" \\nmd-diameter=\\\"20\\\" md-mode=\\\"indeterminate\\\"></md-progress-circular></div><input type=\\\"text\\\" placeholder=\\\"Search\\\" flex \\nng-model=\\\"MsShortcuts.query\\\" ng-model-options=\\\"MsShortcuts.queryOptions\\\" \\nng-keydown=\\\"MsShortcuts.handleKeydown($event)\\\"></div><div class=\\\"results\\\" ng-if=\\\"MsShortcuts.results\\\" ms-scroll><div \\nclass=\\\"no-results\\\" ng-if=\\\"MsShortcuts.results.length === 0\\\">No Results!</div><div class=\\\"result\\\" \\nng-repeat=\\\"result in MsShortcuts.results\\\" ng-click=\\\"MsShortcuts.handleResultClick(result)\\\" \\nng-mouseenter=\\\"MsShortcuts.handleMouseenter($index)\\\" ng-mousedown=\\\"MsShortcuts.absorbEvent($event)\\\" \\nng-class=\\\"{\\'selected\\': $index == MsShortcuts.selectedResultIndex}\\\" md-prevent-menu-close=\\\"md-prevent-menu-close\\\" \\nmd-ink-ripple><div layout=\\\"row\\\" layout-align=\\\"start space-between\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n<div class=\\\"icon icon-container\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\"><i ng-if=\\\"result.icon\\\" \\nclass=\\\"{{result.icon}}\\\"></i><div ng-if=\\\"!result.icon\\\" class=\\\"square md-accent-bg\\\"></div></div><div><div class=\\\"title\\\">\\n{{result.title}}</div></div></div><md-icon md-font-icon=\\\"icon-pin\\\" class=\\\"icon s18\\\" \\nng-class=\\\"{\\'fade-text\\': !result.hasShortcut}\\\"></md-icon></div></div></div></div></md-menu-content></md-menu></div>\\n<md-button class=\\\"md-icon-button toggle-mobile-menu hide-gt-xs\\\" aria-label=\\\"Add shortcut\\\" \\nng-click=\\\"MsShortcuts.toggleMobileBar()\\\"><md-icon md-menu-origin md-font-icon=\\\"icon-star\\\" \\nclass=\\\"icon amber-600-fg s24\\\" ng-hide=\\\"MsShortcuts.mobileBarActive\\\"></md-icon><md-icon md-menu-origin \\nmd-font-icon=\\\"icon-close\\\" class=\\\"icon s24\\\" ng-hide=\\\"!MsShortcuts.mobileBarActive\\\"></md-icon></md-button></div>\");\n$templateCache.put(\"app/main/contacts/partials/contacts.html\",\"<div id=\\\"\\\" class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\"><table class=\\\"simple row-border hover\\\">\\n<thead><tr><th colspan=\\\"3\\\" class=\\\"hide-xs\\\"><span ng-if=\\\"vm.listType === \\'all\\'\\\" translate=\\\"CONTACTS.ALL_CONTACTS\\\">\\nAll contacts</span> <span ng-if=\\\"vm.listType === \\'invitations\\'\\\" translate=\\\"CONTACTS.PENDING_INVITATIONS\\\">\\nPending contact invitations</span> <span ng-if=\\\"vm.listType === \\'requests\\'\\\" translate=\\\"CONTACTS.PENDING_REQUESTS\\\">\\nPending contact requests</span> <span ng-if=\\\"vm.listType.name\\\">{{vm.listType.name}}</span> <span \\nng-if=\\\"filteredContacts.length\\\" class=\\\"secondary-text contacts-count\\\">({{filteredContacts.length}}) </span><span \\nng-if=\\\"filteredContacts.length==0\\\" class=\\\"secondary-text contacts-count\\\">(0)</span></th><th colspan=\\\"2\\\" \\nclass=\\\"show-xs hide-gt-xs\\\"><span ng-if=\\\"vm.listType === \\'all\\'\\\" translate=\\\"CONTACTS.ALL_CONTACTS\\\">All contacts</span> \\n<span ng-if=\\\"vm.listType === \\'invitations\\'\\\" translate=\\\"CONTACTS.PENDING_INVITATIONS\\\">Pending contact invitations</span>\\n <span ng-if=\\\"vm.listType === \\'requests\\'\\\" translate=\\\"CONTACTS.PENDING_REQUESTS\\\">Pending contact requests</span> <span \\nng-if=\\\"vm.listType.name\\\">{{vm.listType.name}}</span> <span ng-if=\\\"filteredContacts.length\\\" \\nclass=\\\"secondary-text contacts-count\\\">({{filteredContacts.length}}) </span><span ng-if=\\\"filteredContacts.length==0\\\" \\nclass=\\\"secondary-text contacts-count\\\">(0)</span></th><th class=\\\"text-right\\\"><md-menu><md-button \\nng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"Sort\\\" translate \\ntranslate-attr-aria-label=\\\"CONTACTS.SORT\\\"><md-icon md-font-icon=\\\"icon-dots-horizontal s18\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"vm.find($event)\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-account-plus\\\"></md-icon><span translate=\\\"\\\">Add Contact</span></md-button></md-menu-item>\\n<md-menu-item><md-button ng-click=\\\"vm.filterChange(\\'all\\')\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-account-multiple\\\"></md-icon><span translate=\\\"CONTACTS.ALL_CONTACTS\\\">All Contacts</span></md-button>\\n</md-menu-item><md-menu-item><md-button ng-click=\\\"vm.filterChange(\\'invitations\\')\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-google-circles\\\"></md-icon><span translate=\\\"CONTACTS.PENDING_INVITATIONS\\\">Pending Contact Invitations\\n</span></md-button></md-menu-item><md-menu-item><md-button ng-click=\\\"vm.filterChange(\\'requests\\')\\\"><md-icon \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-google-circles-invite\\\"></md-icon><span \\ntranslate=\\\"CONTACTS.PENDING_REQUESTS\\\">Pending Contact Requests</span></md-button></md-menu-item></md-menu-content>\\n</md-menu></th></tr><tr ng-if=\\\"filteredContacts.length>0\\\"><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span \\nclass=\\\"column-title\\\">Name</span></div></th><th class=\\\"secondary-text hide-xs\\\"><div class=\\\"table-header\\\"><span \\nclass=\\\"column-title\\\">Email</span></div></th><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span \\nclass=\\\"column-title\\\">Organization</span></div></th><th></th></tr></thead><tbody><tr \\nng-repeat=\\\"contact in vm.contacts | filter: vm.search | filter: globalSearch.searchTerm | filterByIds:vm.filterIds |  orderBy: vm.listOrder :vm.listOrderAsc | filter:query as filteredContacts track by contact.id \\\" \\nng-switch=\\\"(which = vm.showWhichInviteContactData(contact))\\\" ng-click=\\\"vm.openContactDialog($event, contact)\\\" \\nng-class=\\\"{\\'md-green-100-bg\\':vm.passID==contact.id}\\\"><td>{{contact.contacts[which].name.full}}</td><td class=\\\"hide-xs\\\">\\n{{contact.contacts[which].email}}</td><td>{{contact.contacts[which].organization}}</td><td \\nng-switch=\\\"(withdrawing = (vm.memberInvites.invite.withdraw.inProgress.indexOf(invite.id) > -1))\\\" class=\\\"text-right\\\">\\n<md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"More\\\" \\ntranslate translate-attr-aria-label=\\\"\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item ng-if=\\\"contact.accepted!==\\'\\'\\\"><md-button \\nng-click=\\\"vm.deleteContactConfirm($event, contact.contacts[which], contact.contacts[which].id)\\\"><md-icon \\nclass=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\"></md-icon><span translate=\\\"CONTACTS.DELETE_CONTACT\\\">Delete Contact\\n</span></md-button></md-menu-item><md-menu-item ng-if=\\\"contact.accepted!==\\'\\'\\\"><md-button \\nng-click=\\\"vm.openDirectMessageDialog(contact, contact.name.full, $event)\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-comment-multipe-outline\\\"></md-icon><span translate=\\\"CONTACTS.DIRECT_MESSAGING\\\">Direct Message</span>\\n</md-button></md-menu-item><md-menu-item ng-if=\\\"contact.accepted==\\'\\' && which==\\'originator\\'\\\"><md-button \\nng-click=\\\"vm.acceptConnectionInvitation(contact.contacts.originator.id, $index)\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-plus-circle-outline\\\"></md-icon><span translate=\\\"CONTACTS.ACCEPT_INVITE\\\">Accept Invitation</span>\\n</md-button></md-menu-item><md-menu-item ng-if=\\\"contact.accepted==\\'\\' && which==\\'originator\\'\\\"><md-button \\nng-click=\\\"vm.removeConnectionInvitation(contact.contacts.originator.id)\\\"><md-icon class=\\\"red-600-fg s18\\\" \\nmd-font-icon=\\\"icon-minus-circle-outline\\\"></md-icon><span translate=\\\"CONTACTS.REJECT_INVITE\\\">Reject Invitation</span>\\n</md-button></md-menu-item><md-menu-item ng-if=\\\"contact.accepted==\\'\\' && which==\\'accepter\\'\\\"><md-button \\nng-click=\\\"vm.removeConnectionInvitation(contact.contacts.accepter.id)\\\"><md-icon class=\\\"red-600-fg s18\\\" \\nmd-font-icon=\\\"icon-minus-circle-outline\\\"></md-icon><span translate=\\\"CONTACTS.WITHDRAW_INVITE\\\">Withdraw Invitation\\n</span></md-button></md-menu-item></md-menu-content></md-menu></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/main/folders/partials/folders.html\",\"<div id=\\\"\\\" class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\"><table class=\\\"simple row-border hover\\\">\\n<thead><tr><th><span ng-if=\\\"!vm.folders.length\\\">You do not have any projects</span></th><th class=\\\"text-right\\\">\\n<md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"Sort\\\" \\ntranslate translate-attr-aria-label=\\\"CONTACTS.SORT\\\"><md-icon md-font-icon=\\\"icon-dots-horizontal s18\\\"></md-icon>\\n</md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"vm.openFolderDialog($event)\\\"><md-icon \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-plus-circle-outline\\\"></md-icon><span translate=\\\"\\\">Add New Project</span>\\n</md-button></md-menu-item></md-menu-content></md-menu></th></tr></thead><tbody><tr \\nng-repeat=\\\"folder in vm.folders | orderBy:vm.folderOrder:vm.folderOrderDescending | filter: globalSearch.searchTerm | filter:vm.folderFilters.search track by $index\\\">\\n<td><a ng-href=\\\"/groups/{{folder.id}}\\\">{{folder.name}}</a></td><td \\nng-switch=\\\"(withdrawing = (vm.memberInvites.invite.withdraw.inProgress.indexOf(invite.id) > -1))\\\" class=\\\"text-right\\\">\\n<md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"More\\\" \\ntranslate translate-attr-aria-label=\\\"FOLDER.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"vm.deleteFolder(folder, $event)\\\" \\naria-label=\\\"Delete Folder\\\" translate-attr-aria-label=\\\"FOLDER.DELETE_FOLDER\\\"><md-icon class=\\\"red-600-fg s18\\\" \\nmd-font-icon=\\\"icon-trash\\\"></md-icon><span translate=\\\"FOLDER.DELETE_FOLDER\\\">Delete Folder</span></md-button>\\n</md-menu-item><md-menu-item><md-button ng-click=\\\"vm.openFolderDialog($event, folder)\\\" aria-label=\\\"Edit Folder\\\" \\ntranslate-attr-aria-label=\\\"FOLDER.EDIT_FOLDER\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-pencil\\\"></md-icon>\\n<span translate=\\\"FOLDER.EDIT_FOLDER\\\">Edit Folder</span></md-button></md-menu-item><md-divider class=\\\"md-default-theme\\\">\\n</md-divider><md-menu-item><md-button ng-click=\\\"vm.openFolderDialog($event)\\\" aria-label=\\\"Add New Folder\\\" \\ntranslate-attr-aria-label=\\\"FOLDER.ADD_NEW_FOLDER\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-plus-circle-outline\\\"></md-icon><span translate=\\\"FOLDER.ADD_NEW_FOLDER\\\">Add New Folder</span>\\n</md-button></md-menu-item></md-menu-content></md-menu></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/main/groups/partials/groups.html\",\"<div id=\\\"\\\" class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\"><table class=\\\"simple row-border hover\\\">\\n<thead><tr><th><span ng-if=\\\"!vm.groups.length\\\">You do not have any folders</span></th><th class=\\\"text-right\\\"><md-menu>\\n<md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"Sort\\\" translate \\ntranslate-attr-aria-label=\\\"GROUPS.SORT\\\"><md-icon md-font-icon=\\\"icon-dots-horizontal s18\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"vm.openGroupDialog($event)\\\"><md-icon \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-plus-circle-outline\\\"></md-icon><span translate=\\\"\\\">Add New Folder</span>\\n</md-button></md-menu-item></md-menu-content></md-menu></th></tr></thead><tbody><tr \\nng-repeat=\\\"group in vm.groups | orderBy:vm.groupOrder:vm.groupOrderDescending | filter: globalSearch.searchTerm | filter:vm.groupFilters.search track by $index\\\">\\n<td><a href=\\\"/checklist/{{group.id}}\\\">{{group.name}}</a></td><td \\nng-switch=\\\"(withdrawing = (vm.memberInvites.invite.withdraw.inProgress.indexOf(invite.id) > -1))\\\" class=\\\"text-right\\\">\\n<md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"More\\\" \\ntranslate translate-attr-aria-label=\\\"GROUP.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"vm.deleteGroup(group, $event)\\\" aria-label=\\\"Delete Group\\\" \\ntranslate-attr-aria-label=\\\"GROUP.DELETE_GROUP\\\"><md-icon class=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\"></md-icon>\\n<span translate=\\\"GROUP.DELETE_GROUP\\\">Delete Group</span></md-button></md-menu-item><md-menu-item><md-button \\nng-click=\\\"vm.openGroupDialog($event, group)\\\" aria-label=\\\"Edit Group\\\" translate-attr-aria-label=\\\"GROUP.EDIT_GROUP\\\">\\n<md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-pencil\\\"></md-icon><span translate=\\\"GROUP.EDIT_GROUP\\\">Edit Group\\n</span></md-button></md-menu-item><md-menu-item ng-show=\\\"permissions.has(\\'inviteToChecklist\\')\\\"><md-button \\nng-click=\\\"vm.sendLinkRequestDialog($event, group)\\\" aria-label=\\\"Send Link Request\\\" \\ntranslate-attr-aria-label=\\\"GROUP.SEND_LINK_REQUEST\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-account-plus\\\" \\nclass=\\\"s18\\\"></md-icon><span translate=\\\"GROUP.SEND_LINK_REQUEST\\\">Send Link Request</span></md-button></md-menu-item>\\n<md-menu-item ng-show=\\\"permissions.has(\\'publishTemplate\\')\\\"><md-button \\nng-click=\\\"vm.publishTemplateDialog($event, group.id, group.name)\\\" aria-label=\\\"Publish as Template\\\" \\ntranslate-attr-aria-label=\\\"GROUP.PUBLISH_TEMPLATE\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-cloud-upload\\\">\\n</md-icon><span translate=\\\"GROUP.PUBLISH_TEMPLATE\\\">Publish as Template</span></md-button></md-menu-item><md-menu-item>\\n<md-button ng-click=\\\"vm.linkExistingDialog($event, group)\\\" aria-label=\\\"Link to Existing\\\" \\ntranslate-attr-aria-label=\\\"GROUP.LINK_EXISTING\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-link-variant\\\">\\n</md-icon><span translate=\\\"GROUP.LINK_EXISTING\\\">Link to Existing</span></md-button></md-menu-item><md-divider \\nclass=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button ng-click=\\\"vm.addGroupDialog($event)\\\" \\naria-label=\\\"Add New Group\\\" translate-attr-aria-label=\\\"GROUP.ADD_NEW_GROUP\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-plus\\\"></md-icon><span translate=\\\"GROUP.ADD_NEW_GROUP\\\">Add New Group</span></md-button>\\n</md-menu-item></md-menu-content></md-menu></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/main/invitations/dialogs/invitation-accept-checklist-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">{{vm.title}}</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\">\\n</md-icon></md-button></div></md-toolbar><md-dialog-content class=\\\"no-padding\\\"><ms-form-wizard flex><md-tabs \\nmd-dynamic-height md-selected=\\\"msWizard.selectedIndex\\\"><md-tab><md-tab-label><span class=\\\"ms-form-wizard-step-label\\\">\\n<span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$invalid\\\">1</span> <span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$valid\\\"><i class=\\\"icon-check s16\\\"></i> </span><span \\nclass=\\\"ms-form-wizard-step-text\\\">Select Project</span></span></md-tab-label><md-tab-body><form name=\\\"wizardStep1\\\" \\nclass=\\\"md-inline-form\\\" ms-form-wizard-form novalidate><div ng-switch=\\\"vm.wizard.newFolder\\\"><div ng-switch-when=\\\"false\\\">\\n<div ng-include=\\\"\\'app/main/invitations/views/stepper/new-checklist-1.html\\'\\\"></div></div><div ng-switch-when=\\\"true\\\"><div\\n ng-include=\\\"\\'app/main/invitations/views/stepper/new-checklist-1-new-folder.html\\'\\\"></div></div></div></form>\\n</md-tab-body></md-tab><md-tab ng-disabled=\\\"wizardStep1.$invalid\\\"><md-tab-label><span \\nclass=\\\"ms-form-wizard-step-label\\\"><span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" \\nng-if=\\\"!vm.verticalStepper.step2.groupID\\\">2</span> <span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" \\nng-if=\\\"vm.verticalStepper.step2.groupID\\\"><i class=\\\"icon-check s16\\\"></i> </span><span class=\\\"ms-form-wizard-step-text\\\">\\nSelect Folder</span></span></md-tab-label><md-tab-body><form name=\\\"wizardStep2\\\" ms-form-wizard-form novalidate><div \\nng-switch=\\\"vm.wizard.newGroup\\\" ng-hide=\\\"!vm.verticalStepper.step1.folderID\\\"><div ng-switch-when=\\\"false\\\"><div \\nng-include=\\\"\\'app/main/invitations/views/stepper/new-checklist-2.html\\'\\\"></div></div><div ng-switch-when=\\\"true\\\"><div \\nng-include=\\\"\\'app/main/invitations/views/stepper/new-checklist-2-new-group.html\\'\\\"></div></div></div></form>\\n</md-tab-body></md-tab></md-tabs><div class=\\\"navigation\\\" flex layout=\\\"row\\\" layout-align=\\\"center center\\\" \\nng-show=\\\"!vm.wizard.newFolder && !vm.wizard.newGroup\\\"><md-button class=\\\"\\\" ng-click=\\\"msWizard.previousStep()\\\" \\nng-disabled=\\\"msWizard.isFirstStep()\\\">Previous</md-button><div class=\\\"steps\\\"><span ng-repeat=\\\"form in msWizard.forms\\\" \\nng-class=\\\"{\\'selected md-accent-bg\\':msWizard.selectedIndex === $index}\\\"></span></div><md-button class=\\\"\\\" \\nng-click=\\\"msWizard.nextStep()\\\" ng-hide=\\\"msWizard.isLastStep()\\\" \\nng-disabled=\\\"msWizard.currentStepInvalid() || vm.wizard.newFolder\\\">Next</md-button><md-button class=\\\"md-warn\\\" \\nng-click=\\\"vm.sendForm(); msWizard.resetForm();\\\" ng-show=\\\"msWizard.isLastStep()\\\" \\nng-disabled=\\\"msWizard.formsIncomplete() || vm.wizard.newFolder || vm.wizard.newGroup\\\">Download Template</md-button>\\n</div></ms-form-wizard></md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\" \\nng-show=\\\"vm.wizard.newFolder\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" aria-label=\\\"Save\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SAVE\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"wizardStep1.$invalid || wizardStep1.$pristine\\\" ng-click=\\\"vm.addNewFolder(vm.folder.name)\\\">SAVE</md-button>\\n</div><div layout=\\\"row\\\"><md-button ng-click=\\\"vm.cancelFolderInput()\\\" aria-label=\\\"Cancel\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.CANCEL\\\">CANCEL</span></md-tooltip></md-button></div></md-dialog-actions><md-dialog-actions \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\" ng-show=\\\"vm.wizard.newGroup\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" ng-if=\\\"!vm.newChecklist\\\" \\nng-click=\\\"vm.addNewGroup(vm.group.text, vm.verticalStepper.step1.folderID)\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" aria-label=\\\"Save\\\" translate=\\\"CHECKLIST.SAVE\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE</md-button></div><div layout=\\\"row\\\"><md-button ng-if=\\\"!vm.newChecklist\\\" \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.cancelGroupInput()\\\" aria-label=\\\"Delete\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.CANCEL\\\">CANCEL</span></md-tooltip></md-button></div></md-dialog-actions></md-dialog>\");\n$templateCache.put(\"app/main/invitations/dialogs/invitation-accept-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">Accept Invitation</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon>\\n</md-button></div></md-toolbar><md-dialog-content class=\\\"no-padding\\\"><ms-form-wizard flex><md-tabs md-dynamic-height \\nmd-selected=\\\"msWizard.selectedIndex\\\"><md-tab><md-tab-label><span class=\\\"ms-form-wizard-step-label\\\"><span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$invalid\\\">1</span> <span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$valid\\\"><i class=\\\"icon-check s16\\\"></i> </span><span \\nclass=\\\"ms-form-wizard-step-text\\\">Choose Folder</span></span></md-tab-label><md-tab-body><form name=\\\"wizardStep1\\\" \\nclass=\\\"md-inline-form\\\" ms-form-wizard-form novalidate><div ng-switch=\\\"vm.wizard.newFolder\\\"><div ng-switch-when=\\\"false\\\">\\n<div ng-include=\\\"\\'app/main/invitations/partials/stepper/invitations-accept-1.html\\'\\\"></div></div><div \\nng-switch-when=\\\"true\\\"><div ng-include=\\\"\\'\\'\\\"></div></div></div></form></md-tab-body></md-tab><md-tab \\nng-disabled=\\\"wizardStep1.$invalid\\\"><md-tab-label><span class=\\\"ms-form-wizard-step-label\\\"><span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep2.$invalid\\\">2</span> <span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep2.$valid\\\"><i class=\\\"icon-check s16\\\"></i> </span><span \\nclass=\\\"ms-form-wizard-step-text\\\">Choose Group</span></span></md-tab-label><md-tab-body><form name=\\\"wizardStep2\\\" \\nms-form-wizard-form novalidate><div ng-switch=\\\"vm.wizard.newGroup\\\" ng-hide=\\\"!vm.verticalStepper.step1.folderID\\\"><div \\nng-switch-when=\\\"false\\\"><div ng-include=\\\"\\'app/main/invitations/partials/stepper/invitations-accept-2.html\\'\\\"></div></div>\\n<div ng-switch-when=\\\"true\\\"><div ng-include=\\\"\\\"></div></div></div></form></md-tab-body></md-tab></md-tabs><div \\nclass=\\\"navigation\\\" flex layout=\\\"row\\\" layout-align=\\\"center center\\\"><md-button class=\\\"\\\" \\nng-click=\\\"msWizard.previousStep()\\\" ng-disabled=\\\"msWizard.isFirstStep()\\\">Previous</md-button><div class=\\\"steps\\\"><span \\nng-repeat=\\\"form in msWizard.forms\\\" ng-class=\\\"{\\'selected md-accent-bg\\':msWizard.selectedIndex === $index}\\\"></span></div>\\n<md-button class=\\\"\\\" ng-click=\\\"msWizard.nextStep()\\\" ng-hide=\\\"msWizard.isLastStep()\\\" \\nng-disabled=\\\"msWizard.currentStepInvalid()\\\">Next</md-button><md-button class=\\\"md-warn\\\" \\nng-click=\\\"vm.sendForm(); msWizard.resetForm();\\\" ng-show=\\\"msWizard.isLastStep()\\\" \\nng-disabled=\\\"msWizard.formsIncomplete()\\\">Download</md-button></div></ms-form-wizard></md-dialog-content></md-dialog>\");\n$templateCache.put(\"app/main/invitations/dialogs/invitation-accept-group-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">{{vm.title}}</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\">\\n</md-icon></md-button></div></md-toolbar><md-dialog-content class=\\\"no-padding\\\"><ms-form-wizard flex><md-tabs \\nmd-dynamic-height md-selected=\\\"msWizard.selectedIndex\\\"><md-tab><md-tab-label><span class=\\\"ms-form-wizard-step-label\\\">\\n<span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$invalid\\\">1</span> <span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$valid\\\"><i class=\\\"icon-check s16\\\"></i> </span><span \\nclass=\\\"ms-form-wizard-step-text\\\">Select Project</span></span></md-tab-label><md-tab-body><form name=\\\"wizardStep1\\\" \\nclass=\\\"md-inline-form\\\" ms-form-wizard-form novalidate><div ng-switch=\\\"vm.wizard.newFolder\\\"><div ng-switch-when=\\\"false\\\">\\n<div ng-include=\\\"\\'app/main/invitations/views/stepper/new-checklist-1.html\\'\\\"></div></div><div ng-switch-when=\\\"true\\\"><div\\n ng-include=\\\"\\'app/main/invitations/views/stepper/new-checklist-1-new-folder.html\\'\\\"></div></div></div></form>\\n</md-tab-body></md-tab></md-tabs><div class=\\\"navigation\\\" flex layout=\\\"row\\\" layout-align=\\\"center center\\\" \\nng-show=\\\"!vm.wizard.newFolder && !vm.wizard.newGroup\\\"><md-button class=\\\"\\\" ng-click=\\\"msWizard.previousStep()\\\" \\nng-disabled=\\\"msWizard.isFirstStep()\\\">Previous</md-button><div class=\\\"steps\\\"><span ng-repeat=\\\"form in msWizard.forms\\\" \\nng-class=\\\"{\\'selected md-accent-bg\\':msWizard.selectedIndex === $index}\\\"></span></div><md-button class=\\\"\\\" \\nng-click=\\\"msWizard.nextStep()\\\" ng-hide=\\\"msWizard.isLastStep()\\\" \\nng-disabled=\\\"msWizard.currentStepInvalid() || vm.wizard.newFolder\\\">Next</md-button><md-button class=\\\"md-warn\\\" \\nng-click=\\\"vm.sendForm(); msWizard.resetForm();\\\" ng-show=\\\"msWizard.isLastStep()\\\" \\nng-disabled=\\\"msWizard.formsIncomplete() || vm.wizard.newFolder\\\">Download Template</md-button></div></ms-form-wizard>\\n</md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\" ng-show=\\\"vm.wizard.newFolder\\\">\\n<div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" aria-label=\\\"Save\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SAVE\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"wizardStep1.$invalid || wizardStep1.$pristine\\\" ng-click=\\\"vm.addNewFolder(vm.folder.name)\\\">SAVE</md-button>\\n</div><div layout=\\\"row\\\"><md-button ng-click=\\\"vm.cancelFolderInput()\\\" aria-label=\\\"Cancel\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.CANCEL\\\">CANCEL</span></md-tooltip></md-button></div></md-dialog-actions><md-dialog-actions \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\" ng-show=\\\"vm.wizard.newGroup\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" ng-if=\\\"!vm.newChecklist\\\" \\nng-click=\\\"vm.addNewGroup(vm.group.text, vm.verticalStepper.step1.folderID)\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" aria-label=\\\"Save\\\" translate=\\\"CHECKLIST.SAVE\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE</md-button></div><div layout=\\\"row\\\"><md-button ng-if=\\\"!vm.newChecklist\\\" \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.cancelGroupInput()\\\" aria-label=\\\"Delete\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.CANCEL\\\">CANCEL</span></md-tooltip></md-button></div></md-dialog-actions></md-dialog>\");\n$templateCache.put(\"app/main/invitations/partials/received.html\",\"<div class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\"><table class=\\\"simple row-border hover\\\"><thead>\\n<tr ng-if=\\\"vm.invites.received.length\\\"><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">\\nChecklist</span></div></th><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">Type</span>\\n</div></th><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">Sender</span></div></th><th \\nclass=\\\"secondary-text hide-xs\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">Oraganization</span></div></th><th>\\n</th></tr><tr ng-if=\\\"!vm.invites.received.length\\\"><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span \\nclass=\\\"column-title\\\">(0) Invitations Pending</span></div></th></tr></thead><tbody><tr \\nng-repeat=\\\"invite in vm.invites.received | filter: globalSearch.searchTerm | orderBy: \\'created\\'\\\" \\nng-class=\\\"{\\'md-green-100-bg\\':vm.passID==invite.id}\\\"><td>{{invite.name}}</td><td>{{invite.type}}</td><td>\\n{{invite.users.inviter.name}}</td><td class=\\\"hide-xs\\\">{{invite.users.inviter.organization}}</td><td class=\\\"text-right\\\">\\n<md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"More\\\" \\ntranslate translate-attr-aria-label=\\\"\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item \\nng-hide=\\\"viewAs.notMe || vm.invite.destroying || vm.invite.accepting || invite.type==\\'group\\'\\\"><md-button \\nng-click=\\\"vm.inviteControl.acceptChecklist(invite, $event)\\\" translate-attr-aria-label=\\\"INVITATIONS.ACCEPT_INVITATION\\\">\\n<md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-google-circles-invite\\\"></md-icon><span \\ntranslate=\\\"INVITATIONS.ACCEPT_INVITATION\\\">Accept Invitation</span></md-button></md-menu-item><md-menu-item \\nng-show=\\\"invite.type==\\'group\\'\\\" \\nng-hide=\\\"viewAs.notMe || vm.invite.destroying || vm.invite.accepting || invite.type==\\'checklist\\'\\\"><md-button \\nng-click=\\\"vm.inviteControl.acceptGroup(invite, $event)\\\" translate-attr-aria-label=\\\"INVITATIONS.ACCEPT_INVITATION\\\">\\n<md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-google-circles-invite\\\"></md-icon><span \\ntranslate=\\\"INVITATIONS.ACCEPT_INVITATION\\\">Accept Invitation</span></md-button></md-menu-item><md-menu-item \\nng-hide=\\\"viewAs.notMe || vm.invite.destroying || vm.invite.accepting\\\"><md-button \\nng-click=\\\"vm.inviteControl.destroy(\\'received\\', invite)\\\" translate-attr-aria-label=\\\"INVITATIONS.REJECT_INVITATION\\\">\\n<md-icon class=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\"></md-icon><span translate=\\\"INVITATIONS.REJECT_INVITATION\\\">\\nReject Invitation</span></md-button></md-menu-item></md-menu-content></md-menu></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/main/invitations/partials/sent.html\",\"<div class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\"><table class=\\\"simple row-border hover\\\"><thead>\\n<tr ng-if=\\\"vm.invites.sent.length\\\"><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">\\nChecklist</span></div></th><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">Recipient\\n</span></div></th><th class=\\\"secondary-text hide-xs\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">Oraganization\\n</span></div></th><th></th></tr><tr ng-if=\\\"!vm.invites.sent.length\\\"><th class=\\\"secondary-text\\\"><div \\nclass=\\\"table-header\\\"><span class=\\\"column-title\\\">(0) Invitations Pending</span></div></th></tr></thead><tbody><tr \\nng-repeat=\\\"invite in vm.invites.sent | filter: globalSearch.searchTerm | orderBy: \\'created\\'\\\"><td>{{invite.name}}</td>\\n<td>{{invite.users.recipient.name}}</td><td class=\\\"hide-xs\\\">{{invite.users.recipient.organization}}</td><td \\nclass=\\\"text-right\\\"><md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" \\naria-label=\\\"More\\\" translate translate-attr-aria-label=\\\"\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon>\\n</md-button><md-menu-content width=\\\"3\\\"><md-menu-item ng-hide=\\\"viewAs.notMe || vm.invite.destroying\\\"><md-button \\nng-click=\\\"vm.inviteControl.destroy(\\'sent\\', invite)\\\" translate-attr-aria-label=\\\"INVITATIONS.REJECT_INVITATION\\\"><md-icon \\nclass=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\"></md-icon><span translate=\\\"INVITATIONS.RESCIND_INVITATION\\\">\\nRescind Invitation</span></md-button></md-menu-item></md-menu-content></md-menu></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/main/invite/partials/create.html\",\"<div id=\\\"invite-form\\\" class=\\\"md-whiteframe-8dp\\\"><div class=\\\"logo md-accent-bg\\\"><span>CL</span></div><div class=\\\"title\\\" \\ntranslate=\\\"REGISTER.TITLE\\\">Accept Invitation</div><form name=\\\"registerForm\\\" novalidate \\nng-submit=\\\"vm.acceptInvite.signup()\\\"><md-input-container class=\\\"md-block\\\" md-no-float><input name=\\\"first\\\" \\nng-model=\\\"vm.acceptInvite.reg.contact.name.first\\\" placeholder=\\\"First Name\\\" translate \\ntranslate-attr-placeholder=\\\"REGISTER.FIRST\\\" required><div ng-messages=\\\"registerForm.first.$error\\\" role=\\\"alert\\\"><div \\nng-message=\\\"required\\\"><span translate=\\\"REGISTER.ERRORS.FIRSTNAME_REQUIRED\\\">First Name field is required</span></div>\\n</div></md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input name=\\\"last\\\" \\nng-model=\\\"vm.acceptInvite.reg.contact.name.last\\\" placeholder=\\\"Last Name\\\" translate \\ntranslate-attr-placeholder=\\\"REGISTER.LAST\\\" required><div ng-messages=\\\"registerForm.last.$error\\\" role=\\\"alert\\\"><div \\nng-message=\\\"required\\\"><span translate=\\\"REGISTER.ERRORS.LASTNAME_REQUIRED\\\">Last Name field is required</span></div>\\n</div></md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input name=\\\"phone\\\" \\nng-model=\\\"vm.acceptInvite.reg.contact.phone\\\" placeholder=\\\"Phone Number\\\" translate \\ntranslate-attr-placeholder=\\\"REGISTER.PHONE\\\" required><div ng-messages=\\\"registerForm.phone.$error\\\" role=\\\"alert\\\"><div \\nng-message=\\\"required\\\"><span translate=\\\"REGISTER.ERRORS.PHONE_REQUIRED\\\">Phone Number field is required</span></div>\\n</div></md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"email\\\" name=\\\"email\\\" \\nng-model=\\\"vm.acceptInvite.reg.contact.email\\\" placeholder=\\\"Email\\\" translate translate-attr-placeholder=\\\"REGISTER.EMAIL\\\" \\nng-pattern=\\\"/^.+@.+\\\\..+$/\\\" required><div ng-messages=\\\"registerForm.email.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div \\nng-message=\\\"required\\\"><span translate=\\\"REGISTER.ERRORS.EMAIL_REQUIRED\\\">Email field is required</span></div><div \\nng-message=\\\"pattern\\\"><span translate=\\\"REGISTER.ERRORS.EMAIL_MUST_VALID\\\">Email must be a valid e-mail address</span>\\n</div></div></md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"password\\\" \\nname=\\\"password\\\" ng-model=\\\"vm.create.reg.password\\\" placeholder=\\\"Password\\\" translate \\ntranslate-attr-placeholder=\\\"REGISTER.PASSWORD\\\" required><div ng-messages=\\\"registerForm.password.$error\\\" role=\\\"alert\\\">\\n<div ng-message=\\\"required\\\"><span translate=\\\"REGISTER.ERRORS.PASSWORD_REQUIRED\\\">Password field is required</span></div>\\n</div></md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"password\\\" name=\\\"password2\\\" \\nng-model=\\\"vm.acceptInvite.reg.password2\\\" placeholder=\\\"Password (Confirm)\\\" translate \\ntranslate-attr-placeholder=\\\"REGISTER.PASSWORD_CONFIRM\\\" required><div ng-messages=\\\"registerForm.password2.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span translate=\\\"REGISTER.ERRORS.PASSWORD_CONFIRM_REQUIRED\\\">\\nPassword (Confirm) field is required</span></div></div></md-input-container><div class=\\\"terms\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\"><md-checkbox name=\\\"terms\\\" ng-model=\\\"data.cb1\\\" aria-label=\\\"I read and accept\\\" required>\\n</md-checkbox><div layout=\\\"row\\\" layout-sm=\\\"column\\\" layout-align=\\\"start center\\\"><span translate=\\\"REGISTER.READ_ACCEPT\\\">\\nI read and accept</span> <a href=\\\"#\\\" class=\\\"md-accent-color\\\" translate=\\\"REGISTER.TERMS_COND\\\">terms and conditions</a>\\n</div></div><md-button type=\\\"submit\\\" class=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"CREATE MY ACCOUNT\\\" \\nng-disabled=\\\"registerForm.$invalid || registerForm.$pristine\\\" translate=\\\"REGISTER.CREATE_ACCOUNT\\\" \\ntranslate-attr-aria-label=\\\"REGISTER.CREATE_ACCOUNT\\\">CREATE MY ACCOUNT</md-button></form><div class=\\\"login\\\" \\nlayout=\\\"row\\\" layout-xs=\\\"column\\\" layout-align=\\\"center center\\\"><span class=\\\"text\\\" translate=\\\"REGISTER.ALREADY_HAVE\\\">\\nAlready have an account?</span> <a class=\\\"link\\\" ng-href=\\\"/login/\\\" translate=\\\"REGISTER.LOGIN\\\">Log in</a></div></div>\");\n$templateCache.put(\"app/main/invite/partials/legacy.html\",\"<div id=\\\"invite-form\\\" class=\\\"md-whiteframe-8dp\\\"><div class=\\\"logo md-accent-bg\\\"><span>CL</span></div><div class=\\\"title\\\">\\nAccepting this invitation will</div><ul class=\\\"text-left\\\"><li>Keep your existing username/password</li><li>\\nLeave your current Organization</li><li>Lose access to all your current Organization information</li><li>\\nMaintain your contacts list</li><li>Maintain your direct messages</li></ul><form name=\\\"loginForm\\\" novalidate \\nng-submit=\\\"vm.acceptInvite.login()\\\"><md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"email\\\" name=\\\"email\\\" \\nng-model=\\\"vm.acceptInvite.signin.username\\\" placeholder=\\\"Email\\\" ng-pattern=\\\"/^.+@.+\\\\..+$/\\\" required><div \\nng-messages=\\\"loginForm.email.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\"><span>\\nEmail field is required</span></div><div ng-message=\\\"pattern\\\"><span>Email must be a valid e-mail address</span></div>\\n</div></md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"password\\\" name=\\\"password\\\" \\nng-model=\\\"vm.acceptInvite.signin.password\\\" placeholder=\\\"Password\\\" required><div \\nng-messages=\\\"loginForm.password.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Password field is required</span>\\n</div></div></md-input-container><md-button type=\\\"submit\\\" class=\\\"md-raised md-accent submit-button\\\" \\nng-disabled=\\\"loginForm.$invalid || loginForm.$pristine\\\">LOG IN</md-button></form><div class=\\\"register\\\" layout=\\\"row\\\" \\nlayout-sm=\\\"column\\\" layout-align=\\\"center center\\\"><span class=\\\"text\\\">Don\\'t have an account?</span> <a class=\\\"link\\\" \\nng-click=\\\"vm.viewToggle(\\'create\\', \\'legacy\\')\\\">Create Account</a></div></div>\");\n$templateCache.put(\"app/main/invite/partials/switchboard.html\",\"<div id=\\\"invite-form\\\" class=\\\"md-whiteframe-8dp\\\"><div class=\\\"logo md-accent-bg\\\"><span>CL</span></div><div class=\\\"title\\\">\\ntitle</div><md-button ng-click=\\\"vm.viewToggle(\\'legacy\\')\\\" aria-label=\\\"INVITE.LEGACY\\\" \\nclass=\\\"md-raised md-accent submit-button\\\" translate=\\\"INVITE.LEGACY\\\"></md-button><md-button \\nng-click=\\\"vm.viewToggle(\\'create\\')\\\" class=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"INVITE.CREATE\\\" \\ntranslate=\\\"INVITE.CREATE\\\"></md-button></div>\");\n$templateCache.put(\"app/main/organization/partials/create-organization.html\",\"<div class=\\\"form-wrapper md-whiteframe-1dp flex\\\"><form name=\\\"form\\\" ng-disabled=\\\"vm.creating\\\" class=\\\"md-inline-form\\\" \\nng-submit=\\\"vm.createOrg()\\\" novalidate><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-input-container flex><input \\ntype=\\\"text\\\" name=\\\"name\\\" ng-model=\\\"vm.orgTmp.name\\\" placeholder=\\\"Organization Name\\\" required><div \\nng-messages=\\\"form.name.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Organization Name is required.</span>\\n</div></div></md-input-container><md-input-container flex><input type=\\\"text\\\" name=\\\"phone\\\" ng-model=\\\"vm.orgTmp.phone\\\" \\nplaceholder=\\\"Phone Number\\\"></md-input-container></div><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-input-container \\nflex=\\\"50\\\"><input type=\\\"email\\\" name=\\\"email\\\" ng-model=\\\"vm.orgTmp.email\\\" placeholder=\\\"Email Address\\\" \\nng-pattern=\\\"/^.+@.+\\\\..+$/\\\" required><div ng-messages=\\\"form.email.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div \\nng-message=\\\"required\\\" style=\\\"opacity: 1; margin-top: 0px\\\"><span>Email Address is required</span></div><div \\nng-message=\\\"pattern\\\" style=\\\"opacity: 1; margin-top: 0px\\\"><span>Email Address must be a valid e-mail address</span>\\n</div></div></md-input-container><md-input-container flex=\\\"50\\\" hide-sm hide-xs>&nbsp;</md-input-container></div><div \\nlayout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-input-container flex><input type=\\\"text\\\" name=\\\"address_line1\\\" \\nng-model=\\\"vm.orgTmp.address.line1\\\" placeholder=\\\"Address Line 1\\\" required><div ng-messages=\\\"form.address_line1.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Address is required.</span></div></div></md-input-container>\\n<md-input-container flex><input type=\\\"text\\\" name=\\\"address_line2\\\" ng-model=\\\"vm.orgTmp.address.line2\\\" \\nplaceholder=\\\"Address Line 2\\\"></md-input-container></div><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-input-container \\nflex><input type=\\\"text\\\" name=\\\"address_city\\\" ng-model=\\\"vm.orgTmp.address.city\\\" placeholder=\\\"City\\\" required><div \\nng-messages=\\\"form.address_city.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>City is required.</span></div>\\n</div></md-input-container><md-input-container flex><input type=\\\"text\\\" name=\\\"address_state\\\" \\nng-model=\\\"vm.orgTmp.address.state\\\" placeholder=\\\"State/Province\\\" required><div ng-messages=\\\"form.address_state.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>State is required.</span></div></div></md-input-container></div><div \\nlayout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-input-container flex><input type=\\\"text\\\" name=\\\"address_zip\\\" \\nng-model=\\\"vm.orgTmp.address.zip\\\" placeholder=\\\"Zip Code\\\" required><div ng-messages=\\\"form.address_zip.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Zip Code is required.</span></div></div></md-input-container>\\n<md-input-container flex><input type=\\\"text\\\" name=\\\"address_country\\\" ng-model=\\\"vm.orgTmp.address.country\\\" \\nplaceholder=\\\"Country\\\" required><div ng-messages=\\\"form.address_country.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\">\\n<span>Country is required.</span></div></div></md-input-container></div><md-button type=\\\"submit\\\" \\nclass=\\\"md-raised md-accent\\\" aria-label=\\\"Submit\\\" ng-disabled=\\\"form.$invalid || form.$pristine || vm.creating\\\"><span \\nng-hide=\\\"vm.creating\\\">Create</span> <span ng-show=\\\"vm.creating\\\">Submiting...</span></md-button></form></div>\");\n$templateCache.put(\"app/main/organization/partials/organization.html\",\"<div class=\\\"form-wrapper md-whiteframe-1dp flex\\\"><form name=\\\"form\\\" ng-disabled=\\\"vm.update.sending\\\" \\nclass=\\\"md-inline-form\\\" ng-submit=\\\"vm.update()\\\" novalidate><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-input-container \\nflex><input type=\\\"text\\\" name=\\\"name\\\" ng-model=\\\"vm.orgTmp.name\\\" placeholder=\\\"Organization Name\\\" required><div \\nng-messages=\\\"form.name.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Organization Name is required.</span>\\n</div></div></md-input-container><md-input-container flex><input type=\\\"text\\\" name=\\\"phone\\\" ng-model=\\\"vm.orgTmp.phone\\\" \\nplaceholder=\\\"Phone Number\\\"></md-input-container></div><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-input-container \\nflex=\\\"50\\\"><input type=\\\"email\\\" name=\\\"email\\\" ng-model=\\\"vm.orgTmp.email\\\" placeholder=\\\"Email Address\\\" \\nng-pattern=\\\"/^.+@.+\\\\..+$/\\\" required><div ng-messages=\\\"form.email.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div \\nng-message=\\\"required\\\" style=\\\"opacity: 1; margin-top: 0px\\\"><span>Email Address is required</span></div><div \\nng-message=\\\"pattern\\\" style=\\\"opacity: 1; margin-top: 0px\\\"><span>Email Address must be a valid e-mail address</span>\\n</div></div></md-input-container><md-input-container flex=\\\"50\\\" hide-sm hide-xs>&nbsp;</md-input-container></div><div \\nlayout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-input-container flex><input type=\\\"text\\\" name=\\\"address_line1\\\" \\nng-model=\\\"vm.orgTmp.address.line1\\\" placeholder=\\\"Address Line 1\\\" required><div ng-messages=\\\"form.address_line1.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Address is required.</span></div></div></md-input-container>\\n<md-input-container flex><input type=\\\"text\\\" name=\\\"address_line2\\\" ng-model=\\\"vm.orgTmp.address.line2\\\" \\nplaceholder=\\\"Address Line 2\\\"></md-input-container></div><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-input-container \\nflex><input type=\\\"text\\\" name=\\\"address_city\\\" ng-model=\\\"vm.orgTmp.address.city\\\" placeholder=\\\"City\\\" required><div \\nng-messages=\\\"form.address_city.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>City is required.</span></div>\\n</div></md-input-container><md-input-container flex><input type=\\\"text\\\" name=\\\"address_state\\\" \\nng-model=\\\"vm.orgTmp.address.state\\\" placeholder=\\\"State/Province\\\" required><div ng-messages=\\\"form.address_state.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>State is required.</span></div></div></md-input-container></div><div \\nlayout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-input-container flex><input type=\\\"text\\\" name=\\\"address_zip\\\" \\nng-model=\\\"vm.orgTmp.address.zip\\\" placeholder=\\\"Zip Code\\\" required><div ng-messages=\\\"form.address_zip.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Zip Code is required.</span></div></div></md-input-container>\\n<md-input-container flex><input type=\\\"text\\\" name=\\\"address_country\\\" ng-model=\\\"vm.orgTmp.address.country\\\" \\nplaceholder=\\\"Country\\\" required><div ng-messages=\\\"form.address_country.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\">\\n<span>Country is required.</span></div></div></md-input-container></div><md-button type=\\\"submit\\\" \\nclass=\\\"md-raised md-accent\\\" aria-label=\\\"Submit\\\" ng-disabled=\\\"form.$invalid || form.$pristine || vm.update.sending\\\">\\n<span ng-hide=\\\"vm.update.sending\\\">Update</span> <span ng-show=\\\"vm.update.sending\\\">Updating...</span></md-button></form>\\n</div>\");\n$templateCache.put(\"app/main/organization/partials/sidenav.html\",\"<div class=\\\"demo-sidenav\\\"><md-list><md-list-item><a href=\\\"/organization\\\">My Organization</a></md-list-item><md-divider>\\n</md-divider><md-list-item><a href=\\\"/members\\\">Members</a></md-list-item><md-divider></md-divider><md-list-item><p>\\nTemplates</p></md-list-item><md-divider></md-divider><md-list-item><p>Plan</p></md-list-item></md-list></div>\");\n$templateCache.put(\"app/main/queue/partials/queue.html\",\"{{ }}<div class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\"><table class=\\\"simple row-border hover\\\">\\n<thead><tr class=\\\"hide-xs\\\" ng-if=\\\"vm.queue.list.length\\\"><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span \\nclass=\\\"column-title\\\">Checklist Name</span></div></th><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span \\nclass=\\\"column-title\\\">Inviter</span></div></th><th></th></tr><tr ng-if=\\\"!vm.queue.list.length\\\"><th \\nclass=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">(0) Checklists Pending Assignment</span>\\n</div></th></tr></thead><tbody><tr \\nng-repeat=\\\"invite in vm.queue.list | filter: globalSearch.searchTerm track by $index\\\"><td>{{invite.name}}</td><td>\\n{{invite.users.inviter.name}} ({{invite.users.inviter.organization}})</td><td class=\\\"text-right\\\"><md-menu><md-button \\nng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"More\\\" translate \\ntranslate-attr-aria-label=\\\"\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button><md-menu-content \\nwidth=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"invite.reject()\\\" translate-attr-aria-label=\\\"\\\"><md-icon \\nclass=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\"></md-icon><span translate=\\\"\\\">Reject Checklist</span></md-button>\\n</md-menu-item><md-menu-item><md-button ng-click=\\\"invite.accept()\\\" translate-attr-aria-label=\\\"\\\"><md-icon \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-google-circles-invite\\\"></md-icon><span translate=\\\"\\\">Accept Checklist</span>\\n</md-button></md-menu-item></md-menu-content></md-menu></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/main/subscriptions/dialogs/select-subscriptions-dialog.html\",\"<md-dialog class=\\\"select-subscriptions-dialog\\\" aria-label=\\\"Subscriptions\\\"><md-toolbar class=\\\"md-accent md-tall\\\" \\nlayout=\\\"column\\\"><div class=\\\"md-toolbar-tools md-toolbar-tools-top\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\">\\n<span class=\\\"title\\\">{{vm.title}}</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\" \\naria-label=\\\"Close dialog\\\" translate translate-attr-aria-label=\\\"\\\"><md-icon md-font-icon=\\\"icon-close\\\"></md-icon>\\n</md-button></div></md-toolbar><md-dialog-content ms-scroll><div class=\\\"price-tables\\\"><div \\nng-repeat=\\\"off in vm.offers\\\" class=\\\"price-table style-3 md-whiteframe-1dp layout-column\\\" layout=\\\"column\\\"><div \\nclass=\\\"package-type\\\"><div class=\\\"title\\\">{{off.name}}</div><div class=\\\"subtitle\\\">{{off.tagline}}</div></div><div \\nclass=\\\"price md-primary-bg md-hue-3 layout-align-center-start layout-row\\\" layout=\\\"row\\\" layout-align=\\\"center start\\\"><div\\n class=\\\"currency\\\">$</div><div layout=\\\"row\\\" layout-align=\\\"center end\\\" class=\\\"layout-align-center-end layout-row\\\"><div \\nclass=\\\"value\\\">{{off.price}}</div><div class=\\\"period\\\">{{off.price_description}}</div></div></div><div \\nclass=\\\"terms layout-align-start-center layout-column\\\" layout=\\\"column\\\" layout-align=\\\"start center\\\"><div class=\\\"term\\\">\\n{{off.description}}</div></div><button ng-click=\\\"subscriptions.select(off)\\\" ng-disabled=\\\"updating\\\" \\nng-hide=\\\"subscriptions.selected.id == off.id\\\" \\nclass=\\\"cta-button md-raised md-accent md-button md-default-theme md-ink-ripple\\\" type=\\\"button\\\"><span class=\\\"ng-scope\\\">\\nSELECT</span></button> <button ng-disabled=\\\"subscriptions.selected.id == off.id\\\" \\nng-show=\\\"subscriptions.selected.id == off.id\\\" \\nclass=\\\"cta-button md-raised md-accent md-button md-default-theme md-ink-ripple\\\" type=\\\"button\\\"><span class=\\\"ng-scope\\\">\\nSELECTED</span></button><div class=\\\"note\\\">{{off.footer}}</div></div></div><div ng-show=\\\"subscriptions.selected\\\">\\nSelect Me</div></md-dialog-content></md-dialog><div id=\\\"offerSelectModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" \\naria-labelledby=\\\"offerSelectModalLabel\\\" class=\\\"modal modal-lg fade\\\"><div role=\\\"document\\\" class=\\\"modal-dialog\\\"><div \\nclass=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><h3 id=\\\"offerSelectModalLabel\\\"><span \\nng-hide=\\\"vm.offers.length && !vm.loading\\\">There are no Subscription packages available right now!</span><span \\nng-hide=\\\"vm.offers.length || !vm.loading\\\"><i class=\\\"fa fa-spin fa-spinner\\\"></i>\\nYou will be presented with your Subscription options shortly...</span></h3></div><div ng-show=\\\"vm.offers.length\\\" \\nclass=\\\"modal-body\\\"><div ng-class=\\\"{\\'panel-primary\\': off.id == subscriptions.selected.id}\\\" ng-repeat=\\\"off in vm.offers\\\" \\nclass=\\\"panel col-sm-3 panel-default\\\"><div class=\\\"panel-heading\\\"><h4>{{off.name}}</h4></div><div class=\\\"panel-body\\\">\\n{{off.description}}</div><div class=\\\"panel-footer\\\"><button type=\\\"button\\\" ng-click=\\\"subscriptions.select(off)\\\" \\nng-disabled=\\\"updating\\\" ng-hide=\\\"subscriptions.selected.id == off.id\\\" class=\\\"btn btn-sm btn-primary\\\">Select</button>\\n<span ng-show=\\\"subscriptions.selected.id == off.id\\\">Selected</span></div></div><hr><div \\nng-hide=\\\"subscriptions.selected == null\\\" class=\\\"panel col-sm-12 panel-default\\\"><div class=\\\"panel-heading\\\"><h3>\\nEnter Payment Information</h3></div><div class=\\\"panel-body\\\"><form id=\\\"checkout\\\" method=\\\"post\\\" \\nng-submit=\\\"enterPaymentMethodValues.submit()\\\"><div id=\\\"payment-form\\\"></div><input type=\\\"submit\\\" \\nvalue=\\\"{{enterPaymentMethodValues.submitText}}\\\" ng-show=\\\"currentPaymentMethod == null\\\"></form></div></div><hr><form \\nng-hide=\\\"subscriptions.selected == null || currentPaymentMethod==null\\\" ng-submit=\\\"subscriptions.finalize()\\\" \\nclass=\\\"panel col-sm-12 panel-default\\\"><div class=\\\"panel-heading\\\"><h4>Terms &amp; Conditions</h4></div><div \\nclass=\\\"panel-body\\\"><div class=\\\"checkbox\\\"><label><input type=\\\"checkbox\\\" value=\\\"1\\\" ng-model=\\\"subscriptions.agreeToTerms\\\">\\nI agree to Checklink&apos;s<a href=\\\"/terms.php\\\" target=\\\"_blank\\\">Terms &amp; Conditions</a></label></div></div><div \\nclass=\\\"panel-footer\\\"><button type=\\\"submit\\\" ng-disabled=\\\"subscriptions.finalizing\\\"><span \\nng-hide=\\\"subscriptions.finalizing\\\">Subscribe</span><span ng-show=\\\"subscriptions.finalizing\\\"><i \\nclass=\\\"fa fa-spin fa-spinner\\\"> </i>Finalizing Subscription...</span></button></div></form></div></div></div></div>\");\n$templateCache.put(\"app/main/subscriptions/partials/add-subscription.html\",\"<div class=\\\"simple-table-container md-background-bg md-whiteframe-1dp mt-25\\\"><div ng-show=\\\"!subscriptions.success\\\" \\nclass=\\\"simple-table-container form-container md-background-bg md-whiteframe-1dp\\\"><table \\nclass=\\\"simple row-border hover\\\" ms-responsive-table><thead><tr class=\\\"hide-xs\\\"><th class=\\\"secondary-text\\\">Plan</th><th \\nclass=\\\"secondary-text\\\">Description</th><th class=\\\"secondary-text\\\"><span ng-hide=\\\"subscriptions.selected.id\\\">Choose Plan\\n</span> <span ng-show=\\\"subscriptions.selected.id\\\">Remove</span></th></tr></thead><tr ng-repeat=\\\"off in vm.offers\\\" \\nng-class=\\\"{\\'md-green-100-bg\\': subscriptions.selected.id == off.id}\\\" \\nng-hide=\\\"subscriptions.selected && subscriptions.selected.id != off.id\\\"><td class=\\\"text-left\\\"><strong>Plan Name (FPO)\\n</strong></td><td>{{off.description}}</td><td><md-radio-group ng-model=\\\"vm.offer.selected\\\" \\nng-hide=\\\"subscriptions.selected.id == off.id\\\"><md-radio-button ng-click=\\\"subscriptions.select(off)\\\" value=\\\"{{off.id}}\\\">\\n<strong>${{off.price}} (usd)</strong></md-radio-button></md-radio-group><md-button \\nng-show=\\\"subscriptions.selected.id == off.id\\\" class=\\\"md-icon-button\\\" ng-click=\\\"vm.clearSelectSubscription($event)\\\" \\naria-label=\\\"Delete\\\" translate translate-attr-aria-label=\\\"SUBSCRIPTIONS.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\">\\n</md-icon><md-tooltip><span translate=\\\"SUBSCRIPTIONS.DELETE\\\">DELETE</span></md-tooltip></md-button></td></tr></table>\\n<div ng-show=\\\"subscriptions.selected\\\" class=\\\"form-wrapper md-whiteframe-1dp flex\\\"><form id=\\\"checkout\\\" method=\\\"post\\\" \\nng-submit=\\\"enterPaymentMethodValues.submit()\\\"><div class=\\\"form-title\\\">Payment Method</div><p>\\nNote: Your payment is being processed through a merchant account residing in United States</p><div \\nclass=\\\"ecommerce-cc\\\"><img alt=\\\"American Express\\\" class=\\\"\\\" src=\\\"/assets/images/ecommerce/american_express.png\\\"><img \\nalt=\\\"Discover\\\" class=\\\"\\\" src=\\\"/assets/images/ecommerce/discover.png\\\"><img alt=\\\"JCB\\\" class=\\\"\\\" \\nsrc=\\\"/assets/images/ecommerce/jcb.png\\\"><img alt=\\\"MasterCard\\\" class=\\\"\\\" src=\\\"/assets/images/ecommerce/mastercard.png\\\">\\n<img alt=\\\"Visa\\\" class=\\\"\\\" src=\\\"/assets/images/ecommerce/visa.png\\\"><img alt=\\\"PayPal Account\\\" class=\\\"\\\" \\nsrc=\\\"/assets/images/ecommerce/paypal_account.png\\\"></div><div id=\\\"payment-form\\\"></div><div layout=\\\"column\\\" \\nlayout-gt-sm=\\\"row\\\"><md-button type=\\\"submit\\\" value=\\\"{{enterPaymentMethodValues.submitText}}\\\" \\nng-show=\\\"currentPaymentMethod == null\\\" class=\\\"cta-button md-raised md-accent md-button md-default-theme md-ink-ripple\\\">\\nProcess Payment</md-button></div></form></div><div \\nng-hide=\\\"subscriptions.selected == null || currentPaymentMethod == null\\\" class=\\\"form-wrapper md-whiteframe-1dp flex\\\">\\n<form ng-submit=\\\"subscriptions.finalize()\\\" \\nclass=\\\"md-inline-form ng-pristine ng-invalid ng-invalid-required ng-valid-pattern\\\"><div class=\\\"form-title\\\">\\nTerms &amp; Conditions</div><md-checkbox-container flex><md-checkbox aria-label=\\\"Notifications\\\" \\nng-model=\\\"subscriptions.agreeToTerms\\\" ng-true-value=\\\"1\\\" ng-false-value=\\\"0\\\">\\nBy placing your order, you agree to Checklink&apos;s privacy notice and <a href=\\\"\\\" target=\\\"_blank\\\">conditions of use\\n</a>.</md-checkbox></md-checkbox-container><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-button type=\\\"submit\\\" \\nclass=\\\"md-raised md-accent\\\" aria-label=\\\"Submit\\\" ng-disabled=\\\"subscriptions.finalizing || !subscriptions.agreeToTerms\\\">\\n<span ng-hide=\\\"subscriptions.finalizing\\\">Subscribe</span><span ng-show=\\\"subscriptions.finalizing\\\"><i \\nclass=\\\"fa fa-spin fa-spinner\\\"> </i>Finalizing Subscription...</span></md-button></div></form></div></div></div>\");\n$templateCache.put(\"app/main/subscriptions/partials/license-pool.html\",\"<div class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\"><table class=\\\"simple hover\\\" ms-responsive-table>\\n<thead><tr><th>&nbsp;</th><th class=\\\"secondary-text\\\"><div class=\\\"text-center\\\">Assigned</div></th><th \\nclass=\\\"secondary-text\\\" hide show-gt-xs><div class=\\\"text-center\\\">Subscribed</div></th><th class=\\\"secondary-text\\\"><div \\nclass=\\\"text-center\\\">Available</div></th></tr></thead><tbody><tr ng-repeat=\\\"rol in user.organization.rolePool\\\"><td>\\n{{rol.name}}</td><td class=\\\"text-center\\\">{{rol.assigned}}</td><td class=\\\"text-center\\\" hide show-gt-xs>\\n{{rol.subscribed}}</td><td class=\\\"text-center\\\">{{rol.available}}</td></tr></tbody></table></div>\");\n$templateCache.put(\"app/main/subscriptions/partials/subscriptions.html\",\"<div class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\" \\nng-hide=\\\"vm.newSubscription && !subscriptions.success\\\"><table class=\\\"simple hover\\\" ms-responsive-table><thead><tr \\nng-if=\\\"user.organization.subscriptions.length\\\"><th class=\\\"secondary-text\\\">Plan</th><th class=\\\"secondary-text\\\" hide \\nshow-gt-xs>Purchased</th><th class=\\\"secondary-text\\\">Activated</th><th class=\\\"secondary-text\\\">Expires</th><th \\nclass=\\\"secondary-text\\\" hide show-gt-sm><div class=\\\"text-center\\\">Price</div></th><th class=\\\"secondary-text\\\" hide \\nshow-gt-sm><div class=\\\"text-center\\\">Cycle Length</div></th><th class=\\\"secondary-text\\\" hide show-gt-xs><div \\nclass=\\\"text-center\\\">Users</div></th></tr><tr ng-if=\\\"!user.organization.subscriptions.length\\\"><th \\nclass=\\\"secondary-text\\\">(0) Subscriptions Available</th></tr></thead><tbody><tr \\nng-repeat=\\\"sub in user.organization.subscriptions track by $index\\\"><td>{{}}</td><td hide show-gt-xs>\\n{{sub.purchased | date: \\'MM/dd/yyyy\\'}}</td><td>{{sub.activated | date: \\'MM/dd/yyyy\\'}}</td><td><span \\nng-show=\\\"sub.flag_active\\\">{{sub.expires | date: \\'MM/dd/yyyy\\'}}</span><span ng-hide=\\\"sub.flag_active\\\">\\n{{sub.deactivated | date: \\'MM/dd/yyyy\\'}}</span></td><td hide show-gt-sm><div class=\\\"text-center\\\">\\n{{sub.price | currency}}</div></td><td hide show-gt-sm><div class=\\\"text-center\\\">{{sub.frequency}}</div></td><td hide \\nshow-gt-xs><div class=\\\"text-center\\\">{{sub.qty_users}}</div></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/main/summary/partials/generate.html\",\"<div class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\"><md-button type=\\\"button\\\" \\nng-hide=\\\"vm.reports.loading\\\" ng-disabled=\\\"vm.reports.loading\\\" ng-click=\\\"vm.reports.refresh()\\\" \\nclass=\\\"md-accent md-raised md-button ng-scope md-ink-ripple md-default-theme\\\">Refresh Report</md-button><md-button \\ntype=\\\"button\\\" ng-click=\\\"vm.reports.request()\\\" \\nclass=\\\"md-accent md-raised md-button ng-scope md-ink-ripple md-default-theme\\\">Request Report</md-button>\\n<md-progress-linear ng-disabled=\\\"!vm.reports.progress\\\" md-mode=\\\"indeterminate\\\"></md-progress-linear></div>\");\n$templateCache.put(\"app/main/summary/partials/summary.html\",\"<div class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\" \\nclass=\\\"pl-25\\\" ng-hide=\\\"!vm.reports.progress\\\"><md-progress-circular ng-disabled=\\\"!vm.reports.progress\\\" \\nmd-mode=\\\"indeterminate\\\" md-diameter=\\\"20\\\"></md-progress-circular></div><table class=\\\"simple row-border hover\\\" \\nms-responsive-table><thead><tr><th width=\\\"25%\\\" class=\\\"secondary-text\\\" ng-if=\\\"vm.reports.list.length\\\">Date Generated\\n</th><th width=\\\"25%\\\" class=\\\"secondary-text\\\" ng-if=\\\"vm.reports.list.length\\\">Type</th><th width=\\\"25%\\\" \\nclass=\\\"text-center\\\" ng-if=\\\"vm.reports.list.length\\\"><div class=\\\"secondary-text\\\">Line Items</div></th><th \\nclass=\\\"secondary-text\\\" ng-if=\\\"!vm.reports.list\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">\\n(0) Reports Available</span></div></th><th width=\\\"25%\\\" ng-if=\\\"vm.reports.viewing\\\" class=\\\"text-center\\\"></th><th \\nwidth=\\\"25%\\\" ng-if=\\\"!vm.reports.viewing\\\" class=\\\"text-right\\\"><md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" \\nclass=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"More\\\" translate translate-attr-aria-label=\\\"\\\"><md-icon \\nmd-font-icon=\\\"icon-dots-horizontal s18\\\"></md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button \\nng-click=\\\"vm.reports.request()\\\" translate-attr-aria-label=\\\"\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-file-multiple\\\"></md-icon><span translate=\\\"\\\">Generate New Reports</span></md-button></md-menu-item>\\n</md-menu-content></md-menu></th></tr></thead><tbody><tr \\nng-repeat=\\\"report in vm.reports.list | filter: globalSearch.searchTerm track by $index\\\" \\nng-hide=\\\"vm.reports.viewing && vm.reports.viewing.id != $index\\\" \\nng-class=\\\"{\\'md-green-100-bg\\': vm.reports.success && $index==0}\\\"><td ng-click=\\\"vm.reports.view(report, $index)\\\" \\nng-class=\\\"{\\'md-accent-fg\\': !vm.reports.viewing}\\\">{{report.requested | date: \\'short\\'}}</td><td>{{report.type}}</td><td \\nclass=\\\"text-center\\\">{{report.lines.length}}</td><td ng-if=\\\"!vm.reports.viewing\\\" class=\\\"text-right\\\"><md-menu><md-button \\nng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"More\\\" translate \\ntranslate-attr-aria-label=\\\"\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button><md-menu-content \\nwidth=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"vm.reports.view(report, $index)\\\" translate-attr-aria-label=\\\"\\\"><md-icon \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-file-document\\\"></md-icon><span translate=\\\"\\\">View Report</span></md-button>\\n</md-menu-item></md-menu-content></md-menu></td><td ng-if=\\\"vm.reports.viewing\\\" class=\\\"text-right\\\"><button \\ntype=\\\"button\\\" ng-show=\\\"vm.reports.viewing\\\" ng-click=\\\"vm.reports.clear()\\\" class=\\\"button-icon-reset\\\" \\naria-label=\\\"close report\\\"><md-icon class=\\\"s18\\\" md-font-icon=\\\"icon-cancel\\\"></md-icon></button></td></tr></tbody></table>\\n</div><div ng-show=\\\"vm.reports.viewing\\\" class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\"><table \\nclass=\\\"simple row-border hover\\\" ms-responsive-table><tbody><tr \\nng-class=\\\"{\\'md-green-100-bg\\': vm.reports.viewingSub.id == $index}\\\" \\nng-repeat=\\\"checklist in vm.reports.viewing.checklists\\\" ng-show=\\\"checklist.lines.length\\\"><td width=\\\"50%\\\" \\nng-click=\\\"vm.reports.viewSub(checklist, $index, checklist.lastActive)\\\" \\nng-class=\\\"{\\'md-accent-fg\\': vm.reports.viewingSub.id !== $index}\\\">{{ checklist.name }}</td><td width=\\\"25%\\\" \\nclass=\\\"text-center\\\">{{ checklist.lines.length }}</td><td width=\\\"25%\\\"></td></tr></tbody></table></div><div \\nng-show=\\\"vm.reports.viewingSub\\\" class=\\\"md-background-bg md-whiteframe-1dp\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" class=\\\"p-24\\\"><div flex=\\\"50\\\" layput-align=\\\"start center\\\"><b># Posts:</b> <span \\nclass=\\\"badge\\\">{{vm.reports.viewingSub.postCount}}</span></div><div flex=\\\"50\\\" layput-align=\\\"start center\\\" \\nclass=\\\"text-right\\\"><b>Last Active:</b> {{vm.reports.viewingSub.lastActive}}</div></div><div \\nng-show=\\\"checklist.location.length\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><div><b>Location:</b></div><div \\nlayout-align=\\\"end center\\\"><h3>{{vm.reports.viewingSub.location}}</h3></div></div><div layout=\\\"row\\\"><div \\nclass=\\\"simple-table-container flex\\\"><table class=\\\"simple row-border hover\\\" ms-responsive-table><thead><tr><th><div \\nclass=\\\"secondary-text\\\">User</div></th><th hide show-gt-xs><div class=\\\"secondary-text\\\">Organization</div></th><th><div \\nclass=\\\"secondary-text\\\">Checklist</div></th><th class=\\\"text-center\\\"><div class=\\\"secondary-text\\\"><small>Conflicts</small>\\n</div></th><th class=\\\"text-center\\\"><div class=\\\"secondary-text\\\"><small>NC</small></div></th><th hide show-gt-xs \\nclass=\\\"text-center\\\"><div class=\\\"secondary-text\\\"><small>Complete</small></div></th><th></th></tr></thead><tbody><tr \\nng-repeat=\\\"line in vm.reports.viewingSub.lines\\\"><td>{{line.contact.name.full}}</td><td hide show-gt-xs>\\n{{line.contact.org}}</td><td>{{line.cfcName}}</td><td class=\\\"text-center\\\">{{line.counts.conflicts}}</td><td \\nclass=\\\"text-center\\\">{{line.counts.nonCompliant}}</td><td hide show-gt-xs class=\\\"text-center\\\"><span \\nng-show=\\\"line.cfcComplete\\\">Y</span> <span ng-hide=\\\"line.cfcComplete\\\">N</span></td><td class=\\\"text-right\\\"><md-menu>\\n<md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"More\\\" translate \\ntranslate-attr-aria-label=\\\"\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button><md-menu-content \\nwidth=\\\"3\\\"><md-menu-item ng-hide=\\\"viewAs.notMe\\\"><md-button \\nng-click=\\\"vm.showComparison(vm.reports.viewingSub, line.contact, line.conflicted)\\\" translate-attr-aria-label=\\\"\\\">\\n<md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-checkbox-multiple-marked-outline\\\"></md-icon><span translate=\\\"\\\">\\nCompare Checklists</span></md-button></md-menu-item><md-menu-item \\nng-show=\\\"line.contact.idACC == user.organization.idACC\\\"><md-button \\nng-click=\\\"vm.viewChecklistAsUser(vm.reports.viewingSub,line.contact)\\\" translate-attr-aria-label=\\\"\\\"><md-icon \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-eye\\\"></md-icon><span translate=\\\"\\\">View As</span></md-button></md-menu-item>\\n<md-menu-item ng-show=\\\"line.contact.idACC == user.organization.idACC\\\"><md-button \\nng-click=\\\"vm.openConversationDialog($event, \\'checklist\\', vm.reports.viewingSub.idCNV_mostRecent, line.cfcName)\\\">\\n<md-icon md-font-icon=\\\"icon-comment-multipe-outline\\\" class=\\\"md-accent-fg s18\\\" md-menu-align-target></md-icon>\\nConversations</md-button></md-menu-item></md-menu-content></md-menu></td></tr></tbody></table></div></div><div \\nng-show=\\\"vm.reports.viewingSub.notes.length\\\" class=\\\"row\\\"><div class=\\\"col-sm-4\\\"><b>Location:</b></div><div \\nclass=\\\"col-sm-8\\\"><p>{{vm.reports.viewingSub.notes}}</p></div></div></div>\");\n$templateCache.put(\"app/main/teammembers/partials/invitations.html\",\"<div class=\\\"form-wrapper md-whiteframe-1dp flex\\\"><form name=\\\"form\\\" ng-disabled=\\\"vm.inviting\\\" class=\\\"md-inline-form\\\" \\nng-submit=\\\"vm.memberInvites.invite.send.execute()\\\" novalidate><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\">\\n<md-input-container class=\\\"mb-10\\\" flex><input type=\\\"email\\\" name=\\\"email\\\" ng-model=\\\"vm.memberInvites.invite.send.email\\\" \\nplaceholder=\\\"Email Address\\\" ng-pattern=\\\"/^.+@.+\\\\..+$/\\\" autofocus required><div ng-messages=\\\"form.email.$error\\\" \\nrole=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\" style=\\\"opacity: 1; margin-top: 0px\\\"><span>\\nEmail address field is required</span></div><div ng-message=\\\"pattern\\\" style=\\\"opacity: 1; margin-top: 0px\\\"><span>\\nEmail address must be a valid e-mail address</span></div></div></md-input-container></div><md-button type=\\\"submit\\\" \\nclass=\\\"md-raised md-accent\\\" aria-label=\\\"Submit\\\" ng-disabled=\\\"form.$invalid || form.$pristine || vm.inviting\\\"><span \\nng-hide=\\\"vm.inviting\\\">Invite</span> <span ng-show=\\\"vm.inviting\\\">Inviting...</span></md-button></form></div><div \\nclass=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\" ng-show=\\\"vm.memberInvites.invites.length>0\\\"><table \\nclass=\\\"simple row-border hover\\\"><thead><tr><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span \\nclass=\\\"column-title\\\">Name</span></div></th><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span \\nclass=\\\"column-title\\\">Email</span></div></th><th class=\\\"secondary-text hide-xs\\\"><div class=\\\"table-header\\\"><span \\nclass=\\\"column-title\\\">Oraganization</span></div></th><th></th></tr></thead><tbody><tr \\nng-repeat=\\\"invite in vm.memberInvites.invites | orderBy: \\'name.full\\'\\\"><td>{{invite.contact.name.full}}</td><td>\\n{{invite.email}}</td><td class=\\\"hide-xs\\\">{{invite.contact.org}}</td><td \\nng-switch=\\\"(withdrawing = (vm.memberInvites.invite.withdraw.inProgress.indexOf(invite.id) > -1))\\\" class=\\\"text-right\\\">\\n<md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"More\\\" \\ntranslate translate-attr-aria-label=\\\"\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item ng-hide=\\\"withdrawing\\\"><md-button \\nng-click=\\\"vm.memberInvites.invite.withdraw.execute(invite)\\\" ng-disabled=\\\"withdrawing\\\" \\ntranslate-attr-aria-label=\\\"TEAMMEMBERS.RESCIND_INVITATION\\\"><md-icon class=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\">\\n</md-icon><span translate=\\\"TEAMMEMBERS.RESCIND_INVITATION\\\">Rescind Invitation</span></md-button></md-menu-item>\\n</md-menu-content></md-menu></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/main/teammembers/partials/teammembers.html\",\"<div class=\\\"simple-table-container form-container md-background-bg md-whiteframe-1dp\\\"><table \\nclass=\\\"simple row-border hover\\\" ms-responsive-table><thead><tr class=\\\"hide-xs\\\"><th class=\\\"secondary-text\\\"><div \\nclass=\\\"table-header\\\"><span class=\\\"column-title\\\">Name</span></div></th><th ng-repeat=\\\"role in vm.members.roles\\\" \\nclass=\\\"hide-xs secondary-text\\\"><div class=\\\"text-center\\\">{{role}}</div></th><th class=\\\"secondary-text\\\"><div \\nclass=\\\"text-center\\\"></div></th></tr></thead><tbody><tr \\nng-repeat=\\\"member in vm.members.list | filter: globalSearch.searchTerm | orderBy: \\'name.full\\'\\\" \\nng-class=\\\"[{success:(isUser = (member.idCON == user.idCON))},{warning:(isViewing = (viewAs.notMe && (member.idCON == viewAs.user.idCON)))}]\\\">\\n<td>{{member.name.full}}&nbsp;<md-icon ng-show=\\\"isViewing\\\" layout-align=\\\"start center\\\" class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-eye\\\"></md-icon></td><td ng-repeat=\\\"role in vm.members.roles\\\" \\nng-switch=\\\"member.roles.setting.indexOf(role)!==-1\\\" class=\\\"text-center hide-xs\\\"><button type=\\\"button\\\" \\nng-disabled=\\\"viewAs.notMe || !permissions.canChange\\\" ng-switch-when=\\\"false\\\" \\nng-switch=\\\"has = member.roles.has.indexOf(role)!==-1\\\" ng-click=\\\"member.roles.set(role,!has)\\\" class=\\\"button-icon-reset\\\" \\naria-label=\\\"role\\\"><md-icon ng-switch-when=\\\"false\\\" md-font-icon=\\\"icon-checkbox-blank-outline\\\" class=\\\"md-accent-fg s18\\\">\\n</md-icon><md-icon ng-switch-when=\\\"true\\\" md-font-icon=\\\"icon-checkbox-marked-outline\\\" class=\\\"md-accent-fg s18\\\">\\n</md-icon></button></td><td ng-switch=\\\"(offboarding = (vm.members.offboard.inProgress.indexOf(member.idCON) > -1))\\\" \\nclass=\\\"text-right\\\"><div class=\\\"buttons\\\" layout=\\\"row\\\" layout-align=\\\"end center\\\"><md-menu><md-button \\nng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"More\\\" translate \\ntranslate-attr-aria-label=\\\"\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button><md-menu-content \\nwidth=\\\"3\\\"><md-menu-item ng-hide=\\\"(!permissions.has(\\'offboardMember\\',member)) || offboarding\\\"><md-button \\nng-click=\\\"vm.members.offboard.execute(member)\\\" ng-disabled=\\\"offboarding\\\" \\ntranslate-attr-aria-label=\\\"TEAMMEMBERS.DELETE_MEMBER\\\"><md-icon class=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\">\\n</md-icon><span translate=\\\"TEAMMEMBERS.DELETE_MEMBER\\\">Delete Member</span></md-button></md-menu-item><md-menu-item \\nng-show=\\\"(!isUser && !isViewing) || ((isUser) && viewAs.notMe)\\\"><md-button ng-click=\\\"viewAs.select(member)\\\" \\naria-label=\\\"View As\\\" translate-attr-aria-label=\\\"TEAMMEMBERS.VIEW_AS\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-eye\\\"></md-icon><span translate=\\\"TEAMMEMBERS.VIEW_AS\\\">View As</span></md-button></md-menu-item>\\n</md-menu-content></md-menu></div></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/main/templates/partials/internal-templates.html\",\"<div class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\"><table class=\\\"simple row-border hover\\\"><thead>\\n<tr ng-if=\\\"vm.templates.list.length\\\"><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">\\nTemplate Name</span></div></th><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">Author\\n</span></div></th><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">Template Type</span>\\n</div></th><th></th></tr><tr class=\\\"hide-xs\\\" ng-if=\\\"!vm.templates.list.length\\\"><th class=\\\"secondary-text\\\"><div \\nclass=\\\"table-header\\\"><span class=\\\"column-title\\\">(0) Templates Available</span></div></th></tr></thead><tbody><tr \\nng-repeat=\\\"template in vm.templates.list | filter: globalSearch.searchTerm track by $index\\\"><td>{{template.name}}</td>\\n<td>{{template.author}}</td><td ng-if=\\\"template.type==\\'checklist\\'\\\">Checklist</td><td ng-if=\\\"template.type==\\'group\\'\\\">\\nFolder</td><td class=\\\"text-right\\\"><md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" \\nclass=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"More\\\" translate translate-attr-aria-label=\\\"\\\"><md-icon \\nmd-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item \\nng-if=\\\"template.type==\\'checklist\\'\\\"><md-button ng-click=\\\"vm.download.begin($event, template.id, \\'checklist\\')\\\" \\ntranslate-attr-aria-label=\\\"\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-cloud-download\\\"></md-icon><span \\ntranslate=\\\"\\\">Download Template</span></md-button></md-menu-item><md-menu-item ng-if=\\\"template.type==\\'group\\'\\\"><md-button\\n ng-click=\\\"vm.download.begin($event, template.id, \\'group\\')\\\" translate-attr-aria-label=\\\"\\\"><md-icon \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-cloud-download\\\"></md-icon><span translate=\\\"\\\">Download Template</span>\\n</md-button></md-menu-item><md-menu-item ng-if=\\\"template.idCON == user.idCON\\\"><md-button ng-click=\\\"template.remove()\\\" \\ntranslate-attr-aria-label=\\\"\\\"><md-icon class=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\"></md-icon><span translate=\\\"\\\">\\nDelete Template</span></md-button></md-menu-item></md-menu-content></md-menu></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/main/templates/partials/public-templates.html\",\"<div class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\"><table class=\\\"simple row-border hover\\\"><thead>\\n<tr ng-if=\\\"vm.publicTemplates.length\\\"><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">\\nTemplate Name</span></div></th><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">\\nOrganization</span></div></th><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">\\nTemplate Type</span></div></th><th></th></tr><tr class=\\\"hide-xs\\\" ng-if=\\\"!vm.publicTemplates\\\"><th \\nclass=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">(0) Templates Available</span></div></th>\\n</tr></thead><tbody><tr ng-repeat=\\\"template in vm.publicTemplates | filter: globalSearch.searchTerm track by $index\\\">\\n<td>{{template.name}}</td><td>{{template.organization}}</td><td ng-if=\\\"template.type==\\'checklist\\'\\\">Checklist</td><td \\nng-if=\\\"template.type==\\'group\\'\\\">Folder</td><td class=\\\"text-right\\\"><md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" \\nclass=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"More\\\" translate translate-attr-aria-label=\\\"\\\"><md-icon \\nmd-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item \\nng-if=\\\"template.type==\\'checklist\\'\\\"><md-button ng-click=\\\"vm.download.begin($event, template.id, \\'checklist\\')\\\" \\ntranslate-attr-aria-label=\\\"\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-cloud-download\\\"></md-icon><span \\ntranslate=\\\"\\\">Download Template</span></md-button></md-menu-item><md-menu-item ng-if=\\\"template.type==\\'group\\'\\\"><md-button\\n ng-click=\\\"vm.download.begin($event, template.id, \\'group\\')\\\" translate-attr-aria-label=\\\"\\\"><md-icon \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-cloud-download\\\"></md-icon><span translate=\\\"\\\">Download Template</span>\\n</md-button></md-menu-item></md-menu-content></md-menu></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/main/user/partials/user-new.html\",\"<div class=\\\"demo-content\\\"><form name=\\\"form\\\" ng-disabled=\\\"vm.update.sending\\\" class=\\\"md-inline-form\\\" \\nng-submit=\\\"vm.update.send()\\\" novalidate><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-input-container flex><input \\ntype=\\\"text\\\" name=\\\"first\\\" ng-model=\\\"vm.update.info.name.first\\\" placeholder=\\\"First Name\\\" required><div \\nng-messages=\\\"form.first.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>First Name is required.</span></div>\\n</div></md-input-container><md-input-container flex><input type=\\\"text\\\" name=\\\"last\\\" ng-model=\\\"vm.update.info.name.last\\\" \\nplaceholder=\\\"Last Name\\\" required><div ng-messages=\\\"form.last.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>\\nLast Name is required.</span></div></div></md-input-container></div><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\">\\n<md-input-container flex><input type=\\\"email\\\" name=\\\"email\\\" ng-model=\\\"vm.update.info.email\\\" placeholder=\\\"Email\\\" \\nng-pattern=\\\"/^.+@.+\\\\..+$/\\\" required><div ng-messages=\\\"form.email.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div \\nng-message=\\\"required\\\" style=\\\"opacity: 1; margin-top: 0px\\\"><span>Email field is required</span></div><div \\nng-message=\\\"pattern\\\" style=\\\"opacity: 1; margin-top: 0px\\\"><span>Email must be a valid e-mail address</span></div></div>\\n</md-input-container><md-input-container flex><input type=\\\"text\\\" name=\\\"phone\\\" ng-model=\\\"vm.update.info.phone\\\" \\nplaceholder=\\\"Phone Number\\\"></md-input-container></div><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-checkbox-container \\nflex><md-checkbox aria-label=\\\"Notifications\\\" ng-model=\\\"vm.update.info.notifications\\\">Phone Notifications</md-checkbox>\\n</md-checkbox-container></div><md-button type=\\\"submit\\\" class=\\\"md-raised md-accent\\\" aria-label=\\\"Submit\\\" \\nng-disabled=\\\"form.$invalid || form.$pristine || vm.update.sending\\\"><span ng-hide=\\\"vm.update.sending\\\">Update</span> \\n<span ng-show=\\\"vm.update.sending\\\">Updating...</span></md-button></form></div>\");\n$templateCache.put(\"app/main/user/partials/user.html\",\"<div class=\\\"form-wrapper md-whiteframe-1dp flex\\\"><form name=\\\"form\\\" ng-disabled=\\\"vm.update.sending\\\" \\nclass=\\\"md-inline-form\\\" ng-submit=\\\"vm.update.send()\\\" novalidate><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\">\\n<md-input-container flex><input type=\\\"text\\\" name=\\\"first\\\" ng-model=\\\"vm.update.info.name.first\\\" placeholder=\\\"First Name\\\" \\nrequired><div ng-messages=\\\"form.first.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>First Name is required.\\n</span></div></div></md-input-container><md-input-container flex><input type=\\\"text\\\" name=\\\"last\\\" \\nng-model=\\\"vm.update.info.name.last\\\" placeholder=\\\"Last Name\\\" required><div ng-messages=\\\"form.last.$error\\\" role=\\\"alert\\\">\\n<div ng-message=\\\"required\\\"><span>Last Name is required.</span></div></div></md-input-container></div><div \\nlayout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-input-container flex><input type=\\\"email\\\" name=\\\"email\\\" \\nng-model=\\\"vm.update.info.email\\\" placeholder=\\\"Email\\\" ng-pattern=\\\"/^.+@.+\\\\..+$/\\\" required><div \\nng-messages=\\\"form.email.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\" \\nstyle=\\\"opacity: 1; margin-top: 0px\\\"><span>Email field is required</span></div><div ng-message=\\\"pattern\\\" \\nstyle=\\\"opacity: 1; margin-top: 0px\\\"><span>Email must be a valid e-mail address</span></div></div></md-input-container>\\n<md-input-container flex class=\\\"mb-0\\\"><input type=\\\"text\\\" name=\\\"phone\\\" ng-model=\\\"vm.update.info.phone\\\" \\nplaceholder=\\\"Phone Number\\\"></md-input-container></div><md-button type=\\\"submit\\\" class=\\\"md-raised md-accent\\\" \\naria-label=\\\"Submit\\\" ng-disabled=\\\"form.$invalid || form.$pristine || vm.update.sending\\\"><span \\nng-hide=\\\"vm.update.sending\\\">Update</span> <span ng-show=\\\"vm.update.sending\\\">Updating...</span></md-button></form></div>\");\n$templateCache.put(\"app/navigation/layouts/vertical-navigation/navigation.html\",\"<md-toolbar class=\\\"navigation-header md-whiteframe-1dp\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\" \\nng-show=\\\"userSignupComplete()\\\"><div class=\\\"logo\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><span class=\\\"logo-image\\\">CL\\n</span> <span class=\\\"logo-text\\\">CHECKLINKED</span></div><md-icon class=\\\"fold-toggle s18\\\" \\nmd-font-icon=\\\"icon-backburger\\\" hide show-gt-sm ng-click=\\\"vm.toggleMsNavigationFolded()\\\"></md-icon></md-toolbar>\\n<ms-navigation class=\\\"scrollable\\\" folded=\\\"vm.folded\\\" ms-scroll=\\\"vm.msScrollOptions\\\"></ms-navigation>\");\n$templateCache.put(\"app/navigation/layouts/horizontal-navigation/navigation.html\",\"<div layout=\\\"row\\\" layout-align=\\\"start center\\\"><ms-navigation-horizontal></ms-navigation-horizontal></div>\");\n$templateCache.put(\"app/navigation/layouts/vertical-navigation-fullwidth-toolbar-2/navigation.html\",\"<ms-navigation class=\\\"scrollable\\\" folded=\\\"vm.folded\\\" ms-scroll=\\\"vm.msScrollOptions\\\"></ms-navigation>\");\n$templateCache.put(\"app/toolbar/layouts/content-with-toolbar/toolbar.html\",\"<div layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"logo\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><span class=\\\"logo-image\\\">F</span> <span class=\\\"logo-text\\\">FUSE</span></div>\\n<div class=\\\"toolbar-separator\\\"></div><ms-shortcuts></ms-shortcuts><div class=\\\"toolbar-separator\\\"></div></div><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><md-progress-circular id=\\\"toolbar-progress\\\" ng-if=\\\"$root.loadingProgress\\\" \\nclass=\\\"md-accent\\\" md-mode=\\\"indeterminate\\\" md-diameter=\\\"32\\\"></md-progress-circular><div class=\\\"toolbar-separator\\\"></div>\\n<md-menu-bar id=\\\"user-menu\\\"><md-menu md-position-mode=\\\"left bottom\\\"><md-button class=\\\"user-button\\\" \\nng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"User settings\\\" translate translate-attr-aria-label=\\\"TOOLBAR.USER_SETTINGS\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div class=\\\"avatar-wrapper\\\"><img md-menu-align-target class=\\\"avatar\\\" \\nsrc=\\\"assets/images/avatars/profile.jpg\\\"><md-icon md-font-icon ng-class=\\\"vm.userStatus.icon\\\" \\nng-style=\\\"{\\'color\\': vm.userStatus.color }\\\" class=\\\"icon status s16\\\"></md-icon></div><span class=\\\"username\\\" hide-sm>\\nJohn Doe</span><md-icon md-font-icon=\\\"icon-chevron-down\\\" class=\\\"icon s16\\\" hide-sm></md-icon></div></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item class=\\\"md-indent\\\" ui-sref=\\\"app.pages_profile\\\"><md-icon \\nmd-font-icon=\\\"icon-account\\\" class=\\\"icon\\\"></md-icon><md-button>My Profile</md-button></md-menu-item><md-menu-item \\nclass=\\\"md-indent\\\" ui-sref=\\\"app.mail\\\"><md-icon md-font-icon=\\\"icon-email\\\" class=\\\"icon\\\"></md-icon><md-button>Inbox\\n</md-button></md-menu-item><md-menu-item class=\\\"md-indent\\\"><md-icon md-font-icon ng-class=\\\"vm.userStatus.icon\\\" \\nng-style=\\\"{\\'color\\': vm.userStatus.color }\\\" class=\\\"icon\\\"></md-icon><md-menu id=\\\"user-status-menu\\\"><md-button \\nng-click=\\\"$mdOpenMenu()\\\" class=\\\"status\\\" ng-class=\\\"vm.userStatus.class\\\">{{vm.userStatus.title}}</md-button>\\n<md-menu-content width=\\\"2\\\"><md-menu-item class=\\\"status md-indent\\\" ng-class=\\\"{\\'selected\\': status === vm.userStatus}\\\" \\nng-repeat=\\\"status in vm.userStatusOptions\\\"><md-icon md-font-icon=\\\"{{status.icon}}\\\" ng-style=\\\"{\\'color\\': status.color }\\\" \\nclass=\\\"icon\\\"></md-icon><md-button ng-click=\\\"vm.setUserStatus(status)\\\">{{status.title}}</md-button></md-menu-item>\\n</md-menu-content></md-menu></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item class=\\\"md-indent\\\"><md-icon \\nmd-font-icon=\\\"icon-logout\\\" class=\\\"icon\\\"></md-icon><md-button ng-href=\\\"/logout\\\">Logout</md-button></md-menu-item>\\n</md-menu-content></md-menu></md-menu-bar><div class=\\\"toolbar-separator\\\"></div><ms-search-bar \\non-search=\\\"vm.search(query)\\\" on-result-click=\\\"vm.searchResultClick(item)\\\" debounce=\\\"300\\\"></ms-search-bar><div \\nclass=\\\"toolbar-separator\\\"></div><md-menu id=\\\"language-menu\\\" md-offset=\\\"0 72\\\" md-position-mode=\\\"target-right target\\\">\\n<md-button class=\\\"language-button\\\" ng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"Language\\\" md-menu-origin md-menu-align-target>\\n<div layout=\\\"row\\\" layout-align=\\\"center center\\\"><img class=\\\"flag\\\" \\nng-src=\\\"assets/images/flags/{{vm.selectedLanguage.flag}}.png\\\"> <span class=\\\"iso\\\">{{vm.selectedLanguage.code}}</span>\\n</div></md-button><md-menu-content width=\\\"3\\\" id=\\\"language-menu-content\\\"><md-menu-item \\nng-repeat=\\\"(iso, lang) in vm.languages\\\"><md-button ng-click=\\\"vm.changeLanguage(lang)\\\" aria-label=\\\"{{lang.title}}\\\" \\ntranslate translate-attr-aria-label=\\\"{{lang.title}}\\\"><span layout=\\\"row\\\" layout-align=\\\"start center\\\"><img class=\\\"flag\\\" \\nng-src=\\\"assets/images/flags/{{lang.flag}}.png\\\"> <span translate=\\\"{{lang.translation}}\\\">{{lang.title}}</span></span>\\n</md-button></md-menu-item></md-menu-content></md-menu><div class=\\\"toolbar-separator\\\"></div><md-button \\nid=\\\"quick-panel-toggle\\\" class=\\\"md-icon-button\\\" ng-click=\\\"vm.toggleSidenav(\\'quick-panel\\')\\\" \\naria-label=\\\"Toggle quick panel\\\" translate translate-attr-aria-label=\\\"TOOLBAR.TOGGLE_QUICK_PANEL\\\"><md-icon \\nmd-font-icon=\\\"icon-format-list-bulleted\\\" class=\\\"icon\\\"></md-icon></md-button></div></div>\");\n$templateCache.put(\"app/toolbar/layouts/horizontal-navigation/toolbar.html\",\"<div layout=\\\"column\\\" layout-align=\\\"space-between stretch\\\" class=\\\"h-128\\\"><div class=\\\"top-row\\\" layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"navigation-toggle\\\" \\nhide-gt-sm><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.toggleHorizontalMobileMenu()\\\" \\naria-label=\\\"Toggle Mobile Navigation\\\"><md-icon md-font-icon=\\\"icon-menu\\\"></md-icon></md-button></div><div class=\\\"logo\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><span class=\\\"logo-image\\\">F</span> <span class=\\\"logo-text\\\">FUSE</span></div>\\n</div><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-progress-circular id=\\\"toolbar-progress\\\" \\nng-if=\\\"$root.loadingProgress\\\" class=\\\"md-accent\\\" md-mode=\\\"indeterminate\\\" md-diameter=\\\"32\\\"></md-progress-circular>\\n<ms-shortcuts></ms-shortcuts><md-menu-bar id=\\\"user-menu\\\"><md-menu md-position-mode=\\\"left bottom\\\"><md-button \\nclass=\\\"user-button\\\" ng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"User settings\\\" translate \\ntranslate-attr-aria-label=\\\"TOOLBAR.USER_SETTINGS\\\"><div layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div \\nclass=\\\"avatar-wrapper\\\"><img md-menu-align-target class=\\\"avatar\\\" src=\\\"assets/images/avatars/profile.jpg\\\"><md-icon \\nmd-font-icon ng-class=\\\"vm.userStatus.icon\\\" ng-style=\\\"{\\'color\\': vm.userStatus.color }\\\" class=\\\"icon status s16\\\">\\n</md-icon></div><span class=\\\"username\\\" hide-sm>John Doe</span><md-icon md-font-icon=\\\"icon-chevron-down\\\" \\nclass=\\\"icon s16\\\" hide-sm></md-icon></div></md-button><md-menu-content width=\\\"3\\\"><md-menu-item class=\\\"md-indent\\\" \\nui-sref=\\\"app.pages_profile\\\"><md-icon md-font-icon=\\\"icon-account\\\" class=\\\"icon\\\"></md-icon><md-button>My Profile\\n</md-button></md-menu-item><md-menu-item class=\\\"md-indent\\\" ui-sref=\\\"app.mail\\\"><md-icon md-font-icon=\\\"icon-email\\\" \\nclass=\\\"icon\\\"></md-icon><md-button>Inbox</md-button></md-menu-item><md-menu-item class=\\\"md-indent\\\"><md-icon \\nmd-font-icon ng-class=\\\"vm.userStatus.icon\\\" ng-style=\\\"{\\'color\\': vm.userStatus.color }\\\" class=\\\"icon\\\"></md-icon><md-menu \\nid=\\\"user-status-menu\\\"><md-button ng-click=\\\"$mdOpenMenu()\\\" class=\\\"status\\\" ng-class=\\\"vm.userStatus.class\\\">\\n{{vm.userStatus.title}}</md-button><md-menu-content width=\\\"2\\\"><md-menu-item class=\\\"status md-indent\\\" \\nng-class=\\\"{\\'selected\\': status === vm.userStatus}\\\" ng-repeat=\\\"status in vm.userStatusOptions\\\"><md-icon \\nmd-font-icon=\\\"{{status.icon}}\\\" ng-style=\\\"{\\'color\\': status.color }\\\" class=\\\"icon\\\"></md-icon><md-button \\nng-click=\\\"vm.setUserStatus(status)\\\">{{status.title}}</md-button></md-menu-item></md-menu-content></md-menu>\\n</md-menu-item><md-menu-divider></md-menu-divider><md-menu-item class=\\\"md-indent\\\"><md-icon md-font-icon=\\\"icon-logout\\\" \\nclass=\\\"icon\\\"></md-icon><md-button ng-href=\\\"/logout\\\">Logout</md-button></md-menu-item></md-menu-content></md-menu>\\n</md-menu-bar><ms-search-bar on-search=\\\"vm.search(query)\\\" on-result-click=\\\"vm.searchResultClick(item)\\\" debounce=\\\"300\\\">\\n</ms-search-bar><md-menu id=\\\"language-menu\\\" md-offset=\\\"0 72\\\" md-position-mode=\\\"target-right target\\\"><md-button \\nclass=\\\"language-button\\\" ng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"Language\\\" md-menu-origin md-menu-align-target><div \\nlayout=\\\"row\\\" layout-align=\\\"center center\\\"><img class=\\\"flag\\\" \\nng-src=\\\"assets/images/flags/{{vm.selectedLanguage.flag}}.png\\\"> <span class=\\\"iso\\\">{{vm.selectedLanguage.code}}</span>\\n</div></md-button><md-menu-content width=\\\"3\\\" id=\\\"language-menu-content\\\"><md-menu-item \\nng-repeat=\\\"(iso, lang) in vm.languages\\\"><md-button ng-click=\\\"vm.changeLanguage(lang)\\\" aria-label=\\\"{{lang.title}}\\\" \\ntranslate translate-attr-aria-label=\\\"{{lang.title}}\\\"><span layout=\\\"row\\\" layout-align=\\\"start center\\\"><img class=\\\"flag\\\" \\nng-src=\\\"assets/images/flags/{{lang.flag}}.png\\\"> <span translate=\\\"{{lang.translation}}\\\">{{lang.title}}</span></span>\\n</md-button></md-menu-item></md-menu-content></md-menu><md-button id=\\\"quick-panel-toggle\\\" class=\\\"md-icon-button\\\" \\nng-click=\\\"vm.toggleSidenav(\\'quick-panel\\')\\\" aria-label=\\\"Toggle quick panel\\\" translate \\ntranslate-attr-aria-label=\\\"TOOLBAR.TOGGLE_QUICK_PANEL\\\"><md-icon md-font-icon=\\\"icon-format-list-bulleted\\\" class=\\\"icon\\\">\\n</md-icon></md-button></div></div><div class=\\\"bottom-row\\\"><div id=\\\"horizontal-navigation\\\" ui-view=\\\"navigation\\\"></div>\\n</div></div>\");\n$templateCache.put(\"app/toolbar/layouts/vertical-navigation/toolbar.html\",\"<div layout=\\\"row\\\" layout-align=\\\"start center\\\" ng-class=\\\"{\\'md-primary-bg\\':viewAs.notMe==true}\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" flex ng-show=\\\"globalSearchCollapse\\\"><md-button id=\\\"navigation-toggle\\\" \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.toggleSidenav(\\'navigation\\')\\\" hide-gt-sm aria-label=\\\"Toggle navigation\\\" translate \\ntranslate-attr-aria-label=\\\"TOOLBAR.TOGGLE_NAVIGATION\\\"><md-icon md-font-icon=\\\"icon-menu\\\" class=\\\"icon\\\"></md-icon>\\n</md-button></div><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-menu-bar id=\\\"user-menu\\\" \\nng-hide=\\\"viewAs.notMe || !globalSearchCollapse\\\"><md-menu md-position-mode=\\\"left bottom\\\"><md-button class=\\\"user-button\\\" \\nng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"User settings\\\" translate translate-attr-aria-label=\\\"TOOLBAR.USER_SETTINGS\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div class=\\\"avatar-wrapper\\\"><img md-menu-align-target class=\\\"avatar\\\" \\nsrc=\\\"assets/images/avatars/profile.jpg\\\"><md-icon ng-if=\\\"vm.badgeData.friendships>0\\\" md-font-icon \\nng-class=\\\"vm.userStatus.icon\\\" ng-style=\\\"{\\'color\\': vm.userStatus.color }\\\" class=\\\"icon status s16\\\"></md-icon></div><span \\nclass=\\\"username\\\" hide show-gt-xs>{{user.name.full}}</span><md-icon md-font-icon=\\\"icon-chevron-down\\\" class=\\\"icon s16\\\" \\nhide-xs></md-icon></div></md-button><md-menu-content width=\\\"3\\\"><md-menu-item class=\\\"md-indent\\\" ui-sref=\\\"app.user\\\">\\n<md-icon md-font-icon=\\\"icon-account\\\" class=\\\"icon\\\"></md-icon><md-button>My Profile</md-button></md-menu-item>\\n<md-menu-item class=\\\"md-indent\\\" ui-sref=\\\"app.organization\\\"><md-icon md-font-icon=\\\"icon-store\\\" class=\\\"icon\\\"></md-icon>\\n<md-button>Organization</md-button></md-menu-item><md-menu-item class=\\\"md-indent\\\" ui-sref=\\\"app.contacts\\\"><md-icon \\nmd-font-icon=\\\"icon-people\\\" class=\\\"icon\\\"></md-icon><md-button>Contacts</md-button><span class=\\\"badge white-fg\\\" \\nstyle=\\\"position: relative; width: 20px\\\" ng-style=\\\"{\\'background\\': node.badge.color}\\\" \\nng-if=\\\"vm.badgeData.friendships > 0\\\">{{vm.badgeData.friendships}}</span></md-menu-item><md-menu-item class=\\\"md-indent\\\" \\nui-sref=\\\"app.teammembers\\\"><md-icon md-font-icon=\\\"icon-people\\\" class=\\\"icon\\\"></md-icon><md-button>Team Members\\n</md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item class=\\\"md-indent\\\" \\nui-sref=\\\"app.subscriptions\\\"><md-icon md-font-icon=\\\"icon-credit-card\\\" class=\\\"icon\\\"></md-icon><md-button>Subscriptions\\n</md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item class=\\\"md-indent\\\" ui-sref=\\\"app.logout\\\">\\n<md-icon md-font-icon=\\\"icon-logout\\\" class=\\\"icon\\\"></md-icon><md-button>Logout</md-button></md-menu-item>\\n</md-menu-content></md-menu></md-menu-bar><md-button class=\\\"user-button\\\" ng-show=\\\"viewAs.notMe\\\" \\nng-click=\\\"viewAs.restore()\\\" aria-label=\\\"User settings\\\" translate translate-attr-aria-label=\\\"TOOLBAR.USER_SETTINGS\\\"><div\\n layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"secondary-text pr-5\\\">Viewing As: </span><span \\nclass=\\\"secondary-text pr-5\\\">{{viewAs.user.name.full}}</span><md-icon md-font-icon=\\\"icon-cancel\\\" class=\\\"icon s16-white\\\">\\n</md-icon></div></md-button><div class=\\\"toolbar-separator\\\" ng-show=\\\"globalSearchCollapse\\\"></div><ms-search-bar \\non-search=\\\"vm.search(query)\\\" on-result-click=\\\"vm.searchResultClick(item)\\\" debounce=\\\"300\\\"></ms-search-bar></div></div>\");\n$templateCache.put(\"app/toolbar/layouts/vertical-navigation-fullwidth-toolbar/toolbar.html\",\"<div layout=\\\"row\\\" layout-align=\\\"start center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><md-button \\nid=\\\"navigation-toggle\\\" class=\\\"md-icon-button\\\" ng-click=\\\"vm.toggleSidenav(\\'navigation\\')\\\" hide-gt-sm \\naria-label=\\\"Toggle navigation\\\" translate translate-attr-aria-label=\\\"TOOLBAR.TOGGLE_NAVIGATION\\\"><md-icon \\nmd-font-icon=\\\"icon-menu\\\" class=\\\"icon\\\"></md-icon></md-button><ms-search-bar on-search=\\\"vm.search(query)\\\" \\non-result-click=\\\"vm.searchResultClick(item)\\\" debounce=\\\"300\\\"></ms-search-bar><div class=\\\"toolbar-separator\\\"></div>\\n<ms-shortcuts></ms-shortcuts><div class=\\\"toolbar-separator\\\"></div></div><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-progress-circular id=\\\"toolbar-progress\\\" ng-if=\\\"$root.loadingProgress\\\" class=\\\"md-accent\\\" md-mode=\\\"indeterminate\\\" \\nmd-diameter=\\\"32\\\"></md-progress-circular><md-menu-bar id=\\\"user-menu\\\"><md-menu md-position-mode=\\\"left bottom\\\"><md-button \\nclass=\\\"user-button\\\" ng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"User settings\\\" translate \\ntranslate-attr-aria-label=\\\"TOOLBAR.USER_SETTINGS\\\"><div layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div \\nclass=\\\"avatar-wrapper\\\"><img md-menu-align-target class=\\\"avatar\\\" src=\\\"assets/images/avatars/profile.jpg\\\"><md-icon \\nmd-font-icon ng-class=\\\"vm.userStatus.icon\\\" ng-style=\\\"{\\'color\\': vm.userStatus.color }\\\" class=\\\"icon status s16\\\">\\n</md-icon></div><span class=\\\"username\\\" hide-sm>John Doe</span><md-icon md-font-icon=\\\"icon-chevron-down\\\" \\nclass=\\\"icon s16\\\" hide-sm></md-icon></div></md-button><md-menu-content width=\\\"3\\\"><md-menu-item class=\\\"md-indent\\\" \\nui-sref=\\\"app.pages_profile\\\"><md-icon md-font-icon=\\\"icon-account\\\" class=\\\"icon\\\"></md-icon><md-button>My Profile\\n</md-button></md-menu-item><md-menu-item class=\\\"md-indent\\\" ui-sref=\\\"app.mail\\\"><md-icon md-font-icon=\\\"icon-email\\\" \\nclass=\\\"icon\\\"></md-icon><md-button>Inbox</md-button></md-menu-item><md-menu-item class=\\\"md-indent\\\"><md-icon \\nmd-font-icon ng-class=\\\"vm.userStatus.icon\\\" ng-style=\\\"{\\'color\\': vm.userStatus.color }\\\" class=\\\"icon\\\"></md-icon><md-menu \\nid=\\\"user-status-menu\\\"><md-button ng-click=\\\"$mdOpenMenu()\\\" class=\\\"status\\\" ng-class=\\\"vm.userStatus.class\\\">\\n{{vm.userStatus.title}}</md-button><md-menu-content width=\\\"2\\\"><md-menu-item class=\\\"status md-indent\\\" \\nng-class=\\\"{\\'selected\\': status === vm.userStatus}\\\" ng-repeat=\\\"status in vm.userStatusOptions\\\"><md-icon \\nmd-font-icon=\\\"{{status.icon}}\\\" ng-style=\\\"{\\'color\\': status.color }\\\" class=\\\"icon\\\"></md-icon><md-button \\nng-click=\\\"vm.setUserStatus(status)\\\">{{status.title}}</md-button></md-menu-item></md-menu-content></md-menu>\\n</md-menu-item><md-menu-divider></md-menu-divider><md-menu-item class=\\\"md-indent\\\"><md-icon md-font-icon=\\\"icon-logout\\\" \\nclass=\\\"icon\\\"></md-icon><md-button ng-href=\\\"/logout\\\">Logout</md-button></md-menu-item></md-menu-content></md-menu>\\n</md-menu-bar><div class=\\\"toolbar-separator\\\"></div><md-menu id=\\\"language-menu\\\" md-offset=\\\"0 72\\\" \\nmd-position-mode=\\\"target-right target\\\"><md-button class=\\\"language-button\\\" ng-click=\\\"$mdOpenMenu()\\\" \\naria-label=\\\"Language\\\" md-menu-origin md-menu-align-target><div layout=\\\"row\\\" layout-align=\\\"center center\\\"><img \\nclass=\\\"flag\\\" ng-src=\\\"assets/images/flags/{{vm.selectedLanguage.flag}}.png\\\"> <span class=\\\"iso\\\">\\n{{vm.selectedLanguage.code}}</span></div></md-button><md-menu-content width=\\\"3\\\" id=\\\"language-menu-content\\\">\\n<md-menu-item ng-repeat=\\\"(iso, lang) in vm.languages\\\"><md-button ng-click=\\\"vm.changeLanguage(lang)\\\" \\naria-label=\\\"{{lang.title}}\\\" translate translate-attr-aria-label=\\\"{{lang.title}}\\\"><span layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><img class=\\\"flag\\\" ng-src=\\\"assets/images/flags/{{lang.flag}}.png\\\"> <span \\ntranslate=\\\"{{lang.translation}}\\\">{{lang.title}}</span></span></md-button></md-menu-item></md-menu-content></md-menu>\\n<div class=\\\"toolbar-separator\\\"></div><md-button id=\\\"quick-panel-toggle\\\" class=\\\"md-icon-button\\\" \\nng-click=\\\"vm.toggleSidenav(\\'quick-panel\\')\\\" aria-label=\\\"Toggle quick panel\\\" translate \\ntranslate-attr-aria-label=\\\"TOOLBAR.TOGGLE_QUICK_PANEL\\\"><md-icon md-font-icon=\\\"icon-format-list-bulleted\\\" class=\\\"icon\\\">\\n</md-icon></md-button></div></div>\");\n$templateCache.put(\"app/toolbar/layouts/vertical-navigation-fullwidth-toolbar-2/toolbar.html\",\"<div layout=\\\"row\\\" layout-align=\\\"start center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><md-button \\nid=\\\"navigation-toggle\\\" class=\\\"md-icon-button\\\" ng-click=\\\"vm.toggleSidenav(\\'navigation\\')\\\" hide-gt-sm \\naria-label=\\\"Toggle navigation\\\" translate translate-attr-aria-label=\\\"TOOLBAR.TOGGLE_NAVIGATION\\\"><md-icon \\nmd-font-icon=\\\"icon-menu\\\" class=\\\"icon\\\"></md-icon></md-button><md-button class=\\\"md-icon-button navigation-fold-toggle\\\" \\nhide show-gt-sm aria-label=\\\"Toggle navigation fold\\\" translate \\ntranslate-attr-aria-label=\\\"TOOLBAR.TOGGLE_NAVIGATION_FOLD\\\" ng-click=\\\"vm.toggleMsNavigationFolded()\\\"><md-icon \\nclass=\\\"s18\\\" md-font-icon=\\\"icon-backburger\\\"></md-icon></md-button></div><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-progress-circular id=\\\"toolbar-progress\\\" ng-if=\\\"$root.loadingProgress\\\" class=\\\"md-accent\\\" md-mode=\\\"indeterminate\\\" \\nmd-diameter=\\\"32\\\"></md-progress-circular><md-menu-bar id=\\\"user-menu\\\"><md-menu md-position-mode=\\\"left bottom\\\"><md-button \\nclass=\\\"user-button\\\" ng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"User settings\\\" translate \\ntranslate-attr-aria-label=\\\"TOOLBAR.USER_SETTINGS\\\"><div layout=\\\"row\\\" layout-align=\\\"space-between end\\\"><div><md-icon \\nmd-font-icon=\\\"icon-dots-horizontal\\\" ng-class=\\\"vm.userStatus.icon\\\" class=\\\"icon\\\"></md-icon></div><span class=\\\"username\\\" \\nhide-xs>{{ user.name.full }}</span><md-icon md-font-icon=\\\"icon-chevron-down\\\" class=\\\"icon\\\" hide-xs></md-icon></div>\\n</md-button><md-menu-content width=\\\"3\\\"><md-menu-item class=\\\"md-indent\\\" ui-sref=\\\"app.user\\\"><md-icon \\nmd-font-icon=\\\"icon-account\\\" class=\\\"icon\\\"></md-icon><md-button>My Profile</md-button></md-menu-item><md-menu-item \\nclass=\\\"md-indent\\\" ui-sref=\\\"app.organization\\\"><md-icon md-font-icon=\\\"icon-people\\\" class=\\\"icon\\\"></md-icon><md-button>\\nOrganization</md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item class=\\\"md-indent\\\" \\nui-sref=\\\"app.logout\\\"><md-icon md-font-icon=\\\"icon-logout\\\" class=\\\"icon\\\"></md-icon><md-button>Logout</md-button>\\n</md-menu-item></md-menu-content></md-menu></md-menu-bar><ms-search-bar on-search=\\\"vm.search(query)\\\" \\non-result-click=\\\"vm.searchResultClick(item)\\\" debounce=\\\"300\\\"></ms-search-bar></div></div>\");\n$templateCache.put(\"app/core/directives/ms-navigation/templates/horizontal.html\",\"<div>{{ user }}</div><div class=\\\"navigation-toggle\\\" hide-gt-sm><md-button class=\\\"md-icon-button\\\" \\nng-click=\\\"vm.toggleHorizontalMobileMenu()\\\" aria-label=\\\"Toggle Mobile Navigation\\\"><md-icon md-font-icon=\\\"icon-menu\\\">\\n</md-icon></md-button></div><ul class=\\\"horizontal\\\"><li ng-repeat=\\\"node in vm.navigation\\\" \\nms-navigation-horizontal-node=\\\"node\\\" ng-class=\\\"{\\'has-children\\': vm.hasChildren}\\\" \\nng-include=\\\"\\'navigation-horizontal-nested.html\\'\\\"></li></ul><script type=\\\"text/ng-template\\\" \\nid=\\\"navigation-horizontal-nested.html\\\">\\n<div ms-navigation-horizontal-item layout=\\\"row\\\" ng-if=\\\"!vm.isHidden()\\\">\\r\\n\\r\\n        <div class=\\\"ms-navigation-horizontal-button\\\" ng-if=\\\"!node.uisref && node.title\\\"\\r\\n             ng-class=\\\"{\\'active md-accent-bg md-accent-fg\\': vm.isActive}\\\">\\r\\n            <i class=\\\"icon s18 {{node.icon}}\\\" ng-if=\\\"node.icon\\\"></i>\\r\\n            <span class=\\\"title\\\" translate=\\\"{{node.translate}}\\\" flex>{{node.title}}</span>\\r\\n            <span class=\\\"badge white-fg\\\" style=\\\"background: {{node.badge.color}}\\\" ng-if=\\\"node.badge\\\">{{node.badge.content}}</span>\\r\\n            <i class=\\\"icon-chevron-right s18 arrow\\\" ng-if=\\\"vm.hasChildren\\\"></i>\\r\\n        </div>\\r\\n\\r\\n        <a class=\\\"ms-navigation-horizontal-button\\\" ui-sref=\\\"{{node.uisref}}\\\" ui-sref-active=\\\"active md-accent-bg\\\"\\r\\n           ng-class=\\\"{\\'active md-accent-bg md-accent-fg\\': vm.isActive}\\\"\\r\\n           ng-if=\\\"node.uisref && node.title\\\">\\r\\n            <i class=\\\"icon s18 {{node.icon}}\\\" ng-if=\\\"node.icon\\\"></i>\\r\\n            <span class=\\\"title\\\" translate=\\\"{{node.translate}}\\\" flex>{{node.title}}</span>\\r\\n            <span class=\\\"badge white-fg\\\" style=\\\"background: {{node.badge.color}}\\\" ng-if=\\\"node.badge\\\">{{node.badge.content}}</span>\\r\\n            <i class=\\\"icon-chevron-right s18 arrow\\\" ng-if=\\\"vm.hasChildren\\\"></i>\\r\\n        </a>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <ul ng-if=\\\"vm.hasChildren && !vm.isHidden()\\\">\\r\\n        <li ng-repeat=\\\"node in node.children\\\" ms-navigation-horizontal-node=\\\"node\\\"\\r\\n            ng-class=\\\"{\\'has-children\\': vm.hasChildren}\\\"\\r\\n            ng-include=\\\"\\'navigation-horizontal-nested.html\\'\\\"></li>\\r\\n    </ul>\\n</script>\");\n$templateCache.put(\"app/core/directives/ms-navigation/templates/vertical.html\",\"<ul><li ng-repeat=\\\"node in vm.navigation\\\" ms-navigation-node=\\\"node\\\" \\nng-class=\\\"{\\'collapsed\\': vm.collapsed, \\'has-children\\': vm.hasChildren}\\\" ng-include=\\\"\\'navigation-nested.html\\'\\\"></li></ul>\\n<script type=\\\"text/ng-template\\\" id=\\\"navigation-nested.html\\\">\\n<div ms-navigation-item layout=\\\"row\\\" ng-if=\\\"!vm.isHidden()\\\">\\r\\n\\r\\n    <div class=\\\"ms-navigation-button\\\" ng-if=\\\"!node.uisref && node.title\\\">\\r\\n      <i class=\\\"icon s16 {{node.icon}}\\\" ng-if=\\\"node.icon\\\"></i>\\r\\n      <span class=\\\"title\\\" translate=\\\"{{node.translate}}\\\" flex>{{node.title}}</span>\\r\\n      <span class=\\\"badge white-fg\\\" ng-style=\\\"{\\'background\\': node.badge.color}\\\"\\r\\n            ng-if=\\\"node.badge\\\">{{node.badge.content}}</span>\\r\\n      <i class=\\\"icon-chevron-right s16 arrow\\\" ng-if=\\\"vm.collapsable && vm.hasChildren\\\"></i>\\r\\n    </div>\\r\\n\\r\\n    <a class=\\\"ms-navigation-button\\\" ui-sref=\\\"{{node.uisref}}\\\" ui-sref-active=\\\"active md-accent-bg\\\"\\r\\n       ng-if=\\\"node.uisref && node.title\\\"\\r\\n       ng-hide=\\\"vm.appState == \\'app.queue\\' && vm.showQueue == \\'false\\'\\\">\\r\\n\\r\\n      <i class=\\\"icon s16 {{node.icon}}\\\" ng-if=\\\"node.icon\\\"></i>\\r\\n      <span class=\\\"title\\\" translate=\\\"{{node.translate}}\\\" flex>{{node.title}}</span>\\r\\n\\r\\n      <span class=\\\"badge white-fg\\\" ng-style=\\\"{\\'background\\': node.badge.color}\\\"\\r\\n            ng-if=\\\"(vm.appState == \\'app.invitations\\') && (vm.badgeData.checklists > 0)\\\">{{vm.badgeData.checklists}}</span>\\r\\n\\r\\n      <span class=\\\"badge white-fg\\\" ng-style=\\\"{\\'background\\': node.badge.color}\\\"\\r\\n            ng-if=\\\"(vm.appState == \\'app.mail.threads\\') && (vm.badgeDataFeed.unread.length>0)\\\">{{vm.badgeDataFeed.unread.length}}</span>\\r\\n      <i class=\\\"icon-chevron-right s16 arrow\\\" ng-if=\\\"vm.collapsable && vm.hasChildren\\\"></i>\\r\\n    </a>\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <ul ng-if=\\\"vm.hasChildren && !vm.isHidden()\\\">\\r\\n    <li ng-repeat=\\\"node in node.children\\\" ms-navigation-node=\\\"node\\\"\\r\\n        ng-class=\\\"{\\'collapsed\\': vm.collapsed, \\'has-children\\': vm.hasChildren}\\\"\\r\\n        ng-include=\\\"\\'navigation-nested.html\\'\\\"></li>\\r\\n  </ul>\\n</script>\");\n$templateCache.put(\"app/main/account/sidenavs/main/sidenav.html\",\"<div class=\\\"demo-sidenav\\\"><md-list><md-list-item><a href=\\\"/user\\\">Account Information</a></md-list-item><md-divider>\\n</md-divider><md-list-item><a href=\\\"/organization\\\">Organization</a></md-list-item><md-divider></md-divider>\\n<md-list-item><a href=\\\"/teammembers\\\">Team Members</a></md-list-item><md-divider></md-divider><md-list-item><a \\nhref=\\\"/templates\\\">Templates</a></md-list-item><md-divider></md-divider><md-list-item><a href=\\\"/subscriptions\\\">\\nSubscriptions</a></md-list-item></md-list></div>\");\n$templateCache.put(\"app/main/chat/sidenavs/left/left-sidenav.html\",\"<div ng-show=\\\"vm.leftSidenavView === \\'contacts\\'\\\" class=\\\"view contacts-view animate-slide-left\\\" \\nng-include=\\\"\\'app/main/chat/sidenavs/left/views/contacts/contacts-view.html\\'\\\" layout=\\\"column\\\" flex></div><div \\nng-show=\\\"vm.leftSidenavView ===\\'user\\'\\\" class=\\\"view user-view animate-slide-left\\\" \\nng-include=\\\"\\'app/main/chat/sidenavs/left/views/user/user-view.html\\'\\\" layout=\\\"column\\\" flex></div><div \\nng-hide=\\\"vm.leftSidenavView\\\" class=\\\"view chats-view animate-slide-right\\\" \\nng-include=\\\"\\'app/main/chat/sidenavs/left/views/chats/chats-view.html\\'\\\" layout=\\\"column\\\" flex></div>\");\n$templateCache.put(\"app/main/chat/sidenavs/right/right-sidenav.html\",\"<div class=\\\"view contact-view\\\" ng-include=\\\"\\'app/main/chat/sidenavs/right/views/contact/contact-view.html\\'\\\" \\nlayout=\\\"column\\\" flex></div>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-add-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><form name=\\\"checklistForm\\\" class=\\\"md-inline-form\\\" \\nng-submit=\\\"vm.createSegment(vm.newItem.type,vm.newItem.name,vm.newItem.to,vm.newItem.dataType,vm.newItem.info)\\\" \\nnovalidate><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\"><span class=\\\"title\\\">Add New {{vm.type.title}}</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\">\\n</md-icon></md-button></div></md-toolbar><md-dialog-content ms-scroll><md-input-container class=\\\"md-block\\\"><label>\\n{{vm.type.label}}</label><input name=\\\"name\\\" ng-model=\\\"vm.newItem.name\\\" required md-autofocus><div \\nng-messages=\\\"checklistForm.name.$error\\\" ng-show=\\\"checklistForm.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\">\\n<span ng-show=\\\"vm.newItem.dataType==1\\\">{{vm.newItem.type}} Name field is required</span> <span \\nng-show=\\\"vm.newItem.dataType!=1\\\">Text Box Label is required</span></div></div></md-input-container><div \\nng-show=\\\"vm.newItem.type==\\'item\\'\\\"><md-input-container class=\\\"md-block\\\" ng-show=\\\"vm.newItem.dataType==1\\\"><label \\nng-switch=\\\"vm.newItem.dataType==1\\\"><span ng-switch-when=\\\"true\\\">Reference</span> <span ng-switch-when=\\\"false\\\">Data\\n</span></label><input name=\\\"description\\\" type=\\\"{{(vm.newItem.dataType==3)?\\'number\\':\\'text\\'}}\\\" \\nng-model=\\\"vm.newItem.info\\\"></md-input-container></div></md-dialog-content><md-dialog-actions layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" md-no-ink \\nclass=\\\"md-raised md-accent\\\" ng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" aria-label=\\\"Save\\\" \\ntranslate=\\\"CHECKLIST.SAVE\\\" translate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE</md-button></div></md-dialog-actions></form>\\n</md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-add-from-template-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">{{vm.title}}</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\">\\n</md-icon></md-button></div></md-toolbar><md-dialog-content class=\\\"no-padding\\\"><ms-form-wizard flex><md-tabs \\nmd-dynamic-height md-selected=\\\"msWizard.selectedIndex\\\"><md-tab><md-tab-label><span class=\\\"ms-form-wizard-step-label\\\">\\n<span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$invalid\\\">1</span> <span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$valid\\\"><i class=\\\"icon-check s16\\\"></i> </span><span \\nclass=\\\"ms-form-wizard-step-text\\\">Select Project</span></span></md-tab-label><md-tab-body><form name=\\\"wizardStep1\\\" \\nclass=\\\"md-inline-form\\\" ms-form-wizard-form novalidate><div ng-switch=\\\"vm.wizard.newFolder\\\"><div ng-switch-when=\\\"false\\\">\\n<div ng-include=\\\"\\'app/main/checklist/views/stepper/new-checklist-1.html\\'\\\"></div></div><div ng-switch-when=\\\"true\\\"><div \\nng-include=\\\"\\'app/main/checklist/views/stepper/new-checklist-1-new-folder.html\\'\\\"></div></div></div></form></md-tab-body>\\n</md-tab><md-tab ng-disabled=\\\"wizardStep1.$invalid\\\"><md-tab-label><span class=\\\"ms-form-wizard-step-label\\\"><span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"!vm.verticalStepper.step2.groupID\\\">2</span> <span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"vm.verticalStepper.step2.groupID\\\"><i class=\\\"icon-check s16\\\"></i>\\n </span><span class=\\\"ms-form-wizard-step-text\\\">Select Folder</span></span></md-tab-label><md-tab-body><form \\nname=\\\"wizardStep2\\\" ms-form-wizard-form novalidate><div ng-switch=\\\"vm.wizard.newGroup\\\" \\nng-hide=\\\"!vm.verticalStepper.step1.folderID\\\"><div ng-switch-when=\\\"false\\\"><div \\nng-include=\\\"\\'app/main/checklist/views/stepper/new-checklist-2.html\\'\\\"></div></div><div ng-switch-when=\\\"true\\\"><div \\nng-include=\\\"\\'app/main/checklist/views/stepper/new-checklist-2-new-group.html\\'\\\"></div></div></div></form></md-tab-body>\\n</md-tab><md-tab ng-disabled=\\\"wizardStep1.$invalid || wizardStep2.$invalid\\\"><md-tab-label><span \\nclass=\\\"ms-form-wizard-step-label\\\"><span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep3.$invalid\\\">3\\n</span> <span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep3.$valid\\\"><i class=\\\"icon-check s16\\\"></i>\\n </span><span class=\\\"ms-form-wizard-step-text\\\">Search Templates</span></span></md-tab-label><md-tab-body><form \\nname=\\\"wizardStep3\\\" ms-form-wizard-form novalidate ng-disabled=\\\"vm.find.inProgress\\\" ng-submit=\\\"vm.find.search()\\\"><div \\nng-include=\\\"\\'app/main/checklist/views/stepper/search-templates.html\\'\\\"></div></form></md-tab-body></md-tab></md-tabs>\\n<div class=\\\"navigation\\\" flex layout=\\\"row\\\" layout-align=\\\"center center\\\" \\nng-show=\\\"!vm.wizard.newFolder && !vm.wizard.newGroup\\\"><md-button class=\\\"\\\" ng-click=\\\"msWizard.previousStep()\\\" \\nng-disabled=\\\"msWizard.isFirstStep()\\\">Previous</md-button><div class=\\\"steps\\\"><span ng-repeat=\\\"form in msWizard.forms\\\" \\nng-class=\\\"{\\'selected md-accent-bg\\':msWizard.selectedIndex === $index}\\\"></span></div><md-button class=\\\"\\\" \\nng-click=\\\"msWizard.nextStep()\\\" ng-hide=\\\"msWizard.isLastStep()\\\" \\nng-disabled=\\\"msWizard.currentStepInvalid() || vm.wizard.newFolder\\\">Next</md-button></div></ms-form-wizard>\\n</md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\" ng-show=\\\"vm.wizard.newFolder\\\">\\n<div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" aria-label=\\\"Save\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SAVE\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"wizardStep1.$invalid || wizardStep1.$pristine\\\" ng-click=\\\"vm.addNewFolder(vm.folder.name)\\\">SAVE</md-button>\\n</div><div layout=\\\"row\\\"><md-button ng-click=\\\"vm.cancelFolderInput()\\\" aria-label=\\\"Cancel\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.CANCEL\\\">CANCEL</span></md-tooltip></md-button></div></md-dialog-actions><md-dialog-actions \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\" ng-show=\\\"vm.wizard.newGroup\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" ng-if=\\\"!vm.newChecklist\\\" \\nng-click=\\\"vm.addNewGroup(vm.group.text, vm.verticalStepper.step1.folderID)\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" aria-label=\\\"Save\\\" translate=\\\"CHECKLIST.SAVE\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE</md-button></div><div layout=\\\"row\\\"><md-button ng-if=\\\"!vm.newChecklist\\\" \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.cancelGroupInput()\\\" aria-label=\\\"Delete\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.CANCEL\\\">CANCEL</span></md-tooltip></md-button></div></md-dialog-actions></md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-conflicts-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">Conflicts: {{ vm.checklists[0].name }}</span>\\n<md-button class=\\\"md-icon-button\\\" ng-click=\\\"closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" \\naria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content><table class=\\\"simple\\\" \\nms-responsive-table><thead><tr><th>User</th><th class=\\\"\\\">Non-Compliant Items</th></tr></thead><tbody><tr \\nng-repeat=\\\"show in showingUsers track by $index\\\"><td class=\\\"\\\">\\n{{(show.idCON == user.idCON)?user.name.full + \\' (YOU)\\':show.name}}</td><td class=\\\"\\\">{{vm.nonCompliant[$index]}}</td>\\n</tr></tbody></table></md-dialog-content></md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-conversation-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"New Message\\\"><form name=\\\"conversationForm\\\" class=\\\"md-inline-form\\\" \\nng-submit=\\\"vm.submitPost()\\\" novalidate><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">{{vm.title}}</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\" aria-label=\\\"Close dialog\\\" translate \\ntranslate-aria-label=\\\"MAIL.CLOSE_DIALOG\\\"><md-icon md-font-icon=\\\"icon-close\\\"></md-icon></md-button></div></md-toolbar>\\n<md-dialog-content ms-scroll><md-input-container class=\\\"md-block\\\"><label translate=\\\"MAIL.FROM\\\">From</label><input \\nng-model=\\\"vm.form.from\\\" type=\\\"text\\\" disabled=\\\"disabled\\\"></md-input-container><md-input-container class=\\\"md-block\\\">\\n<label translate=\\\"MAIL.SUBJECT\\\">Subject</label><input name=\\\"subject\\\" ng-model=\\\"vm.form.subject\\\" type=\\\"text\\\" required>\\n<div ng-messages=\\\"conversationForm.subject.$error\\\" ng-show=\\\"conversationForm.subject.$touched\\\" role=\\\"alert\\\"><div \\nng-message=\\\"required\\\"><span translate=\\\"MAIL.ERRORS.SUBJECT\\\">Subject field is required</span></div></div>\\n</md-input-container><md-input-container class=\\\"md-block\\\"><label translate=\\\"MAIL.MESSAGE\\\">Message</label><div \\nclass=\\\"md-resize-wrapper\\\"><textarea name=\\\"text\\\" ng-model=\\\"vm.newPost.text\\\" required md-autofocus \\nclass=\\\"ng-valid md-input ng-not-empty ng-dirty ng-valid-parse ng-valid-md-maxlength ng-touched\\\" md-maxlength=\\\"150\\\" \\nmax-rows=\\\"5\\\" ng-trim=\\\"false\\\"></textarea><div class=\\\"md-resize-handle\\\" style=\\\"touch-action: pan-x\\\"></div></div><div \\nng-messages=\\\"conversationForm.text.$error\\\" ng-show=\\\"conversationForm.text.$touched\\\" role=\\\"alert\\\"><div \\nng-message=\\\"required\\\"><span translate=\\\"MAIL.ERRORS.MESSAGE\\\">Message field is required</span></div></div>\\n</md-input-container><div class=\\\"simple-table-container\\\"><table class=\\\"simple\\\" ms-responsive-table><tbody><tr \\nng-repeat=\\\"post in vm.conversation.posts | orderBy: timestamp\\\"><td>{{post.user}}</td><td>{{post.text}}</td><td>\\n{{post.organization}}</td><td><div ng-switch=\\\"vm.old(post.timestamp)\\\" class=\\\"user\\\"><span ng-switch-when=\\\"true\\\" \\nclass=\\\"timestamp pull-right\\\">{{post.timestamp | date:\\'shortDate\\'}}</span> <span ng-switch-when=\\\"false\\\" \\nclass=\\\"timestamp pull-right\\\">{{post.timestamp | date:\\'mediumTime\\'}}</span></div></td></tr></tbody></table></div>\\n</md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" aria-label=\\\"\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"vm.newPost.submitting || conversationForm.$invalid || conversationForm.$pristine\\\" translate=\\\"MAIL.SEND\\\" \\ntranslate-attr-aria-label=\\\"MAIL.SEND\\\">SEND</md-button></div></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-dialog-pdf.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"Show Linked Users\\\"><form name=\\\"checklistForm\\\" class=\\\"md-inline-form\\\" novalidate \\ntarget=\\\"_blank\\\" method=\\\"post\\\" action=\\\"http://localhost:8888/pdf/checklinked/checklinked.php\\\"><md-toolbar \\nclass=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span \\nclass=\\\"title\\\">{{ vm.title }}</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content \\nms-scroll><div id=\\\"pdfContent\\\"><table class=\\\"simple\\\"><colgroup><col width=\\\"10%\\\"><col width=\\\"80%\\\"><col width=\\\"10%\\\">\\n</colgroup><tbody><tr ng-repeat-start=\\\"checklist in vm.checklists track by $index\\\"><td>&nbsp;</td><td>\\n{{checklist.name}}</td><td>&nbsp;</td></tr><tr ng-repeat-start=\\\"section in checklist.sections track by $index\\\"><td>\\n&nbsp;</td><td>{{section.name}}</td><td>&nbsp;</td></tr><tr \\nng-repeat-start=\\\"heading in section.headings track by $index\\\"><td>&nbsp;</td><td>{{heading.name}}</td><td>&nbsp;</td>\\n</tr><tr ng-repeat-end ng-repeat=\\\"item in heading.items\\\"><td>COMPLY</td><td>{{item.name}}</td><td>APPLY</td></tr><tr \\nng-repeat-end><td></td><td></td><td></td></tr><tr ng-repeat-end><td></td><td></td><td></td></tr></tbody></table></div>\\n</md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><input type=\\\"hidden\\\" name=\\\"array\\\" value=\\\"{{ vm.checklists }}\\\"><md-button type=\\\"submit\\\" \\nclass=\\\"send-button md-accent md-raised\\\" aria-label=\\\"Save\\\" translate=\\\"CHECKLIST.DOWNLOAD_PDF\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.DOWNLOAD_PDF\\\">DOWNLOAD PDF</md-button></div></md-dialog-actions></form>\\n</md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"New Checklist\\\"><form name=\\\"checklistForm\\\" class=\\\"md-inline-form\\\" novalidate>\\n<md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\">\\n<span class=\\\"title\\\">{{vm.title}}</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content \\nms-scroll><md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.NAME\\\">Checklist Name</label><input \\nname=\\\"name\\\" ng-model=\\\"vm.checklist.name\\\" required md-autofocus><div ng-messages=\\\"checklistForm.name.$error\\\" \\nng-show=\\\"checklistForm.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"CHECKLIST.ERRORS.CHECKLIST_NAME_REQUIRED\\\">Checklist Name field is required</span></div></div>\\n</md-input-container><md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.DESCRIPTION\\\">Description</label>\\n<input name=\\\"description\\\" ng-model=\\\"vm.checklist.description\\\"></md-input-container></md-dialog-content>\\n<md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-button type=\\\"submit\\\" ng-if=\\\"!vm.newChecklist\\\" ng-click=\\\"vm.saveChecklist()\\\" \\nclass=\\\"send-button md-accent md-raised\\\" ng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" \\naria-label=\\\"Save\\\" translate=\\\"CHECKLIST.SAVE\\\" translate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE CHECKLIST</md-button>\\n<md-button type=\\\"submit\\\" ng-if=\\\"vm.newChecklist\\\" ng-click=\\\"vm.addNewChecklist()\\\" \\nclass=\\\"send-button md-accent md-raised\\\" ng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" \\naria-label=\\\"Add Checklist\\\" translate=\\\"CHECKLIST.ADD_CHECKLIST\\\" translate-attr-aria-label=\\\"CHECKLIST.ADD_CHECKLIST\\\">\\nADD CHECKLIST</md-button></div><div layout=\\\"row\\\"><md-button ng-if=\\\"!vm.newChecklist\\\" class=\\\"md-icon-button\\\" \\nng-click=\\\"vm.deleteChecklist($event, vm.checklist)\\\" aria-label=\\\"Delete\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.DELETE\\\">DELETE</span></md-tooltip></md-button></div></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-edit-checklist-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><form name=\\\"checklistForm\\\" class=\\\"md-inline-form\\\" novalidate><md-toolbar \\nclass=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span \\nclass=\\\"title\\\">Edit Checklist Name</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content \\nms-scroll><md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.NAME\\\">{{vm.checklist.name}} Name</label>\\n<input name=\\\"name\\\" ng-model=\\\"vm.checklist.name\\\" required md-autofocus><div ng-messages=\\\"checklistForm.name.$error\\\" \\nng-show=\\\"checklistForm.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"CHECKLIST.ERRORS.CHECKLIST_NAME_REQUIRED\\\">Checklist Name field is required</span></div></div>\\n</md-input-container></md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" ng-if=\\\"!vm.newChecklist\\\" \\nng-click=\\\"vm.saveChecklist()\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" aria-label=\\\"Save\\\" translate=\\\"CHECKLIST.SAVE\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE</md-button></div><div layout=\\\"row\\\"><md-button ng-if=\\\"!vm.newChecklist\\\" \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.deleteConfirm(\\'checklist\\', vm.checklist, $event)\\\" aria-label=\\\"Delete\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.DELETE\\\">DELETE</span></md-tooltip></md-button></div></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-edit-form-line-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><form name=\\\"checklistForm\\\" class=\\\"md-inline-form\\\" novalidate><md-toolbar \\nclass=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span \\nclass=\\\"title\\\">Edit Form Line Question</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content \\nms-scroll><md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.TEXT_BOX_LABEL\\\"></label><input name=\\\"name\\\" \\nng-model=\\\"vm.item.name\\\"></md-input-container><md-input-container class=\\\"md-block\\\" disabled=\\\"disabled\\\"><label \\ntranslate=\\\"CHECKLIST.TEXT_BOX_INPUT\\\"></label><div class=\\\"md-resize-wrapper\\\"><textarea name=\\\"text\\\" \\nng-model=\\\"vm.item.info\\\" required md-autofocus \\nclass=\\\"ng-valid md-input ng-not-empty ng-dirty ng-valid-parse ng-valid-md-maxlength ng-touched\\\" md-maxlength=\\\"150\\\" \\nmax-rows=\\\"5\\\" ng-trim=\\\"false\\\"></textarea><div class=\\\"md-resize-handle\\\" style=\\\"touch-action: pan-x\\\"></div></div><div \\nng-messages=\\\"checklistForm.text.$error\\\" ng-show=\\\"checklistForm.text.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\">\\n<span translate=\\\"CHECKLIST.ERRORS.TEXT_BOX_INPUT\\\"></span></div></div></md-input-container></md-dialog-content>\\n<md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-button type=\\\"submit\\\" ng-click=\\\"vm.saveItem()\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" aria-label=\\\"Save\\\" translate=\\\"CHECKLIST.SAVE\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE</md-button></div></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-edit-heading-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><form name=\\\"checklistForm\\\" class=\\\"md-inline-form\\\" novalidate><md-toolbar \\nclass=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span \\nclass=\\\"title\\\">Edit Heading</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content \\nms-scroll><md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.HEADING.NAME\\\">{{vm.heading.name}} Name\\n</label><input name=\\\"name\\\" ng-model=\\\"vm.heading.name\\\" required md-autofocus><div \\nng-messages=\\\"checklistForm.name.$error\\\" ng-show=\\\"checklistForm.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\">\\n<span translate=\\\"CHECKLIST.ERRORS.HEADER_NAME_REQUIRED\\\">Header Name field is required</span></div></div>\\n</md-input-container></md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" ng-click=\\\"vm.saveHeading()\\\" \\nclass=\\\"md-raised md-accent\\\" ng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" aria-label=\\\"Save\\\" \\ntranslate=\\\"CHECKLIST.SAVE\\\" translate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE</md-button></div></md-dialog-actions></form>\\n</md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-edit-item-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><form name=\\\"checklistForm\\\" class=\\\"md-inline-form\\\" novalidate><md-toolbar \\nclass=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span \\nclass=\\\"title\\\">Edit Checkbox Item</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content \\nms-scroll><md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.EDIT_CHECKBOX_LABEL\\\"></label><input \\nname=\\\"name\\\" ng-model=\\\"vm.item.name\\\" required md-autofocus><div ng-messages=\\\"checklistForm.name.$error\\\" \\nng-show=\\\"checklistForm.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"CHECKLIST.ERRORS.ITEM_NAME_REQUIRED\\\">Checklist Item Name field is required</span></div></div>\\n</md-input-container><md-input-container class=\\\"md-block\\\"><label translate=\\\"Refrences\\\"></label><input name=\\\"Refrences\\\" \\nng-model=\\\"vm.item.info\\\" md-autofocus></md-input-container></md-dialog-content><md-dialog-actions layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" \\nng-click=\\\"vm.saveItem()\\\" class=\\\"md-raised md-accent\\\" ng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" \\naria-label=\\\"Save\\\" translate=\\\"CHECKLIST.SAVE\\\" translate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE</md-button></div>\\n</md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-edit-section-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><form name=\\\"checklistForm\\\" class=\\\"md-inline-form\\\" novalidate><md-toolbar \\nclass=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span \\nclass=\\\"title\\\">Edit Section</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content \\nms-scroll><md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.SECTION.NAME\\\">{{vm.section.name}} Name\\n</label><input name=\\\"name\\\" ng-model=\\\"vm.section.name\\\" required md-autofocus><div \\nng-messages=\\\"checklistForm.name.$error\\\" ng-show=\\\"checklistForm.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\">\\n<span translate=\\\"CHECKLIST.ERRORS.SECTION_NAME_REQUIRED\\\">Section Name field is required</span></div></div>\\n</md-input-container></md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" ng-click=\\\"vm.saveSection()\\\" \\nclass=\\\"md-raised md-accent\\\" ng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" aria-label=\\\"Save\\\" \\ntranslate=\\\"CHECKLIST.SAVE\\\" translate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE</md-button></div></md-dialog-actions></form>\\n</md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-find-group-template-dialog.html\",\"\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-new-checklist-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">Determine the place and name your new checklist\\n</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" \\naria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content class=\\\"no-padding\\\">\\n<ms-form-wizard flex><md-tabs md-dynamic-height md-selected=\\\"msWizard.selectedIndex\\\"><md-tab><md-tab-label><span \\nclass=\\\"ms-form-wizard-step-label\\\"><span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$invalid\\\">1\\n</span> <span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$valid\\\"><i class=\\\"icon-check s16\\\"></i>\\n </span><span class=\\\"ms-form-wizard-step-text\\\">Select Project</span></span></md-tab-label><md-tab-body><form \\nname=\\\"wizardStep1\\\" class=\\\"md-inline-form\\\" ms-form-wizard-form novalidate><div ng-switch=\\\"vm.wizard.newFolder\\\"><div \\nng-switch-when=\\\"false\\\"><div ng-include=\\\"\\'app/main/checklist/views/stepper/new-checklist-1.html\\'\\\"></div></div><div \\nng-switch-when=\\\"true\\\"><div ng-include=\\\"\\'app/main/checklist/views/stepper/new-checklist-1-new-folder.html\\'\\\"></div></div>\\n</div></form></md-tab-body></md-tab><md-tab ng-disabled=\\\"wizardStep1.$invalid\\\"><md-tab-label><span \\nclass=\\\"ms-form-wizard-step-label\\\"><span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" \\nng-if=\\\"!vm.verticalStepper.step2.groupID\\\">2</span> <span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" \\nng-if=\\\"vm.verticalStepper.step2.groupID\\\"><i class=\\\"icon-check s16\\\"></i> </span><span class=\\\"ms-form-wizard-step-text\\\">\\nSelect Folder</span></span></md-tab-label><md-tab-body><form name=\\\"wizardStep2\\\" ms-form-wizard-form novalidate><div \\nng-switch=\\\"vm.wizard.newGroup\\\" ng-hide=\\\"!vm.verticalStepper.step1.folderID\\\"><div ng-switch-when=\\\"false\\\"><div \\nng-include=\\\"\\'app/main/checklist/views/stepper/new-checklist-2.html\\'\\\"></div></div><div ng-switch-when=\\\"true\\\"><div \\nng-include=\\\"\\'app/main/checklist/views/stepper/new-checklist-2-new-group.html\\'\\\"></div></div></div></form></md-tab-body>\\n</md-tab><md-tab ng-disabled=\\\"wizardStep1.$invalid || wizardStep2.$invalid\\\"><md-tab-label><span \\nclass=\\\"ms-form-wizard-step-label\\\"><span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep3.$invalid\\\">3\\n</span> <span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep3.$valid\\\"><i class=\\\"icon-check s16\\\"></i>\\n </span><span class=\\\"ms-form-wizard-step-text\\\">Name Checklist</span></span></md-tab-label><md-tab-body><form \\nname=\\\"wizardStep3\\\" ms-form-wizard-form novalidate class=\\\"ms-form-wizard-form-checklist-name\\\"><md-input-container \\nclass=\\\"md-block\\\"><input type=\\\"text\\\" name=\\\"checklistName\\\" ng-model=\\\"vm.verticalStepper.step3.name\\\" \\nplaceholder=\\\"Checklist Name\\\" required><div ng-messages=\\\"wizardStep3.checklistName.$error\\\" role=\\\"alert\\\"><div \\nng-message=\\\"required\\\"><span>Checklist Name is required</span></div></div></md-input-container></form></md-tab-body>\\n</md-tab></md-tabs><div class=\\\"navigation\\\" flex layout=\\\"row\\\" layout-align=\\\"center center\\\" \\nng-show=\\\"!vm.wizard.newFolder && !vm.wizard.newGroup\\\"><md-button class=\\\"\\\" ng-click=\\\"msWizard.previousStep()\\\" \\nng-disabled=\\\"msWizard.isFirstStep()\\\">Previous</md-button><div class=\\\"steps\\\"><span ng-repeat=\\\"form in msWizard.forms\\\" \\nng-class=\\\"{\\'selected md-accent-bg\\':msWizard.selectedIndex === $index}\\\"></span></div><md-button class=\\\"\\\" \\nng-click=\\\"msWizard.nextStep()\\\" ng-hide=\\\"msWizard.isLastStep()\\\" \\nng-disabled=\\\"msWizard.currentStepInvalid() || vm.wizard.newFolder\\\">Next</md-button><md-button class=\\\"md-warn\\\" \\nng-click=\\\"vm.addNewChecklist(vm.verticalStepper.step3.name, vm.verticalStepper.step2.groupID, vm.verticalStepper.step1.folderID); \\\" \\nng-show=\\\"msWizard.isLastStep()\\\" ng-disabled=\\\"msWizard.formsIncomplete() || vm.wizard.newFolder || vm.wizard.newGroup\\\">\\nCreate Checklist</md-button></div></ms-form-wizard></md-dialog-content><md-dialog-actions layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\" ng-show=\\\"vm.wizard.newFolder\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-button type=\\\"submit\\\" aria-label=\\\"Save\\\" translate-attr-aria-label=\\\"CHECKLIST.SAVE\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"wizardStep1.$invalid || wizardStep1.$pristine\\\" ng-click=\\\"vm.addNewFolder(vm.folder.name)\\\">SAVE</md-button>\\n</div><div layout=\\\"row\\\"><md-button ng-click=\\\"vm.cancelFolderInput()\\\" aria-label=\\\"Cancel\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.CANCEL\\\">CANCEL</span></md-tooltip></md-button></div></md-dialog-actions><md-dialog-actions \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\" ng-show=\\\"vm.wizard.newGroup\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" ng-if=\\\"!vm.newChecklist\\\" \\nng-click=\\\"vm.addNewGroup(vm.group.text, vm.verticalStepper.step1.folderID)\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" aria-label=\\\"Save\\\" translate=\\\"CHECKLIST.SAVE\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE</md-button></div><div layout=\\\"row\\\"><md-button ng-if=\\\"!vm.newChecklist\\\" \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.cancelGroupInput()\\\" aria-label=\\\"Delete\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.CANCEL\\\">CANCEL</span></md-tooltip></md-button></div></md-dialog-actions></md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-publish-template-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><form name=\\\"templateForm\\\" class=\\\"md-inline-form\\\" \\nng-submit=\\\"vm.publish.publish()\\\" novalidate><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">{{vm.title}}</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\">\\n</md-icon></md-button></div></md-toolbar><md-dialog-content ms-scroll><md-input-container class=\\\"md-block\\\"><label \\ntranslate=\\\"CHECKLIST.TEMPLATE_NAME\\\">Template Name</label><input name=\\\"name\\\" ng-model=\\\"vm.publish.name\\\" required \\nmd-autofocus><div ng-messages=\\\"templateForm.name.$error\\\" ng-show=\\\"templateForm.name.$touched\\\" role=\\\"alert\\\"><div \\nng-message=\\\"required\\\"><span translate=\\\"CHECKLIST.TEMPLATE_NAME\\\">Template Name field is required</span></div></div>\\n</md-input-container>{{ vm.publish.pvt }}<md-input-container class=\\\"md-block\\\"><md-checkbox \\nng-click=\\\"vm.publish.togglePrivate()\\\" ng-disabled=\\\"vm.publish.submitting\\\" ng-checked=\\\"vm.publish.pvt\\\" \\nclass=\\\"btn btn-link checkbox applies\\\">Publish Internal Only</md-checkbox></md-input-container></md-dialog-content>\\n<md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-button type=\\\"submit\\\" class=\\\"md-raised md-accent\\\" ng-disabled=\\\"templateForm.$invalid\\\" aria-label=\\\"Save\\\" \\ntranslate=\\\"CHECKLIST.PUBLISH\\\" translate-attr-aria-label=\\\"CHECKLIST.PUBLISH\\\">PUBLISH TEMPLATE</md-button></div>\\n</md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-send-link-request-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><form id=\\\"findLinkForm\\\" name=\\\"findLinkForm\\\" class=\\\"md-inline-form\\\" \\nng-disabled=\\\"vm.find.inProgress\\\" ng-submit=\\\"vm.find.submit()\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div \\nclass=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">\\nSend Link Request {{ name }}</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.SEARCH_USERS\\\">Search</label><input \\nid=\\\"findLinksQueryString\\\" ng-model=\\\"vm.find.criteria\\\" type=\\\"text\\\"></md-input-container></md-dialog-content>\\n<md-dialog-content class=\\\"pt-0\\\" ng-show=\\\"vm.found.length\\\"><table class=\\\"simple\\\" ms-responsive-table><thead><tr><th>\\nOrganization</th><th>User</th><th></th></tr></thead><tfoot></tfoot><tbody><tr ng-repeat=\\\"link in vm.found\\\" \\nng-hide=\\\"link.id == vm.user.idCON\\\"><td class=\\\"name\\\">{{link.organization}}</td><td class=\\\"salary\\\">{{link.name.full}}\\n</td><td class=\\\"text-right\\\"><md-button ng-if=\\\"link.status == \\'Sent\\'\\\" class=\\\"icon-button\\\" aria-label=\\\"Linked\\\" \\nng-click=\\\"link.withdraw()\\\"><md-icon md-font-icon=\\\"icon-google-circles\\\" class=\\\"md-accent-fg s18\\\"></md-icon></md-button>\\n<md-button ng-if=\\\"link.status == \\'Linked\\'\\\" class=\\\"icon-button\\\" aria-label=\\\"Linked\\\" ng-click=\\\"link.request()\\\"><md-icon \\nmd-font-icon=\\\"icon-google-circles\\\" class=\\\"md-accent-fg s18\\\"></md-icon></md-button><md-button \\nng-if=\\\"link.status == \\'Stranger\\'\\\" class=\\\"icon-button\\\" aria-label=\\\"Invite\\\" ng-click=\\\"link.request()\\\" \\nng-disabled=\\\"link.requesting\\\"><md-icon md-font-icon=\\\"icon-google-circles-invite\\\" class=\\\"md-accent-fg s18\\\"></md-icon>\\n</md-button></td></tr></tbody></table></md-dialog-content><md-dialog-actions layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" \\nclass=\\\"md-raised md-accent\\\" aria-label=\\\"SEARCH\\\" ng-disabled=\\\"findLinkForm.$invalid || findLinkForm.$pristine\\\" \\nng-disabled=\\\"vm.searching\\\">SEARCH</md-button></div></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-set-labels-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><form name=\\\"checklistForm\\\" class=\\\"md-inline-form\\\" \\nng-submit=\\\"vm.labels.create.save()\\\" novalidate><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">Select Label</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon>\\n</md-button></div></md-toolbar><md-dialog-content ms-scroll><div class=\\\"simple-table-container\\\"><table class=\\\"simple\\\" \\nms-responsive-table><thead><tr><th>User</th><th>Label</th><th>Description</th><th class=\\\"text-center\\\">Select</th><th>\\n</th></tr></thead><tfoot></tfoot><tbody><tr ng-repeat=\\\"label in vm.labels.selectable\\\"><td>{{label.contact.name}}</td>\\n<td>{{label.name}}</td><td>{{label.explanation}}</td><td class=\\\"text-center\\\" \\nng-switch=\\\"(selected=vm.labels.isSelected(label))\\\"><md-button type=\\\"button\\\" ng-click=\\\"vm.labels.toggle(label)\\\" \\nclass=\\\"icon-button\\\"><md-icon ng-hide=\\\"selected\\\" md-font-icon=\\\"icon-checkbox-blank-outline\\\" class=\\\"md-accent-fg s18\\\">\\n</md-icon><md-icon ng-show=\\\"selected\\\" md-font-icon=\\\"icon-checkbox-marked-outline\\\" class=\\\"md-accent-fg s18\\\"></md-icon>\\n</md-button></td><td class=\\\"text-right\\\"><md-button ng-click=\\\"vm.labels.hide(label)\\\" class=\\\"icon-button\\\"><md-icon \\nmd-font-icon=\\\"icon-trash\\\" class=\\\"red-600-fg s18\\\"></md-icon></md-button></td></tr></tbody></table></div><div \\nng-show=\\\"vm.labels.create.entering\\\" class=\\\"modal-body\\\"><md-input-container class=\\\"md-icon-float md-block\\\"><label>Name\\n</label><input name=\\\"name\\\" ng-model=\\\"vm.labels.create.name\\\" required md-autofocus><div \\nng-messages=\\\"checklistForm.name.$error\\\" ng-show=\\\"checklistForm.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\">\\n<span>Name field is required</span></div></div></md-input-container><md-input-container class=\\\"md-block mb-0\\\"><label>\\nExplanation</label><input name=\\\"explanation\\\" ng-model=\\\"vm.labels.create.explanation\\\"><div \\nng-messages=\\\"checklistForm.explanation.$error\\\" ng-show=\\\"checklistForm.explanation.$touched\\\" role=\\\"alert\\\"></div>\\n</md-input-container></div></md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div\\n layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"button\\\" ng-click=\\\"vm.labels.create.enter()\\\" \\nclass=\\\"md-raised md-accent\\\" ng-hide=\\\"vm.labels.create.entering\\\" aria-label=\\\"Add New Label\\\" \\ntranslate=\\\"CHECKLIST.ADD_LABEL\\\" translate-attr-aria-label=\\\"CHECKLIST.ADD_LABEL\\\">ADD NEW LABEL</md-button><md-button \\ntype=\\\"submit\\\" class=\\\"md-raised md-accent\\\" ng-show=\\\"vm.labels.create.entering\\\" ng-disabled=\\\"vm.labels.create.saving\\\" \\naria-label=\\\"Add New Label\\\" translate=\\\"CHECKLIST.SAVE_NEW_LABEL\\\" translate-attr-aria-label=\\\"CHECKLIST.SAVE_NEW_LABEL\\\">\\n<span ng-hide=\\\"vm.labels.create.saving\\\">Submit</span><span ng-show=\\\"vm.labels.create.saving\\\">Submitting...</span>\\n</md-button><md-button type=\\\"button\\\" class=\\\"md-raised md-accent\\\" ng-click=\\\"vm.labels.save()\\\" aria-label=\\\"Save Labels\\\" \\ntranslate=\\\"CHECKLIST.SAVE_LABELS\\\" translate-attr-aria-label=\\\"CHECKLIST.SAVE_LABELS\\\">SAVE LABELS</md-button></div>\\n</md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-show-linked-users-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">Users Linked to {{ vm.item.name }}</span>\\n<md-button class=\\\"md-icon-button\\\" ng-click=\\\"closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" \\naria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content><div \\nclass=\\\"simple-table-container\\\"><table class=\\\"simple\\\" ms-responsive-table><thead><tr><th>User</th><th \\nclass=\\\"text-right\\\">View</th></tr></thead><tbody><tr ng-repeat=\\\"show in vm.users\\\"><td class=\\\"\\\">{{show.name.full}}</td>\\n<td class=\\\"text-right\\\"><md-button type=\\\"button\\\" ng-click=\\\"vm.toggleShowCheckboxes(show)\\\" \\nng-disabled=\\\"(show.isShowing && showingUsers.length == 1) || ((showingUsers.length &gt;=2) && !show.isShowing)\\\" \\nclass=\\\"icon-button\\\"><md-icon ng-hide=\\\"show.isShowing\\\" md-font-icon=\\\"icon-checkbox-blank-outline\\\" \\nclass=\\\"md-accent-fg s18\\\"></md-icon><md-icon ng-show=\\\"show.isShowing\\\" md-font-icon=\\\"icon-checkbox-marked-outline\\\" \\nclass=\\\"md-accent-fg s18\\\"></md-icon></md-button></td></tr></tbody></table></div></md-dialog-content></md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-upload-attachment-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"New Folder\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">{{vm.title}}</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\">\\n</md-icon></md-button></div></md-toolbar><md-dialog-content class=\\\"padding-top-0 padding-bottom-0\\\"><table \\nclass=\\\"simple\\\" ms-responsive-table ng-hide=\\\"vm.upload || !vm.attachments.length\\\"><thead><tr><th>Attachment Label</th>\\n<th class=\\\"text-right\\\">Download</th></tr></thead><tfoot></tfoot><tbody><tr \\nng-repeat=\\\"attachment in vm.attachments track by $index\\\"><td class=\\\"name\\\">{{attachment.file.label}}</td><td \\nclass=\\\"text-right\\\"><button aria-label=\\\"Linked\\\" ng-click=\\\"vm.downloadAttachment($event, attachment.storage.temporary)\\\">\\n<md-icon md-font-icon=\\\"icon-cloud-download\\\"></md-icon></button></td></tr></tbody></table><div \\nng-show=\\\"vm.upload || !vm.attachments.length\\\"><md-input-container class=\\\"md-block\\\"><label \\ntranslate=\\\"CHECKLIST.ATTACHMENT_LABEL\\\">Attachment Label</label><input name=\\\"label\\\" ng-model=\\\"vm.label\\\" required \\nmd-autofocus><div ng-messages=\\\"checklistForm.label.$error\\\" ng-show=\\\"checklistForm.label.$touched\\\" role=\\\"alert\\\"><div \\nng-message=\\\"required\\\"><span translate=\\\"CHECKLIST.ERRORS.ATTACHMENT_LABEL_REQUIRED\\\">Attachment Label field is required\\n</span></div></div><div>{{ vm.file }}</div></md-input-container><md-button flow-btn \\nclass=\\\"add-file-button md-fab md-warn\\\" aria-label=\\\"Add file\\\" translate translate-attr-aria-label=\\\"FM.ADD_FILE\\\"><label \\nfor=\\\"AWSFileUploadInput\\\"><md-icon md-font-icon=\\\"icon-plus\\\"></md-icon></label></md-button><md-input-container \\nclass=\\\"md-block mb-0 mt-0\\\"><input id=\\\"AWSFileUploadInput\\\" ng-model=\\\"vm.file\\\" name=\\\"file\\\" type=\\\"file\\\" \\nclass=\\\"add-file-button md-fab md-warn\\\" style=\\\"display:none\\\"><div ng-messages=\\\"checklistForm.file.$error\\\" \\nng-show=\\\"checklistForm.file.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"CHECKLIST.ERRORS.ATTACHMENT_REQUIRED\\\">Attachment is required</span></div></div></md-input-container></div>\\n</md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button type=\\\"button\\\" ng-show=\\\"vm.upload || !vm.attachments.length\\\" \\nng-click=\\\"vm.uploadAttachment(vm.pType, vm.pID, vm.index)\\\" class=\\\"\\\" aria-label=\\\"Upload Attachment\\\" \\ntranslate=\\\"CHECKLIST.UPLOAD\\\" translate-attr-aria-label=\\\"CHECKLIST.UPLOAD\\\">UPLOAD ATTACHMENTS</md-button><md-button \\ntype=\\\"button\\\" ng-hide=\\\"vm.upload || !vm.attachments.length\\\" ng-click=\\\"vm.upload=true\\\" class=\\\"md-raised md-accent\\\" \\naria-label=\\\"Upload Attachment\\\" translate=\\\"CHECKLIST.UPLOAD_ATTACHMENT\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.UPLOAD_ATTACHMENT\\\">UPLOAD ATTACHMENTS</md-button></div></md-dialog-actions>\\n</md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-view-attachments-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">{{vm.title}}</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\">\\n</md-icon></md-button></div></md-toolbar><md-dialog-content><md-input-container class=\\\"md-block\\\"><input \\nid=\\\"AWSFileUploadInput\\\" ng-model=\\\"vm.file\\\" name=\\\"file\\\" type=\\\"file\\\" class=\\\"add-file-button md-fab md-warn\\\">\\n</md-input-container></md-dialog-content><md-dialog-content ms-scroll><md-input-container class=\\\"md-block\\\">\\n<md-progress-linear md-mode=\\\"determinate\\\" value=\\\"{{vm.uploadProgress}}\\\"></md-progress-linear>\\n{{ vm.uploadProgress == 0 ? \\'\\' : vm.uploadProgress + \\'%\\' }}</md-input-container></md-dialog-content><md-dialog-actions \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button \\ntype=\\\"button\\\" ng-click=\\\"vm.uploadAttachment()\\\" class=\\\"md-raised md-accent\\\" aria-label=\\\"Upload Attachment\\\" \\ntranslate=\\\"CHECKLIST.UPLOAD_ATTACHMENT\\\" translate-attr-aria-label=\\\"CHECKLIST.UPLOAD_ATTACHMENT\\\">UPLOAD</md-button>\\n</div></md-dialog-actions></md-dialog>\");\n$templateCache.put(\"app/main/checklist/sidenavs/main/main-sidenav.html\",\"\");\n$templateCache.put(\"app/main/checklist/views/detail/checklist.html\",\"<div id=\\\"checklist\\\" class=\\\"page-layout carded left-sidenav\\\" layout=\\\"row\\\"><div class=\\\"top-bg md-accent-bg\\\"></div>\\n<md-sidenav class=\\\"sidenav\\\" md-is-locked-open=\\\"$mdMedia(\\'gt-md\\')\\\" md-component-id=\\\"checklist-sidenav\\\" \\nng-include=\\\"\\'app/main/checklist/sidenavs/main/main-sidenav.html\\'\\\" ms-scroll ms-sidenav-helper></md-sidenav><div \\nclass=\\\"center\\\" layout=\\\"column\\\" flex><div class=\\\"header\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" hide-xs><div \\nclass=\\\"search-wrapper md-whiteframe-4dp\\\" flex layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button \\nclass=\\\"md-icon-button sidenav-toggle\\\" ng-click=\\\"vm.toggleSidenav(\\'checklist-sidenav\\')\\\" hide-gt-md \\naria-label=\\\"Toggle sidenav\\\" translate translate-attr-aria-label=\\\"CHECKLIST.TOGGLE_SIDENAV\\\"><md-icon \\nmd-font-icon=\\\"icon-menu\\\" class=\\\"icon\\\"></md-icon></md-button><div class=\\\"search\\\" flex layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-icon md-font-icon=\\\"icon-magnify\\\" class=\\\"icon s24\\\"></md-icon><input flex \\nng-model=\\\"vm.checklistFilters.search\\\" type=\\\"text\\\" placeholder=\\\"Search Checklists\\\" translate \\ntranslate-attr-placeholder=\\\"CHECKLIST.SEARCH\\\"></div></div></div><div class=\\\"content-card\\\" layout=\\\"column\\\" flex><div \\nclass=\\\"content\\\" layout=\\\"row\\\" flex><md-content class=\\\"todo-list-pane\\\" flex \\nng-include=\\\"\\'app/main/checklist/views/detail/detailschecklists.html\\'\\\" ms-scroll=\\\"vm.msScrollOptions\\\"></md-content>\\n</div></div></div></div>\");\n$templateCache.put(\"app/main/checklist/views/detail/conflictsChecklists.html\",\"xxx\");\n$templateCache.put(\"app/main/checklist/views/detail/detailsChecklistsHeadings.html\",\"<div class=\\\"checklist-item checklist-heading-bg\\\" ng-class=\\\"{\\'green\\':vm.passedNotification.id==heading.id}\\\" \\nmd-ink-ripple layout=\\\"row\\\" layout-align=\\\"start center\\\"><div data-as-sortable-item-handle class=\\\"handle\\\" \\nng-click=\\\"vm.preventDefault($event)\\\"><md-icon md-font-icon=\\\"icon-drag-vertical\\\" class=\\\"icon\\\"></md-icon></div><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\" flex \\nng-click=\\\"vm.toggle(\\'heading\\', heading); vm.fetchItemBlock(heading, checklist.id)\\\"><div class=\\\"info\\\" flex><div \\nclass=\\\"heading\\\">{{heading.name}}</div></div><div layout=\\\"row\\\" flex=\\\"15\\\" layout-align=\\\"end center\\\"><md-icon \\nmd-font-icon=\\\"icon-paperclip\\\" class=\\\"is-important indicator-icon s18\\\" \\nng-click=\\\"vm.openUploadAttachmentDialog($event, \\'heading\\', heading.id, $index, heading.attachments)\\\" \\nng-if=\\\"heading.attachments.length>0\\\"></md-icon><md-icon md-font-icon=\\\"icon-comment-text-outline\\\" \\nclass=\\\"is-important indicator-icon s18\\\" ng-click=\\\"vm.openConversationDialog(\\'heading\\', heading.id, heading.name)\\\" \\nng-if=\\\"heading.postCount>0\\\"></md-icon></div><div class=\\\"buttons\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-menu>\\n<md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button\\\" aria-label=\\\"More\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical\\\" class=\\\"s18\\\"></md-icon>\\n</md-button><md-menu-content width=\\\"3\\\" class=\\\"menu-height\\\"><md-menu-item><md-button \\nng-click=\\\"vm.add(\\'item\\',heading.id, $event)\\\" aria-label=\\\"Add Checkboxes\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.ADD_CHECKBOXES\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-plus-circle-outline\\\"></md-icon><span translate=\\\"CHECKLIST.ADD_CHECKBOXES\\\">Add New Checkboxes</span>\\n</md-button></md-menu-item><md-menu-item><md-button ng-click=\\\"vm.add(\\'item\\',heading.id, $event, \\'2\\')\\\" \\naria-label=\\\"Add Text Box\\\" translate-attr-aria-label=\\\"CHECKLIST.ADD_TEXT_BOX\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-plus-circle-outline\\\"></md-icon><span translate=\\\"CHECKLIST.ADD_TEXT_BOX\\\">Add Text Box</span>\\n</md-button></md-menu-item><md-divider class=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button \\nng-click=\\\"vm.openConversationDialog($event, \\'heading\\', heading.id, heading.name)\\\" aria-label=\\\"Conversations\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.CONVOS\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-comment-multipe-outline\\\"></md-icon><span translate=\\\"CHECKLIST.CONVOS\\\">Conversations</span>\\n</md-button></md-menu-item><md-menu-item><md-button ng-click=\\\"vm.toggle(\\'references\\',heading)\\\" \\naria-label=\\\"Show References\\\" translate-attr-aria-label=\\\"CHECKLIST.SHOW_REFERENCES\\\"><md-icon \\nng-show=\\\"heading.showReferences\\\" class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-checkbox-marked-outline\\\"></md-icon>\\n<md-icon ng-hide=\\\"heading.showReferences\\\" class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-checkbox-blank-outline\\\">\\n</md-icon><span translate=\\\"CHECKLIST.SHOW_REFERENCES\\\">Show References</span></md-button></md-menu-item><md-divider \\nclass=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button \\nng-click=\\\"vm.openUploadAttachmentDialog($event, \\'heading\\', heading.id, $index,heading.attachments)\\\" \\naria-label=\\\"Attachments\\\" translate-attr-aria-label=\\\"CHECKLIST.ATTACHMENTS\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-attachment\\\"></md-icon><span translate=\\\"CHECKLIST.ATTACHMENTS\\\">Attachments</span></md-button>\\n</md-menu-item><md-divider class=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button \\nng-click=\\\"vm.openHeadingDialog($event, heading)\\\" aria-label=\\\"Edit Heading Name\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.EDIT_HEADING_NAME\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-pencil\\\">\\n</md-icon><span translate=\\\"CHECKLIST.EDIT_HEADING_NAME\\\"></span></md-button></md-menu-item><md-menu-item><md-button \\nng-click=\\\"vm.deleteConfirm(\\'heading\\',heading)\\\" aria-label=\\\"Delete Heading\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE_HEADING\\\"><md-icon class=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\">\\n</md-icon><span translate=\\\"CHECKLIST.DELETE_HEADING\\\">Delete Heading</span></md-button></md-menu-item></md-menu-content>\\n</md-menu></div></div></div>\");\n$templateCache.put(\"app/main/checklist/views/detail/detailsChecklistsItems.html\",\"<div class=\\\"checklist-item\\\" \\nng-class=\\\"{\\'conflict\\':item.nonCompliant || item.conflicts, \\'md-green-100-bg\\':vm.passedNotification.id==item.id}\\\" \\nmd-ink-ripple layout=\\\"row\\\" layout-align=\\\"start center\\\"><div data-as-sortable-item-handle class=\\\"handle\\\" \\nng-click=\\\"vm.preventDefault($event)\\\"><md-icon md-font-icon=\\\"icon-drag-vertical\\\" class=\\\"icon\\\"></md-icon></div><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div class=\\\"info\\\" flex><div class=\\\"item\\\" layout=\\\"row\\\"><div \\nng-show=\\\"vm.isForm(item)\\\" flex=\\\"15\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><ul class=\\\"checkbox-list\\\"><li \\nng-show=\\\"vm.isForm(item)\\\"><button type=\\\"button\\\" ng-click=\\\"vm.openFormLineDialog($event, item)\\\" class=\\\"checkbox\\\">\\n<md-icon class=\\\"md-accent-fg s20\\\" md-font-icon=\\\"icon-pencil\\\"></md-icon></button></li></ul></div><div \\nng-hide=\\\"vm.isForm(item)\\\" flex=\\\"15\\\" layout=\\\"row\\\" layout-align=\\\"start end\\\"><ul class=\\\"checkbox-list\\\"><li \\nng-repeat=\\\"show in showingUsers track by $index\\\"><button type=\\\"button\\\" \\nng-click=\\\"vm.toggleCheckbox(item,\\'applies\\',$index)\\\" \\nng-disabled=\\\"checklist.complete || viewAs.notMe || (show.idCON !== user.idCON)\\\" class=\\\"checkbox\\\"><i \\nng-hide=\\\"item.checkbox[$index].applies\\\" class=\\\"icon-checkbox-blank-outline\\\"></i> <i \\nng-show=\\\"item.checkbox[$index].applies\\\" class=\\\"icon-checkbox-marked-outline\\\"></i> <span class=\\\"checkboxLabel\\\">\\n{{(show.idCON == user.idCON)?(showingUsers.length>1)?\\'YOU\\':\\'APPLY\\':show.name}}</span></button></li></ul></div><div \\nlayout=\\\"column\\\" layout-align=\\\"center start\\\"><div ng-class=\\\"{\\'text-bold form-line-question\\': vm.isForm(item)}\\\" \\nclass=\\\"item\\\" layout-align=\\\"start center\\\" layout=\\\"row\\\" flex>{{item.name}}</div><div \\nng-show=\\\"item.info.length && (checklist.showReferences || section.showReferences || heading.showReferences) && !vm.isForm(item)\\\" \\nng-bind-html=\\\"item.info | sanitize\\\" layout=\\\"row\\\" class=\\\"item\\\" flex><sup>{{ item.info }}</sup>{{ which.showReferences }}\\n</div><div ng-show=\\\"vm.isForm(item)\\\" layout=\\\"row\\\" class=\\\"item\\\" flex><span>{{ item.info }}</span></div></div><div \\nlayout=\\\"row\\\" flex=\\\"\\\" layout-align=\\\"end center\\\"><md-icon md-font-icon=\\\"icon-paperclip s20\\\" \\nclass=\\\"is-important indicator-icon s18\\\" \\nng-click=\\\"vm.openUploadAttachmentDialog($event, \\'item\\', item.id, $index, item.attachments)\\\" \\nng-if=\\\"item.attachments.length>0\\\"></md-icon><md-icon md-font-icon=\\\"icon-comment-text-outline s20\\\" \\nclass=\\\"is-important indicator-icon s18\\\" ng-click=\\\"vm.openConversationDialog(\\'item\\', item.id, item.name)\\\" \\nng-if=\\\"item.postCount>0\\\"></md-icon></div><div ng-hide=\\\"vm.isForm(item)\\\" layout=\\\"row\\\" layout-align=\\\"end center\\\"><ul \\nclass=\\\"checkbox-list\\\"><li ng-repeat=\\\"show in showingUsers track by $index\\\"><button type=\\\"button\\\" \\nng-click=\\\"vm.toggleCheckbox(item,\\'complies\\',$index)\\\" \\nng-disabled=\\\"checklist.complete || viewAs.notMe || (show.idCON !== user.idCON)\\\" class=\\\"checkbox\\\"><i \\nng-hide=\\\"item.checkbox[$index].complies\\\" class=\\\"icon-checkbox-blank-outline\\\"></i> <i \\nng-show=\\\"item.checkbox[$index].complies\\\" class=\\\"icon-checkbox-marked-outline\\\"></i> <span class=\\\"checkboxLabel\\\">\\n{{(show.idCON == user.idCON)?(showingUsers.length>1)?\\'YOU\\':\\'COMPLY\\':show.name}}</span></button></li></ul></div></div>\\n</div><div class=\\\"buttons\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" \\nclass=\\\"md-icon-button\\\" aria-label=\\\"More\\\" translate translate-attr-aria-label=\\\"CHECKLIST.MORE\\\"><md-icon \\nmd-font-icon=\\\"icon-dots-vertical\\\" class=\\\"s18\\\"></md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button\\n ng-click=\\\"vm.labels.select(item, $event)\\\" aria-label=\\\"Add Data Label\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.ADD_DATA_LABEL\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-label\\\">\\n</md-icon><span translate=\\\"CHECKLIST.ADD_DATA_LABEL\\\">Add Data Label</span></md-button></md-menu-item><md-divider \\nclass=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button \\nng-click=\\\"vm.openConversationDialog($event, \\'item\\', item.id, item.name)\\\" aria-label=\\\"Conversations\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.CONVOS\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-comment-multipe-outline\\\"></md-icon><span translate=\\\"CHECKLIST.CONVOS\\\">Conversations</span>\\n</md-button></md-menu-item><md-divider class=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button \\nng-click=\\\"vm.openUploadAttachmentDialog($event, \\'item\\', item.id, $index, item.attachments)\\\" aria-label=\\\"Attachments\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.ATTACHMENTS\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-attachment\\\">\\n</md-icon><span translate=\\\"CHECKLIST.ATTACHMENTS\\\">Attachments</span></md-button></md-menu-item><md-divider \\nclass=\\\"md-default-theme\\\"></md-divider><md-menu-item ng-hide=\\\"vm.isForm(item)\\\"><md-button \\nng-click=\\\"vm.openItemDialog($event, item)\\\" aria-label=\\\"Edit Checkbox Name\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.EDIT_CHECKBOX_NAME\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-pencil\\\">\\n</md-icon><span translate=\\\"CHECKLIST.EDIT_CHECKBOX_NAME\\\">Edit Checkbox Name</span></md-button></md-menu-item>\\n<md-menu-item ng-show=\\\"vm.isForm(item)\\\"><md-button ng-click=\\\"vm.openFormLineDialog($event, item)\\\" \\naria-label=\\\"Edit Form Line\\\" translate-attr-aria-label=\\\"CHECKLIST.EDIT_FORM_LINE\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-pencil\\\"></md-icon><span translate=\\\"CHECKLIST.EDIT_FORM_LINE\\\">Edit Form Line</span></md-button>\\n</md-menu-item><md-menu-item><md-button ng-click=\\\"vm.deleteConfirm(\\'item\\',item)\\\" aria-label=\\\"Delete Item\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE_ITEM\\\"><md-icon class=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\"></md-icon>\\n<span translate=\\\"CHECKLIST.DELETE_ITEM\\\">Delete Item</span></md-button></md-menu-item></md-menu-content></md-menu></div>\\n</div></div>\");\n$templateCache.put(\"app/main/checklist/views/detail/detailsChecklistsSections.html\",\"<div ng-show=\\\"!section.notApplicable\\\" \\nng-class=\\\"{\\'completed\\': section.notApplicable, \\'green\\':vm.passedNotification.id==section.id}\\\" \\nclass=\\\"checklist-item checklist-section-bg\\\" md-ink-ripple layout=\\\"row\\\" layout-align=\\\"start center\\\"><div \\ndata-as-sortable-item-handle class=\\\"handle\\\" ng-click=\\\"vm.preventDefault($event)\\\"><md-icon \\nmd-font-icon=\\\"icon-drag-vertical\\\" class=\\\"icon\\\"></md-icon></div><div layout=\\\"row\\\" layout-align=\\\"start center\\\" \\nng-click=\\\"vm.toggle(\\'section\\',section); vm.fetchHeadingBlock(section, checklist.id)\\\" flex><div class=\\\"info\\\" flex><div \\nclass=\\\"section\\\">{{section.name}}</div></div><div layout=\\\"row\\\" flex=\\\"15\\\" layout-align=\\\"end center\\\"><md-icon \\nmd-font-icon=\\\"icon-paperclip\\\" class=\\\"is-important indicator-icon s18\\\" \\nng-click=\\\"vm.openUploadAttachmentDialog($event, \\'section\\', section.id, $index, section.attachments)\\\" \\nng-if=\\\"section.attachments.length>0\\\"></md-icon><md-icon md-font-icon=\\\"icon-comment-text-outline\\\" \\nclass=\\\"is-important indicator-icon s18\\\" \\nng-click=\\\"vm.openConversationDialog($event, \\'section\\', section.id, section.name)\\\" ng-if=\\\"section.postCount>0\\\">\\n</md-icon></div><div class=\\\"buttons\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-menu><md-button \\nng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button\\\" aria-label=\\\"More\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical\\\" class=\\\"s18\\\"></md-icon>\\n</md-button><md-menu-content width=\\\"3\\\" class=\\\"menu-height\\\"><md-menu-item><md-button \\nng-click=\\\"vm.add(\\'heading\\',section.id, $event)\\\" aria-label=\\\"Add New Heading\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.ADD_HEADING\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-plus-circle-outline\\\"></md-icon><span translate=\\\"CHECKLIST.ADD_HEADING\\\">Add New Heading</span>\\n</md-button></md-menu-item><md-divider class=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button \\nng-click=\\\"vm.openConversationDialog(\\'section\\', section.id, section.name)\\\" aria-label=\\\"Start Conversation\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.CONVOS\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-comment-multipe-outline\\\"></md-icon><span translate=\\\"CHECKLIST.CONVOS\\\">Conversations</span>\\n</md-button></md-menu-item><md-menu-item><md-button ng-click=\\\"vm.toggle(\\'references\\',section)\\\" \\naria-label=\\\"Show References\\\" translate-attr-aria-label=\\\"CHECKLIST.SHOW_REFERENCES\\\"><md-icon \\nng-show=\\\"section.showReferences\\\" class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-checkbox-marked-outline\\\"></md-icon>\\n<md-icon ng-hide=\\\"section.showReferences\\\" class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-checkbox-blank-outline\\\">\\n</md-icon><span translate=\\\"CHECKLIST.SHOW_REFERENCES\\\">Show References</span></md-button></md-menu-item><md-divider \\nclass=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button \\nng-click=\\\"vm.openUploadAttachmentDialog($event, \\'section\\', section.id, $index)\\\" aria-label=\\\"Attachments\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.ATTACHMENTS\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-attachment\\\">\\n</md-icon><span translate=\\\"CHECKLIST.ATTACHMENTS\\\">Attachments</span></md-button></md-menu-item><md-divider \\nclass=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button ng-click=\\\"vm.openSectionDialog($event, section)\\\" \\naria-label=\\\"Edit Section Name\\\" translate-attr-aria-label=\\\"CHECKLIST.EDIT_SECTION_NAME\\\"><md-icon \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-pencil\\\"></md-icon><span translate=\\\"CHECKLIST.EDIT_SECTION_NAME\\\">\\nEdit Section Name</span></md-button></md-menu-item><md-menu-item><md-button \\nng-click=\\\"vm.deleteConfirm(\\'section\\',section)\\\" aria-label=\\\"Delete Section\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE_SECTION\\\"><md-icon class=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\">\\n</md-icon><span translate=\\\"CHECKLIST.DELETE_SECTION\\\">Delete Section</span></md-button></md-menu-item><md-menu-item>\\n<md-button ng-click=\\\"vm.toggle(\\'na\\', section)\\\" aria-label=\\\"Section Disabled N/A\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SECTION_NA\\\"><md-icon ng-show=\\\"section.notApplicable\\\" class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-checkbox-marked-outline\\\"></md-icon><md-icon ng-hide=\\\"section.notApplicable\\\" \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-checkbox-blank-outline\\\"></md-icon><span translate=\\\"CHECKLIST.SECTION_NA\\\">\\nSection N/A</span></md-button></md-menu-item></md-menu-content></md-menu></div></div></div>\");\n$templateCache.put(\"app/main/checklist/views/detail/detailschecklists.html\",\"<div ng-show=\\\"vm.loaded.checklist && !vm.isLinked\\\"><div class=\\\"alert alert-warning\\\"><strong>NOT LINKED!</strong><p>\\nYou are not linked to this Checklist.</p></div></div><div class=\\\"checklist-items\\\" id=\\\"checklist-details\\\"><div \\nng-repeat=\\\"checklist in vm.checklists | filter: globalSearch.searchTerm | filter: vm.checklistFilters.search track by $index\\\">\\n<div class=\\\"checklist-item checklist-title-bg\\\" md-ink-ripple layout=\\\"row\\\" layout-align=\\\"start center\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div class=\\\"info\\\" flex=\\\"50\\\"><div class=\\\"checklist\\\">{{checklist.name}}\\n</div></div><div layout=\\\"row\\\" flex=\\\"\\\" layout-align=\\\"end center\\\"><md-icon md-font-icon=\\\"icon-paperclip\\\" \\nclass=\\\"is-important indicator-icon s18\\\" \\nng-click=\\\"vm.openUploadAttachmentDialog($event, \\'checklist\\', checklist.idCHK, $index, checklist.attachments)\\\" \\nng-if=\\\"checklist.attachments.length>0\\\"></md-icon><md-icon md-font-icon=\\\"icon-comment-text-outline\\\" \\nclass=\\\"is-important indicator-icon s18\\\" \\nng-click=\\\"vm.openConversationDialog($event, \\'checklist\\', checklist.idCHK, checklist.name)\\\" \\nng-if=\\\"checklist.postCount>0\\\"></md-icon><md-icon md-font-icon=\\\"icon-alert-circle\\\" \\nclass=\\\"is-important red-600-fg indicator-icon s18\\\" ng-click=\\\"vm.openConflictsDialog($event)\\\" \\nng-if=\\\"showingUsers.length>1\\\"></md-icon></div><div class=\\\"buttons\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-menu>\\n<md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button\\\" aria-label=\\\"More\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical\\\" class=\\\"s18\\\"></md-icon>\\n</md-button><md-menu-content width=\\\"3\\\" class=\\\"menu-height\\\"><md-menu-item><md-button \\nng-click=\\\"vm.add(\\'section\\',checklist.idCHK, $event)\\\" aria-label=\\\"Add New Sction\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.ADD_SECTION\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-plus-circle-outline\\\"></md-icon><span translate=\\\"CHECKLIST.ADD_SECTION\\\">Add New Section</span>\\n</md-button></md-menu-item><md-divider class=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button \\nng-click=\\\"vm.openConversationDialog(\\'checklist\\', checklist.idCHK, checklist.name)\\\" aria-label=\\\"Start Conversation\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.CONVOS\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-comment-multipe-outline\\\"></md-icon><span translate=\\\"CHECKLIST.CONVOS\\\">Conversations</span>\\n</md-button></md-menu-item><md-menu-item ng-show=\\\"permissions.has(\\'inviteToChecklist\\')\\\"><md-button \\nng-click=\\\"vm.sendLinkRequest($event, vm.idCHK)\\\" aria-label=\\\"Send Link Request\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.LINK_REQUEST\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-account-plus\\\">\\n</md-icon><span translate=\\\"CHECKLIST.SEND_LINK_REQUEST\\\">Send Link Request</span></md-button></md-menu-item>\\n<md-menu-item><md-button ng-click=\\\"vm.showLinkedUsers($event, checklist)\\\" aria-label=\\\"Show Linked Users\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SHOW_LINKED_USERS\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-account-switch\\\"></md-icon><span translate=\\\"CHECKLIST.SHOW_LINKED_USERS\\\">Show Linked Users</span>\\n</md-button></md-menu-item><md-menu-item><md-button ng-click=\\\"vm.toggle(\\'references\\',checklist)\\\" \\naria-label=\\\"Show References\\\" translate-attr-aria-label=\\\"CHECKLIST.SHOW_REFERENCES\\\"><md-icon \\nng-show=\\\"checklist.showReferences\\\" class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-checkbox-marked-outline\\\"></md-icon>\\n<md-icon ng-hide=\\\"checklist.showReferences\\\" class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-checkbox-blank-outline\\\">\\n</md-icon><span translate=\\\"CHECKLIST.SHOW_REFERENCES\\\">Show References</span></md-button></md-menu-item><md-divider \\nclass=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button \\nng-click=\\\"vm.openUploadAttachmentDialog($event, \\'checklist\\', checklist.idCHK, $index)\\\" aria-label=\\\"Attachments\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.ATTACHMENTS\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-attachment\\\">\\n</md-icon><span translate=\\\"CHECKLIST.ATTACHMENTS\\\">Attachments</span></md-button></md-menu-item><md-menu-item><md-button\\n ng-click=\\\"vm.downloadPDF($ev, checklist.idCHK, checklist.name)\\\" aria-label=\\\"Download PDF\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.DOWNLOAD_PDF\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-file-pdf\\\">\\n</md-icon><span translate=\\\"CHECKLIST.DOWNLOAD_PDF\\\">Download PDF</span></md-button></md-menu-item><md-menu-item \\nng-show=\\\"permissions.has(\\'saveChecklist\\')\\\"><md-button ng-click=\\\"vm.downloadXML($ev, checklist.idCHK, checklist.name)\\\" \\naria-label=\\\"Download Checklist\\\" translate-attr-aria-label=\\\"CHECKLIST.EXPORT_CHECKLIST\\\"><md-icon \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-data\\\"></md-icon><span translate=\\\"CHECKLIST.EXPORT_CHECKLIST\\\">\\nExport Checklist</span></md-button></md-menu-item><md-menu-item ng-show=\\\"permissions.has(\\'publishTemplate\\')\\\"><md-button\\n ng-click=\\\"vm.publishTemplate($event, checklist.idCHK)\\\" aria-label=\\\"Publish as Template\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.PUBLISH_TEMPLATE\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-cloud-upload\\\"></md-icon><span translate=\\\"CHECKLIST.PUBLISH_TEMPLATE\\\">Publish as Template</span>\\n</md-button></md-menu-item><md-divider class=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button \\nng-click=\\\"vm.openChecklistDialog($event, checklist)\\\" aria-label=\\\"Edit Checklist Name\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.EDIT_CHECKLIST_NAME\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-pencil\\\">\\n</md-icon><span translate=\\\"CHECKLIST.EDIT_CHECKLIST_NAME\\\">Edit Checklist Name</span></md-button></md-menu-item>\\n<md-menu-item><md-button ng-click=\\\"vm.deleteConfirm(\\'checklist\\', checklist, $event)\\\" aria-label=\\\"Delete Checklist\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE_CHECKLIST\\\"><md-icon class=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\">\\n</md-icon><span translate=\\\"CHECKLIST.DELETE_CHECKLIST\\\">Delete Checklist</span></md-button></md-menu-item><md-menu-item>\\n<md-button ng-click=\\\"vm.toggleComplete(checklist)\\\" aria-label=\\\"Complete Checklist\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.COMPLETE_CHECKLIST\\\"><md-icon ng-show=\\\"checklist.complete\\\" \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-checkbox-marked-outline\\\"></md-icon><md-icon ng-hide=\\\"checklist.complete\\\" \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-checkbox-blank-outline\\\"></md-icon><span \\ntranslate=\\\"CHECKLIST.COMPLETE_CHECKLIST\\\">Complete Checklist</span></md-button></md-menu-item></md-menu-content>\\n</md-menu></div></div></div><div class=\\\"checklist-items\\\" data-as-sortable=\\\"vm.dragControlListenersSections\\\" \\ndata-ng-model=\\\"checklist.sections\\\"><div data-as-sortable-item md-ink-ripple \\ndata-ng-repeat=\\\"section in checklist.sections | filter: globalSearch.searchTerm | filter: vm.checklistFilters.search\\\">\\n<div ng-include=\\\"\\'app/main/checklist/views/detail/detailsChecklistsSections.html\\'\\\"></div><div class=\\\"checklist-items\\\" \\ndata-as-sortable=\\\"vm.dragControlListenersHeadings\\\" data-ng-model=\\\"section.headings\\\"><div data-as-sortable-item \\nmd-ink-ripple ng-show=\\\"!section.notApplicable && vm.isExpanded(\\'section\\',section)\\\" \\ndata-ng-repeat=\\\"heading in section.headings | filter: globalSearch.searchTerm | filter: vm.checklistFilters.search\\\">\\n<div ng-include=\\\"\\'app/main/checklist/views/detail/detailsChecklistsHeadings.html\\'\\\"></div><div class=\\\"checklist-items\\\" \\ndata-as-sortable=\\\"vm.dragControlListenersItems\\\" data-ng-model=\\\"heading.items\\\"><div data-as-sortable-item md-ink-ripple \\nng-show=\\\"!heading.notApplicable && vm.isExpanded(\\'heading\\', heading)\\\" \\ndata-ng-repeat=\\\"item in heading.items | filter: globalSearch.searchTerm | filter: vm.checklistFilters.search\\\"><div \\nng-include=\\\"\\'app/main/checklist/views/detail/detailsChecklistsItems.html\\'\\\"></div></div></div></div></div></div></div>\\n</div></div>\");\n$templateCache.put(\"app/main/checklist/views/detail/list-view.html\",\"<div \\nng-repeat=\\\"checklist in vm.checklists | filter: globalSearch.searchTerm | filter: vm.checklistFilters.search track by $index\\\">\\n<ul data-as-sortable=\\\"vm.dragControlListeners\\\" data-ng-model=\\\"checklist.sections\\\"><li \\ndata-ng-repeat=\\\"section in checklist.sections\\\" data-as-sortable-item><div data-as-sortable-item-handle \\nng-click=\\\"vm.toggle(\\'section\\',section); vm.fetchHeadingBlock(section, checklist.id)\\\">{{ section.name }}</div><ul \\ndata-as-sortable=\\\"vm.dragControlListeners\\\" data-ng-model=\\\"section.headings\\\"><li \\ndata-ng-repeat=\\\"heading in section.headings\\\" data-as-sortable-item><div data-as-sortable-item-handle \\nng-click=\\\"vm.toggle(\\'heading\\', heading); vm.fetchItemBlock(heading, checklist.id)\\\">{{ heading.name }}</div><ul \\ndata-as-sortable=\\\"vm.dragControlListeners\\\" data-ng-model=\\\"heading.items\\\"><li data-ng-repeat=\\\"item in heading.items\\\" \\ndata-as-sortable-item><div data-as-sortable-item-handle>{{ item.name }}</div></li></ul></li></ul></li></ul></div>\");\n$templateCache.put(\"app/main/checklist/views/infinity/checklist.html\",\"<div id=\\\"checklist\\\" class=\\\"page-layout carded left-sidenav\\\" layout=\\\"row\\\"><div class=\\\"top-bg md-accent-bg\\\"></div>\\n<md-sidenav class=\\\"sidenav\\\" md-is-locked-open=\\\"$mdMedia(\\'gt-md\\')\\\" md-component-id=\\\"checklist-sidenav\\\" \\nng-include=\\\"\\'app/main/checklist/sidenavs/main/main-sidenav.html\\'\\\" ms-scroll ms-sidenav-helper></md-sidenav><div \\nclass=\\\"center\\\" layout=\\\"column\\\" flex><div class=\\\"header\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" hide-xs><div \\nclass=\\\"search-wrapper md-whiteframe-4dp\\\" flex layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button \\nclass=\\\"md-icon-button sidenav-toggle\\\" ng-click=\\\"vm.toggleSidenav(\\'checklist-sidenav\\')\\\" hide-gt-md \\naria-label=\\\"Toggle sidenav\\\" translate translate-attr-aria-label=\\\"CHECKLIST.TOGGLE_SIDENAV\\\"><md-icon \\nmd-font-icon=\\\"icon-menu\\\" class=\\\"icon\\\"></md-icon></md-button><div class=\\\"search\\\" flex layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-icon md-font-icon=\\\"icon-magnify\\\" class=\\\"icon s24\\\"></md-icon><input flex \\nng-model=\\\"vm.checklistFilters.search\\\" type=\\\"text\\\" placeholder=\\\"Search Checklists\\\" translate \\ntranslate-attr-placeholder=\\\"CHECKLIST.SEARCH\\\"></div></div></div><div class=\\\"content-card\\\" layout=\\\"column\\\" flex><div \\nclass=\\\"content\\\" layout=\\\"row\\\" flex><md-content class=\\\"todo-list-pane\\\" flex \\nng-include=\\\"\\'app/main/checklist/views/infinity/infinity-detailschecklists.html\\'\\\" ms-scroll=\\\"vm.msScrollOptions\\\">\\n</md-content></div></div></div></div>\");\n$templateCache.put(\"app/main/checklist/views/infinity/infinity-detailschecklists.html\",\"<div><div infinite-scroll=\\\"loadMore()\\\" infinite-scroll-distance=\\\"\\\"><img ng-repeat=\\\"image in images\\\" \\nng-src=\\\"http://placehold.it/225x250&text={{image}}\\\"></div></div>\");\n$templateCache.put(\"app/main/checklist/views/list/checklists.html\",\"<div class=\\\"todo-items\\\" ng-sortable=\\\"vm.sortableOptions\\\" ng-model=\\\"vm.checklists\\\" \\nng-class=\\\"{\\'sortable\\': vm.checklistOrder === \\'\\'}\\\"><div class=\\\"todo-item\\\" md-ink-ripple layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" \\nng-repeat=\\\"checklist in vm.checklists | orderBy:vm.checklistOrder:vm.checklistOrderDescending | filter: globalSearch.searchTerm | filter:vm.checklistFilters.search track by $index\\\" \\nng-class=\\\"{\\'starred\\': checklist.starred, \\'selected\\': checklist.selected, \\'completed\\': checklist.completed}\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div class=\\\"info\\\" flex><div class=\\\"title\\\"><a \\nhref=\\\"/checklist/detail/{{checklist.idCHK}}\\\">{{checklist.name}}</a></div></div><div class=\\\"buttons\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-icon md-font-icon=\\\"icon-alert-circle\\\" class=\\\"is-important red-600-fg\\\" \\nng-if=\\\"checklist.important\\\"></md-icon><md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button\\\" \\naria-label=\\\"More\\\" translate translate-attr-aria-label=\\\"CHECKLIST.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical\\\" \\nclass=\\\"s18\\\"></md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button \\nng-click=\\\"vm.deleteConfirm(\\'checklist\\',checklist)\\\" aria-label=\\\"Delete Checklist\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE_CHECKLIST\\\"><md-icon class=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\">\\n</md-icon><span translate=\\\"CHECKLIST.DELETE_CHECKLIST\\\">Delete Checklist</span></md-button></md-menu-item><md-menu-item>\\n<md-button ng-click=\\\"vm.openChecklistDialog($event, checklist)\\\" aria-label=\\\"Edit Checklist Name\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.EDIT_CHECKLIST_NAME\\\"><md-icon class=\\\"md-accent s18\\\" md-font-icon=\\\"icon-pencil\\\">\\n</md-icon><span translate=\\\"CHECKLIST.EDIT_CHECKLIST_NAME\\\">Edit Checklist Name</span></md-button></md-menu-item>\\n</md-menu-content></md-menu></div></div></div><div class=\\\"todo-item\\\" md-ink-ripple layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" ng-if=\\\"!vm.checklists.length\\\" \\nng-class=\\\"{\\'starred\\': checklist.starred, \\'selected\\': checklist.selected, \\'completed\\': checklist.completed}\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div class=\\\"info\\\" flex><div class=\\\"title\\\">\\nYou do not have any checklists in this folder</div></div><div class=\\\"buttons\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button\\\" aria-label=\\\"More\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical\\\" class=\\\"s18\\\"></md-icon>\\n</md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"vm.addChecklistDialog($event)\\\" \\naria-label=\\\"Add Checklist\\\" translate-attr-aria-label=\\\"CHECKLIST.ADD_CHECKLIST\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-plus-circle-outline\\\"></md-icon><span translate=\\\"CHECKLIST.ADD_CHECKLIST\\\">Add New Checklist</span>\\n</md-button></md-menu-item></md-menu-content></md-menu></div></div></div></div>\");\n$templateCache.put(\"app/main/checklist/views/stepper/new-checklist-1-new-folder.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"100\\\"><label translate=\\\"FOLDER.NAME\\\">Project Name</label><input \\nname=\\\"name\\\" ng-model=\\\"vm.folder.name\\\" md-autofocus required><div ng-messages=\\\"wizardStep1.name.$error\\\" \\nng-show=\\\"wizardStep1.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"CHECKLIST.ERRORS.PROJECT_NAME_REQUIRED\\\">Project Name field is required</span></div></div>\\n</md-input-container></div>\");\n$templateCache.put(\"app/main/checklist/views/stepper/new-checklist-1.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"70\\\"><md-select ng-model=\\\"vm.verticalStepper.step1.folderID\\\" \\nname=\\\"folderID\\\" aria-label=\\\"Select Project\\\" placeholder=\\\"Select Existing Project\\\" md-autofocus required><md-option \\nng-repeat=\\\"folder in vm.folders\\\" value=\\\"{{folder.id}}\\\" ng-selected=\\\"folder.id == vm.verticalStepper.newFolderID\\\" \\nng-click=\\\"vm.fetchGroups(folder.id)\\\">{{folder.name}}</md-option></md-select><div \\nng-messages=\\\"vm.verticalStepper.step1.folderID.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>\\nProject is required.</span></div></div></md-input-container><md-input-container flex=\\\"30\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\"><md-button class=\\\"md-raised md-accent\\\" ng-click=\\\"vm.openFolderInput()\\\" \\naria-label=\\\"Create New Project\\\" translate-attr-aria-label=\\\"CHECKLIST.ADD_NEW_PROJECT\\\">NEW PROJECT</md-button>\\n</md-input-container></div>\");\n$templateCache.put(\"app/main/checklist/views/stepper/new-checklist-2-new-group.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"100\\\"><label translate=\\\"GROUP.NAME\\\">Group Name</label><input \\nname=\\\"name\\\" ng-model=\\\"vm.group.text\\\" md-autofocus required><div ng-messages=\\\"groupForm.text.$error\\\" \\nng-show=\\\"groupForm.text.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"GROUP.ERRORS.GROUP_NAME_REQUIRED\\\">Group Name field is required</span></div></div></md-input-container></div>\");\n$templateCache.put(\"app/main/checklist/views/stepper/new-checklist-2.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"70\\\"><md-select ng-model=\\\"vm.verticalStepper.step2.groupID\\\" \\nname=\\\"groupID\\\" placeholder=\\\"Select Existing  Folder\\\" required><md-option ng-repeat=\\\"group in vm.groups\\\" \\nvalue=\\\"{{group.id}}\\\" ng-selected=\\\"group.id == vm.verticalStepper.newGroupID\\\">{{group.name}}</md-option></md-select><div\\n ng-messages=\\\"vm.verticalStepper.step2.groupID.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>\\nFolder is required.</span></div></div></md-input-container><md-input-container flex=\\\"30\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\"><md-button class=\\\"md-raised md-accent\\\" ng-click=\\\"vm.openGroupInput()\\\" \\naria-label=\\\"Create New Folder\\\" translate-attr-aria-label=\\\"CHECKLIST.NEW_GROUP\\\">NEW FOLDER</md-button>\\n</md-input-container></div>\");\n$templateCache.put(\"app/main/checklist/views/stepper/new-checklist-3.html\",\"<div class=\\\"md-inline-form\\\"><p>Enter <span class=\\\"text-bold\\\">Checklist</span> Name</p><div layout=\\\"column\\\" \\nlayout-gt-xs=\\\"row\\\" flex><md-input-container flex=\\\"100\\\" flex-gt-xs=\\\"50\\\"><input type=\\\"text\\\" name=\\\"checklistName\\\" \\nng-model=\\\"vm.verticalStepper.step3.name\\\" placeholder=\\\"Checklist Name\\\" required><div ng-messages=\\\"checklistName.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Checklist Name field is required.</span></div></div></md-input-container>\\n</div></div><md-button class=\\\"send-button md-accent md-raised\\\" \\nng-click=\\\"vm.addNewChecklist(vm.verticalStepper.step3.name, vm.verticalStepper.step2.groupID, vm.verticalStepper.step1.folderID )\\\" \\naria-label=\\\"ADD FOLDER\\\" ng-disabled=\\\"!vm.verticalStepper.step3.name || vm.verticalStepper.step3.name.$pristine\\\" \\ntranslate=\\\"CHECKLIST.ADD_NEW_CHECKLIST\\\" translate-attr-aria-label=\\\"CHECKLIST.ADD_NEW_CHECKLIST\\\">ADD NEW FOLDER\\n</md-button><md-button class=\\\"md-accent md-raised\\\" ng-click=\\\"vm.cancelChecklistInput()\\\" ar ia-label=\\\"CANCEL\\\" \\ntranslate=\\\"CHECKLIST.CANCEL\\\" translate-attr-aria-label=\\\"CHECKLIST.CANCEL\\\">CANCEL</md-button>\");\n$templateCache.put(\"app/main/checklist/views/stepper/search-templates.html\",\"<md-dialog-content ms-scroll ng-show=\\\"vm.find.results.templates.length\\\"><table class=\\\"simple\\\" ms-responsive-table>\\n<thead><tr><th>Template Name</th><th hide-xs>Organization</th><th>Author</th><th hide-xs>Created</th><th \\nclass=\\\"text-right\\\">Add</th></tr></thead><tfoot><tr><td colspan=\\\"5\\\">&nbsp;</td></tr></tfoot><tbody><tr \\nng-repeat=\\\"res in vm.find.results.templates\\\"><td class=\\\"name\\\">{{res.name}}</td><td class=\\\"salary\\\" hide-xs>\\n{{res.organization}}</td><td class=\\\"name\\\">{{res.author}}</td><td class=\\\"name\\\" hide-xs>\\n{{res.created | date:\\'MMMM d, yyyy\\'}}</td><td class=\\\"text-right\\\" ng-switch=\\\"res.status\\\"><span ng-switch-when=\\\"Linked\\\">\\nAlready</span><md-button type=\\\"button\\\" class=\\\"icon-button\\\" aria-label=\\\"Invite\\\" \\nng-click=\\\"vm.find.create(res.id, vm.verticalStepper.step2.groupID)\\\"><md-icon md-font-icon=\\\"icon-plus-circle-outline\\\" \\nclass=\\\"md-accent-fg s18\\\"></md-icon></md-button></td></tr></tbody></table></md-dialog-content><md-input-container \\nclass=\\\"md-block\\\"><label translate=\\\"CHECKLIST.SEARCH_BY_TEMPLATE_NAME\\\">Search by Template Name</label><input \\nid=\\\"findTemplateName\\\" ng-model=\\\"vm.find.template.criteria.name\\\" autofocus=\\\"autofocus\\\" type=\\\"text\\\"></md-input-container>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.SEARCH_BY_ORGANIZATION\\\">Search by Organization</label>\\n<input id=\\\"findTemplateOrg\\\" type=\\\"text\\\" ng-model=\\\"vm.find.template.criteria.organization\\\"></md-input-container>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.SEARCH_BY_AUTHOR\\\">Search by Author</label><input \\nid=\\\"findTemplateAuthor\\\" type=\\\"text\\\" ng-model=\\\"vm.find.template.criteria.author\\\"></md-input-container>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.SEARCH_BY_VERSION\\\">Search by Version</label><input \\nid=\\\"findTemplateVersion\\\" type=\\\"text\\\" ng-model=\\\"vm.find.template.criteria.version\\\"></md-input-container><md-button \\ntype=\\\"submit\\\" class=\\\"md-accent md-button md-raised ng-scope md-ink-ripple md-default-theme submit-button\\\" \\naria-label=\\\"SEARCH\\\" ng-disabled=\\\"vm.find.searching\\\">SEARCH</md-button>\");\n$templateCache.put(\"app/main/contacts/dialogs/contact/add-contact-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"New Task\\\"><form name=\\\"contactForm\\\" class=\\\"md-inline-form\\\" \\nng-disabled=\\\"vm.searching\\\" ng-submit=\\\"vm.queryContacts(vm.findContacts.criteria)\\\"><md-toolbar \\nclass=\\\"md-accent md-hue-2 md-tall\\\" layout=\\\"column\\\"><div class=\\\"md-toolbar-tools md-toolbar-tools-top\\\" layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\"><span class=\\\"title\\\">Add New Contact</span><md-button class=\\\"md-icon-button\\\" \\nng-click=\\\"vm.closeDialog()\\\" aria-label=\\\"Close dialog\\\" translate translate-attr-aria-label=\\\"CONTACTS.CLOSE_DIALOG\\\">\\n<md-icon md-font-icon=\\\"icon-close\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content><md-input-container \\nclass=\\\"md-icon-float md-block\\\"><label translate=\\\"CONTACTS.SEARCH_CONTACTS\\\">Search</label><input \\nng-model=\\\"vm.findContacts.criteria.queryString\\\" type=\\\"text\\\" required></md-input-container></md-dialog-content>\\n<md-dialog-content ms-scroll ng-show=\\\"vm.findContacts.results.length\\\"><table class=\\\"simple\\\" ms-responsive-table><thead>\\n<tr><th>Organization</th><th>Name</th><th class=\\\"text-right\\\">&nbsp;</th></tr></thead><tfoot><tr><td></td></tr></tfoot>\\n<tbody><tr ng-repeat=\\\"res in  vm.findContacts.results\\\"><td class=\\\"name\\\">{{res.organization}}</td><td class=\\\"salary\\\">\\n{{res.name.full}}</td><td class=\\\"text-right\\\"><md-button ng-if=\\\"vm.friendshipStatus(res.id) == \\'Friend\\'\\\" \\nclass=\\\"icon-button\\\" aria-label=\\\"Linked\\\" ng-click=\\\"vm.removeConnectionInvitation(res.id)\\\"><md-icon \\nmd-font-icon=\\\"icon-google-circles\\\" class=\\\"md-accent-fg s18\\\"></md-icon></md-button><md-button \\nng-if=\\\"vm.friendshipStatus(res.id) == \\'Sent\\'\\\" class=\\\"icon-button\\\" aria-label=\\\"Linked\\\" \\nng-click=\\\"vm.removeConnectionInvitation(res.id)\\\"><md-icon md-font-icon=\\\"icon-google-circles\\\" class=\\\"md-accent-fg s18\\\">\\n</md-icon></md-button><md-button ng-if=\\\"vm.friendshipStatus(res.id) == \\'Strangers\\'\\\" class=\\\"icon-button\\\" \\naria-label=\\\"Invite\\\" ng-click=\\\"vm.inviteToConnect(res.id)\\\" ng-disabled=\\\"link.requesting\\\"><md-icon \\nmd-font-icon=\\\"icon-google-circles-invite\\\" class=\\\"md-accent-fg s18\\\"></md-icon></md-button></td></tr></tbody></table>\\n</md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" \\nclass=\\\"md-accent md-button md-raised ng-scope md-ink-ripple md-default-theme submit-button\\\" aria-label=\\\"SEARCH\\\" \\nng-disabled=\\\"vm.searching\\\">SEARCH</md-button></div></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/contacts/dialogs/contact/contact-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"New Task\\\"><form name=\\\"contactForm\\\" class=\\\"md-inline-form\\\" novalidate \\nng-switch=\\\"(which = vm.showWhichInviteContactData(vm.contact))\\\"><md-toolbar class=\\\"md-accent md-hue-2 md-tall\\\" \\nlayout=\\\"column\\\"><div class=\\\"md-toolbar-tools md-toolbar-tools-top\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\">\\n<span class=\\\"title\\\">{{vm.contact.contacts[which].name.full}}</span><md-button class=\\\"md-icon-button\\\" \\nng-click=\\\"vm.closeDialog()\\\" aria-label=\\\"Close dialog\\\" translate translate-attr-aria-label=\\\"CONTACTS.CLOSE_DIALOG\\\">\\n<md-icon md-font-icon=\\\"icon-close\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content ms-scroll>\\n<md-input-container class=\\\"md-icon-float md-block\\\"><label translate=\\\"CONTACTS.NAME_REQUIRED\\\">First Name</label><input \\nng-model=\\\"vm.contact.contacts[which].name.first\\\" type=\\\"text\\\" disabled=\\\"disabled\\\"></md-input-container>\\n<md-input-container class=\\\"md-icon-float md-block\\\"><label translate=\\\"CONTACTS.LAST_NAME\\\">Last name</label><input \\nng-model=\\\"vm.contact.contacts[which].name.last\\\" type=\\\"text\\\" disabled=\\\"disabled\\\"></md-input-container>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"CONTACTS.COMPANY\\\">Organization</label><input \\nng-model=\\\"vm.contact.contacts[which].organization\\\" type=\\\"text\\\" placeholder=\\\"Company\\\" disabled=\\\"disabled\\\">\\n</md-input-container><md-input-container class=\\\"md-block\\\"><label translate=\\\"CONTACTS.PHONE_NUMBER\\\">Phone Number</label>\\n<input ng-model=\\\"vm.contact.contacts[which].phone\\\" type=\\\"text\\\" placeholder=\\\"Phone number\\\" disabled=\\\"disabled\\\">\\n</md-input-container><md-input-container class=\\\"md-block\\\"><label translate=\\\"CONTACTS.EMAIL\\\">Email Address</label><input\\n ng-model=\\\"vm.contact.contacts[which].email\\\" type=\\\"email\\\" placeholder=\\\"Email Address\\\" disabled=\\\"disabled\\\">\\n</md-input-container></md-dialog-content></form></md-dialog>\");\n$templateCache.put(\"app/main/contacts/dialogs/contact/direct-message-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"Direct Message\\\"><form name=\\\"messageForm\\\" class=\\\"md-inline-form\\\" \\nng-submit=\\\"vm.submitPost()\\\" novalidate><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">{{vm.title}}</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\">\\n</md-icon></md-button></div></md-toolbar><md-dialog-content ms-scroll><md-input-container class=\\\"md-block\\\"><label \\ntranslate=\\\"CONTACTS.FROM\\\">From</label><input ng-model=\\\"vm.from\\\" type=\\\"text\\\" disabled=\\\"disabled\\\"></md-input-container>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"CONTACTS.TO\\\">From</label><input ng-model=\\\"vm.to\\\" type=\\\"text\\\" \\ndisabled=\\\"disabled\\\"></md-input-container><md-input-container class=\\\"md-block\\\"><label>Message</label><input \\nname=\\\"message\\\" ng-model=\\\"vm.message\\\" required md-autofocus><div ng-messages=\\\"messageForm.message.$error\\\" \\nng-show=\\\"messageForm.message.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span></span></div></div>\\n</md-input-container></md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" class=\\\"send-button md-accent md-raised\\\" \\nng-disabled=\\\"messageForm.$invalid || messageForm.$pristine\\\" aria-label=\\\"Save\\\" translate=\\\"CONTACTS.SEND_MESSAGE\\\" \\ntranslate-attr-aria-label=\\\"CONTACTS.SEND_MESSAGE\\\">SEND MESSAGE</md-button></div></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/file-manager/sidenavs/details/details-sidenav.html\",\"<div class=\\\"header md-accent-bg\\\" layout=\\\"column\\\" layout-align=\\\"space-between\\\"><div class=\\\"toolbar\\\" layout=\\\"row\\\" \\nlayout-align=\\\"end center\\\"><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.delete()\\\" aria-label=\\\"Delete\\\" translate \\ntranslate-attr-aria-label=\\\"FM.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"FM.DELETE\\\">Delete</span></md-tooltip></md-button><md-button class=\\\"md-icon-button\\\" aria-label=\\\"Download\\\" \\ntranslate translate-attr-aria-label=\\\"FM.DOWNLOAD\\\"><md-icon md-font-icon=\\\"icon-download\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"FM.DOWNLOAD\\\">Download</span></md-tooltip></md-button><md-button class=\\\"md-icon-button\\\" aria-label=\\\"More\\\" \\ntranslate translate-attr-aria-label=\\\"FM.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"FM.MORE\\\">More</span></md-tooltip></md-button></div><div><div class=\\\"title\\\">{{vm.selected.name}}</div><div \\nclass=\\\"subtitle secondary-text\\\"><span translate=\\\"FM.EDITED\\\">Edited</span>: {{vm.selected.modified}}</div></div></div>\\n<md-content class=\\\"content\\\" flex ms-scroll><div class=\\\"file-details\\\"><div class=\\\"preview file-icon\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\"><i class=\\\"icon-{{vm.selected.type}} s48\\\"></i></div><md-list class=\\\"offline-switch\\\">\\n<md-list-item><p translate=\\\"FM.AVAILABLE_OFFLINE\\\">Available Offline</p><md-switch class=\\\"md-secondary\\\" \\nng-model=\\\"vm.selected.offline\\\" aria-label=\\\"Toggle offline\\\" translate translate-attr-aria-label=\\\"FM.TOOGLE_OFFLINE\\\">\\n</md-switch></md-list-item></md-list><div class=\\\"title\\\" translate=\\\"FM.INFO\\\">Info</div><table><tr class=\\\"type\\\"><th \\ntranslate=\\\"FM.TYPE\\\">Type</th><td>{{vm.selected.type}}</td></tr><tr class=\\\"size\\\"><th translate=\\\"FM.SIZE\\\">Size</th><td>\\n{{vm.selected.size === \\'\\' ? \\'-\\': vm.selected.size}}</td></tr><tr class=\\\"location\\\"><th translate=\\\"FM.LOCATION\\\">Location\\n</th><td>{{vm.selected.location}}</td></tr><tr class=\\\"owner\\\"><th translate=\\\"FM.OWNER\\\">Owner</th><td>\\n{{vm.selected.owner}}</td></tr><tr class=\\\"modified\\\"><th translate=\\\"FM.MODIFIED\\\">Modified</th><td>\\n{{vm.selected.modified}}</td></tr><tr class=\\\"opened\\\"><th translate=\\\"FM.OPENED\\\">Opened</th><td>{{vm.selected.opened}}\\n</td></tr><tr class=\\\"created\\\"><th translate=\\\"FM.CREATED\\\">Created</th><td>{{vm.selected.created}}</td></tr></table>\\n</div></md-content>\");\n$templateCache.put(\"app/main/file-manager/sidenavs/main/main-sidenav.html\",\"<div class=\\\"header\\\" layout=\\\"column\\\" layout-align=\\\"space-between start\\\"><div class=\\\"logo\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><span class=\\\"logo-icon\\\"><md-icon md-font-icon=\\\"icon-folder\\\" class=\\\"icon s24\\\"></md-icon>\\n</span><span class=\\\"logo-text\\\" translate=\\\"FM.FILE_MANAGER\\\">File Manager</span></div><div class=\\\"account\\\"><div \\nclass=\\\"title\\\">John Doe</div><md-select class=\\\"account-selection simplified\\\" ng-model=\\\"vm.selectedAccount\\\" \\nplaceholder=\\\"Select Account\\\"><md-option ng-repeat=\\\"(provider, address) in vm.accounts\\\" value=\\\"{{provider}}\\\">{{address}}\\n</md-option></md-select></div></div><div class=\\\"content\\\"><div class=\\\"navigation-simple\\\" layout=\\\"column\\\"><md-button \\nclass=\\\"item\\\" aria-label=\\\"inbox\\\"><div class=\\\"context\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-icon \\nmd-font-icon=\\\"icon-folder\\\" class=\\\"s16\\\"></md-icon><div class=\\\"title\\\" translate=\\\"FM.MY_FILES\\\">My Files</div></div>\\n</md-button><md-button class=\\\"item\\\" aria-label=\\\"starred\\\"><div class=\\\"context\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-icon md-font-icon=\\\"icon-star\\\" class=\\\"s16\\\"></md-icon><div class=\\\"title\\\" translate=\\\"FM.STARRED\\\">Starred</div></div>\\n</md-button><md-button class=\\\"item\\\" aria-label=\\\"starred\\\"><div class=\\\"context\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-icon md-font-icon=\\\"icon-folder-account\\\" class=\\\"s16\\\"></md-icon><div class=\\\"title\\\" translate=\\\"FM.SHARRED_WITH_ME\\\">\\nSharred with me</div></div></md-button><md-button class=\\\"item\\\" aria-label=\\\"starred\\\"><div class=\\\"context\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-icon md-font-icon=\\\"icon-clock\\\" class=\\\"s16\\\"></md-icon><div class=\\\"title\\\" \\ntranslate=\\\"FM.RECENT\\\">Recent</div></div></md-button><md-button class=\\\"item\\\" aria-label=\\\"starred\\\"><div class=\\\"context\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><md-icon md-font-icon=\\\"icon-checkbox-marked-circle\\\" class=\\\"s16\\\"></md-icon><div\\n class=\\\"title\\\" translate=\\\"FM.OFFLINE\\\">Offline</div></div></md-button></div></div>\");\n$templateCache.put(\"app/main/file-manager/views/grid/grid-view.html\",\"<div class=\\\"grid-view\\\" layout=\\\"column\\\"><div class=\\\"folders\\\" layout=\\\"row\\\" layout-wrap><div \\nclass=\\\"md-background-bg md-hue-2 md-whiteframe-1dp item folder\\\" ng-click=\\\"vm.select(folder)\\\" \\nng-repeat=\\\"folder in vm.folders | filter:global.search\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div \\nlayout=\\\"row\\\" class=\\\"title\\\" layout-align=\\\"start center\\\"><span class=\\\"file-icon\\\"><i md-font-icon=\\\"icon-{{folder.type}}\\\">\\n</i> </span><span class=\\\"name\\\">{{folder.name}}</span></div><div class=\\\"show-details\\\" hide-gt-md><md-button \\nclass=\\\"md-icon-button sidenav-toggle\\\" aria-label=\\\"Details\\\" translate translate-attr-aria-label=\\\"FM.DETAILS\\\"><md-icon \\nmd-font-icon=\\\"icon-information-outline\\\" ng-click=\\\"vm.toggleDetails(folder)\\\"></md-icon></md-button></div></div></div>\\n<div class=\\\"files\\\" layout=\\\"row\\\" layout-wrap><div ng-click=\\\"vm.select(file)\\\" class=\\\"md-whiteframe-1dp item file\\\" \\nng-repeat=\\\"file in vm.files | filter:global.search\\\" layout=\\\"column\\\"><div class=\\\"preview\\\"><img \\nng-src=\\\"{{file.preview}}\\\"></div><div class=\\\"bottom md-background-bg md-hue-2\\\" layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" class=\\\"title\\\" layout-align=\\\"start center\\\" flex><span \\nclass=\\\"file-icon\\\"><i md-font-icon=\\\"icon-{{file.type}}\\\"></i> </span><span class=\\\"name\\\">{{file.name}}</span></div><div \\nclass=\\\"show-details\\\" hide-gt-md><md-button class=\\\"md-icon-button sidenav-toggle\\\" aria-label=\\\"Details\\\" translate \\ntranslate-attr-aria-label=\\\"FM.DETAILS\\\"><md-icon md-font-icon=\\\"icon-information-outline\\\" \\nng-click=\\\"vm.toggleDetails(file)\\\"></md-icon></md-button></div></div></div></div></div>\");\n$templateCache.put(\"app/main/file-manager/views/list/list-view.html\",\"<table class=\\\"simple list-view\\\"><thead><tr><th></th><th translate=\\\"FM.NAME\\\">Name</th><th hide show-gt-sm \\ntranslate=\\\"FM.TYPE\\\">Type</th><th hide-xs translate=\\\"FM.OWNER\\\">Owner</th><th hide-xs translate=\\\"FM.SIZE\\\">Size</th><th \\nhide show-gt-md translate=\\\"FM.LAST_MODIFIED\\\">Last Modified</th><th hide-gt-md></th></tr></thead><tbody><tr \\nng-repeat=\\\"folder in vm.folders | filter:global.search\\\" ng-click=\\\"vm.select(folder)\\\" \\nng-class=\\\"{\\'selected\\' : vm.selected === folder}\\\"><td class=\\\"file-icon\\\"><i class=\\\"icon-{{folder.type}}\\\"></i></td><td \\nclass=\\\"name\\\">{{folder.name}}</td><td class=\\\"type\\\" hide show-gt-sm>{{folder.type}}</td><td class=\\\"owner\\\" hide-xs>\\n{{folder.owner}}</td><td class=\\\"size\\\" hide-xs>{{folder.size === \\'\\' ? \\'-\\': folder.size}}</td><td class=\\\"last-modified\\\" \\nhide show-gt-md>{{folder.modified}}</td><td class=\\\"show-details\\\" hide-gt-md><md-button \\nclass=\\\"md-icon-button sidenav-toggle\\\" ng-click=\\\"vm.toggleDetails(folder)\\\" aria-label=\\\"Toggle details sidenav\\\"><md-icon \\nmd-font-icon=\\\"icon-information-outline\\\"></md-icon></md-button></td></tr><tr \\nng-repeat=\\\"file in vm.files | filter:global.search\\\" ng-click=\\\"vm.select(file)\\\" \\nng-class=\\\"{\\'selected\\' : vm.selected === file}\\\"><td class=\\\"file-icon\\\"><i class=\\\"icon-{{file.type}}\\\"></i></td><td \\nclass=\\\"name\\\">{{file.name}}</td><td class=\\\"type\\\" hide show-gt-sm>{{file.type}}</td><td class=\\\"owner\\\" hide-xs>\\n{{file.owner}}</td><td class=\\\"size\\\" hide-xs>{{file.size === \\'\\' ? \\'-\\': file.size}}</td><td class=\\\"last-modified\\\" hide \\nshow-gt-md>{{file.modified}}</td><td class=\\\"show-details\\\" hide-gt-md><md-button class=\\\"md-icon-button sidenav-toggle\\\" \\nng-click=\\\"vm.toggleDetails(file)\\\" aria-label=\\\"Details\\\" translate translate-attr-aria-label=\\\"FM.DETAILS\\\"><md-icon \\nmd-font-icon=\\\"icon-information-outline\\\"></md-icon></md-button></td></tr></tbody></table>\");\n$templateCache.put(\"app/main/folders/dialogs/folder/folder-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"New Folder\\\"><form name=\\\"folderForm\\\" class=\\\"md-inline-form\\\" novalidate><md-toolbar\\n class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span \\nclass=\\\"title\\\">{{vm.title}}</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"FOLDER.NAME\\\">Folder Name</label><input name=\\\"name\\\" \\nng-model=\\\"vm.folder.name\\\" required md-autofocus><div ng-messages=\\\"folderForm.name.$error\\\" \\nng-show=\\\"folderForm.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"FOLDER.ERRORS.FOLDER_NAME_REQUIRED\\\">Folder Name field is required</span></div></div></md-input-container>\\n<md-input-container class=\\\"md-block mb-0\\\"><label translate=\\\"FOLDER.DESCRIPTION\\\">Description</label><input \\nname=\\\"description\\\" ng-model=\\\"vm.folder.description\\\"></md-input-container></md-dialog-content><md-dialog-actions \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button \\ntype=\\\"submit\\\" ng-if=\\\"!vm.newFolder\\\" ng-click=\\\"vm.saveFolder()\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"folderForm.$invalid || folderForm.$pristine\\\" aria-label=\\\"Save\\\" translate=\\\"FOLDER.SAVE\\\" \\ntranslate-attr-aria-label=\\\"FOLDER.SAVE\\\">SAVE FOLDER</md-button><md-button type=\\\"submit\\\" ng-if=\\\"vm.newFolder\\\" \\nng-click=\\\"vm.addNewFolder($event)\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"folderForm.$invalid || folderForm.$pristine\\\" aria-label=\\\"Add Folder\\\" translate=\\\"FOLDER.ADD_FOLDER\\\" \\ntranslate-attr-aria-label=\\\"FOLDER.ADD_FOLDER\\\">ADD FOLDER</md-button></div><div layout=\\\"row\\\"><md-button \\nng-if=\\\"!vm.newFolder\\\" class=\\\"md-icon-button\\\" ng-click=\\\"vm.deleteFolder(vm.folder, $event)\\\" aria-label=\\\"Delete\\\" \\ntranslate translate-attr-aria-label=\\\"FOLDER.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"FOLDER.DELETE\\\">DELETE</span></md-tooltip></md-button></div></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/folders/sidenavs/main/main-sidenav.html\",\"<div class=\\\"header\\\" layout=\\\"column\\\" layout-align=\\\"space-between\\\"><div class=\\\"logo\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"></div></div><md-content class=\\\"content\\\" flex ms-scroll><div class=\\\"navigation-simple\\\" \\nlayout=\\\"column\\\"><md-button class=\\\"item\\\" ng-click=\\\"vm.openFolderDialog($event)\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><div class=\\\"h-10 w-10\\\"></div><span class=\\\"title\\\">Create A New Project</span></div>\\n</md-button></div></md-content>\");\n$templateCache.put(\"app/main/folders/views/list/folders.html\",\"<div class=\\\"todo-items\\\" ng-sortable=\\\"vm.sortableOptions\\\" ng-model=\\\"vm.folders\\\" \\nng-class=\\\"{\\'sortable\\': vm.folderOrder === \\'\\'}\\\"><div class=\\\"todo-item\\\" md-ink-ripple layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" \\nng-repeat=\\\"folder in vm.folders | orderBy:vm.folderOrder:vm.folderOrderDescending | filter: globalSearch.searchTerm | filter:vm.folderFilters.search track by $index\\\" \\nng-class=\\\"{\\'starred\\': folder.starred, \\'selected\\': folder.selected, \\'completed\\': folder.completed}\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" flex><div class=\\\"info\\\" flex><div class=\\\"title\\\"><a ng-href=\\\"/groups/{{folder.id}}\\\">\\n{{folder.name}}</a></div></div><div class=\\\"buttons\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-menu><md-button \\nng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button\\\" aria-label=\\\"More\\\" translate \\ntranslate-attr-aria-label=\\\"FOLDER.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"vm.deleteFolder(folder, $event)\\\" \\naria-label=\\\"Delete Folder\\\" translate-attr-aria-label=\\\"FOLDER.DELETE_FOLDER\\\"><md-icon class=\\\"red-600-fg s18\\\" \\nmd-font-icon=\\\"icon-trash\\\"></md-icon><span translate=\\\"FOLDER.DELETE_FOLDER\\\">Delete Folder</span></md-button>\\n</md-menu-item><md-menu-item><md-button ng-click=\\\"vm.openFolderDialog($event, folder)\\\" aria-label=\\\"Edit Folder\\\" \\ntranslate-attr-aria-label=\\\"FOLDER.EDIT_FOLDER\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-pencil\\\"></md-icon>\\n<span translate=\\\"FOLDER.EDIT_FOLDER\\\">Edit Folder</span></md-button></md-menu-item><md-divider class=\\\"md-default-theme\\\">\\n</md-divider><md-menu-item><md-button ng-click=\\\"vm.openFolderDialog($event)\\\" aria-label=\\\"Add New Folder\\\" \\ntranslate-attr-aria-label=\\\"FOLDER.ADD_NEW_FOLDER\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-plus-circle-outline\\\"></md-icon><span translate=\\\"FOLDER.ADD_NEW_FOLDER\\\">Add New Folder</span>\\n</md-button></md-menu-item></md-menu-content></md-menu></div></div></div><div class=\\\"todo-item\\\" md-ink-ripple \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\" ng-if=\\\"!vm.folders.length\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n<div class=\\\"info\\\" flex><div class=\\\"title\\\">You do not have any projects</div></div><div class=\\\"buttons\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button\\\" \\naria-label=\\\"More\\\" translate translate-attr-aria-label=\\\"FOLDER.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\">\\n</md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"vm.openFolderDialog($event)\\\" \\naria-label=\\\"Add New Folder\\\" translate-attr-aria-label=\\\"FOLDER.ADD_NEW_FOLDER\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-plus-circle-outline\\\"></md-icon><span translate=\\\"FOLDER.ADD_NEW_FOLDER\\\">Add New Folder</span>\\n</md-button></md-menu-item></md-menu-content></md-menu></div></div></div></div>\");\n$templateCache.put(\"app/main/groups/dialogs/group/group-add-from-template-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"New Task\\\"><form id=\\\"findLinkForm\\\" name=\\\"findLinkForm\\\" class=\\\"md-inline-form\\\" \\nng-disabled=\\\"vm.find.inProgress\\\" ng-submit=\\\"vm.find.search()\\\"><md-toolbar class=\\\"md-accent md-tall\\\" layout=\\\"column\\\">\\n<div class=\\\"md-toolbar-tools md-toolbar-tools-top\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span \\nclass=\\\"title\\\">{{vm.title}}</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\" \\naria-label=\\\"Close dialog\\\" translate translate-attr-aria-label=\\\"CHECKLIST.CLOSE_DIALOG\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content ms-scroll \\nng-show=\\\"vm.find.searchCount\\\"><table class=\\\"simple\\\" ms-responsive-table ng-show=\\\"vm.find.results.templates.length\\\">\\n<thead><tr><th>Template Name</th><th hide-xs>Organization</th><th>Author</th><th hide-xs>Created</th><th \\nclass=\\\"text-right\\\">Add</th></tr></thead><tfoot><tr><td colspan=\\\"5\\\">&nbsp;</td></tr></tfoot><tbody><tr \\nng-repeat=\\\"res in vm.find.results.templates\\\"><td class=\\\"name\\\">{{res.name}}</td><td class=\\\"name\\\" hide-xs>\\n{{res.organization}}</td><td class=\\\"name\\\">{{res.author}}</td><td class=\\\"name\\\" hide-xs>\\n{{res.created | date:\\'MMMM d, yyyy\\'}}</td><td class=\\\"text-right\\\" ng-switch=\\\"res.status\\\"><md-button type=\\\"button\\\" \\nclass=\\\"icon-button\\\" aria-label=\\\"Invite\\\" ng-click=\\\"vm.find.create(res.id)\\\"><md-icon \\nmd-font-icon=\\\"icon-plus-circle-outline\\\" class=\\\"md-accent-fg s18\\\"></md-icon></md-button></td></tr></tbody></table><div \\nng-show=\\\"!vm.find.results.templates.length\\\">There where no Templates Found</div></md-dialog-content><md-dialog-content>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"GROUP.SEARCH_BY_TEMPLATE_NAME\\\">Template Name</label><input \\nid=\\\"findTemplateName\\\" ng-model=\\\"vm.find.template.criteria.name\\\" autofocus=\\\"autofocus\\\" type=\\\"text\\\"></md-input-container>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"GROUP.SEARCH_BY_ORGANIZATION\\\">Organization</label><input \\nid=\\\"findTemplateOrg\\\" type=\\\"text\\\" ng-model=\\\"vm.find.template.criteria.organization\\\"></md-input-container>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"GROUP.SEARCH_BY_AUTHOR\\\">Author</label><input \\nid=\\\"findTemplateAuthor\\\" type=\\\"text\\\" ng-model=\\\"vm.find.template.criteria.author\\\"></md-input-container>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"GROUP.SEARCH_BY_VERSION\\\">Version</label><input \\nid=\\\"findTemplateVersion\\\" type=\\\"text\\\" ng-model=\\\"vm.find.template.criteria.version\\\"></md-input-container>\\n</md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" \\nclass=\\\"md-accent md-button md-raised ng-scope md-ink-ripple md-default-theme submit-button\\\" aria-label=\\\"SEARCH\\\" \\nng-disabled=\\\"vm.find.searching\\\">SEARCH</md-button></div><div layout=\\\"row\\\"></div></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/groups/dialogs/group/group-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><form name=\\\"groupForm\\\" class=\\\"md-inline-form\\\" novalidate><md-toolbar \\nclass=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span \\nclass=\\\"title\\\">{{vm.title}}</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content \\nms-scroll><md-input-container class=\\\"md-block mb-0\\\"><label translate=\\\"GROUP.NAME\\\">Group Name</label><input name=\\\"name\\\" \\nng-model=\\\"vm.group.name\\\" required md-autofocus><div ng-messages=\\\"groupForm.name.$error\\\" \\nng-show=\\\"groupForm.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"GROUP.ERRORS.GROUP_NAME_REQUIRED\\\">Group Name field is required</span></div></div></md-input-container>\\n</md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" ng-if=\\\"!vm.newGroup\\\" ng-click=\\\"vm.saveGroup()\\\" \\nclass=\\\"md-raised md-accent\\\" ng-disabled=\\\"groupForm.$invalid || groupForm.$pristine\\\" aria-label=\\\"Save\\\" \\ntranslate=\\\"GROUP.SAVE\\\" translate-attr-aria-label=\\\"GROUP.SAVE\\\">SAVE GROUP</md-button><md-button type=\\\"submit\\\" \\nng-if=\\\"vm.newGroup\\\" ng-click=\\\"vm.addNewGroup(vm.folderID, $event)\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"groupForm.$invalid || groupForm.$pristine\\\" aria-label=\\\"Save\\\" translate=\\\"GROUP.SAVE\\\" \\ntranslate-attr-aria-label=\\\"GROUP.SAVE\\\">ADD GROUP</md-button></div><div layout=\\\"row\\\"><md-button ng-if=\\\"!vm.newGroup\\\" \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.deleteGroup($event, vm.group)\\\" aria-label=\\\"Delete\\\" translate \\ntranslate-attr-aria-label=\\\"GROUP.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"GROUP.DELETE\\\">DELETE</span></md-tooltip></md-button></div></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/groups/dialogs/group/group-publish-template-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"New Folder\\\"><form name=\\\"templateForm\\\" class=\\\"md-inline-form\\\" \\nng-submit=\\\"vm.publishTemplate()\\\" novalidate><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">{{vm.title}}</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\">\\n</md-icon></md-button></div></md-toolbar><md-dialog-content ms-scroll class=\\\"padding-bottom-0\\\"><md-input-container \\nclass=\\\"md-block mb-0\\\"><label translate=\\\"CHECKLIST.TEMPLATE_NAME\\\">Template Name</label><input name=\\\"name\\\" \\nng-model=\\\"vm.publish.name\\\" required md-autofocus><div ng-messages=\\\"templateForm.name.$error\\\" \\nng-show=\\\"templateForm.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span translate=\\\"CHECKLIST.TEMPLATE_NAME\\\">\\nTemplate Name field is required</span></div></div></md-input-container><md-input-container class=\\\"md-block mb-0 mt-0\\\">\\n<md-checkbox ng-click=\\\"vm.publish.togglePrivate()\\\" ng-disabled=\\\"vm.publish.submitting\\\" ng-checked=\\\"vm.publish.pvt\\\" \\nclass=\\\"btn btn-link checkbox applies\\\">Make Template Private</md-checkbox></md-input-container></md-dialog-content>\\n<md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-button type=\\\"submit\\\" class=\\\"md-raised md-accent\\\" ng-disabled=\\\"templateForm.$invalid\\\" aria-label=\\\"Save\\\" \\ntranslate=\\\"CHECKLIST.PUBLISH\\\" translate-attr-aria-label=\\\"CHECKLIST.PUBLISH\\\">PUBLISH TEMPLATE</md-button></div>\\n</md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/groups/dialogs/group/group-send-link-request-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><form id=\\\"findLinkForm\\\" name=\\\"findLinkForm\\\" class=\\\"md-inline-form\\\" \\nng-disabled=\\\"vm.find.inProgress\\\" ng-submit=\\\"vm.find.submit()\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div \\nclass=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">Send Link Request</span>\\n<md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" \\naria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content><md-input-container \\nclass=\\\"md-block mb-0\\\"><label translate=\\\"CHECKLIST.SEARCH_USERS\\\">Search</label><input id=\\\"findLinksQueryString\\\" \\nng-model=\\\"vm.find.criteria\\\" type=\\\"text\\\"></md-input-container></md-dialog-content><md-dialog-content \\nclass=\\\"padding-top-0 padding-bottom-0\\\" ng-show=\\\"vm.found.length\\\"><table class=\\\"simple\\\" ms-responsive-table><thead><tr>\\n<th>Organization</th><th>User</th><th></th></tr></thead><tfoot></tfoot><tbody><tr ng-repeat=\\\"link in vm.found\\\" \\nng-hide=\\\"link.id == vm.user.idCON\\\"><td class=\\\"name\\\">{{link.organization}}</td><td class=\\\"salary\\\">{{link.name.full}}\\n</td><td class=\\\"text-right\\\" ng-switch=\\\"link.status\\\"><button ng-switch-when=\\\"Linked\\\" aria-label=\\\"Linked\\\"><md-icon \\nmd-font-icon=\\\"icon-google-circles\\\"></md-icon></button> <button class=\\\"md-icon-button\\\" aria-label=\\\"Invite\\\" \\nng-switch-when=\\\"Stranger\\\" ng-click=\\\"link.request()\\\" ng-disabled=\\\"link.requesting\\\"><md-icon \\nmd-font-icon=\\\"icon-google-circles-invite\\\"></md-icon></button> <button class=\\\"md-icon-button\\\" aria-label=\\\"Withdraw\\\" \\nng-switch-when=\\\"Sent\\\" ng-click=\\\"link.withdraw()\\\"><md-icon md-font-icon=\\\"icon-google-circles\\\"></md-icon><button>\\n</button></button></td></tr></tbody></table></md-dialog-content><md-dialog-actions layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"></div><div layout=\\\"row\\\"><md-button \\ntype=\\\"submit\\\" class=\\\"md-raised md-accent\\\" aria-label=\\\"SEARCH\\\" \\nng-disabled=\\\"findLinkForm.$invalid || findLinkForm.$pristine\\\" ng-disabled=\\\"vm.searching\\\">SEARCH</md-button></div>\\n</md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/groups/dialogs/group/link-existing-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"New Task\\\"><form ng-submit=\\\"vm.link(vm.selected.checklists)\\\" \\nng-disabled=\\\"linking\\\" class=\\\"modal-content\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\" layout=\\\"column\\\"><div \\nclass=\\\"md-toolbar-tools md-toolbar-tools-top\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">\\nLink to Existing Checklist</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\" \\naria-label=\\\"Close dialog\\\" translate translate-attr-aria-label=\\\"CHECKLIST.CLOSE_DIALOG\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content ms-scroll><ul><li \\nng-show=\\\"error\\\" class=\\\"list-group-item list-group-item-danger\\\"><h4 class=\\\"list-group-item-heading\\\">Error {{vm.error}}\\n</h4><p class=\\\"list-group-item-text\\\">{{vm.message}}</p></li></ul><table class=\\\"simple\\\" ng-if=\\\"vm.checklists[0]\\\" \\nms-responsive-table><thead><tr><th>Checklist Name</th><th class=\\\"text-right\\\">Link to Group</th></tr></thead><tfoot><tr>\\n<td></td></tr></tfoot><tbody><tr ng-repeat=\\\"checklist in vm.checklists\\\"><td class=\\\"name\\\">{{checklist.name}}</td><td \\nclass=\\\"text-right\\\" ng-switch=\\\"link.status\\\"><button type=\\\"button\\\" ng-click=\\\"vm.selected.toggle(checklist)\\\" \\nng-disabled=\\\"vm.linking\\\" class=\\\"btn btn-link checkbox pull-right\\\"><i ng-hide=\\\"checklist.isSelected\\\" \\nclass=\\\"icon-checkbox-blank-outline\\\"></i> <i ng-show=\\\"checklist.isSelected\\\" class=\\\"icon-checkbox-marked-outline\\\"></i>\\n</button></td></tr></tbody></table></md-dialog-content><md-dialog-actions layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\" ng-hide=\\\"vm.error || vm.loading\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-button type=\\\"submit\\\" class=\\\"text-left button-dialog\\\" aria-label=\\\"\\\">LINK TO SELECTED</md-button></div>\\n</md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/groups/sidenavs/main/main-sidenav.html\",\"<div class=\\\"header\\\" layout=\\\"column\\\" layout-align=\\\"space-between\\\"><div class=\\\"logo\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"></div></div><md-content class=\\\"content\\\" flex ms-scroll><div class=\\\"navigation-simple\\\" \\nlayout=\\\"column\\\"><md-button class=\\\"item\\\" ng-click=\\\"vm.addGroupDialog($event)\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><div class=\\\"h-10 w-10\\\"></div><span class=\\\"title\\\">Create New Folder</span></div></md-button>\\n<md-button class=\\\"item\\\" ng-click=\\\"vm.find.begin($event, vm.folder_id, \\'group\\')\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><div class=\\\"h-10 w-10\\\"></div><span class=\\\"title\\\">Download Folder Templates</span></div>\\n</md-button></div></md-content>\");\n$templateCache.put(\"app/main/groups/views/list/groups.html\",\"<div class=\\\"todo-items\\\" ng-sortable=\\\"vm.sortableOptions\\\" ng-model=\\\"vm.groups\\\" \\nng-class=\\\"{\\'sortable\\': vm.groupOrder === \\'\\'}\\\"><div class=\\\"todo-item\\\" md-ink-ripple layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" \\nng-repeat=\\\"group in vm.groups | orderBy:vm.groupOrder:vm.groupOrderDescending | filter: globalSearch.searchTerm | filter:vm.groupFilters.search track by $index\\\" \\nng-class=\\\"{\\'starred\\': group.starred, \\'selected\\': group.selected, \\'completed\\': group.completed}\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" flex><div class=\\\"info\\\" flex><div class=\\\"title\\\"><a href=\\\"/checklist/{{group.id}}\\\">\\n{{group.name}}</a></div></div><div class=\\\"buttons\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-menu><md-button \\nng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button\\\" aria-label=\\\"More\\\" translate \\ntranslate-attr-aria-label=\\\"GROUP.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"vm.deleteGroup(group, $event)\\\" aria-label=\\\"Delete Group\\\" \\ntranslate-attr-aria-label=\\\"GROUP.DELETE_GROUP\\\"><md-icon class=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\"></md-icon>\\n<span translate=\\\"GROUP.DELETE_GROUP\\\">Delete Group</span></md-button></md-menu-item><md-menu-item><md-button \\nng-click=\\\"vm.openGroupDialog($event, group)\\\" aria-label=\\\"Edit Group\\\" translate-attr-aria-label=\\\"GROUP.EDIT_GROUP\\\">\\n<md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-pencil\\\"></md-icon><span translate=\\\"GROUP.EDIT_GROUP\\\">Edit Group\\n</span></md-button></md-menu-item><md-menu-item ng-show=\\\"permissions.has(\\'inviteToChecklist\\')\\\"><md-button \\nng-click=\\\"vm.sendLinkRequestDialog($event, group)\\\" aria-label=\\\"Send Link Request\\\" \\ntranslate-attr-aria-label=\\\"GROUP.SEND_LINK_REQUEST\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-account-plus\\\" \\nclass=\\\"s18\\\"></md-icon><span translate=\\\"GROUP.SEND_LINK_REQUEST\\\">Send Link Request</span></md-button></md-menu-item>\\n<md-menu-item ng-show=\\\"permissions.has(\\'publishTemplate\\')\\\"><md-button \\nng-click=\\\"vm.publishTemplateDialog($event, group.id, group.name)\\\" aria-label=\\\"Publish as Template\\\" \\ntranslate-attr-aria-label=\\\"GROUP.PUBLISH_TEMPLATE\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-cloud-upload\\\">\\n</md-icon><span translate=\\\"GROUP.PUBLISH_TEMPLATE\\\">Publish as Template</span></md-button></md-menu-item><md-menu-item \\nng-show=\\\"\\\"><md-button ng-click=\\\"vm.linkExistingDialog($event, group)\\\" aria-label=\\\"Link to Existing\\\" \\ntranslate-attr-aria-label=\\\"GROUP.LINK_EXISTING\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-link-variant\\\">\\n</md-icon><span translate=\\\"GROUP.LINK_EXISTING\\\">Link to Existing</span></md-button></md-menu-item><md-divider \\nclass=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button ng-click=\\\"vm.addGroupDialog($event)\\\" \\naria-label=\\\"Add New Group\\\" translate-attr-aria-label=\\\"GROUP.ADD_NEW_GROUP\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-plus\\\"></md-icon><span translate=\\\"GROUP.ADD_NEW_GROUP\\\">Add New Group</span></md-button>\\n</md-menu-item></md-menu-content></md-menu></div></div></div><div class=\\\"todo-item\\\" md-ink-ripple layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" ng-if=\\\"!vm.groups.length\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div \\nclass=\\\"info\\\" flex><div class=\\\"title\\\">There are no folders in this project</div></div><div class=\\\"buttons\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button\\\" \\naria-label=\\\"More\\\" translate translate-attr-aria-label=\\\"GROUP.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\">\\n</md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"vm.addGroupDialog($event)\\\" \\naria-label=\\\"Add New Group\\\" translate-attr-aria-label=\\\"GROUP.ADD_NEW_GROUP\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-plus-circle-outline\\\"></md-icon><span translate=\\\"GROUP.ADD_NEW_GROUP\\\">Add New Folder</span>\\n</md-button></md-menu-item></md-menu-content></md-menu></div></div></div></div>\");\n$templateCache.put(\"app/main/invitations/views/stepper/new-checklist-1-new-folder.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"100\\\"><label translate=\\\"FOLDER.NAME\\\">Project Name</label><input \\nname=\\\"name\\\" ng-model=\\\"vm.folder.name\\\" md-autofocus required><div ng-messages=\\\"wizardStep1.name.$error\\\" \\nng-show=\\\"wizardStep1.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"CHECKLIST.ERRORS.PROJECT_NAME_REQUIRED\\\">Project Name field is required</span></div></div>\\n</md-input-container></div>\");\n$templateCache.put(\"app/main/invitations/views/stepper/new-checklist-1.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"70\\\"><md-select ng-model=\\\"vm.verticalStepper.step1.folderID\\\" \\nname=\\\"folderID\\\" aria-label=\\\"Select Project\\\" placeholder=\\\"Select Existing Project\\\" md-autofocus required><md-option \\nng-repeat=\\\"folder in vm.folders\\\" value=\\\"{{folder.id}}\\\" ng-selected=\\\"folder.id == vm.verticalStepper.newFolderID\\\" \\nng-click=\\\"vm.fetchGroups(folder.id)\\\">{{folder.name}}</md-option></md-select><div \\nng-messages=\\\"vm.verticalStepper.step1.folderID.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>\\nProject is required.</span></div></div></md-input-container><md-input-container flex=\\\"30\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\"><md-button class=\\\"md-raised md-accent\\\" ng-click=\\\"vm.openFolderInput()\\\" \\naria-label=\\\"Create New Project\\\" translate-attr-aria-label=\\\"CHECKLIST.ADD_NEW_PROJECT\\\">NEW PROJECT</md-button>\\n</md-input-container></div>\");\n$templateCache.put(\"app/main/invitations/views/stepper/new-checklist-2-new-group.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"100\\\"><label translate=\\\"GROUP.NAME\\\">Group Name</label><input \\nname=\\\"name\\\" ng-model=\\\"vm.group.text\\\" md-autofocus required><div ng-messages=\\\"groupForm.text.$error\\\" \\nng-show=\\\"groupForm.text.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"GROUP.ERRORS.GROUP_NAME_REQUIRED\\\">Group Name field is required</span></div></div></md-input-container></div>\");\n$templateCache.put(\"app/main/invitations/views/stepper/new-checklist-2.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"70\\\"><md-select ng-model=\\\"vm.verticalStepper.step2.groupID\\\" \\nname=\\\"groupID\\\" placeholder=\\\"Select Existing  Folder\\\" required><md-option ng-repeat=\\\"group in vm.groups\\\" \\nvalue=\\\"{{group.id}}\\\" ng-selected=\\\"group.id == vm.verticalStepper.newGroupID\\\">{{group.name}}</md-option></md-select><div\\n ng-messages=\\\"vm.verticalStepper.step2.groupID.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>\\nFolder is required.</span></div></div></md-input-container><md-input-container flex=\\\"30\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\"><md-button class=\\\"md-raised md-accent\\\" ng-click=\\\"vm.openGroupInput()\\\" \\naria-label=\\\"Create New Folder\\\" translate-attr-aria-label=\\\"CHECKLIST.NEW_GROUP\\\">NEW FOLDER</md-button>\\n</md-input-container></div>\");\n$templateCache.put(\"app/main/invitations/views/stepper/new-checklist-3.html\",\"<div class=\\\"md-inline-form\\\"><p>Enter <span class=\\\"text-bold\\\">Checklist</span> Name</p><div layout=\\\"column\\\" \\nlayout-gt-xs=\\\"row\\\" flex><md-input-container flex=\\\"100\\\" flex-gt-xs=\\\"50\\\"><input type=\\\"text\\\" name=\\\"checklistName\\\" \\nng-model=\\\"vm.verticalStepper.step3.name\\\" placeholder=\\\"Checklist Name\\\" required><div ng-messages=\\\"checklistName.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Checklist Name field is required.</span></div></div></md-input-container>\\n</div></div><md-button class=\\\"send-button md-accent md-raised\\\" \\nng-click=\\\"vm.addNewChecklist(vm.verticalStepper.step3.name, vm.verticalStepper.step2.groupID, vm.verticalStepper.step1.folderID )\\\" \\naria-label=\\\"ADD FOLDER\\\" ng-disabled=\\\"!vm.verticalStepper.step3.name || vm.verticalStepper.step3.name.$pristine\\\" \\ntranslate=\\\"CHECKLIST.ADD_NEW_CHECKLIST\\\" translate-attr-aria-label=\\\"CHECKLIST.ADD_NEW_CHECKLIST\\\">ADD NEW FOLDER\\n</md-button><md-button class=\\\"md-accent md-raised\\\" ng-click=\\\"vm.cancelChecklistInput()\\\" ar ia-label=\\\"CANCEL\\\" \\ntranslate=\\\"CHECKLIST.CANCEL\\\" translate-attr-aria-label=\\\"CHECKLIST.CANCEL\\\">CANCEL</md-button>\");\n$templateCache.put(\"app/main/invitations/views/stepper/search-templates.html\",\"<md-dialog-content ms-scroll>{{ vm.verticalStepper }} {{ vm.checklistID }}</md-dialog-content>\");\n$templateCache.put(\"app/main/invitations/partials/stepper/invitations-accept-1.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"100\\\"><md-select ng-model=\\\"vm.verticalStepper.step1.folderID\\\" \\nname=\\\"folderID\\\" aria-label=\\\"Add Folder\\\" md-autofocus required><md-option ng-repeat=\\\"folder in vm.folders\\\" \\nvalue=\\\"{{folder.id}}\\\" ng-selected=\\\"folder.id == vm.verticalStepper.newFolderID\\\" ng-click=\\\"vm.fetchGroups(folder.id)\\\">\\n{{folder.name}}</md-option></md-select><div ng-messages=\\\"vm.verticalStepper.step1.folderID.$error\\\" role=\\\"alert\\\"><div \\nng-message=\\\"required\\\"><span>Folder is required.</span></div></div></md-input-container></div>\");\n$templateCache.put(\"app/main/invitations/partials/stepper/invitations-accept-2.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"100\\\"><md-select ng-model=\\\"vm.verticalStepper.step2.groupID\\\" \\nname=\\\"groupID\\\" aria-label=\\\"Select Group\\\" required><md-option ng-repeat=\\\"group in vm.groups\\\" value=\\\"{{group.id}}\\\" \\nng-selected=\\\"group.id == vm.verticalStepper.newGroupID\\\">{{group.name}}</md-option></md-select><div \\nng-messages=\\\"vm.verticalStepper.step2.groupID.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Group is required.\\n</span></div></div></md-input-container></div>\");\n$templateCache.put(\"app/main/mail/dialogs/compose/compose-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"New Message\\\"><form class=\\\"md-inline-form\\\" ng-submit=\\\"vm.submitPost()\\\"><md-toolbar\\n class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span \\nclass=\\\"title\\\" translate=\\\"MAIL.NEW_MESSAGE\\\">New Message</span><md-button class=\\\"md-icon-button\\\" \\nng-click=\\\"vm.closeDialog()\\\" aria-label=\\\"Close dialog\\\" tranlate translate-aria-label=\\\"MAIL.CLOSE_DIALOG\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content ms-scroll><md-input-container \\nclass=\\\"md-block\\\"><label translate=\\\"MAIL.FROM\\\">From</label><input ng-model=\\\"vm.form.from\\\" type=\\\"text\\\" \\ndisabled=\\\"disabled\\\"></md-input-container><md-input-container class=\\\"md-block to\\\" \\nng-class=\\\"{\\'hidden-cc\\': vm.hiddenCC, \\'hidden-bcc\\': vm.hiddenBCC}\\\"><label translate=\\\"MAIL.TO\\\">To</label><input \\nng-model=\\\"vm.form.to\\\" type=\\\"text\\\" disabled=\\\"disabled\\\"></md-input-container><md-input-container class=\\\"md-block\\\"><label \\ntranslate=\\\"MAIL.MESSAGE\\\">Message</label><div class=\\\"md-resize-wrapper\\\"><textarea ng-model=\\\"vm.form.message\\\" \\nmd-maxlength=\\\"150\\\" max-rows=\\\"5\\\" \\nclass=\\\"ng-valid md-input ng-not-empty ng-dirty ng-valid-parse ng-valid-md-maxlength ng-touched\\\" aria-invalid=\\\"false\\\" \\nng-trim=\\\"false\\\"></textarea><div class=\\\"md-resize-handle\\\" style=\\\"touch-action: pan-x\\\"></div></div></md-input-container>\\n</md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button class=\\\"send-button md-accent md-raised\\\" type=\\\"submit\\\" aria-label=\\\"Send\\\" \\ntranslate=\\\"MAIL.SEND\\\" translate-attr-aria-label=\\\"MAIL.SEND\\\">SEND</md-button></div></md-dialog-actions></form>\\n</md-dialog>\");\n$templateCache.put(\"app/main/mail/sidenavs/main/main-sidenav.html\",\"<div class=\\\"header\\\" layout=\\\"column\\\" layout-align=\\\"space-between start\\\"></div><md-content ms-scroll class=\\\"content\\\" \\nflex><div class=\\\"navigation-simple\\\" layout=\\\"column\\\"><md-button class=\\\"item\\\" aria-label=\\\"inbox\\\" \\nng-repeat=\\\"folder in vm.folders\\\" ng-click=\\\"vm.filterFolder(folder.unread)\\\" \\nng-class=\\\"{\\'selected\\':vm.isFolderActive(folder.id)}\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-icon \\nmd-font-icon=\\\"{{folder.icon}}\\\" class=\\\"s16\\\"></md-icon><span class=\\\"title\\\">{{folder.title}}</span></div></md-button>\\n<md-button class=\\\"item\\\" aria-label=\\\"sent\\\" ng-repeat=\\\"sent in vm.outbox\\\" ng-click=\\\"vm.filterOutbox()\\\" \\nng-show=\\\"label.view\\\" ng-class=\\\"{\\'selected\\':vm.isOutboxActive(1)}\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-icon md-font-icon=\\\"{{sent.icon}}\\\" class=\\\"s16\\\"></md-icon><span class=\\\"title\\\">{{sent.title}}</span></div></md-button>\\n<div class=\\\"item subheader\\\" translate=\\\"MAIL.FILTERS\\\">Filters</div><md-button class=\\\"item\\\" \\nng-repeat=\\\"label in vm.labels\\\" ng-click=\\\"vm.filterThreads(label.id)\\\" ng-show=\\\"label.view\\\" \\nng-class=\\\"{\\'selected\\':vm.isLabelActive(label.id)}\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><div \\nclass=\\\"h-10 w-10 mr-16\\\" ng-class=\\\"label.color\\\"></div><span class=\\\"title\\\">{{label.title}}</span></div></md-button></div>\\n</md-content>\");\n$templateCache.put(\"app/main/mail/views/classic/classic-view.html\",\"<div class=\\\"toolbar\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-button class=\\\"md-icon-button close-thread\\\" aria-label=\\\"Back\\\" ng-click=\\\"vm.closeThread()\\\" ng-if=\\\"vm.currentThread\\\" \\ntranslate translate-attr-aria-label=\\\"MAIL.BACK\\\"><md-icon md-font-icon=\\\"icon-keyboard-backspace\\\"></md-icon></md-button>\\n<div class=\\\"action-buttons\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" \\nng-show=\\\"vm.selectedThreads.length > 0 || vm.currentThread\\\" hide show-gt-xs><md-button \\nng-if=\\\"vm.currentThread.type!==\\'post\\' && (vm.currentThread.type!==\\'message\\')\\\" class=\\\"md-icon-button\\\" \\naria-label=\\\"Delete\\\" ng-click=\\\"vm.deleteFeed($event, vm.currentThread)\\\" translate \\ntranslate-attr-aria-label=\\\"MAIL.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"MAIL.DELETE\\\">Delete</span></md-tooltip></md-button></div></div><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-menu class=\\\"settings-menu\\\"><md-button class=\\\"md-icon-button\\\" \\nng-click=\\\"$mdOpenMenu($event)\\\" aria-label=\\\"Settings\\\" translate translate-attr-aria-label=\\\"MAIL.SETTINGS\\\"><md-icon \\nmd-font-icon=\\\"icon-cog\\\"></md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button \\nng-click=\\\"vm.changeView(\\'classic\\')\\\"><md-icon md-font-icon=\\\"icon-checkbox-blank-outline\\\" \\nng-if=\\\"vm.currentView !== \\'classic\\'\\\"></md-icon><md-icon md-font-icon=\\\"icon-checkbox-marked\\\" class=\\\"md-accent\\\" \\nng-if=\\\"vm.currentView === \\'classic\\'\\\"></md-icon><span translate=\\\"MAIL.CLASSIC_VIEW\\\">Classic View</span></md-button>\\n</md-menu-item><md-menu-item hide-xs><md-button ng-click=\\\"vm.changeView(\\'outlook\\')\\\"><md-icon \\nmd-font-icon=\\\"icon-checkbox-blank-outline\\\" ng-if=\\\"vm.currentView !== \\'outlook\\'\\\"></md-icon><md-icon \\nmd-font-icon=\\\"icon-checkbox-marked\\\" class=\\\"md-accent\\\" ng-if=\\\"vm.currentView === \\'outlook\\'\\\"></md-icon><span \\ntranslate=\\\"MAIL.OUTLOOK_VIEW\\\">Outlook View</span></md-button></md-menu-item></md-menu-content></md-menu></div></div>\\n<div class=\\\"content-wrapper\\\" layout=\\\"column\\\" flex><div class=\\\"content thread-detail\\\" ng-if=\\\"vm.currentThread\\\" \\nng-include=\\\"\\'app/main/mail/views/classic/detail/detail.html\\'\\\" ms-scroll flex></div><div class=\\\"content thread-list\\\" \\nng-if=\\\"!vm.currentThread\\\" ng-include=\\\"\\'app/main/mail/views/classic/list/list.html\\'\\\" ms-scroll flex></div></div>\");\n$templateCache.put(\"app/main/mail/views/outlook/outlook-view.html\",\"<div class=\\\"toolbar\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<div class=\\\"action-buttons\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" \\nng-show=\\\"vm.selectedThreads.length > 0 || vm.currentThread\\\" hide show-gt-xs><md-button \\nng-if=\\\"vm.currentThread.type!==\\'post\\' && (vm.currentThread.type!==\\'message\\')\\\" class=\\\"md-icon-button\\\" \\naria-label=\\\"Delete\\\" ng-click=\\\"vm.deleteFeed($event, vm.currentThread)\\\" translate \\ntranslate-attr-aria-label=\\\"MAIL.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"MAIL.DELETE\\\">Delete</span></md-tooltip></md-button></div></div><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-menu class=\\\"settings-menu\\\"><md-button class=\\\"md-icon-button\\\" \\nng-click=\\\"$mdOpenMenu($event)\\\" aria-label=\\\"Settings\\\" translate translate-attr-aria-label=\\\"MAIL.SETTINGS\\\"><md-icon \\nmd-font-icon=\\\"icon-cog\\\"></md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button \\nng-click=\\\"vm.changeView(\\'classic\\')\\\"><md-icon md-font-icon=\\\"icon-checkbox-blank-outline\\\" \\nng-if=\\\"vm.currentView !== \\'classic\\'\\\"></md-icon><md-icon md-font-icon=\\\"icon-checkbox-marked\\\" class=\\\"md-accent\\\" \\nng-if=\\\"vm.currentView === \\'classic\\'\\\"></md-icon><span translate=\\\"MAIL.CLASSIC_VIEW\\\">Classic View</span></md-button>\\n</md-menu-item><md-menu-item hide-xs><md-button ng-click=\\\"vm.changeView(\\'outlook\\')\\\"><md-icon \\nmd-font-icon=\\\"icon-checkbox-blank-outline\\\" ng-if=\\\"vm.currentView !== \\'outlook\\'\\\"></md-icon><md-icon \\nmd-font-icon=\\\"icon-checkbox-marked\\\" class=\\\"md-accent\\\" ng-if=\\\"vm.currentView === \\'outlook\\'\\\"></md-icon><span \\ntranslate=\\\"MAIL.OUTLOOK_VIEW\\\">Outlook View</span></md-button></md-menu-item></md-menu-content></md-menu></div></div>\\n<div class=\\\"content-wrapper\\\" layout=\\\"row\\\" flex><div class=\\\"content thread-list\\\" ng-hide=\\\"vm.outboxToggle\\\" \\nng-include=\\\"\\'app/main/mail/views/outlook/list/list.html\\'\\\" ms-scroll flex=\\\"50\\\"></div><div class=\\\"content thread-list\\\" \\nng-show=\\\"vm.outboxToggle\\\" ng-include=\\\"\\'app/main/mail/views/outlook/list/list-outbox.html\\'\\\" ms-scroll flex=\\\"50\\\"></div>\\n<div class=\\\"content thread-detail\\\" ng-include=\\\"\\'app/main/mail/views/outlook/detail/detail.html\\'\\\" ms-scroll \\nlayout=\\\"column\\\" flex=\\\"50\\\"></div></div>\");\n$templateCache.put(\"app/main/queue/dialogs/queue/accept-link-request-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"New Task\\\"><form name=\\\"contactForm\\\" class=\\\"md-inline-form\\\" \\nng-disabled=\\\"vm.searching\\\" ng-submit=\\\"vm.queryContacts(vm.findContacts.criteria)\\\"><md-toolbar \\nclass=\\\"md-accent md-tall\\\" layout=\\\"column\\\"><div class=\\\"md-toolbar-tools md-toolbar-tools-top\\\" layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\"><span class=\\\"title\\\">Assign Checklist</span><md-button class=\\\"md-icon-button\\\" \\nng-click=\\\"vm.closeDialog()\\\" aria-label=\\\"Close dialog\\\" translate translate-attr-aria-label=\\\"CONTACTS.CLOSE_DIALOG\\\">\\n<md-icon md-font-icon=\\\"icon-close\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content ms-scroll><table \\nclass=\\\"simple\\\" ms-responsive-table><thead><tr><th>Name</th><th>&nbsp;</th></tr></thead><tfoot><tr><td></td></tr>\\n</tfoot><tbody><tr ng-repeat=\\\"contact in vm.members.list\\\"><td class=\\\"name\\\">{{contact.name.full}}</td><td \\nclass=\\\"text-right\\\"><button type=\\\"button\\\" ng-click=\\\"vm.queue.assign.assign(contact)\\\" \\nng-switch=\\\"vm.queue.assign.contact.idCON == contact.idCON\\\" \\nclass=\\\"md-accent md-button md-raised ng-scope md-ink-ripple md-default-theme\\\">Assign</button></td></tr></tbody></table>\\n</md-dialog-content></form></md-dialog>\");\n$templateCache.put(\"app/main/templates/dialogs/templates/checklist-add-from-folder-template-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">{{vm.title}}</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\">\\n</md-icon></md-button></div></md-toolbar><md-dialog-content class=\\\"no-padding\\\"><ms-form-wizard flex><md-tabs \\nmd-dynamic-height md-selected=\\\"msWizard.selectedIndex\\\"><md-tab><md-tab-label><span class=\\\"ms-form-wizard-step-label\\\">\\n<span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$invalid\\\">1</span> <span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$valid\\\"><i class=\\\"icon-check s16\\\"></i> </span><span \\nclass=\\\"ms-form-wizard-step-text\\\">Select Project</span></span></md-tab-label><md-tab-body><form name=\\\"wizardStep1\\\" \\nclass=\\\"md-inline-form\\\" ms-form-wizard-form novalidate><div ng-switch=\\\"vm.wizard.newFolder\\\"><div ng-switch-when=\\\"false\\\">\\n<div ng-include=\\\"\\'app/main/templates/views/stepper/new-checklist-1.html\\'\\\"></div></div><div ng-switch-when=\\\"true\\\"><div \\nng-include=\\\"\\'app/main/templates/views/stepper/new-checklist-1-new-folder.html\\'\\\"></div></div></div></form></md-tab-body>\\n</md-tab></md-tabs><div class=\\\"navigation\\\" flex layout=\\\"row\\\" layout-align=\\\"center center\\\" \\nng-show=\\\"!vm.wizard.newFolder && !vm.wizard.newGroup\\\"><md-button class=\\\"\\\" ng-click=\\\"msWizard.previousStep()\\\" \\nng-disabled=\\\"msWizard.isFirstStep()\\\">Previous</md-button><div class=\\\"steps\\\"><span ng-repeat=\\\"form in msWizard.forms\\\" \\nng-class=\\\"{\\'selected md-accent-bg\\':msWizard.selectedIndex === $index}\\\"></span></div><md-button class=\\\"\\\" \\nng-click=\\\"msWizard.nextStep()\\\" ng-hide=\\\"msWizard.isLastStep()\\\" \\nng-disabled=\\\"msWizard.currentStepInvalid() || vm.wizard.newFolder\\\">Next</md-button><md-button class=\\\"md-warn\\\" \\nng-click=\\\"vm.download.create(vm.wizard.templateID, vm.verticalStepper.step1.folderID, vm.wizard.templateType)\\\" \\nng-show=\\\"msWizard.isLastStep()\\\" ng-disabled=\\\"msWizard.formsIncomplete() || vm.wizard.newFolder || vm.wizard.newGroup\\\">\\nDownload Template</md-button></div></ms-form-wizard></md-dialog-content><md-dialog-actions layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\" ng-show=\\\"vm.wizard.newFolder\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-button type=\\\"submit\\\" aria-label=\\\"Save\\\" translate-attr-aria-label=\\\"CHECKLIST.SAVE\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"wizardStep1.$invalid || wizardStep1.$pristine\\\" ng-click=\\\"vm.addNewFolder(vm.folder.name)\\\">SAVE</md-button>\\n</div><div layout=\\\"row\\\"><md-button ng-click=\\\"vm.cancelFolderInput()\\\" aria-label=\\\"Cancel\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.CANCEL\\\">CANCEL</span></md-tooltip></md-button></div></md-dialog-actions><md-dialog-actions \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\" ng-show=\\\"vm.wizard.newGroup\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" ng-if=\\\"!vm.newChecklist\\\" \\nng-click=\\\"vm.addNewGroup(vm.group.text, vm.verticalStepper.step1.folderID)\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" aria-label=\\\"Save\\\" translate=\\\"CHECKLIST.SAVE\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE</md-button></div><div layout=\\\"row\\\"><md-button ng-if=\\\"!vm.newChecklist\\\" \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.cancelGroupInput()\\\" aria-label=\\\"Delete\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.CANCEL\\\">CANCEL</span></md-tooltip></md-button></div></md-dialog-actions></md-dialog>\");\n$templateCache.put(\"app/main/templates/dialogs/templates/checklist-add-from-template-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">{{vm.title}}</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\">\\n</md-icon></md-button></div></md-toolbar><md-dialog-content class=\\\"no-padding\\\"><ms-form-wizard flex><md-tabs \\nmd-dynamic-height md-selected=\\\"msWizard.selectedIndex\\\"><md-tab><md-tab-label><span class=\\\"ms-form-wizard-step-label\\\">\\n<span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$invalid\\\">1</span> <span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$valid\\\"><i class=\\\"icon-check s16\\\"></i> </span><span \\nclass=\\\"ms-form-wizard-step-text\\\">Select Project</span></span></md-tab-label><md-tab-body><form name=\\\"wizardStep1\\\" \\nclass=\\\"md-inline-form\\\" ms-form-wizard-form novalidate><div ng-switch=\\\"vm.wizard.newFolder\\\"><div ng-switch-when=\\\"false\\\">\\n<div ng-include=\\\"\\'app/main/templates/views/stepper/new-checklist-1.html\\'\\\"></div></div><div ng-switch-when=\\\"true\\\"><div \\nng-include=\\\"\\'app/main/templates/views/stepper/new-checklist-1-new-folder.html\\'\\\"></div></div></div></form></md-tab-body>\\n</md-tab><md-tab ng-disabled=\\\"wizardStep1.$invalid\\\"><md-tab-label><span class=\\\"ms-form-wizard-step-label\\\"><span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"!vm.verticalStepper.step2.groupID\\\">2</span> <span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"vm.verticalStepper.step2.groupID\\\"><i class=\\\"icon-check s16\\\"></i>\\n </span><span class=\\\"ms-form-wizard-step-text\\\">Select Folder</span></span></md-tab-label><md-tab-body><form \\nname=\\\"wizardStep2\\\" ms-form-wizard-form novalidate><div ng-switch=\\\"vm.wizard.newGroup\\\" \\nng-hide=\\\"!vm.verticalStepper.step1.folderID\\\"><div ng-switch-when=\\\"false\\\"><div \\nng-include=\\\"\\'app/main/templates/views/stepper/new-checklist-2.html\\'\\\"></div></div><div ng-switch-when=\\\"true\\\"><div \\nng-include=\\\"\\'app/main/templates/views/stepper/new-checklist-2-new-group.html\\'\\\"></div></div></div></form></md-tab-body>\\n</md-tab></md-tabs><div class=\\\"navigation\\\" flex layout=\\\"row\\\" layout-align=\\\"center center\\\" \\nng-show=\\\"!vm.wizard.newFolder && !vm.wizard.newGroup\\\"><md-button class=\\\"\\\" ng-click=\\\"msWizard.previousStep()\\\" \\nng-disabled=\\\"msWizard.isFirstStep()\\\">Previous</md-button><div class=\\\"steps\\\"><span ng-repeat=\\\"form in msWizard.forms\\\" \\nng-class=\\\"{\\'selected md-accent-bg\\':msWizard.selectedIndex === $index}\\\"></span></div><md-button class=\\\"\\\" \\nng-click=\\\"msWizard.nextStep()\\\" ng-hide=\\\"msWizard.isLastStep()\\\" \\nng-disabled=\\\"msWizard.currentStepInvalid() || vm.wizard.newFolder\\\">Next</md-button><md-button class=\\\"md-warn\\\" \\nng-click=\\\"vm.download.create(vm.wizard.templateID, vm.verticalStepper.step2.groupID, vm.wizard.templateType)\\\" \\nng-show=\\\"msWizard.isLastStep()\\\" ng-disabled=\\\"msWizard.formsIncomplete() || vm.wizard.newFolder || vm.wizard.newGroup\\\">\\nDownload Template</md-button></div></ms-form-wizard></md-dialog-content><md-dialog-actions layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\" ng-show=\\\"vm.wizard.newFolder\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-button type=\\\"submit\\\" aria-label=\\\"Save\\\" translate-attr-aria-label=\\\"CHECKLIST.SAVE\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"wizardStep1.$invalid || wizardStep1.$pristine\\\" ng-click=\\\"vm.addNewFolder(vm.folder.name)\\\">SAVE</md-button>\\n</div><div layout=\\\"row\\\"><md-button ng-click=\\\"vm.cancelFolderInput()\\\" aria-label=\\\"Cancel\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.CANCEL\\\">CANCEL</span></md-tooltip></md-button></div></md-dialog-actions><md-dialog-actions \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\" ng-show=\\\"vm.wizard.newGroup\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" ng-if=\\\"!vm.newChecklist\\\" \\nng-click=\\\"vm.addNewGroup(vm.group.text, vm.verticalStepper.step1.folderID)\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" aria-label=\\\"Save\\\" translate=\\\"CHECKLIST.SAVE\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE</md-button></div><div layout=\\\"row\\\"><md-button ng-if=\\\"!vm.newChecklist\\\" \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.cancelGroupInput()\\\" aria-label=\\\"Delete\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.CANCEL\\\">CANCEL</span></md-tooltip></md-button></div></md-dialog-actions></md-dialog>\");\n$templateCache.put(\"app/main/templates/views/stepper/new-checklist-1-new-folder.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"100\\\"><label translate=\\\"FOLDER.NAME\\\">Project Name</label><input \\nname=\\\"name\\\" ng-model=\\\"vm.folder.name\\\" md-autofocus required><div ng-messages=\\\"wizardStep1.name.$error\\\" \\nng-show=\\\"wizardStep1.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"CHECKLIST.ERRORS.PROJECT_NAME_REQUIRED\\\">Project Name field is required</span></div></div>\\n</md-input-container></div>\");\n$templateCache.put(\"app/main/templates/views/stepper/new-checklist-1.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"70\\\"><md-select ng-model=\\\"vm.verticalStepper.step1.folderID\\\" \\nname=\\\"folderID\\\" aria-label=\\\"Select Project\\\" placeholder=\\\"Select Existing Project\\\" md-autofocus required><md-option \\nng-repeat=\\\"folder in vm.folders\\\" value=\\\"{{folder.id}}\\\" ng-selected=\\\"folder.id == vm.verticalStepper.newFolderID\\\" \\nng-click=\\\"vm.fetchGroups(folder.id)\\\">{{folder.name}}</md-option></md-select><div \\nng-messages=\\\"vm.verticalStepper.step1.folderID.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>\\nProject is required.</span></div></div></md-input-container><md-input-container flex=\\\"30\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\"><md-button class=\\\"md-raised md-accent\\\" ng-click=\\\"vm.openFolderInput()\\\" \\naria-label=\\\"Create New Project\\\" translate-attr-aria-label=\\\"CHECKLIST.ADD_NEW_PROJECT\\\">NEW PROJECT</md-button>\\n</md-input-container></div>\");\n$templateCache.put(\"app/main/templates/views/stepper/new-checklist-2-new-group.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"100\\\"><label translate=\\\"GROUP.NAME\\\">Group Name</label><input \\nname=\\\"name\\\" ng-model=\\\"vm.group.text\\\" md-autofocus required><div ng-messages=\\\"groupForm.text.$error\\\" \\nng-show=\\\"groupForm.text.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"GROUP.ERRORS.GROUP_NAME_REQUIRED\\\">Group Name field is required</span></div></div></md-input-container></div>\");\n$templateCache.put(\"app/main/templates/views/stepper/new-checklist-2.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"70\\\"><md-select ng-model=\\\"vm.verticalStepper.step2.groupID\\\" \\nname=\\\"groupID\\\" placeholder=\\\"Select Existing  Folder\\\" required><md-option ng-repeat=\\\"group in vm.groups\\\" \\nvalue=\\\"{{group.id}}\\\" ng-selected=\\\"group.id == vm.verticalStepper.newGroupID\\\">{{group.name}}</md-option></md-select><div\\n ng-messages=\\\"vm.verticalStepper.step2.groupID.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>\\nFolder is required.</span></div></div></md-input-container><md-input-container flex=\\\"30\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\"><md-button class=\\\"md-raised md-accent\\\" ng-click=\\\"vm.openGroupInput()\\\" \\naria-label=\\\"Create New Folder\\\" translate-attr-aria-label=\\\"CHECKLIST.NEW_GROUP\\\">NEW FOLDER</md-button>\\n</md-input-container></div>\");\n$templateCache.put(\"app/main/templates/views/stepper/new-checklist-3.html\",\"<div class=\\\"md-inline-form\\\"><p>Enter <span class=\\\"text-bold\\\">Checklist</span> Name</p><div layout=\\\"column\\\" \\nlayout-gt-xs=\\\"row\\\" flex><md-input-container flex=\\\"100\\\" flex-gt-xs=\\\"50\\\"><input type=\\\"text\\\" name=\\\"checklistName\\\" \\nng-model=\\\"vm.verticalStepper.step3.name\\\" placeholder=\\\"Checklist Name\\\" required><div ng-messages=\\\"checklistName.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Checklist Name field is required.</span></div></div></md-input-container>\\n</div></div><md-button class=\\\"send-button md-accent md-raised\\\" \\nng-click=\\\"vm.addNewChecklist(vm.verticalStepper.step3.name, vm.verticalStepper.step2.groupID, vm.verticalStepper.step1.folderID )\\\" \\naria-label=\\\"ADD FOLDER\\\" ng-disabled=\\\"!vm.verticalStepper.step3.name || vm.verticalStepper.step3.name.$pristine\\\" \\ntranslate=\\\"CHECKLIST.ADD_NEW_CHECKLIST\\\" translate-attr-aria-label=\\\"CHECKLIST.ADD_NEW_CHECKLIST\\\">ADD NEW FOLDER\\n</md-button><md-button class=\\\"md-accent md-raised\\\" ng-click=\\\"vm.cancelChecklistInput()\\\" ar ia-label=\\\"CANCEL\\\" \\ntranslate=\\\"CHECKLIST.CANCEL\\\" translate-attr-aria-label=\\\"CHECKLIST.CANCEL\\\">CANCEL</md-button>\");\n$templateCache.put(\"app/main/templates/views/stepper/search-templates.html\",\"<md-dialog-content ms-scroll ng-show=\\\"vm.find.results.templates.length\\\"><table class=\\\"simple\\\" ms-responsive-table>\\n<thead><tr><th>Template Name</th><th hide-xs>Organization</th><th>Author</th><th hide-xs>Created</th><th \\nclass=\\\"text-right\\\">Add</th></tr></thead><tfoot><tr><td colspan=\\\"5\\\">&nbsp;</td></tr></tfoot><tbody><tr \\nng-repeat=\\\"res in vm.find.results.templates\\\"><td class=\\\"name\\\">{{res.name}}</td><td class=\\\"salary\\\" hide-xs>\\n{{res.organization}}</td><td class=\\\"name\\\">{{res.author}}</td><td class=\\\"name\\\" hide-xs>\\n{{res.created | date:\\'MMMM d, yyyy\\'}}</td><td class=\\\"text-right\\\" ng-switch=\\\"res.status\\\"><span ng-switch-when=\\\"Linked\\\">\\nAlready</span><md-button type=\\\"button\\\" class=\\\"icon-button\\\" aria-label=\\\"Invite\\\" \\nng-click=\\\"vm.find.create(res.id, vm.verticalStepper.step2.groupID)\\\"><md-icon md-font-icon=\\\"icon-plus-circle-outline\\\" \\nclass=\\\"md-accent-fg s18\\\"></md-icon></md-button></td></tr></tbody></table></md-dialog-content><md-input-container \\nclass=\\\"md-block\\\"><label translate=\\\"CHECKLIST.SEARCH_BY_TEMPLATE_NAME\\\">Search by Template Name</label><input \\nid=\\\"findTemplateName\\\" ng-model=\\\"vm.find.template.criteria.name\\\" autofocus=\\\"autofocus\\\" type=\\\"text\\\"></md-input-container>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.SEARCH_BY_ORGANIZATION\\\">Search by Organization</label>\\n<input id=\\\"findTemplateOrg\\\" type=\\\"text\\\" ng-model=\\\"vm.find.template.criteria.organization\\\"></md-input-container>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.SEARCH_BY_AUTHOR\\\">Search by Author</label><input \\nid=\\\"findTemplateAuthor\\\" type=\\\"text\\\" ng-model=\\\"vm.find.template.criteria.author\\\"></md-input-container>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.SEARCH_BY_VERSION\\\">Search by Version</label><input \\nid=\\\"findTemplateVersion\\\" type=\\\"text\\\" ng-model=\\\"vm.find.template.criteria.version\\\"></md-input-container><md-button \\ntype=\\\"submit\\\" class=\\\"md-accent md-button md-raised ng-scope md-ink-ripple md-default-theme submit-button\\\" \\naria-label=\\\"SEARCH\\\" ng-disabled=\\\"vm.find.searching\\\">SEARCH</md-button>\");\n$templateCache.put(\"app/main/todo/dialogs/task/task-dialog.html\",\"<md-dialog class=\\\"task-dialog\\\" aria-label=\\\"New Task\\\"><form name=\\\"taskForm\\\" class=\\\"md-inline-form\\\" novalidate>\\n<md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\">\\n<span class=\\\"title\\\">{{vm.title}}</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content \\nms-scroll><md-input-container class=\\\"md-block\\\"><label translate=\\\"TODO.TITLE\\\">Title</label><input name=\\\"title\\\" \\nng-model=\\\"vm.task.title\\\" required md-autofocus><div ng-messages=\\\"taskForm.title.$error\\\" \\nng-show=\\\"taskForm.title.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span translate=\\\"TODO.ERRORS.TITLE_REQUIRED\\\">\\nTitle field is required</span></div></div></md-input-container><div class=\\\"tags\\\"><label translate=\\\"TODO.TAGS\\\">Tags\\n</label><md-chips ng-model=\\\"vm.task.tags\\\" md-transform-chip=\\\"vm.newTag($chip)\\\"><md-chip-template><span \\nng-if=\\\"$chip.color\\\" class=\\\"color\\\" ng-style=\\\"{\\'background-color\\':$chip.color}\\\"></span> <span>{{$chip.label}}</span>\\n</md-chip-template></md-chips></div><div layout-xs=\\\"column\\\" layout=\\\"row\\\"><div flex class=\\\"date-container\\\"><label \\ntranslate=\\\"TODO.START_DATE\\\">Start Date</label><md-datepicker flex ng-model=\\\"vm.task.startDate\\\" \\nmd-placeholder=\\\"Start Date\\\"></md-datepicker></div><div flex class=\\\"date-container\\\"><label translate=\\\"TODO.DUE_DATE\\\">\\nDue Date</label><md-datepicker flex ng-model=\\\"vm.task.dueDate\\\" md-placeholder=\\\"Due Date\\\"></md-datepicker></div></div>\\n<div class=\\\"notes\\\"><label translate=\\\"TODO.NOTES\\\">Notes</label><text-angular ng-model=\\\"vm.task.notes\\\"></text-angular>\\n</div><div class=\\\"attachment-list\\\"><div class=\\\"attachment\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div><span \\nclass=\\\"filename\\\">attachment-2.doc</span> <span class=\\\"size\\\">(12 Kb)</span></div><md-button class=\\\"md-icon-button\\\">\\n<md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"delete attachment\\\" class=\\\"s16\\\"></md-icon></md-button></div><div \\nclass=\\\"attachment\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div><span class=\\\"filename\\\">attachment-1.jpg</span>\\n <span class=\\\"size\\\">(350 Kb)</span></div><md-button class=\\\"md-icon-button\\\" aria-label=\\\"Delete attachment\\\" translate \\ntranslate-attr-aria-label=\\\"TODO.DELETE_ATTACHMENT\\\"><md-icon md-font-icon=\\\"icon-close\\\" class=\\\"s16\\\"></md-icon>\\n</md-button></div></div></md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" ng-if=\\\"!vm.newTask\\\" ng-click=\\\"vm.saveTask()\\\" \\nclass=\\\"send-button md-accent md-raised\\\" ng-disabled=\\\"taskForm.$invalid || taskForm.$pristine\\\" aria-label=\\\"SAVE\\\" \\ntranslate=\\\"TODO.SAVE\\\" translate-attr-aria-label=\\\"TODO.SAVE\\\">SAVE</md-button><md-button type=\\\"submit\\\" \\nng-if=\\\"vm.newTask\\\" ng-click=\\\"vm.addNewTask()\\\" class=\\\"send-button md-accent md-raised\\\" \\nng-disabled=\\\"taskForm.$invalid || taskForm.$pristine\\\" aria-label=\\\"Add Task\\\" translate=\\\"TODO.ADD_TASK\\\" \\ntranslate-attr-aria-label=\\\"TODO.ADD_TASK\\\">ADD TASK</md-button><md-button class=\\\"md-icon-button\\\" \\naria-label=\\\"Attach file\\\" translate translate-attr-aria-label=\\\"TODO.ATTACH_FILE\\\"><md-icon md-font-icon=\\\"icon-paperclip\\\">\\n</md-icon></md-button><md-button class=\\\"md-icon-button\\\" aria-label=\\\"Insert picture\\\" translate \\ntranslate-attr-aria-label=\\\"TODO.INSERT_PICTURE\\\"><md-icon md-font-icon=\\\"icon-file-image-box\\\"></md-icon></md-button>\\n</div><div layout=\\\"row\\\"><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.deleteTask($event)\\\" aria-label=\\\"Delete\\\" \\ntranslate translate-attr-aria-label=\\\"TODO.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"TODO.DELETE\\\">DELETE</span></md-tooltip></md-button></div></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/todo/sidenavs/main/main-sidenav.html\",\"<div class=\\\"header\\\" layout=\\\"column\\\" layout-align=\\\"space-between\\\"><div class=\\\"logo\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><span class=\\\"logo-icon\\\"><md-icon md-font-icon=\\\"icon-checkbox-marked\\\" class=\\\"s24\\\"></md-icon>\\n</span><span class=\\\"logo-text\\\" translate=\\\"TODO.TO_DO\\\">To-Do</span></div><md-select \\nclass=\\\"project-selection simplified\\\" ng-model=\\\"vm.selectedProject\\\" placeholder=\\\"Select Project\\\"><md-option \\nng-repeat=\\\"(project, title) in vm.projects\\\" value=\\\"{{project}}\\\">{{title}}</md-option></md-select></div><md-content \\nclass=\\\"content\\\" flex ms-scroll><div class=\\\"add-task-button\\\"><md-button class=\\\"md-accent md-raised\\\" \\nng-click=\\\"vm.openTaskDialog($event)\\\" aria-label=\\\"ADD TASK\\\" translate=\\\"TODO.ADD_TASK\\\" \\ntranslate-attr-aria-label=\\\"TODO.ADD_TASK\\\">ADD TASK</md-button></div><div class=\\\"navigation-simple\\\" layout=\\\"column\\\">\\n<md-button class=\\\"item\\\" aria-label=\\\"All Tasks\\\" translate translate-attr-aria-label=\\\"TODO.ALL_TASKS\\\" \\nng-class=\\\"{\\'selected\\':vm.showAllTasks}\\\" ng-click=\\\"vm.resetFilters()\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-icon md-font-icon=\\\"icon-view-headline\\\" class=\\\"s16\\\"></md-icon><span class=\\\"title\\\" translate=\\\"TODO.ALL_TASKS\\\">\\nAll Tasks</span></div></md-button><div class=\\\"item subheader\\\" translate=\\\"TODO.FILTERS\\\">Filters</div><md-button \\nclass=\\\"item\\\" aria-label=\\\"Starred\\\" translate translate-attr-aria-label=\\\"TODO.STARRED\\\" \\nng-click=\\\"vm.toggleFilterWithEmpty(\\'starred\\')\\\" ng-class=\\\"{\\'selected\\':vm.taskFilters.starred}\\\"><md-icon \\nmd-font-icon=\\\"icon-star\\\" class=\\\"s16\\\"></md-icon><span class=\\\"title\\\" translate=\\\"TODO.STARRED\\\">Starred</span></md-button>\\n<md-button class=\\\"item\\\" aria-label=\\\"Priority\\\" translate translate-attr-aria-label=\\\"TODO.PRIORITY\\\" \\nng-click=\\\"vm.toggleFilterWithEmpty(\\'important\\')\\\" ng-class=\\\"{\\'selected\\':vm.taskFilters.important}\\\"><md-icon \\nmd-font-icon=\\\"icon-alert-circle\\\" class=\\\"s16\\\"></md-icon><span class=\\\"title\\\" translate=\\\"TODO.PRIORITY\\\">Priority</span>\\n</md-button><md-button class=\\\"item\\\" aria-label=\\\"Scheduled\\\" translate translate-attr-aria-label=\\\"TODO.SCHEDULED\\\" \\nng-click=\\\"vm.toggleFilterWithEmpty(\\'dueDate\\')\\\" ng-class=\\\"{\\'selected\\':vm.taskFilters.dueDate}\\\"><md-icon \\nmd-font-icon=\\\"icon-clock\\\" class=\\\"s16\\\"></md-icon><span class=\\\"title\\\" translate=\\\"TODO.SCHEDULED\\\">Scheduled</span>\\n</md-button><md-button class=\\\"item\\\" aria-label=\\\"Today\\\" translate translate-attr-aria-label=\\\"TODO.TODAY\\\" \\nng-click=\\\"vm.toggleFilterWithEmpty(\\'startDate\\')\\\" ng-class=\\\"{\\'selected\\':vm.taskFilters.startDate}\\\"><md-icon \\nmd-font-icon=\\\"icon-calendar-today\\\" class=\\\"s16\\\"></md-icon><span class=\\\"title\\\" translate=\\\"TODO.TODAY\\\">Today</span>\\n</md-button><md-button class=\\\"item\\\" aria-label=\\\"Done\\\" translate translate-attr-aria-label=\\\"TODO.DONE\\\" \\nng-click=\\\"vm.toggleFilterWithEmpty(\\'completed\\')\\\" ng-class=\\\"{\\'selected\\':vm.taskFilters.completed}\\\"><md-icon \\nmd-font-icon=\\\"icon-check\\\" class=\\\"s16\\\"></md-icon><span class=\\\"title\\\" translate=\\\"TODO.DONE\\\">Done</span></md-button>\\n<md-button class=\\\"item\\\" aria-label=\\\"Deleted\\\" translate translate-attr-aria-label=\\\"TODO.DELETED\\\" \\nng-click=\\\"vm.toggleFilter(\\'deleted\\')\\\" ng-class=\\\"{\\'selected\\':vm.taskFilters.deleted}\\\"><md-icon \\nmd-font-icon=\\\"icon-delete\\\" class=\\\"s16\\\"></md-icon><span class=\\\"title\\\" translate=\\\"TODO.DELETED\\\">Deleted</span>\\n</md-button><div class=\\\"item subheader\\\" translate=\\\"TODO.TAGS\\\">Tags</div><md-button class=\\\"tag item\\\" \\naria-label=\\\"tag {{tag.label}}\\\" ng-repeat=\\\"tag in vm.tags\\\" ng-click=\\\"vm.toggleTagFilter(tag)\\\" \\nng-class=\\\"{\\'selected\\':vm.isTagFilterExists(tag)}\\\"><md-icon md-font-icon=\\\"icon-label\\\" class=\\\"s16\\\" \\nng-style=\\\"{\\'color\\' : tag.color}\\\"></md-icon><span class=\\\"title\\\">{{tag.label}}</span></md-button></div></md-content>\");\n$templateCache.put(\"app/main/todo/views/list/list-view.html\",\"<div class=\\\"todo-items\\\" ng-sortable=\\\"vm.sortableOptions\\\" ng-class=\\\"{\\'sortable\\': vm.taskOrder === \\'\\'}\\\"><div class=\\\"\\\" \\nmd-ink-ripple layout=\\\"row\\\" layout-align=\\\"start center\\\" ng-click=\\\"vm.openTaskDialog($event, task)\\\" \\nng-repeat=\\\"task in vm.tasks  track by $index\\\"><div class=\\\"handle\\\" ng-click=\\\"vm.preventDefault($event)\\\"><md-icon \\nmd-font-icon=\\\"icon-drag-vertical\\\" class=\\\"icon\\\"></md-icon></div><md-checkbox class=\\\"no-label\\\" \\nng-checked=\\\"task.completed\\\" ng-click=\\\"vm.toggleCompleted(task, $event)\\\" \\naria-label=\\\"{{task.completed ? \\'Not completed\\' : \\'Completed\\'}}\\\"></md-checkbox><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" flex><div class=\\\"info\\\" flex><div class=\\\"title\\\">{{task.title}}</div></div></div></div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-1/template-1.html\",\"<div class=\\\"template-1\\\"><div class=\\\"media\\\"><img class=\\\"image\\\" ng-src=\\\"{{card.media.image.src}}\\\" \\nalt=\\\"{{card.media.image.alt}}\\\" ng-show=\\\"card.media.image\\\"></div><div class=\\\"content pv-24 ph-16\\\"><div class=\\\"title h1\\\" \\nng-if=\\\"card.title\\\">{{card.title}}</div><div class=\\\"subtitle secondary-text\\\" ng-if=\\\"card.subtitle\\\">{{card.subtitle}}\\n</div><div class=\\\"text pt-16\\\" ng-if=\\\"card.text\\\">{{card.text}}</div></div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-10/template-10.html\",\"<div class=\\\"template-10 p-16\\\"><div class=\\\"pb-16\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div class=\\\"info\\\">\\n<div class=\\\"title secondary-text\\\" ng-if=\\\"card.title\\\">{{card.title}}</div><div class=\\\"subtitle h2\\\" \\nng-if=\\\"card.subtitle\\\">{{card.subtitle}}</div></div><div class=\\\"media ml-16\\\"><img class=\\\"image\\\" \\nng-src=\\\"{{card.media.image.src}}\\\" alt=\\\"{{card.media.image.alt}}\\\" ng-show=\\\"card.media.image\\\"></div></div><div \\nclass=\\\"text\\\">{{card.text}}</div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-2/template-2.html\",\"<div class=\\\"template-2\\\"><div class=\\\"header p-16\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><div ng-if=\\\"card.avatar\\\"><img\\n class=\\\"avatar mr-16\\\" ng-src=\\\"{{card.avatar.src}}\\\" alt=\\\"{{card.avatar.alt}}\\\"></div><div class=\\\"info\\\"><div \\nclass=\\\"title\\\" ng-if=\\\"card.title\\\">{{card.title}}</div><div class=\\\"subtitle secondary-text\\\" ng-if=\\\"card.subtitle\\\">\\n{{card.subtitle}}</div></div></div><div class=\\\"media\\\"><img class=\\\"image\\\" ng-src=\\\"{{card.media.image.src}}\\\" \\nalt=\\\"{{card.media.image.alt}}\\\" ng-show=\\\"card.media.image\\\"></div><div class=\\\"text p-16\\\" ng-if=\\\"card.text\\\">{{card.text}}\\n</div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-3/template-3.html\",\"<div class=\\\"template-3 p-16 teal-bg white-fg\\\" layout=\\\"row\\\" layout-align=\\\"space-between\\\"><div layout=\\\"column\\\" \\nlayout-align=\\\"space-between\\\"><div class=\\\"info\\\"><div class=\\\"title h1\\\" ng-if=\\\"card.title\\\">{{card.title}}</div><div \\nclass=\\\"subtitle h3 secondary-text\\\" ng-if=\\\"card.subtitle\\\">{{card.subtitle}}</div></div><div class=\\\"cta\\\"><md-button \\nclass=\\\"m-0\\\">{{card.cta}}</md-button></div></div><div class=\\\"media pl-16\\\"><img class=\\\"image\\\" \\nng-src=\\\"{{card.media.image.src}}\\\" alt=\\\"{{card.media.image.alt}}\\\" ng-show=\\\"card.media.image\\\"></div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-4/template-4.html\",\"<div class=\\\"template-4\\\"><div class=\\\"info white-fg ph-16 pv-24\\\"><div class=\\\"title h1\\\" ng-if=\\\"card.title\\\">{{card.title}}\\n</div><div class=\\\"text\\\" ng-if=\\\"card.text\\\">{{card.text}}</div></div><div class=\\\"media\\\"><img class=\\\"image\\\" \\nng-src=\\\"{{card.media.image.src}}\\\" alt=\\\"{{card.media.image.alt}}\\\" ng-show=\\\"card.media.image\\\"></div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-5/template-5.html\",\"<div class=\\\"template-5 p-16\\\" layout=\\\"row\\\" layout-align=\\\"space-between start\\\"><div class=\\\"info\\\"><div \\nclass=\\\"title secondary-text\\\" ng-if=\\\"card.title\\\">{{card.title}}</div><div class=\\\"event h2\\\" ng-if=\\\"card.event\\\">\\n{{card.event}}</div></div><div class=\\\"media ml-16\\\"><img class=\\\"image\\\" ng-src=\\\"{{card.media.image.src}}\\\" \\nalt=\\\"{{card.media.image.alt}}\\\" ng-show=\\\"card.media.image\\\"></div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-6/template-6.html\",\"<div class=\\\"template-6\\\"><div class=\\\"content pv-24 ph-16\\\"><div class=\\\"subtitle secondary-text\\\" ng-if=\\\"card.subtitle\\\">\\n{{card.subtitle}}</div><div class=\\\"title h2\\\" ng-if=\\\"card.title\\\">{{card.title}}</div><div class=\\\"text pt-8\\\" \\nng-if=\\\"card.text\\\">{{card.text}}</div></div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-7/template-7.html\",\"<div class=\\\"template-7\\\" layout=\\\"row\\\" layout-align=\\\"space-between\\\"><div class=\\\"info\\\" layout=\\\"column\\\" \\nlayout-align=\\\"space-between\\\" layout-fill flex><div class=\\\"p-16\\\"><div class=\\\"title h1\\\" ng-if=\\\"card.title\\\">{{card.title}}\\n</div><div class=\\\"subtitle h4 secondary-text\\\" ng-if=\\\"card.subtitle\\\">{{card.subtitle}}</div><div class=\\\"text h4 pt-8\\\" \\nng-if=\\\"card.text\\\">{{card.text}}</div></div><div><md-divider></md-divider><div class=\\\"p-8\\\" layout=\\\"row\\\"><md-icon \\nmd-font-icon=\\\"icon-star-outline\\\" class=\\\"mh-5\\\"></md-icon><md-icon md-font-icon=\\\"icon-star-outline\\\" class=\\\"mh-5\\\">\\n</md-icon><md-icon md-font-icon=\\\"icon-star-outline\\\" class=\\\"mh-5\\\"></md-icon><md-icon md-font-icon=\\\"icon-star-outline\\\" \\nclass=\\\"mh-5\\\"></md-icon><md-icon md-font-icon=\\\"icon-star-outline\\\" class=\\\"mh-5\\\"></md-icon></div></div></div><div \\nclass=\\\"media\\\"><img class=\\\"image\\\" ng-src=\\\"{{card.media.image.src}}\\\" alt=\\\"{{card.media.image.alt}}\\\" \\nng-show=\\\"card.media.image\\\"></div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-8/template-8.html\",\"<div class=\\\"template-8\\\"><div class=\\\"media\\\"><img class=\\\"image\\\" ng-src=\\\"{{card.media.image.src}}\\\" \\nalt=\\\"{{card.media.image.alt}}\\\" ng-show=\\\"card.media.image\\\"></div><div class=\\\"content pv-24 ph-16\\\"><div class=\\\"title h1\\\" \\nng-if=\\\"card.title\\\">{{card.title}}</div><div class=\\\"subtitle secondary-text\\\" ng-if=\\\"card.subtitle\\\">{{card.subtitle}}\\n</div><div class=\\\"buttons pt-16\\\"><md-button class=\\\"m-0\\\">{{card.button1}}</md-button><md-button class=\\\"m-0 md-accent\\\">\\n{{card.button2}}</md-button></div><div class=\\\"text pt-16\\\" ng-if=\\\"card.text\\\">{{card.text}}</div></div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-9/template-9.html\",\"<div class=\\\"template-9\\\"><div class=\\\"header p-16\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><div ng-if=\\\"card.avatar\\\"><img\\n class=\\\"avatar mr-16\\\" ng-src=\\\"{{card.avatar.src}}\\\" alt=\\\"{{card.avatar.alt}}\\\"></div><div class=\\\"info\\\"><div \\nclass=\\\"title\\\" ng-if=\\\"card.title\\\">{{card.title}}</div><div class=\\\"subtitle secondary-text\\\" ng-if=\\\"card.subtitle\\\">\\n{{card.subtitle}}</div></div></div><div class=\\\"text ph-16 pb-16\\\" ng-if=\\\"card.text\\\">{{card.text}}</div><div \\nclass=\\\"media\\\"><img class=\\\"image\\\" ng-src=\\\"{{card.media.image.src}}\\\" alt=\\\"{{card.media.image.alt}}\\\" \\nng-show=\\\"card.media.image\\\"></div><div class=\\\"buttons m-8\\\"><md-button class=\\\"md-icon-button mr-16\\\" \\naria-label=\\\"Favorite\\\"><md-icon md-font-icon=\\\"icon-heart-outline\\\" class=\\\"s24\\\"></md-icon></md-button><md-button \\nclass=\\\"md-icon-button\\\" aria-label=\\\"Share\\\"><md-icon md-font-icon=\\\"icon-share\\\" class=\\\"s24\\\"></md-icon></md-button></div>\\n</div>\");\n$templateCache.put(\"app/core/directives/ms-stepper/templates/horizontal/horizontal.html\",\"<div class=\\\"ms-stepper-horizontal\\\"><div class=\\\"ms-stepper-navigation-wrapper\\\"><div class=\\\"ms-stepper-navigation\\\" \\nlayout=\\\"row\\\" layout-align=\\\"center center\\\"><md-button class=\\\"ms-stepper-navigation-item\\\" \\nng-class=\\\"{\\'current\\': MsStepper.isStepCurrent(step.stepNumber), \\'valid\\': MsStepper.isStepValid(step.stepNumber), \\'disabled\\': MsStepper.isStepDisabled(step.stepNumber), \\'optional\\': MsStepper.isStepOptional(step.stepNumber)}\\\" \\nng-click=\\\"MsStepper.gotoStep(step.stepNumber)\\\" ng-disabled=\\\"MsStepper.isStepDisabled(step.stepNumber)\\\" \\nng-repeat=\\\"step in MsStepper.steps | filter:MsStepper.filterHiddenStep\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><div \\nclass=\\\"step md-accent-bg\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\"><span \\nng-if=\\\"!MsStepper.isStepValid(step.stepNumber) || MsStepper.isStepOptional(step.stepNumber)\\\">{{$index + 1}} </span>\\n<span ng-if=\\\"MsStepper.isStepValid(step.stepNumber) && !MsStepper.isStepOptional(step.stepNumber)\\\"><i \\nclass=\\\"icon icon-check s18\\\"></i></span></div><div layout=\\\"column\\\" layout-align=\\\"start start\\\"><div class=\\\"title\\\">\\n{{step.stepTitle}}</div><div class=\\\"subtitle\\\" ng-if=\\\"MsStepper.isStepOptional(step.stepNumber)\\\">Optional</div></div>\\n</md-button></div></div><div class=\\\"ms-stepper-steps\\\" ng-transclude></div><div class=\\\"ms-stepper-controls\\\" \\nlayout=\\\"row\\\" layout-align=\\\"center center\\\"><md-button class=\\\"md-accent md-raised\\\" ng-disabled=\\\"MsStepper.isFirstStep()\\\" \\nng-click=\\\"MsStepper.gotoPreviousStep()\\\">Back</md-button><div class=\\\"ms-stepper-dots\\\"><span \\nng-repeat=\\\"step in MsStepper.steps\\\" ng-hide=\\\"MsStepper.isStepHidden(step.stepNumber)\\\" \\nng-class=\\\"{\\'selected md-accent-bg\\':MsStepper.currentStepNumber === $index + 1}\\\"></span></div><md-button \\nclass=\\\"md-accent md-raised\\\" ng-if=\\\"!MsStepper.isLastStep()\\\" \\nng-disabled=\\\"!MsStepper.isStepValid(MsStepper.currentStepNumber)\\\" ng-click=\\\"MsStepper.gotoNextStep()\\\">Next</md-button>\\n<md-button type=\\\"submit\\\" class=\\\"md-accent md-raised\\\" ng-click=\\\"MsStepper.resetForm()\\\" ng-if=\\\"MsStepper.isLastStep()\\\" \\nng-disabled=\\\"!MsStepper.isFormValid()\\\">Submit</md-button></div></div>\");\n$templateCache.put(\"app/core/directives/ms-stepper/templates/vertical/vertical.html\",\"<div class=\\\"ms-stepper-vertical\\\"><div class=\\\"ms-stepper-vertical-line\\\"></div><div class=\\\"ms-stepper-steps\\\" \\nng-transclude></div></div>\");\n$templateCache.put(\"app/main/mail/views/classic/detail/detail.html\",\"<div class=\\\"thread-header\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div class=\\\"thread-content\\\"><div \\nclass=\\\"info\\\" layout=\\\"row\\\" layout-align=\\\"space-between start\\\"><div layout=\\\"column\\\" layout-align=\\\"start start\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"start start\\\"><div layout=\\\"column\\\" layout-align=\\\"start start\\\"><div class=\\\"name\\\">\\n{{vm.currentThread.user.name}}</div><div class=\\\"to\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"to-text\\\" \\ntranslate=\\\"MAIL.INFO.TO\\\">to</div><div>{{user.name.full}}</div></div></div></div><div class=\\\"labels\\\"><div class=\\\"label\\\" \\nng-repeat=\\\"labelId in vm.currentThread.labels\\\" ng-class=\\\"vm.getLabelColor(labelId)\\\">{{vm.getLabelTitle(labelId)}}</div>\\n</div><a class=\\\"toggle-details md-accent-color\\\" ng-hide=\\\"vm.selectedMailShowDetails\\\" \\nng-click=\\\"vm.selectedMailShowDetails = !vm.selectedMailShowDetails\\\" translate=\\\"MAIL.SHOW_DETAILS\\\">Show Details </a><a \\nclass=\\\"toggle-details md-accent-color\\\" ng-show=\\\"vm.selectedMailShowDetails\\\" \\nng-click=\\\"vm.selectedMailShowDetails = !vm.selectedMailShowDetails\\\" translate=\\\"MAIL.HIDE_DETAILS\\\">Hide Details</a><div \\nng-show=\\\"vm.selectedMailShowDetails\\\" class=\\\"details\\\" layout=\\\"row\\\" layout-align=\\\"start start\\\"><div layout=\\\"column\\\"><span\\n class=\\\"title\\\" translate=\\\"MAIL.DETAILS.FROM\\\">From:</span> <span class=\\\"title\\\" translate=\\\"MAIL.DETAILS.ORGANIZATION\\\">\\nOrganization:</span> <span class=\\\"title\\\" translate=\\\"MAIL.DETAILS.DATE\\\">Date:</span></div><div layout=\\\"column\\\"><span \\nclass=\\\"detail\\\">{{vm.currentThread.user.name}}</span> <span class=\\\"detail\\\">{{vm.currentThread.user.organization}}</span>\\n <span class=\\\"detail\\\">{{vm.currentThread.timestamp | date : \\\"short\\\"}}</span></div></div></div><md-menu><md-button \\naria-label=\\\"More\\\" class=\\\"md-icon-button\\\" ng-click=\\\"$mdOpenMenu($event)\\\" translate translate-aria-label=\\\"MAIL.MORE\\\">\\n<md-icon md-font-icon=\\\"icon-dots-vertical\\\"></md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item \\nng-if=\\\"vm.currentThread.type==\\'message\\'\\\"><md-button aria-label=\\\"Reply\\\" translate-aria-label=\\\"MAIL.REPLY\\\" \\nng-click=\\\"vm.passMessages(vm.currentThread.user.id)\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-reply\\\">\\n</md-icon><span translate=\\\"MAIL.REPLY\\\">Reply</span></md-button></md-menu-item><md-menu-item><md-button \\naria-label=\\\"Delete\\\" translate-aria-label=\\\"MAIL.DELETE\\\" ng-click=\\\"vm.deleteFeed($event, vm.currentThread)\\\"><md-icon \\nclass=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\"></md-icon><span translate=\\\"MAIL.DELETE\\\">Delete</span></md-button>\\n</md-menu-item></md-menu-content></md-menu></div><div ng-if=\\\"vm.currentThread.checklist && !vm.currentThread.message\\\" \\nclass=\\\"details\\\" layout=\\\"row\\\" ng-switch=\\\"vm.currentThread.reason\\\" layout-align=\\\"start start\\\"><div layout=\\\"column\\\" \\nng-switch-when=\\\"create\\\"><div ng-if=\\\"vm.currentThread.type == \\'notification\\'\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start start\\\"><span class=\\\"details\\\">\\nA new {{vm.currentThread.item.type}} has been added to one of your checklists.</span></div><div layout=\\\"row\\\" \\nlayout-align=\\\"start start\\\"><span class=\\\"details pr-8 font-weight-900\\\">Checklist: </span><span class=\\\"details\\\" \\nng-show=\\\"vm.currentThread.item.type == \\'checklist\\'\\\"><a \\nng-click=\\\"vm.passChecklistPostings(vm.currentThread.item.idCHK, vm.currentThread.specific.id_parent, vm.currentThread.item.id, vm.currentThread.item.type, vm.currentThread.checklist.name, vm.currentThread.type)\\\">\\n{{vm.currentThread.checklist.name}}</a></span> <span class=\\\"details\\\" \\nng-hide=\\\"vm.currentThread.item.type == \\'checklist\\'\\\"><a \\nng-click=\\\"vm.passChecklistPostings(vm.currentThread.item.idCHK, vm.currentThread.specific.id_parent, vm.currentThread.item.id, vm.currentThread.item.type, vm.currentThread.specific.name, vm.currentThread.type)\\\">\\n{{vm.currentThread.checklist.name}}</a></span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span \\nclass=\\\"details font-weight-900 pr-8\\\">{{vm.upperCaseFirst(vm.currentThread.item.type)}}: </span><span class=\\\"details\\\">\\n{{vm.currentThread.item.text}}</span></div></div><div ng-if=\\\"vm.currentThread.type == \\'post\\'\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start start\\\"><span class=\\\"details\\\" ng-if=\\\"vm.currentThread.item.type !== \\'checklist\\'\\\">\\nA new Conversation has been added to a {{vm.currentThread.item.type}} in one of your checklists.</span> <span \\nclass=\\\"details\\\" ng-if=\\\"vm.currentThread.item.type == \\'checklist\\'\\\">\\nA new Conversation has been added to one of your checklists.</span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\">\\n<span class=\\\"details pr-8 font-weight-900\\\">Checklist: </span><span class=\\\"details\\\" \\nng-show=\\\"vm.currentThread.item.type == \\'checklist\\'\\\"><a \\nng-click=\\\"vm.passChecklistPostings(vm.currentThread.item.idCHK, vm.currentThread.specific.id_parent, vm.currentThread.item.id, vm.currentThread.item.type, vm.currentThread.checklist.name, vm.currentThread.type)\\\">\\n{{vm.currentThread.checklist.name}}</a></span> <span class=\\\"details\\\" \\nng-hide=\\\"vm.currentThread.item.type == \\'checklist\\'\\\"><a \\nng-click=\\\"vm.passChecklistPostings(vm.currentThread.item.idCHK, vm.currentThread.specific.id_parent, vm.currentThread.item.id, vm.currentThread.item.type, vm.currentThread.specific.name, vm.currentThread.type)\\\">\\n{{vm.currentThread.checklist.name}}</a></span></div><div ng-if=\\\"vm.currentThread.item.type !== \\'checklist\\'\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details font-weight-900 pr-8\\\">\\n{{vm.upperCaseFirst(vm.currentThread.item.type)}}: </span><span class=\\\"details\\\">{{vm.currentThread.specific.name}}\\n</span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details font-weight-900 pr-8\\\">Conversation: \\n</span><span class=\\\"details\\\">{{vm.currentThread.item.text}}</span></div></div></div><div layout=\\\"column\\\" \\nng-switch-when=\\\"edit\\\"><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details\\\" \\nng-if=\\\"vm.currentThread.item.type !== \\'checklist\\'\\\">\\nThere has been an edit made to a {{vm.currentThread.item.type}} in one of your checklists.</span> <span \\nclass=\\\"details\\\" ng-if=\\\"vm.currentThread.item.type == \\'checklist\\'\\\">\\nThere has been an edit made to one of your checklists.</span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span \\nclass=\\\"details font-weight-900 pr-8\\\">Checklist: </span><span class=\\\"details\\\" \\nng-show=\\\"vm.currentThread.item.type == \\'checklist\\'\\\"><a \\nng-click=\\\"vm.passChecklistPostings(vm.currentThread.item.idCHK, vm.currentThread.specific.id_parent, vm.currentThread.item.id, vm.currentThread.item.type, vm.currentThread.checklist.name, vm.currentThread.type)\\\">\\n{{vm.currentThread.checklist.name}}</a></span> <span class=\\\"details\\\" \\nng-hide=\\\"vm.currentThread.item.type == \\'checklist\\'\\\"><a \\nng-click=\\\"vm.passChecklistPostings(vm.currentThread.item.idCHK, vm.currentThread.specific.id_parent, vm.currentThread.item.id, vm.currentThread.item.type, vm.currentThread.specific.name, vm.currentThread.type)\\\">\\n{{vm.currentThread.checklist.name}}</a></span></div><div ng-if=\\\"vm.currentThread.item.type !== \\'checklist\\'\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details font-weight-900 pr-8\\\">\\n{{vm.upperCaseFirst(vm.currentThread.item.type)}}: </span><span class=\\\"details\\\">{{vm.currentThread.item.text}}</span>\\n</div></div><div ng-switch-when=\\\"\\\"><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details\\\">\\n{{vm.currentThread.item.text}}</span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span \\nclass=\\\"details font-weight-900 pr-8\\\">Checklist:</span> <span class=\\\"details\\\"><a \\nhref=\\\"/checklist/detail/{{vm.currentThread.item.idCHK}}\\\">{{vm.currentThread.checklist.name}}</a></span></div></div>\\n</div><div ng-if=\\\"vm.currentThread.type==\\'message\\'\\\" class=\\\"details\\\"><span class=\\\"details\\\" \\nng-bind-html=\\\"vm.currentThread.item.text\\\"></span> <span class=\\\"details\\\"><a \\nng-click=\\\"vm.passMessages(vm.currentThread.user.id)\\\">View Messages</a></span></div><div \\nng-if=\\\"vm.currentThread.type==\\'invited\\'\\\" class=\\\"details\\\"><span class=\\\"details\\\" \\nng-bind-html=\\\"vm.currentThread.item.text\\\"></span> <span class=\\\"details\\\"><a \\nng-click=\\\"vm.passContacts(vm.currentThread.item.id)\\\">View Request</a></span></div><div \\nng-if=\\\"vm.currentThread.type==\\'invite\\'\\\" class=\\\"details\\\"><span class=\\\"details\\\" \\nng-bind-html=\\\"vm.currentThread.item.text\\\"></span> <span class=\\\"details\\\"><a \\nng-click=\\\"vm.passInvitations(vm.currentThread.item.id, vm.currentThread.item.type)\\\">View Invitation</a></span></div>\\n<div ng-if=\\\"vm.currentThread.type==\\'accepted\\'\\\" class=\\\"details\\\"><span class=\\\"details\\\" \\nng-bind-html=\\\"vm.currentThread.item.text\\\"></span></div></div></div>\");\n$templateCache.put(\"app/main/mail/views/classic/list/list.html\",\"<div class=\\\"no-threads\\\" ng-if=\\\"vm.threads.length === 0\\\">You have no notifications in <span class=\\\"text-capitalized\\\">\\n\\'{{vm.currentFilter.name}}\\'</span></div><div class=\\\"loading-threads\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\" \\nng-if=\\\"!vm.threads && vm.loadingThreads\\\"><md-progress-circular class=\\\"md-accent\\\" md-mode=\\\"indeterminate\\\" \\nmd-diameter=\\\"64\\\"></md-progress-circular><div>Loading your mails...</div></div><div class=\\\"thread {{thread.status}}\\\" \\nmd-ink-ripple ng-if=\\\"!vm.loadingThreads\\\" ng-repeat=\\\"thread in vm.threads | filter: vm.search | filter: global.search\\\" \\nng-click=\\\"vm.openThread(thread)\\\" \\nng-class=\\\"{\\'unread\\': !thread.read, \\'current-thread\\': vm.currentThread === thread, \\'selected\\': vm.isSelected(thread)}\\\">\\n<div layout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"info\\\" flex layout=\\\"column\\\"><div class=\\\"sender\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><span class=\\\"text-truncate\\\">{{thread.user.name}}</span></div><div class=\\\"organization\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><span class=\\\"text-truncate\\\">{{thread.user.organization}}</span></div><div \\nclass=\\\"message text-truncate\\\">\\n{{thread.item.text | htmlToPlaintext | limitTo:30}}{{thread.item.text.length > 50 ? \\'...\\' : \\'\\'}}<div><div \\nclass=\\\"labels\\\"><div class=\\\"label\\\" ng-repeat=\\\"labelId in thread.labels track by $index\\\" \\nng-class=\\\"vm.getLabelColor(labelId)\\\">{{ vm.getLabelTitle(labelId) }}</div></div></div></div><div layout=\\\"column\\\" \\nlayout-align=\\\"space-between end\\\"><div class=\\\"time\\\">{{thread.timestamp | date : \\\"short\\\"}}</div></div></div></div></div>\");\n$templateCache.put(\"app/main/mail/views/outlook/detail/create.html\",\"<div layout=\\\"column\\\" ng-switch-when=\\\"create\\\"><div ng-if=\\\"vm.currentThread.type == \\'notification\\'\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start start\\\"><span class=\\\"details\\\">\\nA new {{vm.currentThread.item.type}} has been added to one of your checklists.</span></div><div layout=\\\"row\\\" \\nlayout-align=\\\"start start\\\"><span class=\\\"details pr-8 font-weight-900\\\">Checklist: </span><span class=\\\"details\\\"><a \\nhref=\\\"/checklist/detail/{{vm.currentThread.item.idCHK}}\\\">{{vm.currentThread.checklist.name}}</a></span></div><div \\nlayout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details font-weight-900 pr-8\\\">\\n{{vm.upperCaseFirst(vm.currentThread.item.type)}}: </span><span class=\\\"details\\\">{{vm.currentThread.item.text}}</span>\\n</div></div><div ng-if=\\\"vm.currentThread.type == \\'post\\'\\\"><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span \\nclass=\\\"details\\\" ng-if=\\\"vm.currentThread.item.type !== \\'checklist\\'\\\">\\nA new Conversation has been added to a {{vm.currentThread.item.type}} in one of your checklists.</span> <span \\nclass=\\\"details\\\" ng-if=\\\"vm.currentThread.item.type == \\'checklist\\'\\\">\\nA new Conversation has been added to one of your checklists.</span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\">\\n<span class=\\\"details pr-8 font-weight-900\\\">Checklist: </span><span class=\\\"details\\\"><a \\nhref=\\\"/checklist/detail/{{vm.currentThread.item.idCHK}}\\\">{{vm.currentThread.checklist.name}}</a></span></div><div \\nng-if=\\\"vm.currentThread.item.type !== \\'checklist\\'\\\" layout=\\\"row\\\" layout-align=\\\"start start\\\"><span \\nclass=\\\"details font-weight-900 pr-8\\\">{{vm.upperCaseFirst(vm.currentThread.item.type)}}: </span><span class=\\\"details\\\">\\n{{vm.currentThread.specific.name}}</span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span \\nclass=\\\"details font-weight-900 pr-8\\\">Conversation: </span><span class=\\\"details\\\">{{vm.currentThread.item.text}}</span>\\n</div></div></div>\");\n$templateCache.put(\"app/main/mail/views/outlook/detail/default.html\",\"<div layout=\\\"column\\\" ng-switch-when=\\\"\\\"><span class=\\\"detail\\\">\\n{{vm.currentThread.item.type}}: {{vm.currentThread.item.text}}</span> <span class=\\\"detail\\\"><a \\nhref=\\\"/checklist/detail/{{vm.currentThread.item.idCHK}}\\\">{{vm.currentThread.checklist.name}}</a></span></div>\");\n$templateCache.put(\"app/main/mail/views/outlook/detail/detail.html\",\"<div ng-if=\\\"!vm.currentThread\\\" class=\\\"no-thread-selected\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\" flex><md-icon \\nmd-font-icon=\\\"icon-email\\\" class=\\\"s120 grey-400-fg\\\"></md-icon></div><div ng-if=\\\"vm.currentThread\\\"><div \\nclass=\\\"thread-header\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div><div class=\\\"subject\\\" flex>\\n{{vm.currentThread.subject}}</div><div class=\\\"labels\\\"><div class=\\\"label\\\" \\nng-repeat=\\\"labelId in vm.currentThread.labels track by $index\\\" ng-class=\\\"vm.getLabelColor(labelId)\\\">\\n{{vm.getLabelTitle(labelId)}}</div></div></div><div class=\\\"actions\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"></div>\\n</div><div class=\\\"thread-content\\\"><div class=\\\"info\\\" layout=\\\"row\\\" layout-align=\\\"space-between start\\\"><div \\nlayout=\\\"column\\\" layout-align=\\\"start start\\\"><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><div layout=\\\"column\\\" \\nlayout-align=\\\"start start\\\"><div class=\\\"name\\\">{{vm.currentThread.user.name}}</div><div class=\\\"to\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><div class=\\\"to-text\\\" translate=\\\"MAIL.INFO.TO\\\">to</div><div>{{user.name.full}}</div></div>\\n</div></div><a class=\\\"toggle-details md-accent-color\\\" ng-hide=\\\"vm.selectedMailShowDetails\\\" \\nng-click=\\\"vm.selectedMailShowDetails = !vm.selectedMailShowDetails\\\" translate=\\\"MAIL.SHOW_DETAILS\\\">Show Details </a><a \\nclass=\\\"toggle-details md-accent-color\\\" ng-show=\\\"vm.selectedMailShowDetails\\\" \\nng-click=\\\"vm.selectedMailShowDetails = !vm.selectedMailShowDetails\\\" translate=\\\"MAIL.HIDE_DETAILS\\\">Hide Details</a><div \\nng-show=\\\"vm.selectedMailShowDetails\\\" class=\\\"details\\\" layout=\\\"row\\\" layout-align=\\\"start start\\\"><div layout=\\\"column\\\"><span\\n class=\\\"title\\\" translate=\\\"MAIL.DETAILS.FROM\\\">From:</span> <span class=\\\"title\\\" translate=\\\"MAIL.DETAILS.ORGANIZATION\\\" \\nng-if=\\\"vm.currentThread.user.organization\\\">Organization:</span> <span class=\\\"title\\\" translate=\\\"MAIL.DETAILS.DATE\\\">Date:\\n</span></div><div layout=\\\"column\\\"><span class=\\\"detail\\\">{{vm.currentThread.user.name}} </span><span class=\\\"detail\\\" \\nng-if=\\\"vm.currentThread.user.organization\\\">{{vm.currentThread.user.organization}} </span><span class=\\\"detail\\\">\\n{{vm.currentThread.timestamp | date : \\\"short\\\"}}</span></div></div><div \\nng-if=\\\"vm.currentThread.checklist && !vm.currentThread.message\\\" class=\\\"details\\\" layout=\\\"row\\\" \\nng-switch=\\\"vm.currentThread.reason\\\" layout-align=\\\"start start\\\"><div layout=\\\"column\\\" ng-switch-when=\\\"create\\\"><div \\nng-if=\\\"vm.currentThread.type == \\'notification\\'\\\"><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details\\\">\\nA new {{vm.currentThread.item.type}} has been added to one of your checklists.</span></div><div layout=\\\"row\\\" \\nlayout-align=\\\"start start\\\"><span class=\\\"details pr-8 font-weight-900\\\">Checklist: </span><span class=\\\"details\\\" \\nng-show=\\\"vm.currentThread.item.type == \\'checklist\\'\\\"><a \\nng-click=\\\"vm.passChecklistPostings(vm.currentThread.item.idCHK, vm.currentThread.specific.id_parent, vm.currentThread.item.id, vm.currentThread.item.type, vm.currentThread.checklist.name, vm.currentThread.type)\\\">\\n{{vm.currentThread.checklist.name}}</a></span> <span class=\\\"details\\\" \\nng-hide=\\\"vm.currentThread.item.type == \\'checklist\\'\\\"><a \\nng-click=\\\"vm.passChecklistPostings(vm.currentThread.item.idCHK, vm.currentThread.specific.id_parent, vm.currentThread.item.id, vm.currentThread.item.type, vm.currentThread.specific.name, vm.currentThread.type)\\\">\\n{{vm.currentThread.checklist.name}}</a></span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span \\nclass=\\\"details font-weight-900 pr-8\\\">{{vm.upperCaseFirst(vm.currentThread.item.type)}}: </span><span class=\\\"details\\\">\\n{{vm.currentThread.item.text}}</span></div></div><div ng-if=\\\"vm.currentThread.type == \\'post\\'\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start start\\\"><span class=\\\"details\\\" ng-if=\\\"vm.currentThread.item.type !== \\'checklist\\'\\\">\\nA new Conversation has been added to a {{vm.currentThread.item.type}} in one of your checklists.</span> <span \\nclass=\\\"details\\\" ng-if=\\\"vm.currentThread.item.type == \\'checklist\\'\\\">\\nA new Conversation has been added to one of your checklists.</span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\">\\n<span class=\\\"details pr-8 font-weight-900\\\">Checklist: </span><span class=\\\"details\\\" \\nng-show=\\\"vm.currentThread.item.type == \\'checklist\\'\\\"><a \\nng-click=\\\"vm.passChecklistPostings(vm.currentThread.item.idCHK, vm.currentThread.specific.id_parent, vm.currentThread.item.id, vm.currentThread.item.type, vm.currentThread.checklist.name, vm.currentThread.type)\\\">\\n{{vm.currentThread.checklist.name}}</a></span> <span class=\\\"details\\\" \\nng-hide=\\\"vm.currentThread.item.type == \\'checklist\\'\\\"><a \\nng-click=\\\"vm.passChecklistPostings(vm.currentThread.item.idCHK, vm.currentThread.specific.id_parent, vm.currentThread.item.id, vm.currentThread.item.type, vm.currentThread.specific.name, vm.currentThread.type)\\\">\\n{{vm.currentThread.checklist.name}}</a></span></div><div ng-if=\\\"vm.currentThread.item.type !== \\'checklist\\'\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details font-weight-900 pr-8\\\">\\n{{vm.upperCaseFirst(vm.currentThread.item.type)}}: </span><span class=\\\"details\\\">{{vm.currentThread.specific.name}}\\n</span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details font-weight-900 pr-8\\\">Conversation: \\n</span><span class=\\\"details\\\">{{vm.currentThread.item.text}}</span></div></div></div><div layout=\\\"column\\\" \\nng-switch-when=\\\"edit\\\"><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details\\\" \\nng-if=\\\"vm.currentThread.item.type !== \\'checklist\\'\\\">\\nThere has been an edit made to a {{vm.currentThread.item.type}} in one of your checklists.</span> <span \\nclass=\\\"details\\\" ng-if=\\\"vm.currentThread.item.type == \\'checklist\\'\\\">\\nThere has been an edit made to one of your checklists.</span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span \\nclass=\\\"details font-weight-900 pr-8\\\">Checklist: </span><span class=\\\"details\\\" \\nng-show=\\\"vm.currentThread.item.type == \\'checklist\\'\\\"><a \\nng-click=\\\"vm.passChecklistPostings(vm.currentThread.item.idCHK, vm.currentThread.specific.id_parent, vm.currentThread.item.id, vm.currentThread.item.type, vm.currentThread.checklist.name, vm.currentThread.type)\\\">\\n{{vm.currentThread.checklist.name}}</a></span> <span class=\\\"details\\\" \\nng-hide=\\\"vm.currentThread.item.type == \\'checklist\\'\\\"><a \\nng-click=\\\"vm.passChecklistPostings(vm.currentThread.item.idCHK, vm.currentThread.specific.id_parent, vm.currentThread.item.id, vm.currentThread.item.type, vm.currentThread.specific.name, vm.currentThread.type)\\\">\\n{{vm.currentThread.checklist.name}}</a></span></div><div ng-if=\\\"vm.currentThread.item.type !== \\'checklist\\'\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details font-weight-900 pr-8\\\">\\n{{vm.upperCaseFirst(vm.currentThread.item.type)}}: </span><span class=\\\"details\\\">{{vm.currentThread.item.text}}</span>\\n</div></div><div ng-switch-when=\\\"\\\"><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details\\\">\\n{{vm.currentThread.item.text}}</span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span \\nclass=\\\"details font-weight-900 pr-8\\\">Checklist:</span> <span class=\\\"details\\\"><a \\nhref=\\\"/checklist/detail/{{vm.currentThread.item.idCHK}}\\\">{{vm.currentThread.checklist.name}}</a></span></div></div>\\n</div><div ng-if=\\\"vm.currentThread.type==\\'message\\'\\\" class=\\\"details\\\"><span class=\\\"details\\\" \\nng-bind-html=\\\"vm.currentThread.item.text\\\"></span> <span class=\\\"details\\\"><a \\nng-click=\\\"vm.passMessages(vm.currentThread.user.id)\\\">View Messages</a></span></div><div \\nng-if=\\\"vm.currentThread.type==\\'invited\\'\\\" class=\\\"details\\\"><span class=\\\"details\\\" \\nng-bind-html=\\\"vm.currentThread.item.text\\\"></span> <span class=\\\"details\\\"><a \\nng-click=\\\"vm.passContacts(vm.currentThread.item.id)\\\">View Request</a></span></div><div \\nng-if=\\\"vm.currentThread.type==\\'invite\\'\\\" class=\\\"details\\\"><span class=\\\"details\\\" \\nng-bind-html=\\\"vm.currentThread.item.text\\\"></span> <span class=\\\"details\\\"><a \\nng-click=\\\"vm.passInvitations(vm.currentThread.item.id, vm.currentThread.item.type)\\\">View Invitation</a></span></div>\\n<div ng-if=\\\"vm.currentThread.type==\\'accepted\\'\\\" class=\\\"details\\\"><span class=\\\"details\\\" \\nng-bind-html=\\\"vm.currentThread.item.text\\\"></span></div></div><md-menu><md-button aria-label=\\\"More\\\" \\nclass=\\\"md-icon-button\\\" ng-click=\\\"$mdOpenMenu($event)\\\" translate translate-aria-label=\\\"MAIL.MORE\\\"><md-icon \\nmd-font-icon=\\\"icon-dots-vertical\\\"></md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item \\nng-if=\\\"vm.currentThread.type==\\'message\\'\\\"><md-button aria-label=\\\"Reply\\\" translate-aria-label=\\\"MAIL.REPLY\\\" \\nng-click=\\\"vm.passMessages(vm.currentThread.user.id)\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-reply\\\">\\n</md-icon><span translate=\\\"MAIL.REPLY\\\">Reply</span></md-button></md-menu-item><md-menu-item><md-button \\naria-label=\\\"Delete\\\" translate-aria-label=\\\"MAIL.DELETE\\\" ng-click=\\\"vm.deleteFeed($event, vm.currentThread)\\\"><md-icon \\nclass=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\"></md-icon><span translate=\\\"MAIL.DELETE\\\">Delete</span></md-button>\\n</md-menu-item></md-menu-content></md-menu></div></div></div>\");\n$templateCache.put(\"app/main/mail/views/outlook/detail/edit.html\",\"<div layout=\\\"column\\\" ng-switch-when=\\\"edit\\\"><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details\\\" \\nng-if=\\\"vm.currentThread.item.type !== \\'checklist\\'\\\">\\nThere has been an edit made to a {{vm.currentThread.item.type}} in one of your checklists.</span> <span \\nclass=\\\"details\\\" ng-if=\\\"vm.currentThread.item.type == \\'checklist\\'\\\">\\nThere has been an edit made to one of your checklists.</span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span \\nclass=\\\"details font-weight-900 pr-8\\\">Checklist: </span><span class=\\\"details\\\"><a \\nhref=\\\"/checklist/detail/{{vm.currentThread.item.idCHK}}\\\">{{vm.currentThread.checklist.name}}</a></span></div><div \\nng-if=\\\"vm.currentThread.item.type !== \\'checklist\\'\\\" layout=\\\"row\\\" layout-align=\\\"start start\\\"><span \\nclass=\\\"details font-weight-900 pr-8\\\">{{vm.upperCaseFirst(vm.currentThread.item.type)}}: </span><span class=\\\"details\\\">\\n{{vm.currentThread.item.text}}</span></div></div>\");\n$templateCache.put(\"app/main/mail/views/outlook/detail/message.html\",\"<span class=\\\"detail\\\">{{vm.currentThread.item.text | nl2br}}</span>\");\n$templateCache.put(\"app/main/mail/views/outlook/list/list-outbox.html\",\"<div class=\\\"no-threads\\\" ng-if=\\\"vm.threads.length === 0\\\">You have no notifications in <span class=\\\"text-capitalized\\\">\\n\\'{{vm.currentFilter.filter}}\\'</span></div><div class=\\\"loading-threads\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\" \\nng-if=\\\"!vm.threads && vm.loadingThreads\\\"><md-progress-circular class=\\\"md-accent\\\" md-mode=\\\"indeterminate\\\" \\nmd-diameter=\\\"64\\\"></md-progress-circular><div>Loading your mails...</div></div><div class=\\\"thread {{thread.status}}\\\" \\nmd-ink-ripple ng-if=\\\"!vm.loadingThreads\\\" \\nng-repeat=\\\"thread in vm.outboxThreads | filter: vm.search | filter: globalSearch.searchTerm track by $index\\\" \\nng-click=\\\"\\\" \\nng-class=\\\"{\\'unread\\': !thread.read, \\'current-thread\\': vm.currentThread === thread, \\'selected\\': vm.isSelected(thread)}\\\">\\n<div layout=\\\"row\\\" layout-align=\\\"start top\\\"><div class=\\\"info\\\" flex layout=\\\"column\\\"><div class=\\\"sender\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><span class=\\\"text-truncate\\\">{{thread.user}}</span></div><div class=\\\"organization\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><span class=\\\"text-truncate\\\">{{thread.organization}}</span></div><div \\nclass=\\\"message text-truncate\\\">{{thread.text | limitTo:50}}{{thread.text.length > 50 ? \\'...\\' : \\'\\'}}<div><div \\nclass=\\\"labels\\\"><div class=\\\"label\\\" ng-repeat=\\\"labelId in thread.labels track by $index\\\" \\nng-class=\\\"vm.getLabelColor(labelId)\\\">{{ vm.getLabelTitle(labelId) }}</div></div></div></div></div><div layout=\\\"column\\\" \\nlayout-align=\\\"space-between end\\\"><div class=\\\"time\\\">{{thread.timestamp | date : \\\"short\\\"}}</div></div></div></div>\");\n$templateCache.put(\"app/main/mail/views/outlook/list/list.html\",\"<div class=\\\"no-threads\\\" ng-if=\\\"vm.threads.length === 0\\\">You have no notifications in <span class=\\\"text-capitalized\\\">\\n\\'{{vm.currentFilter.name}}\\'</span></div><div class=\\\"loading-threads\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\" \\nng-if=\\\"!vm.threads && vm.loadingThreads\\\"><md-progress-circular class=\\\"md-accent\\\" md-mode=\\\"indeterminate\\\" \\nmd-diameter=\\\"64\\\"></md-progress-circular><div>Loading your mails...</div></div><div class=\\\"thread {{thread.status}}\\\" \\nmd-ink-ripple ng-if=\\\"!vm.loadingThreads\\\" \\nng-repeat=\\\"thread in vm.threads | filter: vm.search | filter: globalSearch.searchTerm track by $index\\\" \\nng-click=\\\"vm.openThread(thread)\\\" \\nng-class=\\\"{\\'unread\\': !thread.read, \\'current-thread\\': vm.currentThread === thread, \\'selected\\': vm.isSelected(thread)}\\\">\\n<div layout=\\\"row\\\" layout-align=\\\"start top\\\"><div class=\\\"info\\\" flex layout=\\\"column\\\"><div class=\\\"sender\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><span class=\\\"text-truncate\\\">{{thread.user.name}} {{feed.unread.length}}</span></div><div \\nclass=\\\"organization\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><span class=\\\"text-truncate\\\">{{thread.user.organization}}\\n</span></div><div class=\\\"message text-truncate\\\"><span class=\\\"details\\\" ng-bind-html=\\\"thread.item.text | limitTo:75\\\">\\n</span> {{thread.item.text.length > 50 ? \\'...\\' : \\'\\'}}<div><div class=\\\"labels\\\"><div class=\\\"label\\\" \\nng-repeat=\\\"labelId in thread.labels track by $index\\\" ng-class=\\\"vm.getLabelColor(labelId)\\\">\\n{{ vm.getLabelTitle(labelId) }}</div></div></div></div></div><div layout=\\\"column\\\" layout-align=\\\"space-between end\\\"><div\\n class=\\\"time\\\">{{thread.timestamp | date : \\\"short\\\"}}</div></div></div></div>\");\n$templateCache.put(\"app/core/directives/ms-stepper/templates/vertical/step/vertical-step.html\",\"<md-button class=\\\"ms-stepper-navigation-item\\\" \\nng-class=\\\"{\\'current\\': MsStepper.isStepCurrent(stepInfo.stepNumber), \\'valid\\': MsStepper.isStepValid(stepInfo.stepNumber), \\'disabled\\': MsStepper.isStepDisabled(stepInfo.stepNumber), \\'optional\\': MsStepper.isStepOptional(stepInfo.stepNumber)}\\\" \\nng-click=\\\"MsStepper.gotoStep(stepInfo.stepNumber)\\\" ng-disabled=\\\"MsStepper.isStepDisabled(stepInfo.stepNumber)\\\" \\nng-hide=\\\"MsStepper.isStepHidden(stepInfo.stepNumber)\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"step\\\" \\nlayout=\\\"row\\\" layout-align=\\\"center center\\\"><span \\nng-if=\\\"!MsStepper.isStepValid(stepInfo.stepNumber) || MsStepper.isStepOptional(stepInfo.stepNumber)\\\"><i \\nclass=\\\"icon icon-checkbox-blank-circle-outline s18 md-accent-fg\\\"></i> </span><span \\nng-if=\\\"MsStepper.isStepValid(stepInfo.stepNumber) && !MsStepper.isStepOptional(stepInfo.stepNumber)\\\"><i \\nclass=\\\"icon icon-check-circle s18 md-accent-fg\\\"></i></span></div><div layout=\\\"column\\\" layout-align=\\\"start start\\\"><div \\nclass=\\\"title\\\">{{stepInfo.stepTitle}}</div><div class=\\\"subtitle\\\" ng-if=\\\"MsStepper.isStepOptional(stepInfo.stepNumber)\\\">\\nOptional</div></div></md-button><div class=\\\"ms-stepper-step-content\\\" ng-transclude></div><div \\nclass=\\\"ms-stepper-controls\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" \\nng-show=\\\"MsStepper.isStepCurrent(stepInfo.stepNumber)\\\"><md-button class=\\\"md-accent md-raised\\\" \\nng-disabled=\\\"MsStepper.isFirstStep()\\\" ng-click=\\\"MsStepper.gotoPreviousStep()\\\">Back</md-button><md-button \\nclass=\\\"md-accent md-raised\\\" ng-if=\\\"!MsStepper.isLastStep()\\\" \\nng-disabled=\\\"!MsStepper.isStepValid(MsStepper.currentStepNumber)\\\" ng-click=\\\"MsStepper.gotoNextStep()\\\">Next</md-button>\\n<md-button type=\\\"submit\\\" class=\\\"md-accent md-raised\\\" ng-click=\\\"MsStepper.resetForm()\\\" ng-if=\\\"MsStepper.isLastStep()\\\" \\nng-disabled=\\\"!MsStepper.isFormValid()\\\">Submit</md-button></div>\");\n$templateCache.put(\"app/main/chat/sidenavs/left/views/chats/chats-view.html\",\"<md-toolbar class=\\\"md-tall\\\"><div class=\\\"md-toolbar-tools md-toolbar-tools-top\\\"><div class=\\\"avatar-wrapper\\\"><img \\nng-click=\\\"vm.toggleLeftSidenavView(\\'user\\')\\\" ng-src=\\\"assets/images/avatars/profile.jpg\\\" class=\\\"md-avatar avatar\\\" \\nalt=\\\"{{vm.user.name.full}}\\\"></div><md-menu md-position-mode=\\\"target-right target\\\"><md-button class=\\\"md-icon-button\\\" \\nng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"more\\\"><md-icon md-font-icon=\\\"icon-dots-vertical\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"vm.toggleLeftSidenavView(\\'user\\')\\\" \\ntranslate=\\\"CHAT.PROFILE\\\">Profile</md-button></md-menu-item></md-menu-content></md-menu></div><div \\nclass=\\\"md-toolbar-tools md-toolbar-tools-bottom\\\"><div class=\\\"search-wrapper md-whiteframe-1dp\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" flex><div class=\\\"search\\\" flex layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-icon \\nmd-font-icon=\\\"icon-magnify\\\" class=\\\"icon s18\\\"></md-icon><input flex ng-model=\\\"vm.chatSearch\\\" type=\\\"text\\\" \\nplaceholder=\\\"Search or start new chat\\\" translate=\\\"\\\" translate-attr-placeholder=\\\"CHAT.CHAT_SEARCH_PLACEHOLDER\\\"></div>\\n</div></div></md-toolbar><md-content flex ms-scroll><md-list class=\\\"chat-list\\\"><div \\nng-show=\\\"vm.chatSearch && filteredChat.length > 0\\\" class=\\\"md-accent-fg subheader\\\" \\nng-style=\\\"{\\'transform\\':\\'translate3d(0px, 0px, 0px)\\', \\'z-index\\': filteredChat.length + filteredContact.length }\\\" \\ntranslate=\\\"CHAT.CHATS\\\">CONTACTS</div><md-list-item class=\\\"contact md-3-line\\\" \\nng-style=\\\"{\\'transform\\': ( vm.chatSearch && filteredChat.length > 0 ) ?\\'translate3d(0px, \\'+($index + 1)* 100+\\'%, 0px)\\': \\'translate3d(0px, \\'+$index* 100+\\'%, 0px)\\', \\'z-index\\': filteredChat.length + filteredContact.length - $index}\\\" \\nng-repeat=\\\"contact in vm.contacts  |  filter: {name:{full:vm.chatSearch}}  |  filter:query as filteredChat\\\" \\nng-click=\\\"vm.openConversation(contact.contact_id, \\'message\\', contact.name, contact)\\\" \\nng-class=\\\"{\\'unread\\':contact.unread}\\\"><div class=\\\"avatar-wrapper\\\"><img ng-src=\\\"assets/images/avatars/profile.jpg\\\" \\nclass=\\\"md-avatar avatar\\\" alt=\\\"{{contact.name}}\\\"> <i class=\\\"icon icon- s16 status\\\" ng-class=\\\"contact.status\\\"></i></div>\\n<div class=\\\"md-list-item-text\\\"><h3 class=\\\"name\\\">{{contact.name.first}} {{contact.name.last}}</h3><p \\nclass=\\\"last-message\\\">{{contact.organization}}</p></div><div layout=\\\"column\\\" layout-align=\\\"center end\\\"></div>\\n<md-divider></md-divider></md-list-item></md-list><div ng-hide=\\\"(filteredChat.length + filteredContact.length) > 0\\\" \\nclass=\\\"no-results-message\\\" translate=\\\"CHAT.NO_RESULTS\\\">No results..</div></md-content><md-button \\nclass=\\\"md-fab contacts-button\\\" ng-click=\\\"vm.toggleLeftSidenavView(\\'contacts\\')\\\" aria-label=\\\"contacts button\\\"><md-icon \\nmd-font-icon=\\\"icon-plus\\\"></md-icon></md-button>\");\n$templateCache.put(\"app/main/chat/sidenavs/left/views/contacts/contacts-view.html\",\"<md-toolbar class=\\\"md-tall md-accent\\\"><div class=\\\"md-toolbar-tools md-toolbar-tools-top\\\"><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.toggleLeftSidenavView(false)\\\" aria-label=\\\"back button\\\"><md-icon \\nmd-font-icon=\\\"icon-arrow-left\\\"></md-icon></md-button><h3><span translate=\\\"CHAT.CONTACTS\\\">CONTACTS</span></h3></div><div\\n class=\\\"md-toolbar-tools md-toolbar-tools-bottom\\\"><div class=\\\"search-wrapper md-whiteframe-1dp\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" flex><div class=\\\"search\\\" flex layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-icon \\nmd-font-icon=\\\"icon-magnify\\\" class=\\\"icon s18\\\"></md-icon><input flex ng-model=\\\"vm.contactSearch\\\" type=\\\"text\\\" \\nplaceholder=\\\"Search contact\\\" translate=\\\"\\\" translate-attr-placeholder=\\\"CHAT.CONTACTS_SEARCH_PLACEHOLDER\\\"></div></div>\\n</div></md-toolbar><md-content flex ms-scroll><md-list class=\\\"contact-list\\\"><md-list-item class=\\\"contact md-3-line\\\" \\nng-repeat=\\\"contact in vm.contacts | filter: {name:{full:vm.contactSearch}} | orderBy: \\'name.last\\' | filter:query as filteredContact\\\" \\nng-style=\\\"{\\'transform\\': \\'translate3d(0px, \\'+$index * 100+\\'%, 0px)\\', \\'z-index\\': filteredContact.length - $index}\\\" \\nng-click=\\\"vm.openConversation(contact.contact_id, \\'message\\', contact.name, contact)\\\"><div class=\\\"avatar-wrapper\\\"><img \\nng-src=\\\"assets/images/avatars/profile.jpg\\\" class=\\\"md-avatar avatar\\\" alt=\\\"{{contact.name.first}} {{contact.name.last}}\\\">\\n <i class=\\\"icon icon- s16 status\\\" ng-class=\\\"contact.status\\\"></i></div><div class=\\\"md-list-item-text\\\"><h3>\\n{{contact.name.first}} {{contact.name.last}}</h3><p class=\\\"mood\\\">{{contact.organization}}</p></div></md-list-item>\\n</md-list><div ng-if=\\\"filteredContact.length <= 0\\\" class=\\\"no-results-message\\\" translate=\\\"CHAT.NO_RESULTS\\\">No results..\\n</div></md-content>\");\n$templateCache.put(\"app/main/chat/sidenavs/left/views/user/user-view.html\",\"<md-toolbar class=\\\"md-tall md-accent\\\"><div class=\\\"md-toolbar-tools md-toolbar-tools-top\\\"><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.toggleLeftSidenavView(false)\\\" aria-label=\\\"back\\\"><md-icon \\nmd-font-icon=\\\"icon-arrow-left\\\"></md-icon></md-button></div><div class=\\\"md-toolbar-tools md-toolbar-tools-bottom\\\" flex \\nlayout=\\\"column\\\" layout-align=\\\"center center\\\"><div layout=\\\"column\\\" layout-align=\\\"center center\\\"><img \\nng-src=\\\"assets/images/avatars/profile.jpg\\\" class=\\\"md-avatar avatar user-avatar huge\\\" alt=\\\"{{vm.user.name.full}}\\\"><div \\nclass=\\\"user-name\\\">{{vm.user.name.full}}</div></div></div></md-toolbar><md-content class=\\\"md-hue-2\\\" flex ms-scroll \\nms-padding><md-card><md-card-title>Mood</md-card-title><md-card-content><span class=\\\"mood\\\" \\neditable-textarea=\\\"vm.user.mood\\\" e-rows=\\\"7\\\" e-cols=\\\"40\\\">{{vm.user.mood || \\'CHAT.ENTER_MOOD_MESSAGE\\' | translate}}\\n</span></md-card-content></md-card></md-content>\");\n$templateCache.put(\"app/main/chat/sidenavs/right/views/contact/contact-view.html\",\"<md-toolbar class=\\\"md-tall md-accent\\\"><div class=\\\"md-toolbar-tools md-toolbar-tools-top\\\"><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.toggleSidenav(\\'right-sidenav\\')\\\" aria-label=\\\"back\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\"></md-icon></md-button></div><div class=\\\"md-toolbar-tools md-toolbar-tools-bottom\\\" flex \\nlayout=\\\"column\\\" layout-align=\\\"center center\\\"><div layout=\\\"column\\\" layout-align=\\\"center center\\\"><img \\nng-src=\\\"assets/images/avatars/profile.jpg\\\" class=\\\"md-avatar avatar contact-avatar huge\\\" \\nalt=\\\"{{vm.viewingConversation.nameFull}\\\"><div class=\\\"contact-name\\\">{{vm.viewingConversation.nameFull}}</div></div>\\n</div></md-toolbar><md-content class=\\\"md-hue-2\\\" flex ms-scroll ms-padding><md-card><md-card-title \\ntranslate=\\\"CHAT.CONTACT_DETAILS\\\">Contact Details</md-card-title><md-card-content><div class=\\\"mood\\\"><b>Organization:</b>\\n {{vm.viewingConversation.organization}}</div><div class=\\\"mood\\\"><b>Email Address:</b> {{vm.viewingConversation.email}}\\n</div><div class=\\\"mood\\\"><b>Phone Number:</b> {{vm.viewingConversation.phone}}</div></md-card-content></md-card>\\n</md-content>\");}]);"],"sourceRoot":"/source/"}