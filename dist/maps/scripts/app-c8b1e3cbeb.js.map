{"version":3,"sources":["scripts/app.js"],"names":["config","$stateProvider","$translatePartialLoaderProvider","msApiProvider","msNavigationServiceProvider","state","url","views","content@app","templateUrl","controller","resolve","Tasks","msApi","Tags","bodyClass","addPart","register","saveItem","title","icon","badge","content","color","weight","$inject","angular","module","TaskDialogController","$mdDialog","Task","event","addNewTask","vm","tasks","unshift","task","closeDialog","saveTask","i","length","id","copy","deleteTask","confirm","ariaLabel","ok","cancel","targetEvent","show","then","deleted","newTag","chip","tagColors","name","label","Math","floor","random","hide","this","newTask","notes","startDate","Date","startDateTimeStamp","getTime","dueDate","dueDateTimeStamp","completed","starred","important","tags","abstract","Folders","Labels","Outbox","params","type","value","squash","group","stateParams","filter","ComposeDialogController","selectedMail","$rootScope","api","submitPost","submitting","console","log","idVIEW","form","message","conversations","add","error","res","success","code","socketio","emit","posts","item","reply","convoId","contact","user","from","full","to","hiddenCC","hiddenBCC","LinkExistingDialogController","$document","$filter","$mdSidenav","$scope","$http","determineOrder","what","count","order","ref","whats","folders","id_parent","getOrgChecklists","checklists","setError","err","loading","link","linking","post","idGRP","selected","headers","Content-Type","cache","d","data","concat","organizeData","$","modal","load","begin","check","checklist","indexOf","toggle","isSelected","remove","push","GroupSendLinkRequestDialogController","GROUP","find","inProgress","showError","msg","criteria","status","idCON","invites","result","users","recipient","idACC","m_accepted","processLink","raw","info","processed","extend","requesting","invite","request","itemID","send","ids","notify","idFDI","notifications","received","withdraw","submit","encodeURI","idCHK","found","organizations","map","contacts","GroupPublishTemplateDialogController","publishTemplate","publish","ref1","pvt","togglePrivate","DirectMessageDialogController","which","ContactDialogController","Contact","Contacts","User","msUtils","showWhichInviteContactData","friend","ref2","ref3","ref4","accepter","addNewContact","saveContact","deleteContactConfirm","ev","htmlContent","destroy","splice","newContact","allFields","originator","guidGenerator","first","last","avatar","company","email","phone","toggleInArray","exists","AddContactDialogController","queryContacts","query","searching","results","searchCount","friendshipStatus","key","len","friends","accepted","acceptConnectionInvitation","index","friendship","accept","friendships","inviteToConnect","removeConnectionInvitation","$watch","get","sections","headings","items","ChecklistUploadAttachmentDialogController","pID","pType","uniqueString","text","possible","charAt","upload","AWS","update","accessKeyId","creds","access_key","secretAccessKey","secret_key","region","bucket","S3","Bucket","file","files","lable","fileSize","round","parseInt","size","sizeLimit","fileSizeLabel","uniqueFileName","aws","Key","ContentType","Body","ServerSideEncryption","putObject","attachments","setTimeout","uploadProgress","$digest","on","progress","loaded","total","ChecklistShowLinkedUsersDialogController","Checklist","$stateParams","setBlank","loadingLinked","usersLoaded","loadLinkedUsers","getLinkedUsers","forEach","cfc","usr","ownerDetails","isShowing","viewAs","toggleShowCheckboxes","parentId","setChecklistCtrlBlank","showingUsers","$on","ChecklistSendLinkRequestDialogController","focus","ChecklistPublishTemplateDialogController","gatherInfo","ChecklistFindGroupTemplateDialogController","template","creating","parentID","organization","author","version","search","searchForTemplates","display","create","idCTMPL","createFromTemplate","groups","ChecklistEditChecklistDialogController","Vars","saveChecklist","editPack","vars","rid","edit","notifyItem","packet","updated","catalog","record","stop","deleteConfirm","deleteItem","deleteChecklist","newChecklist","description","editing","EditService","attemptEdit","ChecklistConversationDialogController","convoName","producerType","old","ts","now","setSocketStuff","socketStuffSet","_callbacks","id_contact","pushPosts","$apply","getLatestPosts","conversation","currentSkip","newPost","itemType","subject","connected","ChecklistDialogController","Checklists","svc","checkbox","newItem","MsWidgetController","$element","flip","isFlippable","flipped","toggleClass","isDefined","flippable","msWidgetDirective","restrict","scope","transclude","compile","tElement","addClass","iElement","iAttrs","MsWidgetCtrl","transcludeFn","clone","empty","append","msWidgetFrontDirective","require","flipWidget","msWidgetBackDirective","directive","MsTimelineController","setScrollEl","scrollEl","getScrollEl","undefined","msTimelineDirective","msTimeline","loadMore","MsTimelineCtrl","onScroll","scrollTop","height","threshold","loadMoreEl","position","top","unregisterOnScroll","removeClass","registerOnScroll","off","element","msTimelineItemDirective","$timeout","$q","init","args","cardEl","testForImage","itemLoaded","testForVisibility","deferred","defer","imgEl","promise","itemInViewport","itemReadyWatcher","current","equals","MsStepperController","setOrientation","orientation","registerMainForm","mainForm","registerStep","step","stepNumber","steps","stepTitle","sort","a","b","setupSteps","setCurrentStep","currentStepNumber","resetForm","x","$setPristine","$setUntouched","gotoFirstStep","isStepNumberValid","j","gotoStep","isStepHidden","gotoPreviousStep","s","gotoNextStep","gotoLastStep","isFirstStep","isLastStep","isStepCurrent","isStepDisabled","disabled","isStepValid","isStepOptional","optionalStep","hideStep","filterHiddenStep","$valid","isUndefined","isFormValid","currentStep","msHorizontalStepperDirective","priority","bindToController","model","ctrls","FormCtrl","MsStepperCtrl","msHorizontalStepperStepDirective","msVerticalStepperDirective","msVerticalStepperStepDirective","stepInfo","MsStepper","msSplashScreenDirective","$animate","splashScreenRemoveEvent","leave","msSidenavHelperDirective","MdSidenavCtrl","isOpen","isLockedOpen","parent","MsShortcutsController","$cookies","msNavigationService","loadShortcuts","response","shortcuts","resultsLoading","populateResults","flatNavigation","getFlatNavigation","uisref","lowercase","hasShortcut","y","_id","selectedResultIndex","fromJson","children","_path","put","toJson","saveShortcuts","addShortcut","removeShortcut","handleResultClick","absorbEvent","preventDefault","handleKeydown","keyCode","keys","ensureSelectedResultIsVisible","handleMouseenter","ignoreMouseEvents","temporarilyIgnoreMouseEvents","mouseEventIgnoreTimeout","resultsEl","selectedItemEl","bottom","outerHeight","toggleMobileBar","mobileBarActive","queryOptions","debounce","sortableOptions","ghostClass","forceFallback","fallbackClass","onSort","msShortcutsDirective","MsSearchBarController","globalSearch","searchTerm","collapsed","isArray","isNull","expand","onExpand","isFunction","collapse","onCollapse","onResultClick","msSearchBarDirective","onSearch","inputEl","bodyEl","msScrollConfigProvider","configuration","defaultConfiguration","wheelSpeed","wheelPropagation","swipePropagation","minScrollbarLength","maxScrollbarLength","useBothWheelAxes","useKeyboard","suppressScrollX","suppressScrollY","scrollXMarginOffset","scrollYMarginOffset","stopPropagationOnClick","$get","getConfig","service","msScrollDirective","msScrollConfig","fuseConfig","isMobile","updateScrollbar","PerfectScrollbar","options","msScroll","$eval","initialize","prop","provider","msResponsiveTableDirective","wrapper","after","msRandomClassDirective","msRandomClass","randomClass","path","isString","$log","parts","split","_findOrCreateParent","updateItem","_getUiSref","isNumber","navigation","p","sortByWeight","_byWeight","pop","createParent","join","isObject","injector","clearNavigation","navigationScope","setActiveItem","node","activeItem","getActiveItem","getNavigation","root","alert","_flattenNavigation","setNavigationScope","setFolded","folded","getFolded","setFoldedOpen","foldedOpen","getFoldedOpen","toggleFolded","flatNav","navToPush","MsNavigationController","toggleHorizontalMobileMenu","msNavigationDirective","$broadcast","setFoldExpander","$emit","removeFoldCollapser","foldExpanderEl","onFoldExpanderHover","setFoldCollapser","foldCollapserEl","onFoldCollapserHover","sidenav","close","MsNavigationNodeController","$state","queue","checkRace","roles","showQueue","hasChildren","collapsable","includes","$evalAsync","givenPathParts","activePathParts","toggleCollapsed","collapseEl","offsetHeight","animate","animateHeightClass","css","expandEl","visibility","getClass","isHidden","hidden","appState","badgeData","inviteCounts","badgeDataFeed","feed","unread","unreadCount","msNavigationNodeDirective","MsNavigationNodeCtrl","msNavigationItemDirective","msNavigationHorizontalDirective","MsNavigationHorizontalNodeController","isActive","msNavigationHorizontalNodeDirective","MsNavigationHorizontalNodeCtrl","msNavigationHorizontalItemDirective","$mdMedia","onClick","msNavFoldService","setFoldable","foldable","isNavFoldedOpen","toggleFold","openFolded","closeFolded","msNavIsFoldedDirective","isFoldedOpen","isFolded","fold","unfold","body","sidenavEl","openOverlay","closeOverlay","msNavIsFolded","MsNavController","isDisabled","disable","enable","setToggleItem","toggleItems","getLockedItems","lockedItems","setLockedItem","clearLockedItems","msNavDirective","$mdComponentRegistry","stateChangeSuccessEvent","when","msNavTitleDirective","msNavButtonDirective","msNavToggleDirective","tAttrs","attr","MsNavCtrl","isCollapsed","isExpanded","reject","elementToExpand","classes","expandAnimation","expanded","elementToCollapse","collapseAnimation","links","states","regExp","replace","locked","lockedItem","currentState","shouldExpand","factory","msMaterialColorPickerController","$mdColorPalette","$mdMenu","fuseGenerator","activateHueSelection","palette","hues","selectedPalette","selectedHues","selectColor","hue","updateSelectedColor","updateModel","removeColor","selectedColor","class","setSelectedColor","modelCtrl","$viewValue","msModelType","bgColorValue","rgba","palettes","fgColorValue","contrast","$selectedColor","$setViewValue","msMaterialColorPicker","ngModel","attrs","controllers","ctrl","el","nodeType","replaceWith","msMasonryController","$window","defaultOpts","watchContainerResize","waitImagesLoaded","callback","imagesLoaded","imgLoad","container","width","newValue","oldValue","reLayout","start","containerPos","getBoundingClientRect","updateColumnOptions","referenceArr","Array","apply","columnCount","xPos","yPos","column","refTop","columnWidth","respectItemOrder","min","transform","reLayoutTimeout","reLayoutDebounce","responsive","md","sm","xs","msMasonry","attributes","pre","msMasonryItem","newVal","oldVal","msInfoBarDirective","removeInfoBar","$destroy","MsFormWizardController","registerForm","forms","previousStep","selectedIndex","nextStep","firstStep","lastStep","totalSteps","currentStepInvalid","$invalid","previousStepInvalid","formsIncomplete","msFormWizardDirective","msFormWizardFormDirective","formCtrl","MsFormWizardCtrl","msDatepickerFixConfigProvider","formatter","val","parser","offset","moment","utcOffset","date","msDatepickerFix","msDatepickerFixConfig","elem","$formatters","$parsers","msCardDirective","templatePath","card","cardTemplateLoaded","UserController","updateUser","u","password","toggleSidenav","sidenavId","editable","sending","account","TodoController","startDateTimestamp","dueDateTimestamp","e","stopPropagation","openTaskDialog","controllerAs","clickOutsideToClose","locals","toggleCompleted","toggleFilter","taskFilters","checkFilters","toggleFilterWithEmpty","resetFilters","showAllTasks","taskFiltersDefaults","filterByStartDate","filterByDueDate","toggleTagFilter","tag","isTagFilterExists","colors","projects","creapond","withinpixels","selectedFilter","selectedProject","taskOrder","taskOrderDescending","handle","fallbackOnBody","msScrollOptions","TemplatesController","fetchGroups","wizard","openFolderInput","folder","newFolder","newGroup","cancelFolderInput","cancelGroupInput","cancelChecklistInput","openGroupInput","addNewFolder","verticalStepper","newFolderID","addNewGroup","groupName","folderID","newGroupID","addNewChecklist","checklistName","groupID","section","is","openAddChecklistTemplateDialog","templateID","templateType","preserveScope","openAddFolderTemplateDialog","templateFiltersDefaults","templateFilters","showAllTemplates","templateOrder","templateOrderDescending","showAllFilters","filterOrder","filterOrderDescending","templates","list","process","processTemplate","startInternal","publicTemplates","revising","deleting","revise","download","TeamMembersController","members","processMember","setting","set","role","willHave","self","setTo","has","offboard","execute","member","confMsg","$location","processInvite","accepting","rejecting","idCFC","memberInvites","subscriptions","withdrawInvite","summaryController","viewChecklistAsUser","select","notMe","showComparison","conflicts","showMe","showThem","idsCSCT","idsCHEAD","go","idsITEM","requestReportsProgress","duration","reports","refresh","openConversationDialog","viewing","viewingSub","progressDuration","summary","report","idsCHK","JSON","parse","stringify","lines","view","viewSub","lastActive","clear","countReports","counterLine","checklistsArray","subscriptionsController","selectSubscription","newSubscription","agreeToTerms","currentPaymentMethod","clearSelectSubscription","clearcheck","openSubscriptionDialog","dtOptions","dom","pagingType","autoWidth","idSUI","inviting","makingSubActive","withdrawing","inviteEmailsUrl","offers","grabClientToken","getCurrentOffers","plans","acceptInvite","signin","username","reg","middle","password2","login","succeeded","token","signup","LoginService","doAuth","m","t","getInvite","authenticated","btClientID","clientToken","braintree","setup","onPaymentMethodReceived","onError","QueueController","openAcceptLinkRequestDialog","assign","idINVITE","OrganizationController","orgTmp","updating","org","resp","createOrg","createOrganization","blank","address","line1","line2","city","zip","country","selectedSubscription","MailController","threads","thread","labels","sent","loadingThreads","threadId","openThread","fetchInvites","inviteControl","noNav","upperCaseFirst","string","toUpperCase","slice","filterThreads","labelId","outboxToggle","getLabel","loadingProgress","currentFilter","currentThread","closeThread","filterFolder","filterOutbox","outboxThreads","isFolderActive","isOutboxActive","isLabelActive","selectedMailShowDetails","read","fetchChecklist","fetchSection","fetchHeading","fetchItem","fetchUser","mark","selectedThreads","toggleSelectThread","selectThreads","deselectThreads","toggleSelectThreads","setThreadStatus","toggleThreadStatus","getLabelColor","getLabelTitle","toggleLabel","removeLabels","isLabelExist","changeView","defaultView","currentView","composeDialog","replyDialog","deleteFeed","currentItem","complete","inviterDetails","sectionID","specific","headingID","heading","fetchChecklistData","passChecklistPostings","threadType","passInvitations","passID","passContacts","passMessages","debug","selectedAccount","outbox","classic","outlook","notification","invited","main@","content@app.login","LoginController","pass","organizationError","destination","logout","content@app.invite","InviteController","viewToggle","open","resetToggle","legacy","accountCreate","InvitationsController","sendForm","step2","step1","formWizard","inviteContact","tree","openAcceptChecklistInvitations","checklistID","openAcceptGroupInvitations","assigning","idx","destroying","errors","acceptChecklist","acceptGroup","idPARENT","idFDI_latest","inviter","userAuthenticated","GroupsController","openGroupDialog","addGroupDialog","openAddGroupTemplateDialog","sendLinkRequestDialog","linkExistingDialog","publishTemplateDialog","saveGroup","deleteGroup","groupFilters","showAllGroups","groupFiltersDefaults","folder_id","groupOrder","groupOrderDescending","Documents","FileManagerController","fileAdded","uploadingFile","uniqueIdentifier","owner","modified","format","opened","created","extention","location","offline","preview","ngFlow","flow","opts","X-Requested-With","fileSuccess","parseFloat","toFixed","toggleDetails","toggleView","accounts","showDetails","ngFlowOptions","FoldersController","openFolderDialog","sendLinkRequest","saveFolder","deleteFolder","folderFilters","showAllFolders","folderFiltersDefaults","folderOrder","folderOrderDescending","ChecklistService","DashboardController","window","content@app.create","CreateController","sendInfo","baseURL","ContactsController","filterChange","listType","me","filterIds","out","contactIds","selectedContacts","updateFriends","invitationStatus","deleteConnection","findContacts","queryString","openAddContactDialog","LinkList","reload","openContactDialog","openDirectMessageDialog","shift","listOrder","listOrderAsc","newGroupName","showIDs","content@app.confirm","ConfirmController","confirmed","validate","l","checklistController","nonCompliant","checkboxes","SelectedAttachments","referencess","itemShortLength","isExpandable","toggleableChildren","call","isExpandedCounter","showReferences","notApplicable","toggleComplete","local","joinFeeds","k","len1","len2","len3","feedsJoined","loadComplete","completeLoad","checkIfLinked","isLinked","loadChecklist","attachments12","createSegment","displayUserCheckboxes","isForm","option","dataType","userCheckboxes","userID","id_user","getUserKey","userKey","appendCheckboxesToItems","evaluateConflicts","operation","addConflicts","leftNonCompliant","rightNonCompliant","evaluateItem","id_item","removeUserCheckboxes","action","showLinkedUsers","toggleCheckbox","CFC","CFCs","previous","previousIndex","thisIndex","next","nextIndex","addChecklistDialog","step3","openUploadAttachmentDialog","openConflictsDialog","uploadAttachment","viewAttachmentsDialog","idParent","idCNV","idATT","setLabels","checklistFilters","showAllChecklists","checklistFiltersDefaults","userCheckboxesAreShowing","openChecklistDialog","openSectionDialog","saveSection","openHeadingDialog","saveHeading","closeConfilicts","openItemDialog","openFormLineDialog","$event","fetchAttachmentsChecklist","attme","fetchAttachmentsParent","downloadPDF","chkName","downloadXML","href","downloadAttachment","fetchHeadingBlock","getParent","fetchConflictsHeadingBlock","fetchItemBlock","fetchConflictsItemBlock","tempGroup","passChecklist","getGroup","z","passedNotification","dragControlListenersSections","sourceItemHandleScope","destSortableScope","destItemScope","itemScope","itemMoved","moveSuccess","moveFailure","eventObj","dest","sortableScope","removeItem","source","insertItem","orderChanged","arrayKeyNext","arrayKeyMoved","arrayKeyPrevious","itemNext","modelValue","itemPrevious","reorderOrder","reorder","itemIndex","containment","allowDuplicates","dragControlListenersHeadings","dragControlListenersItems","findItem","sourceItemID","modelArray","findIndex","checklistOrder","checklistOrderDescending","applies","checkboxDisplay","complies","uploaderOpts","queueLimit","filters","fn","formData","removeAfterUpload","autoUpload","onCancelItem","onErrorItem","onSuccessItem","onAfterAddingFile","onWhenAddingFileFailed","onAfterAddingAll","addedItems","uploader","chkID","selectable","dashboard","itemLocal","showModal","isShown","saving","base","base1","displayType","Text","Number","entering","explanation","lbl","hiding","save","enter","test","pdf","ChatController","getChat","contactId","chatContactId","switchUser","viewingConversation","shiftKey","textareaGrow","replyMessage","resetReplyTextarea","who","timestamp","scrollToBottomOfChat","clearMessages","chats","chat","getById","lastMessage","chatContent","scrollHeight","setUserStatus","toggleLeftSidenavView","leftSidenavView","openConversation","nameFirst","nameLast","nameFull","postProcessPosts","ConversationService","closeConversation","$uibModalInstance","dismiss","contact_id","prototype","content@app.account.confirm","content@app.account.invite","AccountController","makeSubscriptionActive","fuseThemingService","$mdTheming","getRegisteredPalettes","PALETTES","getRegisteredThemes","THEMES","setActiveTheme","themeName","themes","warn","active","theme","setThemesList","themeList","$mdThemingProvider","fusePalettes","fuseThemes","invoke","_$cookies","customTheme","getObject","alwaysWatchTheme","definePalette","primaryPalette","primary","accentPalette","accent","warnPalette","backgroundPalette","background","default","hue-1","hue-2","hue-3","constant","50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700","contrastDefaultColor","contrastDarkColors","contrastStrongLightColors","fuseGeneratorService","fuseTheming","generate","registeredThemes","registeredPalettes","registeredTheme","colorType","colorTypeName","levels","contrast1","contrast2","contrast3","contrast4","hue1","hue2","hue3","processAndStoreThemes","styleVars","colorTypes","colorLevelName","colorName","ucfirst","render","_themes","selectedTheme","cssTemplate","regex","RegExp","Object","matched","headEl","styleEl","html","_contrastLevel","contrastLevel","applyContrast","contrastLevels","white","1","2","3","4","black","MsThemeOptionsController","getActiveTheme","updateLayoutMode","layoutMode","updateLayoutStyle","layoutStyle","layoutModes","layoutStyles","figure","msThemeOptions","toggleOptionsSidenav","detectBrowser","searchString","dataString","dataProp","versionSearchString","versionSearch","identity","subString","searchVersion","substring","browserInfo","browserData","navigator","userAgent","vendor","opera","osData","platform","browser","appVersion","os","toLowerCase","S4","toString","mobileDetect","mobile","array","MobileDetect","setBaseUrl","baseUrl","getBaseUrl","getApiObject","resource","paramDefaults","actions","$resource","parameters","actionParts","method","apiObject","resourceObject","apiResolverService","resourceParts","filterByTags","filtered","match","every","tagExists","itemTag","filterSingleByTags","itemTags","filterByPropIds","parameter","filterByIds","toTrustedFilter","$sce","trustAsHtml","htmlToPlainTextFilter","String","nospaceFilter","humanizeDocFilter","doc","$1","altDate","diff","fromNow","calendar","hljsDirective","$interpolate","contents","codeElement","line","trim","firstLineWhitespace","startingWhitespaceRegex","highlightedCode","hljs","highlight","language","lang","shouldInterpolate","contentParent","fuseConfigProvider","fuseConfiguration","disableCustomScrollbars","disableMdInkRippleOnMobile","disableCustomScrollbarsOnMobile","configName","setConfig","configValue","ToolbarController","$translate","$mdToast","toastr","toggleMsNavigationFolded","userStatus","global","userStatusOptions","NavigationController","MainController","targetScope","$id","runBlock","htmlClass","run","$ariaProvider","$logProvider","$translateProvider","debugEnabled","useLoader","urlTemplate","preferredLanguage","useSanitizeValueStrategy","tabindex","silent","checkLogin","toState","userSignupComplete","userSubscribed","showReturnToLogin","usrShowing","CacheLocalUser","timeOut","showSection","showSectionImg","stateChangeStartEvent","globalSearchCollapse","allowed","available","getAvailable","change","restore","resetFeed","eventsSet","showing","qty","marking","unmarking","marked","itemIDs","unmark","isUnread","f","addUserData","w","permissions","canChange","hasAny","features","feature","basic","colleagueCount","CHK","rolePool","web_name","realtime","devMode","io","transports","secure","sock","subs","subscriptionDetails","note","existing","sendInviteCountUpdatePing","enterPaymentMethodValues","finalizing","doSelect","sub","getInvites","idSUB","offer","submitText","finalize","toParams","fromState","fromParams","mod","loginCheck","backTo","routeConfig","$urlRouterProvider","$locationProvider","html5Mode","otherwise","layouts","verticalNavigation","main","toolbar","toolbar@app","navigation@app","IndexController","$provide","$httpProvider","defaults","withCredentials","useXDomain","common","Accept","interceptors","apiService","$cacheFactory","generateCacheLocal","PREFIX","lruEntry","localStorage","getItem","setItem","removeAll","nuke","loginTime","orderThanksData","name_first","name_last","validateId","pack","idGROUP","findLink","hasConflict","dropPosition","idCLI","q","chunk","getMocks","skip","idLBL","idITEM","pmtMethod","suiRID","offboardMember","details","attachment","attacments","left","right","evaluateCheckbox","condition","requestedAt","teammembers","mail","inbox","$templateCache"],"mappings":"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","file":"scripts/app-c8b1e3cbeb.js","sourcesContent":["(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.todo',\r\n            [\r\n                // 3rd Party Dependencies\r\n                'ng-sortable',\r\n                'textAngular'\r\n            ]\r\n        )\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($stateProvider, $translatePartialLoaderProvider, msApiProvider, msNavigationServiceProvider)\r\n    {\r\n        // State\r\n        $stateProvider.state('app.to-do', {\r\n            url      : '/to-do',\r\n            views    : {\r\n                'content@app': {\r\n                    templateUrl: 'app/main/todo/todo.html',\r\n                    controller : 'TodoController as vm'\r\n                }\r\n            },\r\n            resolve  : {\r\n                Tasks: function (msApi)\r\n                {\r\n                    return msApi.resolve('todo.tasks@get');\r\n                },\r\n                Tags : function (msApi)\r\n                {\r\n                    return msApi.resolve('todo.tags@get');\r\n                }\r\n            },\r\n            bodyClass: 'todo'\r\n        });\r\n\r\n        // Translation\r\n        $translatePartialLoaderProvider.addPart('app/main/todo');\r\n\r\n        // Api\r\n        msApiProvider.register('todo.tasks', ['app/data/todo/tasks.json']);\r\n        msApiProvider.register('todo.tags', ['app/data/todo/tags.json']);\r\n\r\n        // Navigation\r\n        msNavigationServiceProvider.saveItem('apps.to-do', {\r\n            title : 'To-Do',\r\n            icon  : 'icon-checkbox-marked',\r\n            state : 'app.to-do',\r\n            badge : {\r\n                content: 3,\r\n                color  : '#FF6F00'\r\n            },\r\n            weight: 9\r\n        });\r\n    }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.todo')\r\n        .controller('TaskDialogController', TaskDialogController);\r\n\r\n    /** @ngInject */\r\n    function TaskDialogController($mdDialog, Task, Tasks, event)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.title = 'Edit Task';\r\n        vm.task = angular.copy(Task);\r\n        vm.tasks = Tasks;\r\n        vm.newTask = false;\r\n\r\n        if ( !vm.task )\r\n        {\r\n            vm.task = {\r\n                'id'                : '',\r\n                'title'             : '',\r\n                'notes'             : '',\r\n                'startDate'         : new Date(),\r\n                'startDateTimeStamp': new Date().getTime(),\r\n                'dueDate'           : '',\r\n                'dueDateTimeStamp'  : '',\r\n                'completed'         : false,\r\n                'starred'           : false,\r\n                'important'         : false,\r\n                'deleted'           : false,\r\n                'tags'              : []\r\n            };\r\n            vm.title = 'New Task';\r\n            vm.newTask = true;\r\n            vm.task.tags = [];\r\n        }\r\n\r\n        // Methods\r\n        vm.addNewTask = addNewTask;\r\n        vm.saveTask = saveTask;\r\n        vm.deleteTask = deleteTask;\r\n        vm.newTag = newTag;\r\n        vm.closeDialog = closeDialog;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Add new task\r\n         */\r\n        function addNewTask()\r\n        {\r\n            vm.tasks.unshift(vm.task);\r\n\r\n            closeDialog();\r\n        }\r\n\r\n        /**\r\n         * Save task\r\n         */\r\n        function saveTask()\r\n        {\r\n            // Dummy save action\r\n            for ( var i = 0; i < vm.tasks.length; i++ )\r\n            {\r\n                if ( vm.tasks[i].id === vm.task.id )\r\n                {\r\n                    vm.tasks[i] = angular.copy(vm.task);\r\n                    break;\r\n                }\r\n            }\r\n\r\n            closeDialog();\r\n        }\r\n\r\n        /**\r\n         * Delete task\r\n         */\r\n        function deleteTask()\r\n        {\r\n            var confirm = $mdDialog.confirm()\r\n                .title('Are you sure?')\r\n                .content('The Task will be deleted.')\r\n                .ariaLabel('Delete Task')\r\n                .ok('Delete')\r\n                .cancel('Cancel')\r\n                .targetEvent(event);\r\n\r\n            $mdDialog.show(confirm).then(function ()\r\n            {\r\n                // Dummy delete action\r\n                for ( var i = 0; i < vm.tasks.length; i++ )\r\n                {\r\n                    if ( vm.tasks[i].id === vm.task.id )\r\n                    {\r\n                        vm.tasks[i].deleted = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }, function ()\r\n            {\r\n                // Cancel Action\r\n            });\r\n        }\r\n\r\n\r\n        /**\r\n         * New tag\r\n         *\r\n         * @param chip\r\n         * @returns {{label: *, color: string}}\r\n         */\r\n        function newTag(chip)\r\n        {\r\n            var tagColors = ['#388E3C', '#F44336', '#FF9800', '#0091EA', '#9C27B0'];\r\n\r\n            return {\r\n                name : chip,\r\n                label: chip,\r\n                color: tagColors[Math.floor(Math.random() * (tagColors.length))]\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Close dialog\r\n         */\r\n        function closeDialog()\r\n        {\r\n            $mdDialog.hide();\r\n        }\r\n    }\r\n})();\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.mail',\r\n      [\r\n        'nl2br-filter'\r\n      ]\r\n    )\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, $translatePartialLoaderProvider, msApiProvider, msNavigationServiceProvider) {\r\n\r\n\r\n    // State\r\n    $stateProvider\r\n      .state('app.mail', {\r\n        abstract: true,\r\n        url: '/mail',\r\n        resolve: {\r\n          Folders: function (msApi) {\r\n            return msApi.resolve('mail.folders@get');\r\n          },\r\n          Labels: function (msApi) {\r\n            return msApi.resolve('mail.labels@get');\r\n          },\r\n          Outbox: function (msApi) {\r\n            return msApi.resolve('mail.outbox@get');\r\n          }\r\n        }\r\n      })\r\n      .state('app.mail.threads', {\r\n        url: '/{type:(?:label)}/:filter',\r\n        views: {\r\n          'content@app': {\r\n            templateUrl: 'app/main/mail/mail.html',\r\n            controller: 'MailController as vm'\r\n          }\r\n        },\r\n        params: {\r\n          type: {\r\n            value: null,\r\n            squash: true\r\n          }\r\n        },\r\n        bodyClass: 'mail'\r\n      })\r\n      .state('app.mail.threads.thread', {\r\n        url: '/:threadId',\r\n        bodyClass: 'mail'\r\n      });\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/mail');\r\n\r\n    // Api\r\n    msApiProvider.register('mail.folders', ['app/data/mail/folders.json']);\r\n    msApiProvider.register('mail.labels', ['app/data/mail/labels.json']);\r\n    msApiProvider.register('mail.outbox', ['app/data/mail/outbox.json']);\r\n\r\n    // Navigation\r\n    msNavigationServiceProvider.saveItem('conversations', {\r\n      title: 'Messaging',\r\n      group: true,\r\n      weight: 2\r\n    });\r\n\r\n    // Navigation\r\n    msNavigationServiceProvider.saveItem('conversations.mail', {\r\n      title: 'Notifications',\r\n      icon: 'icon-email',\r\n      state: 'app.mail.threads',\r\n      badge      : {\r\n        color  : '#09d261'\r\n      },\r\n      stateParams: {\r\n        filter: '1'\r\n      },\r\n      weight: 1\r\n    });\r\n  }\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.mail')\r\n    .controller('ComposeDialogController', ComposeDialogController);\r\n\r\n  /** @ngInject */\r\n  function ComposeDialogController($mdDialog, selectedMail, type, $rootScope, api) {\r\n    var vm = this;\r\n\r\n    console.log('selectedMail', selectedMail);\r\n\r\n    vm.selectedMail = selectedMail;\r\n    vm.convoId = selectedMail.id;\r\n    vm.contact = selectedMail.user;\r\n    vm.item = selectedMail.item;\r\n    vm.type = selectedMail.type;\r\n\r\n    // Data\r\n    vm.form = {\r\n      from: $rootScope.user.name.full,\r\n      to: vm.contact.name\r\n\r\n    };\r\n\r\n    vm.hiddenCC = true;\r\n    vm.hiddenBCC = true;\r\n\r\n    // Methods\r\n    vm.closeDialog = closeDialog;\r\n    vm.submitPost = submitPost;\r\n\r\n    function submitPost() {\r\n\r\n      vm.submitting = true;\r\n\r\n      if (vm.type ==='message') {\r\n        console.log('submitting convo entry', vm.selectedMail.idVIEW, vm.form.message, vm.type);\r\n        api.conversations.add(vm.selectedMail.idVIEW, vm.form.message, vm.type).error(function (res) {\r\n          $rootScope.message('Error posting.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            $rootScope.message(res.message, 'warning');\r\n          } else {\r\n            $rootScope.message('Message has been posted.', 'success');\r\n            $rootScope.socketio.emit('message', res.posts[0]);\r\n          }\r\n        })[\"finally\"](function () {\r\n          vm.submitting = false;\r\n          vm.message = '';\r\n          vm.closeDialog();\r\n        });\r\n      }\r\n\r\n\r\n      if (vm.type === 'post') {\r\n        console.log('submitting convo entry', vm.selectedMail.idVIEW, vm.form.message, vm.type, vm.item.type);\r\n        api.conversations.reply(vm.selectedMail.idVIEW, vm.form.message, vm.item.type, vm.type).error(function (res) {\r\n          return $rootScope.message('Error posting.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            return $rootScope.message(res.message, 'warning');\r\n          } else {\r\n            $rootScope.message('Conversation has been posted.', 'success');\r\n            $rootScope.socketio.emit('message', res.posts[0]);\r\n          }\r\n\r\n        })[\"finally\"](function () {\r\n          vm.submitting = false;\r\n          vm.message = '';\r\n          vm.closeDialog();\r\n        });\r\n\r\n      }\r\n\r\n    };\r\n\r\n function closeDialog() {\r\n      $mdDialog.hide();\r\n    }\r\n  }\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.groups', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, msApiProvider, msNavigationServiceProvider, $translatePartialLoaderProvider) {\r\n\r\n    // STATE\r\n    $stateProvider.state('app.groups', {\r\n      url: '/groups',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/folders/folders.html',\r\n          controller: 'FoldersController as vm'\r\n        }\r\n      }\r\n    })\r\n      .state('app.groups.detail', {\r\n        url: '/:id',\r\n        views: {\r\n          'content@app': {\r\n            templateUrl: 'app/main/groups/groups.html',\r\n            controller: 'GroupsController as vm'\r\n          }\r\n        }\r\n      });\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/groups');\r\n\r\n  }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.groups')\r\n        .controller('LinkExistingDialogController', LinkExistingDialogController);\r\n\r\n    /** @ngInject */\r\n    function LinkExistingDialogController($mdDialog, api, group, $document, $filter, $mdSidenav, $rootScope, $scope, $http)\r\n    {\r\n\r\n     var vm = this;\r\n\t// Data\r\n    vm.group = group;\r\n\r\n\tconsole.log('vm.group', vm.group);\r\n\r\n    vm.closeDialog = closeDialog;\r\n    vm.determineOrder = determineOrder;\r\n    vm.getOrgChecklists = getOrgChecklists;\r\n    vm.link = link;\r\n\r\n\r\n\r\n\tvm.user = $rootScope.user;\r\n\r\n\r\n\tfunction determineOrder(what, to) {\r\n      var count, order, ref, whats;\r\n      whats = what + 's';\r\n      order = 1;\r\n      if (what === 'folder') {\r\n        order += $rootScope.folders.length;\r\n      } else {\r\n        count = (ref = $filter('filter')($rootScope[whats], {\r\n          id_parent: to\r\n        }, true)) != null ? ref : [];\r\n        order += count.length;\r\n      }\r\n      return order;\r\n    };\r\n\r\n\tvm.load = {\r\n      idGRP: '',\r\n      order: 1,\r\n      begin: function(idGRP) {\r\n        console.log('beginning self-link to org checklists', idGRP);\r\n        vm.order = vm.determineOrder('checklist', idGRP);\r\n        console.log('about to show modal', this);\r\n      }\r\n    };\r\n\r\n\r\n\r\n    vm.linking = false;\r\n    vm.loading = true;\r\n    vm.checklists = [];\r\n    vm.error = 0;\r\n    vm.message = '';\r\n    function setError(err, msg) {\r\n      vm.error = err;\r\n      return vm.message = msg;\r\n    };\r\n\r\n\tvm.selected = {\r\n      checklists: [],\r\n      check: function(checklist) {\r\n        return this.checklists.indexOf(checklist.id) !== -1;\r\n      },\r\n      toggle: function(checklist) {\r\n        if (checklist.isSelected) {\r\n          checklist.isSelected = false;\r\n          this.checklists.remove(checklist.id);\r\n        } else {\r\n          checklist.isSelected = true;\r\n          this.checklists.push(checklist.id);\r\n        }\r\n      }\r\n    };\r\n\r\n    function getOrgChecklists() {\r\n\r\n      return api.checklists.getOrgChecklists().then(function(res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return vm.setError(-1, \"Server response empty.\");\r\n        } else if (res.code) {\r\n          return vm.setError(res.code, res.message);\r\n        } else {\r\n          return vm.checklists = res.checklists;\r\n        }\r\n      }, function(err) {\r\n        console.log('error retrieving checklists', err);\r\n        return vm.setError(-1, \"HTTP error.\");\r\n      }).then(function() {\r\n        return vm.loading = false;\r\n      });\r\n    };\r\n\r\n    vm.getOrgChecklists();\r\n\r\n    function link(checklists) {\r\n      vm.linking = true;\r\n\t\t\treturn $http.post('https://checklinked.com/ajax/checklist_selfLink-post.php', {\r\n        idGRP: vm.group.id,\r\n        order: '1',\r\n        checklists: vm.selected.checklists\r\n      }, {\r\n        headers: {\r\n          'Content-Type': 'application/x-www-form-urlencoded'\r\n        },\r\n        cache: false\r\n      }).then(function(d) {\r\n        var res;\r\n        if (d === void 0 || d === null || d === '') {\r\n          $rootScope.message(\"Server not responding properly.\", 'warning');\r\n        } else {\r\n          res = d.data;\r\n        }\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(-1, \"Server response empty.\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          vm.error = 0;\r\n          vm.message = '';\r\n          $rootScope.message('Checklists linked.');\r\n          $rootScope.checklists = $rootScope.checklists.concat(res.checklists);\r\n          $rootScope.organizeData();\r\n          $(\"#findChecklist\").modal('hide');\r\n          vm.getOrgChecklists();\r\n          return vm.selected.checklists = [];\r\n        }\r\n      }, function(err) {\r\n        console.log('error retrieving checklists', err);\r\n        return vm.setError(-1, \"HTTP error.\");\r\n      }).then(function() {\r\n        return vm.linking = false;\r\n      });\r\n    };\r\n\r\n\r\n\r\n       function closeDialog()\r\n        {\r\n        \tconsole.log('close me');\r\n           \t$mdDialog.hide();\r\n        }\r\n\r\n    }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.groups')\r\n        .controller('GroupSendLinkRequestDialogController', GroupSendLinkRequestDialogController);\r\n\r\n    /** @ngInject */\r\n    function GroupSendLinkRequestDialogController($mdDialog, api, GROUP, $document, $filter, $mdSidenav, $rootScope, $scope, $http)\r\n    {\r\n\r\n     var vm = this;\r\n\t// Data\r\n    vm.group = GROUP;\r\n\r\n\tconsole.log('vm.group', vm.group);\r\n\r\n    vm.closeDialog = closeDialog;\r\n\r\n\tvm.user = $rootScope.user;\r\n\r\n\tvm.find = {\r\n      inProgress: false,\r\n      showError: function(msg, code) {\r\n        if (code == null) {\r\n          code = 0;\r\n        }\r\n        this.error.code = code;\r\n        this.error.message = msg;\r\n        return this.error.show = true;\r\n      },\r\n      error: {\r\n        code: 0,\r\n        message: '',\r\n        show: false\r\n      },\r\n      criteria: '',\r\n      status: function(link) {\r\n        var idCON, invites, result, status, type;\r\n        status = '';\r\n        idCON = link.id;\r\n        if (idCON === 0) {\r\n          type = 'organization';\r\n          invites = $filter('filter')($scope.invites, {\r\n            users: {\r\n              recipient: {\r\n                id: 0,\r\n                idACC: link.id\r\n              }\r\n            }\r\n          }, true);\r\n          if (invites.length) {\r\n            status = 'Sent';\r\n          } else {\r\n            status = 'Stranger';\r\n          }\r\n        } else {\r\n          type = 'contact';\r\n          invites = $filter('filter')(vm.invites, {\r\n            users: {\r\n              recipient: {\r\n                id: idCON\r\n              }\r\n            }\r\n          }, true);\r\n          if (invites.length) {\r\n            if (invites[0].m_accepted === '') {\r\n              status = 'Sent';\r\n            } else {\r\n              status = 'Linked';\r\n            }\r\n          } else {\r\n            status = 'Stranger';\r\n          }\r\n        }\r\n        result = {\r\n          status: status,\r\n          invites: invites,\r\n          type: type\r\n        };\r\n        return result;\r\n      },\r\n      processLink: function(raw) {\r\n        var info, processed, item;\r\n        info = vm.find.status(raw);\r\n        item = vm.group;\r\n\r\n        processed = $.extend({}, raw, {\r\n          requesting: false,\r\n          type: info.type,\r\n          status: info.status,\r\n          invite: info.invites[0],\r\n          request: function() {\r\n            var itemID, link;\r\n            link = this;\r\n            link.requesting = true;\r\n            itemID = item;\r\n            return api.checklists.invite.send(raw.id, itemID, true, raw.idACC, 'group').success(function(res) {\r\n              var id, invite, status;\r\n              if (res === void 0 || res === null || res === '') {\r\n                return $rootScope.message('Error sending Link Request.  Server not responding properly.', 'warning');\r\n              } else if (res.code) {\r\n                return $rootScope.message(\"Error sending Link Request. (\" + res.code + \"): \" + res.message, 'warning');\r\n              } else {\r\n                invite = res.invites[0];\r\n                id = invite.id;\r\n\r\n                $rootScope.socketio.emit('feed_subscribe', {\r\n                  idCON: invite.users.recipient.id,\r\n                  ids: [id]\r\n                });\r\n                $rootScope.notify({\r\n                  idFDI: invite.notifications.received,\r\n                  id: id,\r\n                  type: 'invite'\r\n                });\r\n                vm.invites.push(res.invites[0]);\r\n                status = vm.find.status(link);\r\n                link.status = status.status;\r\n                return link.invite = status.invites[0];\r\n              }\r\n            }).error(function(res) {\r\n              return $rootScope.message('Error sending Link Request.  Server not responding.', 'warning');\r\n            })[\"finally\"](function() {\r\n              return link.requesting = false;\r\n            });\r\n          },\r\n          withdraw: function() {\r\n            return $rootScope.message('This feature is under development.');\r\n          }\r\n        });\r\n        return processed;\r\n      },\r\n      submit: function() {\r\n        var criteria;\r\n        criteria  = vm.find.criteria;\r\n\r\n\r\n        if (criteria === '') {\r\n          return $rootScope.message('No find criteria provided!');\r\n        }\r\n        criteria = encodeURI(criteria);\r\n\r\n        console.log('encodeURI(criteria)', criteria);\r\n        vm.inProgress = true;\r\n\t\t\t\treturn $http.post(\"https://checklinked.com/ajax/links_find-post.php\", {\r\n          criteria: criteria,\r\n          idCHK: null\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        }).success(function(res) {\r\n          var found;\r\n          if (res === void 0 || res === null || res === '') {\r\n            return $rootScope.message('Server not responding properly.');\r\n          } else if (res.code) {\r\n            vm.found = [];\r\n            return vm.find.showError(res.message, res.code);\r\n          } else {\r\n            console.log('server response: ', res);\r\n            vm.find.error.show = false;\r\n            vm.invites = res.invites;\r\n            found = {\r\n              organizations: res.organizations.map(vm.find.processLink),\r\n              contacts: res.contacts.map(vm.find.processLink)\r\n            };\r\n            console.log('find result: ', found);\r\n            vm.found = found.organizations.concat(found.contacts);\r\n          }\r\n        }).error(function(res) {\r\n          return $rootScope.message('Server not responding.');\r\n        })[\"finally\"](function() {\r\n          vm.find.inProgress = false;\r\n        });\r\n      }\r\n    };\r\n    vm.found = [];\r\n    vm.invites = [];\r\n\r\n       function closeDialog()\r\n        {\r\n        \tconsole.log('close me');\r\n           \t$mdDialog.hide();\r\n        }\r\n\r\n\r\n\r\n    }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.groups')\r\n        .controller('GroupPublishTemplateDialogController', GroupPublishTemplateDialogController);\r\n\r\n    /** @ngInject */\r\n    function GroupPublishTemplateDialogController($mdDialog, api, id, name, $document, $mdSidenav, $http, $rootScope, $scope) {\r\n\r\n        var vm = this;\r\n\tvm.publishTemplate = publishTemplate;\r\n\r\n\tvm.publish = {\r\n      id: id,\r\n      name: name,\r\n      pvt: false,\r\n      submitting: false,\r\n      togglePrivate: function() {\r\n        this.pvt = !this.pvt;\r\n        return true;\r\n      }\r\n     }\r\n\r\n     console.log('vm.publish', vm.publish);\r\n\r\n        // Data\r\n        vm.title = 'Publish Template';\r\n\t\tvm.closeDialog = closeDialog;\r\n\r\n\tfunction closeDialog() {\r\n    \t$mdDialog.hide();\r\n    }\r\n\r\n\r\n\r\n      function publishTemplate() {\r\n      \tconsole.log('vm.publish.id', vm.publish.id);\r\n      \tconsole.log('vm.publish.name', vm.publish.name);\r\n        var ref, ref1;\r\n        if (((ref = vm.publish.id) != null ? ref.length : void 0) && ((ref1 = vm.publish.name) != null ? ref1.length : void 0)) {\r\n          vm.publish.submitting = true;\r\n          return api.checklists.publish(vm.publish.id, vm.publish.name, 'group', vm.publish.pvt).error(function(res) {\r\n            return $rootScope.message('Unknown error publishing Group Template.', 'warning');\r\n          }).success(function(res) {\r\n            if (res.code) {\r\n              return $rootScope.message(\"Error publishing Group Template. (\" + res.code + \": \" + res.message + \")\", 'warning');\r\n            } else {\r\n              $rootScope.message(\"Group Template published successfully.\");\r\n              //close\r\n              vm.closeDialog();\r\n\r\n            }\r\n          })[\"finally\"](function() {\r\n            vm.publish.submitting = false;\r\n            vm.publish.id = null;\r\n            return vm.publish.name = null;\r\n          });\r\n        } else {\r\n          return $rootScope.message('You must specify the Group Template Name.', 'warning');\r\n        }\r\n      }\r\n\r\n\r\n\r\n\r\n\r\n\t/*\r\n    vm.publish = {\r\n      idCHK: null,\r\n      name: null,\r\n      pvt: false,\r\n      submitting: false,\r\n      gatherInfo: function(idCHK) {\r\n        vm.publish.idCHK = idCHK;\r\n        return true;\r\n      },\r\n      togglePrivate: function() {\r\n        this.pvt = !this.pvt;\r\n        return true;\r\n      },\r\n      publish: function() {\r\n      \tconsole.log('vm.publish.name', vm.publish.name, idCHK, vm.publish.pvt);\r\n        var ref1, ref2;\r\n        if (((ref1 = idCHK) != null ? ref1.length : void 0) && ((ref2 = vm.publish.name) != null ? ref2.length : void 0)) {\r\n          vm.publish.submitting = true;\r\n          return api.checklists.publish(idCHK, vm.publish.name, vm.publish.pvt).error(function(res) {\r\n            return $rootScope.message('Unknown error publishing Template.', 'warning');\r\n          }).success(function(res) {\r\n            if (res.code) {\r\n              return $rootScope.message(\"Error publishing Template. (\" + res.code + \": \" + res.message + \")\", 'warning');\r\n            } else {\r\n              $rootScope.message(\"Template published successfully.\");\r\n              return vm.closeDialog();\r\n            }\r\n          })[\"finally\"](function() {\r\n            vm.publish.submitting = false;\r\n            idCHK = null;\r\n            return vm.publish.name = null;\r\n          });\r\n        } else {\r\n          return $rootScope.message('You must specify the Template Name.', 'warning');\r\n        }\r\n      }\r\n    };\r\n\r\n\r\n\r\n    */\r\n\r\n\r\n\r\n\r\n    }\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.contacts', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, $translatePartialLoaderProvider, msApiProvider, msNavigationServiceProvider) {\r\n\r\n    $stateProvider.state('app.contacts', {\r\n      url: '/contacts',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/contacts/contacts.html',\r\n          controller: 'ContactsController as vm'\r\n        }\r\n      }\r\n    }).state('app.contacts.accept', {\r\n      url: '/contacts/:passID',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/contacts/contacts.html',\r\n          controller: 'ContactsController as vm'\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/contacts');\r\n\r\n\r\n    // Navigation\r\n    /*\r\n    msNavigationServiceProvider.saveItem('contacts', {\r\n      title: 'Contacts',\r\n      group: true,\r\n      weight: 4\r\n    });\r\n\r\n    msNavigationServiceProvider.saveItem('contacts.contacts', {\r\n      title: 'Contacts',\r\n      icon: 'icon-account-box',\r\n      state: 'app.contacts',\r\n      weight: 1\r\n    });\r\n    */\r\n\r\n  }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.contacts')\r\n        .controller('DirectMessageDialogController', DirectMessageDialogController);\r\n\r\n    /** @ngInject */\r\n    function DirectMessageDialogController($mdDialog, api, contact, which, $document, $mdSidenav, $http, $rootScope, $scope)\r\n    {\r\n        var vm = this;\r\n\r\n\t\tvm.contact = contact;\r\n\t\tvm.which = which;\r\n\r\n\t\tvm.contact\r\n\t\tconsole.log('vm.contact.id', vm.contact.id);\r\n\t\tconsole.log('vm.contact', vm.contact);\r\n\t\tconsole.log('vm.which', vm.which);\r\n\t\tconsole.log('vm.contact.contacts[which].name.full', vm.contact.contacts[which].name.full);\r\n\t\tconsole.log('vm.contact.contacts[which].id', vm.contact.contacts[which].id);\r\n\r\n        //Functions\r\n        vm.title = 'Direct Message';\r\n\t\tvm.closeDialog = closeDialog;\r\n\t\tvm.submitPost = submitPost;\r\n\t\tvm.from = $rootScope.user.name.full;\r\n    vm.to = vm.contact.contacts[which].name.full;\r\n\r\n\r\n\tfunction closeDialog()\r\n    {\r\n    $mdDialog.hide();\r\n    }\r\n\r\n    function submitPost() {\r\n\t\tconsole.log('vm.contact', vm.contact);\r\n\t\tconsole.log('vm.which', vm.which);\r\n\t\tconsole.log('vm.contact.contacts[which].name.full', vm.contact.contacts[which].name.full);\r\n\t\tconsole.log('vm.contact.contacts[which].id', vm.contact.contacts[which].id);\r\n    \tconsole.log('vm.message', vm.message);\r\n\r\n\r\n      vm.submitting = true;\r\n      console.log('submitting convo entry', vm.contact.id, vm.message, 'message');\r\n      return api.conversations.add(vm.contact.id, vm.message, 'message').error(function(res) {\r\n        return $rootScope.message('Error posting.', 'warning');\r\n      }).success(function(res) {\r\n        if (res.code) {\r\n          $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          $rootScope.socketio.emit('message', res.posts[0]);\r\n\r\n          vm.closeDialog();\r\n        }\r\n\r\n      })[\"finally\"](function() {\r\n        vm.submitting = false;\r\n        vm.message = '';\r\n      });\r\n    };\r\n\r\n\r\n    }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.contacts')\r\n        .controller('ContactDialogController', ContactDialogController);\r\n\r\n    /** @ngInject */\r\n    function ContactDialogController($rootScope, $mdDialog, Contact, Contacts, User, msUtils, api)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.title = 'View Contact';\r\n        vm.contact = angular.copy(Contact);\r\n        vm.contacts = Contacts;\r\n        //vm.user = User;\r\n        vm.newContact = false;\r\n        vm.allFields = false;\r\n\r\n\r\n\t\tconsole.log('vm.contact', vm.contact.contacts.originator.name.full);\r\n\r\n\r\n        if (!vm.contact) {\r\n            vm.contact = {\r\n                'id'      : msUtils.guidGenerator(),\r\n                'first'   : '',\r\n                'last'\t  : '',\r\n                'avatar'  : '/assets/images/avatars/profile.jpg',\r\n                'full'\t  : '',\r\n                'company' : '',\r\n                'email'   : '',\r\n                'phone'   : '',\r\n                'notes'   : ''\r\n            };\r\n\r\n            vm.title = 'New Contact';\r\n            vm.newContact = true;\r\n            vm.contact.tags = [];\r\n        }\r\n\r\n        // Methods\r\n        vm.addNewContact = addNewContact;\r\n        vm.saveContact = saveContact;\r\n        vm.deleteContactConfirm = deleteContactConfirm;\r\n        vm.closeDialog = closeDialog;\r\n        vm.toggleInArray = msUtils.toggleInArray;\r\n        vm.exists = msUtils.exists;\r\n\t\tvm.showWhichInviteContactData = showWhichInviteContactData;\r\n        //////////\r\n        \r\n        \r\n\tfunction showWhichInviteContactData(friend)\r\n     {\r\n      var ref2, ref3, ref4;\r\n      if (((ref2 = $rootScope.user) != null ? ref2.idCON : void 0) === (friend != null ? (ref3 = friend.contacts) != null ? (ref4 = ref3.accepter) != null ? ref4.id : void 0 : void 0 : void 0)) {\r\n        return 'originator';\r\n      }else{\r\n      return 'accepter';\r\n      } \r\n    }\r\n\r\n        /**\r\n         * Add new contact\r\n         */\r\n        function addNewContact()\r\n        {\r\n            vm.contacts.unshift(vm.contact);\r\n\r\n            closeDialog();\r\n        }\r\n\r\n        /**\r\n         * Save contact\r\n         */\r\n        function saveContact()\r\n        {\r\n            // Dummy save action\r\n            for ( var i = 0; i < vm.contacts.length; i++ )\r\n            {\r\n                if ( vm.contacts[i].id === vm.contact.id )\r\n                {\r\n                    vm.contacts[i] = angular.copy(vm.contact);\r\n                    break;\r\n                }\r\n            }\r\n\r\n            closeDialog();\r\n        }\r\n\r\n        /**\r\n         * Delete Contact Confirm Dialog\r\n         */\r\n        \r\n        \r\n        function deleteContactConfirm(ev, contact, idCON)\r\n        {\t\t\t\t\r\n\t\t\t\t\r\n        \tvar confirm = $mdDialog.confirm()\r\n                .title('Are you sure want to delete the contact?')\r\n                .htmlContent('<b>' + contact + '</b>' + ' will be deleted.')\r\n                .ariaLabel('delete contact')\r\n                .targetEvent(ev)\r\n                .ok('OK')\r\n                .cancel('CANCEL');\r\n\r\n            $mdDialog.show(confirm).then(function ()\r\n            {\r\n\t\t\t\t\tconsole.log('Delete by idCON:', idCON);\r\n\t\t        \tapi.contacts.destroy(idCON);\r\n\t\t            vm.contacts.splice(vm.contacts.indexOf(Contact), 1);\r\n            });\r\n        }\r\n        \r\n\r\n        /**\r\n         * Close dialog\r\n         */\r\n        function closeDialog()\r\n        {\r\n            $mdDialog.hide();\r\n        }\r\n\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.contacts')\r\n        .controller('AddContactDialogController', AddContactDialogController);\r\n\r\n    /** @ngInject */\r\n    function AddContactDialogController($rootScope, $filter, $mdDialog, msUtils, api, Contacts)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.contacts = Contacts;\r\n        vm.title = 'Add New Contact';\r\n        vm.newContact = false;\r\n        vm.allFields = false;\r\n        vm.searching = false;\r\n        vm.find = '';\r\n        vm.friends = [];\r\n        vm.loading = {friends: true};\r\n   \r\n        if ( !vm.contact )\t{\r\n\r\n            vm.contact = {\r\n                'id'      : msUtils.guidGenerator(),\r\n                'first'   : '',\r\n                'last'\t  : '',\r\n                'avatar'  : '/assets/images/avatars/profile.jpg',\r\n                'full'\t  : '',\r\n                'company' : '',\r\n                'email'   : '',\r\n                'phone'   : '',\r\n                'notes'   : ''\r\n         };\r\n\r\n            vm.title = 'Add New Contact';\r\n            vm.newContact = true;\r\n        }\r\n\r\n        // Methods\r\n        vm.addNewContact = addNewContact;\r\n        vm.closeDialog = closeDialog;\r\n        vm.toggleInArray = msUtils.toggleInArray;\r\n        vm.exists = msUtils.exists;\r\n        vm.queryContacts = queryContacts;\r\n        vm.friendshipStatus = friendshipStatus;\r\n        vm.acceptConnectionInvitation = acceptConnectionInvitation;\r\n        vm.removeConnectionInvitation = removeConnectionInvitation;\r\n        vm.inviteToConnect = inviteToConnect;\r\n\r\n    $rootScope.$watch('user', function(value) {\r\n      if (typeof value === 'object') {\r\n        return api.contacts.get().success(function(res) {\r\n          if (res.code) {\r\n            return $rootScope.message(res.message, 'warning');\r\n          } else {\r\n            return vm.friends = vm.friends.concat(res.friendships);\r\n          }\r\n        })[\"finally\"](function() {\r\n          return vm.loading.friends = false;\r\n        });\r\n      }\r\n    });\r\n    \r\n    \r\n\t function queryContacts() {\r\n      if (vm.find.query === '') {\r\n        return $rootScope.message('Please provide Search criteria.', 'warning');\r\n      } else {\r\n        vm.searching = true;\r\n        return api.contacts.find(vm.find.query).success(function(res) {\r\n          if (res.code) {\r\n          \treturn $rootScope.message(res.message, 'warning');\r\n          } else {\r\n            vm.find.results = res.contacts;\t\r\n            return vm.find.searchCount += 1;\r\n          }\r\n        })[\"finally\"](function() {\r\n          return vm.searching = false;\r\n        });\r\n      }\r\n    };\r\n\r\n    function friendshipStatus(idCON) {\r\n      var friend, i, key, len, ref;\r\n      ref = vm.friends;\r\n      \r\n      for (key = i = 0, len = ref.length; i < len; key = ++i) {\r\n        friend = ref[key];\r\n        if (friend.accepted === '') {\r\n          if (friend.contacts.accepter.id === idCON) {\r\n            return 'Sent';\r\n          } else if (friend.contacts.originator.id === idCON) {\r\n            return 'Received';\r\n          }\r\n        } else {\r\n          if (friend.contacts.accepter.id === idCON) {\r\n            return 'Friend';\r\n          } else if (friend.contacts.originator.id === idCON) {\r\n            return 'Friend';\r\n          }\r\n        }\r\n      }\r\n      return 'Strangers';\r\n    };\r\n\r\n \tfunction acceptConnectionInvitation(idCON, index) {\r\n      var friendship;\r\n      friendship = vm.friends[index];\r\n      return api.contacts.invite.accept(idCON).success(function(res) {\r\n        if (!res.code) {\r\n          vm.friends.remove(friendship);\r\n          return vm.friends.unshift(res.friendships[0]);\r\n        }\r\n      });\r\n    };\r\n    \r\n    function inviteToConnect(idCON) {\r\n      return api.contacts.invite.send(idCON).success(function(res) {\r\n        if (!res.code) {\r\n        \t//vm.contacts.splice(vm.contacts.indexOf(Contact), 1);\r\n          return vm.friends.unshift(res.friendships[0]);\r\n        }\r\n      });\r\n    };\r\n    \r\n    function removeConnectionInvitation(idCON) {\r\n      return api.contacts.invite.remove(idCON).success(function() {\r\n        var i, invite, invites, len, results;\r\n        invites = $filter('filter')(vm.friends, {\r\n          contacts: {\r\n            accepter: {\r\n              id: idCON\r\n            }\r\n          }\r\n        }, true);\r\n        invites = invites.concat($filter('filter')(vm.friends, {\r\n          contacts: {\r\n            originator: {\r\n              id: idCON\r\n            }\r\n          }\r\n        }, true));\r\n        results = [];\r\n        for (i = 0, len = invites.length; i < len; i++) {\r\n          invite = invites[i];\r\n          results.push(vm.friends.remove(invite));\r\n        }\r\n        return results;\r\n      });\r\n    };\r\n       \r\n        function addNewContact()\r\n        {\r\n            vm.contacts.unshift(vm.contact);\r\n            closeDialog();\r\n        }\r\n\r\n\r\n        function closeDialog()\r\n        {\r\n           \t$mdDialog.hide();\r\n        }\r\n\r\n    }\r\n})();\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.checklist',\r\n      ['NgModel',\r\n        'as.sortable',\r\n        'textAngular'\r\n      ])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, msApiProvider, msNavigationServiceProvider, $translatePartialLoaderProvider) {\r\n\r\n    // State\r\n    $stateProvider.state('app.checklist', {\r\n      url: '/checklist',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/checklist/checklist.html',\r\n          controller: 'checklistController as vm'\r\n        }\r\n      }\r\n    })\r\n      .state('app.checklist.group', {\r\n        url: '/:id',\r\n        views: {\r\n          'content@app': {\r\n            templateUrl: 'app/main/checklist/checklist.html',\r\n            controller: 'checklistController as vm'\r\n          }\r\n        }\r\n      })\r\n      .state('app.checklist.detail', {\r\n        url: '/detail/:id',\r\n        views: {\r\n          'content@app': {\r\n            templateUrl: 'app/main/checklist/views/detail/checklist.html',\r\n            controller: 'checklistController as vm'\r\n          }\r\n        }\r\n      })\r\n      .state('app.checklist.conflicts', {\r\n        url: \"/conflicts/:id\",\r\n        views: {\r\n          'content@app': {\r\n            templateUrl: 'app/main/checklist/views/detail/checklist.html',\r\n            controller: 'checklistController as vm'\r\n          }\r\n        },\r\n        params: {\r\n          checklist: null,\r\n          id: null,\r\n          sections: null,\r\n          headings: null,\r\n          items: null\r\n        }\r\n      })\r\n      .state('app.checklist.notifications', {\r\n        url: '/notifications/:idCHK',\r\n        views: {\r\n          'content@app': {\r\n            templateUrl: 'app/main/checklist/views/detail/checklist.html',\r\n            controller: 'checklistController as vm'\r\n          }\r\n        },\r\n        params: {\r\n          checklist: null,\r\n          id: null,\r\n          idCHK: null,\r\n          sections: null,\r\n          headings: null,\r\n          items: null,\r\n          name: null,\r\n          type: null\r\n        }\r\n      });\r\n\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/checklist');\r\n\r\n    // Navigation\r\n    msNavigationServiceProvider.saveItem('checklists', {\r\n      title: 'Checklists',\r\n      group: true,\r\n      weight: 1\r\n    });\r\n\r\n    msNavigationServiceProvider.saveItem('checklists.checklist', {\r\n      title: 'My Checklists',\r\n      icon: 'icon-folder-multiple',\r\n      state: 'app.checklist',\r\n      weight: 1\r\n    });\r\n\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.checklist')\r\n    .controller('ChecklistUploadAttachmentDialogController', ChecklistUploadAttachmentDialogController);\r\n\r\n  /** @ngInject */\r\n  function ChecklistUploadAttachmentDialogController($mdDialog, api, pID, pType, $document, $mdSidenav, $http, $rootScope, $scope) {\r\n    var vm = this;\r\n\r\n    vm.pID = pID;\r\n    vm.pType = pType;\r\n\r\n    // Data\r\n    vm.title = 'Upload Attachments';\r\n    vm.closeDialog = closeDialog;\r\n    vm.upload = upload;\r\n    vm.uniqueString = uniqueString;\r\n\r\n    function closeDialog() {\r\n      $mdDialog.hide();\r\n    }\r\n\r\n    function uniqueString() {\r\n      var text = \"\";\r\n      var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n\r\n      for (var i = 0; i < 8; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n      }\r\n      return text;\r\n    }\r\n\r\n    /* BEGIN IMPORT*/\r\n\r\n    vm.sizeLimit = 10585760; // 10MB in Bytes\r\n    vm.uploadProgress = 0;\r\n    vm.creds = {\r\n      bucket: 'checklinked-attachments-temp',\r\n      access_key: 'AKIAI6XHWIU2YCPG6BPA',\r\n      secret_key: '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'\r\n    };\r\n\r\n    function upload() {\r\n      console.log('AWS.config', AWS.config);\r\n      //console.log('vm', vm);\r\n\r\n      AWS.config.update({accessKeyId: vm.creds.access_key, secretAccessKey: vm.creds.secret_key});\r\n      AWS.config.region = 'us-west-1';\r\n      var bucket = new AWS.S3({params: {Bucket: vm.creds.bucket}});\r\n\r\n      vm.file = $('#AWSFileUploadInput')[0].files[0];\r\n\r\n      if (vm.file) {\r\n        vm.file.label = vm.lable;\r\n        console.log('vm.file', vm.file);\r\n        console.log('vm.file.label', vm.label);\r\n        var fileSize = Math.round(parseInt(vm.file.size));\r\n        if (fileSize > vm.sizeLimit) {\r\n          $rootScope.message('Sorry, your attachment is too big. <br/> Maximum ' + vm.fileSizeLabel() + ' file attachment allowed', 'warning');\r\n          return false;\r\n        }\r\n        // Prepend Unique String To Prevent Overwrites\r\n        var uniqueFileName = vm.uniqueString() + '-' + vm.file.name;\r\n        vm.aws = 'https://s3-us-west-1.amazonaws.com/checklinked-attachments-temp/' + uniqueFileName;\r\n\r\n        var params = {Key: uniqueFileName, ContentType: vm.file.type, Body: vm.file, ServerSideEncryption: 'AES256'};\r\n\r\n        bucket.putObject(params, function (err, data) {\r\n\r\n          api.attachments.add(vm.pID, vm.pType, vm.aws, vm.file.name, vm.file.size, vm.label).error(function (res) {\r\n            return $rootScope.message(\"Error Uploading Attachment\", 'warning');\r\n          }).success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              $rootScope.message(\"Error Adding Attachments\", 'warning');\r\n            } else if (res.code) {\r\n              $rootScope.message(res.message, 'warning');\r\n            } else {\r\n\r\n              //else code here\r\n            }\r\n          });\r\n          \r\n          if (err) {\r\n            console.log('params', params);\r\n            console.log('data', data);\r\n            console.log('err', err);\r\n            console.log('err.code', err.code);\r\n            $rootScope.message(err.message, err.code, 'warning');\r\n            return false;\r\n          }\r\n          else {\r\n            // Upload Successfully Finished\r\n            $rootScope.message(\"Attachment Uploaded\", 'success');\r\n\r\n            vm.checklist.// Reset The Progress Bar\r\n            setTimeout(function () {\r\n              vm.uploadProgress = 0;\r\n              $scope.$digest();\r\n            }, 4000);\r\n          }\r\n        })\r\n          .on('httpUploadProgress', function (progress) {\r\n            vm.uploadProgress = Math.round(progress.loaded / progress.total * 100);\r\n            $scope.$digest();\r\n          });\r\n      }\r\n      else {\r\n        // No File Selected\r\n        $rootScope.message('Please select a file to upload', 'warning');\r\n      }\r\n    }\r\n\r\n    vm.fileSizeLabel = function () {\r\n      // Convert Bytes To MB\r\n      return Math.round(vm.sizeLimit / 1024 / 1024) + 'MB';\r\n    };\r\n\r\n  }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.checklist')\r\n        .controller('ChecklistShowLinkedUsersDialogController', ChecklistShowLinkedUsersDialogController);\r\n\r\n    /** @ngInject */\r\n    function ChecklistShowLinkedUsersDialogController($mdDialog, Checklist, event, api, $document, $mdSidenav, $http, $rootScope, $scope, $stateParams, $filter)\r\n    {\r\n        var vm = this;\r\n\r\n        vm.idCHK = $stateParams.id;\r\n        vm.checklist = angular.copy(Checklist);\r\n\t\tvm.title = 'Show Linked Users \"' + vm.checklist.name + '\"';\r\n\t\t\r\n\t\tvm.checklist = {\r\n         'parentId' : $stateParams.id\r\n         }\r\n\t\t    \t\t\r\n        // Methods\t\t\r\n\t\tvm.setChecklistCtrlBlank = setChecklistCtrlBlank;\r\n\t\tvm.setBlank = setBlank;\t\r\n\t\tvm.setError = setError;\t\r\n\t\tvm.loadLinkedUsers = loadLinkedUsers;\r\n\t\tvm.closeDialog = closeDialog;\r\n\t\t\r\n        //vm.closeDialog = closeDialog;\r\n\t\tconsole.log('$scope on dialog at load',$scope);\r\n\t\tconsole.log('vm on dialog at load',vm);\r\n\t\t\r\n\t\t\r\n        function closeDialog()\r\n        {\r\n           \t$mdDialog.hide();\r\n        }\r\n        \r\n        \r\n    \r\n    function setBlank() {\r\n      $scope.loadingLinked = false;\r\n      vm.error = 0;\r\n      vm.message = '';\r\n      $scope.users = [];\r\n      return $scope.usersLoaded = false;\r\n    };\r\n    \r\n    vm.setBlank();\r\n    \r\n        \r\n   function setError(err, msg) {\r\n      vm.error = err;\r\n      return vm.message = msg;\r\n    };\r\n    \r\n    \r\n    $scope.toggleShowCheckboxes = function(user) {\r\n      var show;\r\n      console.log('user', user);\r\n      show = {\r\n        idCON: user.idCON,\r\n        name: user.name.first\r\n      };\r\n\t  console.log('$scope on toggle',$scope);\r\n      if (user.isShowing) {\r\n        user.isShowing = false;\r\n\t\t//$scope.removeUserCheckboxes(show);\r\n      } else {\r\n        user.isShowing = true;\r\n\t\t//$scope.displayUserCheckboxes(show);\r\n        console.log('displayed user', user, show);\r\n        console.log('showingUsers', $scope.showingUsers);\r\n      }\r\n      return true;\r\n    };\r\n    \r\n\r\n\tfunction loadLinkedUsers() {\r\n      //console.log('loading users', $scope);\r\n      vm.setBlank();\r\n      $scope.loadingLinked = true;\r\n      return api.checklists.getLinkedUsers(vm.idCHK).then(function(res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return vm.setError(-1, 'Server not responding properly.');\r\n        } else if (res.code) {\r\n          return vm.setError(res.code, res.message);\r\n        } else {\r\n          res.checklists.forEach(function(cfc) {\r\n          \t//console.log('res', res);\r\n            var usr;\r\n            usr = cfc.ownerDetails;\r\n            usr.isShowing = false;\r\n            $scope.users.push(usr);\r\n            if (usr.idCON === $rootScope.viewAs.user.idCON) {\r\n            \t//console.log('vm.toggleShowCheckboxes(usr)', vm.toggleShowCheckboxes(usr));\r\n              return $scope.toggleShowCheckboxes(usr);\r\n              console.log('error here');\r\n            }\r\n            \r\n          });\r\n          return $scope.usersLoaded = true;\r\n        }\r\n      }, function(err) {\r\n        return vm.setError(-1, 'Unable to load linked user list.');\r\n      }).then(function() {\r\n        return $scope.loadingLinked = false;\r\n      });\r\n     \r\n    };\r\n        \r\n\t$scope.$on('event:checklistLoaded', function() {\r\n      if (!$scope.usersLoaded && !$scope.loadingLinked) {\r\n        console.log('loading users by event');\r\n        return vm.loadLinkedUsers();\r\n      }\r\n    });\r\n    if (!$scope.usersLoaded && !$scope.loadingLinked) {\r\n      console.log('loading users by default');\r\n      console.log('$scope.users', $scope.users);\r\n      return vm.loadLinkedUsers();\r\n    }    \r\n    \r\n        \t\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.checklist')\r\n        .controller('ChecklistSendLinkRequestDialogController', ChecklistSendLinkRequestDialogController);\r\n\r\n    /** @ngInject */\r\n    function ChecklistSendLinkRequestDialogController($mdDialog, api, idCHK, $document, $filter, $mdSidenav, $rootScope, $scope, $http)\r\n    {\r\n\r\n     var vm = this;\r\n\r\n\t// Data\r\n    vm.idCHK = idCHK;\r\n\r\n    vm.closeDialog = closeDialog;\r\n\r\n\r\n\tvm.user = $rootScope.user;\r\n\r\n    vm.find = {\r\n      inProgress: false,\r\n      showError: function(msg, code) {\r\n        if (code == null) {\r\n          code = 0;\r\n        }\r\n        this.error.code = code;\r\n        this.error.message = msg;\r\n        return this.error.show = true;\r\n      },\r\n      error: {\r\n        code: 0,\r\n        message: '',\r\n        show: false\r\n      },\r\n      criteria: '',\r\n      status: function(link) {\r\n        var idCON, invites, result, status, type;\r\n        status = '';\r\n        idCON = link.id;\r\n        if (idCON === 0) {\r\n          type = 'organization';\r\n          invites = $filter('filter')(vm.invites, {\r\n            users: {\r\n              recipient: {\r\n                id: 0,\r\n                idACC: link.id\r\n              }\r\n            }\r\n          }, true);\r\n          if (invites.length) {\r\n            status = 'Sent';\r\n          } else {\r\n            status = 'Stranger';\r\n          }\r\n        } else {\r\n          type = 'contact';\r\n          invites = $filter('filter')(vm.invites, {\r\n            users: {\r\n              recipient: {\r\n                id: idCON\r\n              }\r\n            }\r\n          }, true);\r\n          if (invites.length) {\r\n            if (invites[0].m_accepted === '') {\r\n              status = 'Sent';\r\n            } else {\r\n              status = 'Linked';\r\n            }\r\n          } else {\r\n            status = 'Stranger';\r\n          }\r\n        }\r\n        result = {\r\n          status: status,\r\n          invites: invites,\r\n          type: type\r\n        };\r\n        return result;\r\n      },\r\n      processLink: function(raw) {\r\n      \tconsole.log('vm', vm);\r\n      \tconsole.log('raw', raw);\r\n        var info, processed;\r\n        info = vm.find.status(raw);\r\n        processed = $.extend({}, raw, {\r\n          requesting: false,\r\n          type: info.type,\r\n          status: info.status,\r\n          invite: info.invites[0],\r\n          request: function() {\r\n          \tconsole.log('vm', vm);\r\n            var itemID, link;\r\n            link = this;\r\n            link.requesting = true;\r\n            itemID = vm.type === 'group' ? vm.item : vm.idCHK;\r\n            return api.checklists.invite.send(raw.id, itemID, true, raw.idACC, vm.type).success(function(res) {\r\n              var status;\r\n              if (res === void 0 || res === null || res === '') {\r\n                return $rootScope.message('Error sending Link Request.  Server not responding properly.', 'warning');\r\n              } else if (res.code) {\r\n                return $rootScope.message(\"Error sending Link Request. (\" + res.code + \"): \" + res.message, 'warning');\r\n              } else {\r\n                vm.invites.push(res.invites[0]);\r\n                status = vm.find.status(link);\r\n                link.status = status.status;\r\n                return link.invite = status.invites[0];\r\n              }\r\n            }).error(function(res) {\r\n              return $rootScope.message('Error sending Link Request.  Server not responding.', 'warning');\r\n            })[\"finally\"](function() {\r\n              return link.requesting = false;\r\n            });\r\n          },\r\n          withdraw: function() {\r\n            return $rootScope.message('This feature is under development.');\r\n          }\r\n        });\r\n        return processed;\r\n      },\r\n      submit: function() {\r\n      \tconsole.log('submit search');\r\n        var criteria;\r\n        if (this.criteria === '') {\r\n          $rootScope.message('No find criteria provided!');\r\n          $(\"#findLinksQueryString\").focus();\r\n          return false;\r\n        }\r\n        criteria = encodeURI(this.criteria);\r\n        this.inProgress = true;\r\n\t\t\t\treturn $http.post(\"https://checklinked.com/ajax/links_find-post.php\", {\r\n          criteria: criteria,\r\n          idCHK: vm.idCHK\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        }).success(function(res) {\r\n          var found;\r\n          if (res === void 0 || res === null || res === '') {\r\n            return $rootScope.message('Server not responding properly.');\r\n          } else if (res.code) {\r\n            vm.found = [];\r\n            return vm.find.showError(res.message, res.code);\r\n          } else {\r\n            console.log('server response: ', res);\r\n            vm.find.error.show = false;\r\n            vm.invites = res.invites;\r\n            found = {\r\n              organizations: res.organizations.map(vm.find.processLink),\r\n              contacts: res.contacts.map(vm.find.processLink)\r\n            };\r\n            console.log('find result: ', found);\r\n            return vm.found = found.organizations.concat(found.contacts);\r\n          }\r\n        }).error(function(res) {\r\n          return $rootScope.message('Server not responding.');\r\n        })[\"finally\"](function() {\r\n          return vm.find.inProgress = false;\r\n        });\r\n      }\r\n    };\r\n\r\n    vm.found = [];\r\n\r\n    vm.invites = [];\r\n\r\n\r\n\r\n        function closeDialog()\r\n        {\r\n        \tconsole.log('close me');\r\n           \t$mdDialog.hide();\r\n        }\r\n\r\n\r\n\r\n    }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.checklist')\r\n        .controller('ChecklistPublishTemplateDialogController', ChecklistPublishTemplateDialogController);\r\n\r\n    /** @ngInject */\r\n    function ChecklistPublishTemplateDialogController($mdDialog, api, idCHK, $document, $mdSidenav, $http, $rootScope, $scope)\r\n    {\r\n        var vm = this;\r\n\r\n\t\tvm.idCHK = idCHK;\r\n        // Data\r\n        vm.title = 'Publish Template';\r\n\t\tvm.closeDialog = closeDialog;\r\n\r\n\tfunction closeDialog()\r\n    {\r\n    $mdDialog.hide();\r\n    }\r\n\r\n\r\n    vm.publish = {\r\n      idCHK: null,\r\n      name: null,\r\n      pvt: true,\r\n      submitting: false,\r\n      gatherInfo: function(idCHK) {\r\n        vm.publish.idCHK = idCHK;\r\n        return true;\r\n      },\r\n      togglePrivate: function() {\r\n        this.pvt = !this.pvt;\r\n        return true;\r\n      },\r\n      publish: function() {\r\n\r\n      \tvm.publish.idCHK = vm.idCHK;\r\n\r\n\r\n      \tconsole.log('vm.publish.name', vm.publish.name);\r\n      \tconsole.log('vm.publish.idCHK', vm.publish.idCHK);\r\n      \tconsole.log('vm.publish.name', vm.publish.pvt);\r\n\r\n        var ref1, ref2;\r\n        if (((ref1 = vm.publish.idCHK) != null ? ref1.length : void 0) && ((ref2 = vm.publish.name) != null ? ref2.length : void 0)) {\r\n          vm.publish.submitting = true;\r\n          return api.checklists.publish(vm.publish.idCHK, vm.publish.name, 'checklist', vm.publish.pvt).error(function(res) {\r\n            return $rootScope.message('Unknown error publishing Template.', 'warning');\r\n          }).success(function(res) {\r\n            if (res.code) {\r\n              return $rootScope.message(\"Error publishing Template. (\" + res.code + \": \" + res.message + \")\", 'warning');\r\n            } else {\r\n              $rootScope.message(\"Template published successfully.\");\r\n              vm.closeDialog();\r\n            }\r\n          })[\"finally\"](function() {\r\n            vm.publish.submitting = false;\r\n            vm.publish.idCHK = null;\r\n            return vm.publish.name = null;\r\n          });\r\n        } else {\r\n          return $rootScope.message('You must specify the Template Name.', 'warning');\r\n        }\r\n      }\r\n    };\r\n\r\n\r\n    }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.checklist')\r\n        .controller('ChecklistFindGroupTemplateDialogController', ChecklistFindGroupTemplateDialogController);\r\n\r\n    /** @ngInject */\r\n    function ChecklistFindGroupTemplateDialogController($mdDialog, api, idCHK, $document, $filter, $mdSidenav, $rootScope, $scope, $http)\r\n    {\r\n\r\n     var vm = this;\r\n     \r\n\t vm.title = 'Find Group Template';\r\n             \r\n     vm.find = {\r\n      template: null,\r\n      searchCount: 0,\r\n      searching: false,\r\n      creating: false,\r\n      results: [],\r\n      begin: function(parentID, type) {\r\n        vm.find.template = {\r\n          criteria: {\r\n            name: '',\r\n            organization: '',\r\n            author: '',\r\n            version: '',\r\n            type: type\r\n          },\r\n          parentID: parentID\r\n        };\r\n        vm.find.searching = false;\r\n        vm.find.creating = false;\r\n        vm.find.searchCount = 0;\r\n        vm.find.results = [];\r\n        $(\"#findTemplate\").modal('show');\r\n        return null;\r\n      },\r\n      search: function() {\r\n        vm.find.searching = true;\r\n        if (vm.find.template.criteria.name === '' && vm.find.template.criteria.organization === '' && vm.find.template.criteria.author === '' && vm.find.template.criteria.version === '') {\r\n          $rootScope.message('Please provide Search Criteria', 'warning');\r\n          vm.find.searching = false;\r\n          return false;\r\n        }\r\n        return api.checklists.searchForTemplates(vm.find.template.criteria).error(function(res) {\r\n          return $rootScope.message('Unknown error finding Templates.', 'warning');\r\n        }).success(function(res) {\r\n          if (res.code) {\r\n            res.display = \"Error finding Templates: (\" + res.code + \"): \" + res.message;\r\n          }\r\n          vm.find.results.push(res);\r\n          return vm.find.searchCount++;\r\n        })[\"finally\"](function() {\r\n          return vm.find.searching = false;\r\n        });\r\n      },\r\n      create: function(idCTMPL) {\r\n        vm.find.creating = true;\r\n        return api.checklist.createFromTemplate(idCTMPL, vm.find.template.parentID, vm.find.template.criteria.type).error(function(res) {\r\n          return $rootScope.message('Unknown error creating Checklist from selected Template.', 'warning');\r\n        }).success(function(res) {\r\n          if (res.code) {\r\n            return $rootScope.message(\"Error creating Checklist from Template: (\" + res.code + \"): \" + res.message, 'warning');\r\n          } else {\r\n            if (vm.find.template.criteria.type === 'group') {\r\n              $rootScope.groups.push(res.groups[0]);\r\n            }\r\n            $rootScope.checklists = $rootScope.checklists.concat(res.checklists);\r\n            $rootScope.organizeData();\r\n            return $(\"#findTemplate\").modal('hide');\r\n          }\r\n        })[\"finally\"](function() {\r\n          return vm.find.creating = false;\r\n        });\r\n      }\r\n    };\r\n    \r\n  \t\r\n        function closeDialog()\r\n        {\r\n        \tconsole.log('close me');\r\n           \t$mdDialog.hide();\r\n        }\r\n  \t\r\n        \r\n        \r\n    }\r\n})();\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.checklist')\r\n    .controller('ChecklistEditChecklistDialogController', ChecklistEditChecklistDialogController);\r\n\r\n  /** @ngInject */\r\n  function ChecklistEditChecklistDialogController($mdDialog, Checklist, Vars, api, $document, $mdSidenav, $rootScope, $scope, $http) {\r\n    var vm = this;\r\n\r\n\r\n    // Data\r\n    vm.title = 'Edit Checklist';\r\n    vm.checklist = angular.copy(Checklist);\r\n    vm.vars = angular.copy(Vars);\r\n    vm.saveChecklist = saveChecklist;\r\n    vm.closeDialog = closeDialog;\r\n    vm.deleteConfirm = deleteConfirm;\r\n    vm.deleteChecklist = deleteChecklist;\r\n\r\n    vm.newChecklist = false;\r\n\r\n    if (!vm.checklist) {\r\n      vm.checklist = {\r\n        'id': '',\r\n        'name': '',\r\n        'description': '',\r\n        'order': '',\r\n        'deleted': false\r\n      };\r\n      vm.title = 'New Checklist';\r\n      vm.newChecklist = true;\r\n    }\r\n\r\n    // Methods\r\n\r\n    function saveChecklist() {\r\n\r\n      var editPack;\r\n\r\n      editPack = {\r\n        'id': vm.vars.index,\r\n        'rid': vm.vars.rid,\r\n        'index': vm.vars.index,\r\n        'type': 'checklist',\r\n        'text': vm.checklist.name,\r\n        'info': '',\r\n        'submitting': false,\r\n        'error': null,\r\n        'message': vm.vars.message\r\n      };\r\n\r\n      console.log('vm.vars.message', vm.vars.message);\r\n\r\n      return api.checklists.edit(editPack).error(function (res) {\r\n        vm.edit.error = res.code;\r\n        return vm.edit.message = res.message;\r\n      }).success(function (res) {\r\n        var notifyItem, packet;\r\n        vm.checklist[vm.vars.index] = res.updated;\r\n        packet = {\r\n          catalog: 'checklists',\r\n          type: 'edit',\r\n          user: {\r\n            idCON: $rootScope.user.idCON,\r\n            name: $rootScope.user.name\r\n          },\r\n          record: res.updated\r\n        };\r\n        //console.log('emitting data', packet);\r\n        $rootScope.socketio.emit('data', packet);\r\n        notifyItem = $.extend({}, res.updated, {\r\n          type: 'data'\r\n        });\r\n        //console.log('about to sent notify event', notifyItem);\r\n        $rootScope.socketio.emit('notify', [notifyItem]);\r\n        return vm.organizeData();\r\n      })[\"finally\"](function () {\r\n        return vm.edit.stop(which);\r\n      });\r\n\r\n    }\r\n\r\n\r\n    vm.edit = {\r\n      stop: function (which) {\r\n        var whats;\r\n        whats = which.type + 's';\r\n        $scope[whats][which.index].edit = null;\r\n        return $scope[whats][which.index].editing = false;\r\n      },\r\n      submit: function (which) {\r\n        var whats;\r\n        whats = which.type + 's';\r\n        if ($scope[whats][which.index].edit.text === $scope[whats][which.index].name && $scope[whats][which.index].edit.info === $scope[whats][which.index].info) {\r\n          $scope.edit.stop(which);\r\n          return false;\r\n        }\r\n        return EditService.attemptEdit(which).error(function (res) {\r\n          $scope[whats][which.index].edit.error = res.code;\r\n          return $scope[whats][which.index].edit.message = res.message;\r\n        }).success(function (res) {\r\n          var notifyItem, packet;\r\n          $scope[whats][which.index] = res.updated;\r\n          packet = {\r\n            catalog: whats,\r\n            type: 'edit',\r\n            user: {\r\n              idCON: $rootScope.user.idCON,\r\n              name: $rootScope.user.name\r\n            },\r\n            record: res.updated\r\n          };\r\n          //console.log('emitting data', packet);\r\n          $rootScope.socketio.emit('data', packet);\r\n          notifyItem = $.extend({}, res.updated, {\r\n            type: 'data'\r\n          });\r\n          //console.log('about to sent notify event', notifyItem);\r\n          $rootScope.socketio.emit('notify', [notifyItem]);\r\n          return $scope.organizeData();\r\n        })[\"finally\"](function () {\r\n          return $scope.edit.stop(which);\r\n        });\r\n      }\r\n    };\r\n\r\n    function deleteConfirm(what, item, ev) {\r\n\r\n      console.log('what', what);\r\n      console.log('item', item);\r\n\r\n      var confirm = $mdDialog.confirm()\r\n        .title('Please confirm you want to delete ' + item.name)\r\n        .htmlContent('This action cannot be undone.')\r\n        .ariaLabel('delete' + what)\r\n        .targetEvent(ev)\r\n        .ok('OK')\r\n        .cancel('CANCEL');\r\n\r\n      $mdDialog.show(confirm).then(function () {\r\n        vm.deleteItem(what, item, ev);\r\n      });\r\n    }\r\n\r\n    function deleteItem(what, item, ev) {\r\n\r\n      var svc, whats;\r\n      whats = what + 's';\r\n      svc = vm.svc(what);\r\n\r\n      return svc.destroy(item.id).success(function (res) {\r\n        var notifyItem, packet;\r\n        if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          vm[whats].remove(item);\r\n          vm.organizeData();\r\n          packet = {\r\n            catalog: whats,\r\n            type: 'delete',\r\n            user: {\r\n              idCON: $rootScope.user.idCON,\r\n              name: $rootScope.user.name\r\n            },\r\n            record: item\r\n          };\r\n          //console.log('emitting data', packet);\r\n          $rootScope.socketio.emit('data', packet);\r\n          notifyItem = $.extend({}, item, {\r\n            type: 'data'\r\n          });\r\n          //console.log('about to sent notify event', notifyItem);\r\n          $rootScope.message(item.name + ' succesfully deleted', 'success');\r\n          return $rootScope.socketio.emit('notify', [notifyItem]);\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n\r\n    function closeDialog() {\r\n      $mdDialog.hide();\r\n    }\r\n\r\n  }\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.checklist')\r\n    .controller('ChecklistConversationDialogController', ChecklistConversationDialogController);\r\n\r\n  /** @ngInject */\r\n  function ChecklistConversationDialogController($mdDialog, api, convoId, convoName, producerType, $document, $mdSidenav, $http, $rootScope, $scope, $filter) {\r\n\r\n    var vm = this;\r\n\r\n    vm.convoId = convoId;\r\n    vm.convoName = convoName;\r\n    vm.title = vm.convoName + ' Conversation';\r\n    vm.producerType = producerType,\r\n    vm.itemType = 'post';\r\n    vm.setSocketStuff = setSocketStuff;\r\n    vm.closeDialog = closeDialog;\r\n    vm.old = old;\r\n    vm.getLatestPosts = getLatestPosts;\r\n    vm.pushPosts = pushPosts;\r\n    vm.submitPost = submitPost;\r\n\r\n    vm.form = {\r\n      'from': $rootScope.user.name.full,\r\n      'subject': 'Re: ' + vm.convoName,\r\n      'message': ''\r\n    };\r\n\r\n    var ref;\r\n    vm.loading = {\r\n      posts: true\r\n    };\r\n\r\n    function old(ts) {\r\n      var now, old, post;\r\n      if (typeof ts.getTime !== 'function') {\r\n        return false;\r\n      }\r\n      now = Math.round(new Date().getTime() / 1000);\r\n      old = now - (12 * 3600);\r\n      post = Math.round(ts.getTime() / 1000);\r\n      return post < old;\r\n    };\r\n\r\n    vm.conversation = {\r\n      id: vm.convoId,\r\n      posts: [],\r\n      name: '',\r\n      currentSkip: 0\r\n    };\r\n\r\n    function setSocketStuff() {\r\n      console.log('setting socket stuff (convo)');\r\n      vm.socketStuffSet = true;\r\n      $rootScope.socketio.emit('join', \"/conversation/\" + vm.convoId);\r\n      if ($rootScope.socketio._callbacks['$message'] === void 0) {\r\n        console.log('socket message callback is not set up; setting now', $rootScope.socketio);\r\n        return $rootScope.socketio.on('message', function (post) {\r\n          var notifyItem;\r\n          console.log('message received', post);\r\n          if (post.idFDI && post.id_contact === $rootScope.user.idCON) {\r\n            notifyItem = $.extend({}, post, {\r\n              type: 'post'\r\n            });\r\n            $rootScope.notify(notifyItem);\r\n          }\r\n          vm.pushPosts([post]);\r\n          $scope.$apply();\r\n          $scope.$digest();\r\n        });\r\n      }\r\n    };\r\n\r\n    if ((ref = $rootScope.socketio) != null ? ref.connected : void 0) {\r\n      console.log('socket was already connected (convo)');\r\n      vm.setSocketStuff();\r\n    }\r\n\r\n    $scope.$on('event:socketConnected', function () {\r\n      console.log('received ng event:socketConnected (convo)');\r\n      return vm.setSocketStuff();\r\n    });\r\n\r\n    function getLatestPosts() {\r\n\r\n      console.log('vm.conversation.id', vm.conversation.id);\r\n\r\n      console.log('vm.conversation.currentSkip', vm.conversation.currentSkip);\r\n\r\n      return api.conversations.get(vm.conversation.id, vm.conversation.currentSkip).success(function (res) {\r\n        console.log(res);\r\n        return vm.pushPosts(res.posts);\r\n      })[\"finally\"](function () {\r\n        return vm.loading.posts = false;\r\n      });\r\n    };\r\n\r\n    vm.newPost = {\r\n      text: '',\r\n      submitting: false\r\n    };\r\n\r\n    function pushPosts(posts, filter) {\r\n      console.log('posts', posts);\r\n      console.log('filter');\r\n      var i, len, post, ref1, results;\r\n      if (filter == null) {\r\n        filter = $filter;\r\n      }\r\n      console.log('pushing posts', posts);\r\n      if (posts != null ? posts.length : void 0) {\r\n        results = [];\r\n        for (i = 0, len = posts.length; i < len; i++) {\r\n          post = posts[i];\r\n          if (post.id_parent === vm.conversation.id) {\r\n            console.log('post accepted', post);\r\n            if (!((ref1 = $filter('filter')(vm.conversation.posts, {\r\n                rid: post.rid\r\n              }, true)) != null ? ref1.length : void 0)) {\r\n              vm.conversation.posts.unshift(post);\r\n              results.push(vm.conversation.currentSkip += 1);\r\n            } else {\r\n              results.push(console.log('post rejected: already added', post));\r\n            }\r\n          } else {\r\n            results.push(console.log('post rejected: not this convo', post));\r\n          }\r\n        }\r\n        return results;\r\n      }\r\n    };\r\n\r\n    function submitPost() {\r\n      vm.newPost.submitting = true;\r\n      console.log('vm.type', vm.type);\r\n      console.log('submitting convo entry', vm.conversation.id, vm.newPost.text, vm.itemType, vm.producerType);\r\n      return api.conversations.add(vm.conversation.id, vm.newPost.text, vm.itemType, vm.producerType).error(function (res) {\r\n        return $rootScope.message('Error posting.', 'warning');\r\n      }).success(function (res) {\r\n        if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          return $rootScope.socketio.emit('message', res.posts[0]);\r\n        }\r\n      })[\"finally\"](function () {\r\n        vm.closeDialog();\r\n        /*\r\n         return vm.newPost = {\r\n         text: vm.newPost.text,\r\n         submitting: false\r\n         };\r\n         */\r\n      });\r\n    };\r\n\r\n    function closeDialog() {\r\n      $mdDialog.hide();\r\n    }\r\n\r\n    vm.getLatestPosts();\r\n  }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.checklist')\r\n        .controller('ChecklistDialogController', ChecklistDialogController);\r\n\r\n    /** @ngInject */\r\n    function ChecklistDialogController($mdDialog, Checklist, Checklists, event, api, $document, $mdSidenav, $http, $rootScope)\r\n    {\r\n        var vm = this;\r\n\r\n\tvm.svc = function(what) {\r\n      if (what === 'section') {\r\n        return sections;\r\n      }\r\n      if (what === 'heading') {\r\n        return headings;\r\n      }\r\n      if (what === 'item') {\r\n        return items;\r\n      }\r\n      if (what === 'checkbox') {\r\n        return checkbox;\r\n      }\r\n    };\r\n    \r\n\r\n    vm.create = function(what, name, to, type, info) {\r\n      var count, order, ref1, svc, whats;\r\n      if (to == null) {\r\n        to = null;\r\n      }\r\n      if (type == null) {\r\n        type = 1;\r\n      }\r\n      if (info == null) {\r\n        info = '';\r\n      }\r\n      whats = what + 's';\r\n      svc = $scope.svc(what);\r\n      vm.newItem.submitting = true;\r\n      order = 1;\r\n      if (what === 'section') {\r\n        order += vm.sections.length;\r\n      } else {\r\n        count = (ref1 = $filter('filter')(vm[whats], {\r\n          id_parent: to\r\n        }, true)) != null ? ref1 : [];\r\n        order += count.length;\r\n      }\r\n      console.log('calling create:add service', name, order, to, type, info);\r\n      return api.svc.add(name, order, to, type, info).success(function(res) {\r\n        var notifyItem, packet;\r\n        if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          vm[whats].push(res[what]);\r\n          vm.organizeData();\r\n          packet = {\r\n            catalog: whats,\r\n            type: 'add',\r\n            user: {\r\n              idCON: $rootScope.user.idCON,\r\n              name: $rootScope.user.name\r\n            },\r\n            record: res[what]\r\n          };\r\n          console.log('emitting data', packet);\r\n          $rootScope.socketio.emit('data', packet);\r\n          notifyItem = $.extend({}, res[what], {\r\n            type: 'data'\r\n          });\r\n          console.log('about to sent notify event', notifyItem);\r\n          $rootScope.socketio.emit('notify', [notifyItem]);\r\n          return $(\"#newItem\").modal(\"hide\");\r\n        }\r\n      })[\"finally\"](function() {\r\n        return $scope.newItem.submitting = false;\r\n      });\r\n    };\r\n    \r\n\r\n \t\t/**\r\n         * Close dialog\r\n         */\r\n        function closeDialog()\r\n        {\r\n            $mdDialog.hide();\r\n        }\r\n\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core',\r\n            [\r\n                'ngAnimate',\r\n                'ngAria',\r\n                'ngCookies',\r\n                'ngMessages',\r\n                'ngResource',\r\n                'ngSanitize',\r\n                'ngMaterial',\r\n                'pascalprecht.translate',\r\n                'ui.router'\r\n                \r\n            ]);\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('MsWidgetController', MsWidgetController)\r\n        .directive('msWidget', msWidgetDirective)\r\n        .directive('msWidgetFront', msWidgetFrontDirective)\r\n        .directive('msWidgetBack', msWidgetBackDirective);\r\n\r\n    /** @ngInject */\r\n    function MsWidgetController($scope, $element)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.flipped = false;\r\n\r\n        // Methods\r\n        vm.flip = flip;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Flip the widget\r\n         */\r\n        function flip()\r\n        {\r\n            if ( !isFlippable() )\r\n            {\r\n                return;\r\n            }\r\n\r\n            // Toggle flipped status\r\n            vm.flipped = !vm.flipped;\r\n\r\n            // Toggle the 'flipped' class\r\n            $element.toggleClass('flipped', vm.flipped);\r\n        }\r\n\r\n        /**\r\n         * Check if widget is flippable\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isFlippable()\r\n        {\r\n            return (angular.isDefined($scope.flippable) && $scope.flippable === true);\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msWidgetDirective()\r\n    {\r\n        return {\r\n            restrict  : 'E',\r\n            scope     : {\r\n                flippable: '=?'\r\n            },\r\n            controller: 'MsWidgetController',\r\n            transclude: true,\r\n            compile   : function (tElement)\r\n            {\r\n                tElement.addClass('ms-widget');\r\n\r\n                return function postLink(scope, iElement, iAttrs, MsWidgetCtrl, transcludeFn)\r\n                {\r\n                    // Custom transclusion\r\n                    transcludeFn(function (clone)\r\n                    {\r\n                        iElement.empty();\r\n                        iElement.append(clone);\r\n                    });\r\n\r\n                    //////////\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msWidgetFrontDirective()\r\n    {\r\n        return {\r\n            restrict  : 'E',\r\n            require   : '^msWidget',\r\n            transclude: true,\r\n            compile   : function (tElement)\r\n            {\r\n                tElement.addClass('ms-widget-front');\r\n\r\n                return function postLink(scope, iElement, iAttrs, MsWidgetCtrl, transcludeFn)\r\n                {\r\n                    // Custom transclusion\r\n                    transcludeFn(function (clone)\r\n                    {\r\n                        iElement.empty();\r\n                        iElement.append(clone);\r\n                    });\r\n\r\n                    // Methods\r\n                    scope.flipWidget = MsWidgetCtrl.flip;\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msWidgetBackDirective()\r\n    {\r\n        return {\r\n            restrict  : 'E',\r\n            require   : '^msWidget',\r\n            transclude: true,\r\n            compile   : function (tElement)\r\n            {\r\n                tElement.addClass('ms-widget-back');\r\n\r\n                return function postLink(scope, iElement, iAttrs, MsWidgetCtrl, transcludeFn)\r\n                {\r\n                    // Custom transclusion\r\n                    transcludeFn(function (clone)\r\n                    {\r\n                        iElement.empty();\r\n                        iElement.append(clone);\r\n                    });\r\n\r\n                    // Methods\r\n                    scope.flipWidget = MsWidgetCtrl.flip;\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('MsTimelineController', MsTimelineController)\r\n        .directive('msTimeline', msTimelineDirective)\r\n        .directive('msTimelineItem', msTimelineItemDirective);\r\n\r\n    /** @ngInject */\r\n    function MsTimelineController()\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.scrollEl = undefined;\r\n\r\n        // Methods\r\n        vm.setScrollEl = setScrollEl;\r\n        vm.getScrollEl = getScrollEl;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Set scroll element\r\n         *\r\n         * @param scrollEl\r\n         */\r\n        function setScrollEl(scrollEl)\r\n        {\r\n            vm.scrollEl = scrollEl;\r\n        }\r\n\r\n        /**\r\n         * Get scroll element\r\n         *\r\n         * @returns {undefined|*}\r\n         */\r\n        function getScrollEl()\r\n        {\r\n            return vm.scrollEl;\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msTimelineDirective()\r\n    {\r\n        return {\r\n            scope     : {\r\n                msTimeline: '=?',\r\n                loadMore  : '&?msTimelineLoadMore'\r\n            },\r\n            controller: 'MsTimelineController',\r\n            compile   : function (tElement)\r\n            {\r\n                tElement.addClass('ms-timeline');\r\n\r\n                return function postLink(scope, iElement, iAttrs, MsTimelineCtrl)\r\n                {\r\n                    // Create an element for triggering the load more action and append it\r\n                    var loadMoreEl = angular.element('<div class=\"ms-timeline-loader md-accent-bg md-whiteframe-4dp\"><span class=\"spinner animate-rotate\"></span></div>');\r\n                    iElement.append(loadMoreEl);\r\n\r\n                    // Default config\r\n                    var config = {\r\n                        scrollEl: '#content'\r\n                    };\r\n\r\n                    // Extend the configuration\r\n                    config = angular.extend(config, scope.msTimeline, {});\r\n                    \r\n                    // Grab the scrollable element and store it in the controller for general use\r\n                    var scrollEl = angular.element(config.scrollEl);\r\n                    MsTimelineCtrl.setScrollEl(scrollEl);\r\n\r\n                    // Threshold\r\n                    var threshold = 144;\r\n\r\n                    // Register onScroll event for the first time\r\n                    registerOnScroll();\r\n\r\n                    /**\r\n                     * onScroll Event\r\n                     */\r\n                    function onScroll()\r\n                    {\r\n                        if ( scrollEl.scrollTop() + scrollEl.height() + threshold > loadMoreEl.position().top )\r\n                        {\r\n                            // Show the loader\r\n                            loadMoreEl.addClass('show');\r\n\r\n                            // Unregister scroll event to prevent triggering the function over and over again\r\n                            unregisterOnScroll();\r\n\r\n                            // Trigger load more event\r\n                            scope.loadMore().then(\r\n                                // Success\r\n                                function ()\r\n                                {\r\n                                    // Hide the loader\r\n                                    loadMoreEl.removeClass('show');\r\n\r\n                                    // Register the onScroll event again\r\n                                    registerOnScroll();\r\n                                },\r\n\r\n                                // Error\r\n                                function ()\r\n                                {\r\n                                    // Remove the loader completely\r\n                                    loadMoreEl.remove();\r\n                                }\r\n                            );\r\n                        }\r\n                    }\r\n\r\n                    /**\r\n                     * onScroll event registerer\r\n                     */\r\n                    function registerOnScroll()\r\n                    {\r\n                        scrollEl.on('scroll', onScroll);\r\n                    }\r\n\r\n                    /**\r\n                     * onScroll event unregisterer\r\n                     */\r\n                    function unregisterOnScroll()\r\n                    {\r\n                        scrollEl.off('scroll', onScroll);\r\n                    }\r\n\r\n                    // Cleanup\r\n                    scope.$on('$destroy', function ()\r\n                    {\r\n                        unregisterOnScroll();\r\n                    });\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msTimelineItemDirective($timeout, $q)\r\n    {\r\n        return {\r\n            scope  : true,\r\n            require: '^msTimeline',\r\n            compile: function (tElement)\r\n            {\r\n                tElement.addClass('ms-timeline-item').addClass('hidden');\r\n\r\n                return function postLink(scope, iElement, iAttrs, MsTimelineCtrl)\r\n                {\r\n                    var threshold = 72,\r\n                        itemLoaded = false,\r\n                        itemInViewport = false,\r\n                        scrollEl = MsTimelineCtrl.getScrollEl();\r\n\r\n                    //////////\r\n\r\n                    init();\r\n\r\n                    /**\r\n                     * Initialize\r\n                     */\r\n                    function init()\r\n                    {\r\n                        // Check if the timeline item has ms-card\r\n                        if ( iElement.find('ms-card') )\r\n                        {\r\n                            // If the ms-card template loaded...\r\n                            scope.$on('msCard::cardTemplateLoaded', function (event, args)\r\n                            {\r\n                                var cardEl = angular.element(args[0]);\r\n\r\n                                // Test the card to see if there is any image on it\r\n                                testForImage(cardEl).then(function ()\r\n                                {\r\n                                    $timeout(function ()\r\n                                    {\r\n                                        itemLoaded = true;\r\n                                    });\r\n                                });\r\n                            });\r\n                        }\r\n                        else\r\n                        {\r\n                            // Test the element to see if there is any image on it\r\n                            testForImage(iElement).then(function ()\r\n                            {\r\n                                $timeout(function ()\r\n                                {\r\n                                    itemLoaded = true;\r\n                                });\r\n                            });\r\n                        }\r\n\r\n                        // Check if the loaded element also in the viewport\r\n                        scrollEl.on('scroll', testForVisibility);\r\n\r\n                        // Test for visibility for the first time without waiting for the scroll event\r\n                        testForVisibility();\r\n                    }\r\n\r\n                    // Item ready watcher\r\n                    var itemReadyWatcher = scope.$watch(\r\n                        function ()\r\n                        {\r\n                            return itemLoaded && itemInViewport;\r\n                        },\r\n                        function (current, old)\r\n                        {\r\n                            if ( angular.equals(current, old) )\r\n                            {\r\n                                return;\r\n                            }\r\n\r\n                            if ( current )\r\n                            {\r\n                                iElement.removeClass('hidden').addClass('animate');\r\n\r\n                                // Unbind itemReadyWatcher\r\n                                itemReadyWatcher();\r\n                            }\r\n                        }, true);\r\n\r\n                    /**\r\n                     * Test the given element for image\r\n                     *\r\n                     * @param element\r\n                     * @returns promise\r\n                     */\r\n                    function testForImage(element)\r\n                    {\r\n                        var deferred = $q.defer(),\r\n                            imgEl = element.find('img');\r\n\r\n                        if ( imgEl.length > 0 )\r\n                        {\r\n                            imgEl.on('load', function ()\r\n                            {\r\n                                deferred.resolve('Image is loaded');\r\n                            });\r\n                        }\r\n                        else\r\n                        {\r\n                            deferred.resolve('No images');\r\n                        }\r\n\r\n                        return deferred.promise;\r\n                    }\r\n\r\n                    /**\r\n                     * Test the element for visibility\r\n                     */\r\n                    function testForVisibility()\r\n                    {\r\n                        if ( scrollEl.scrollTop() + scrollEl.height() > iElement.position().top + threshold )\r\n                        {\r\n                            $timeout(function ()\r\n                            {\r\n                                itemInViewport = true;\r\n                            });\r\n\r\n                            // Unbind the scroll event\r\n                            scrollEl.off('scroll', testForVisibility);\r\n                        }\r\n                    }\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('MsStepperController', MsStepperController)\r\n        .directive('msHorizontalStepper', msHorizontalStepperDirective)\r\n        .directive('msHorizontalStepperStep', msHorizontalStepperStepDirective)\r\n        .directive('msVerticalStepper', msVerticalStepperDirective)\r\n        .directive('msVerticalStepperStep', msVerticalStepperStepDirective);\r\n\r\n    /** @ngInject */\r\n    function MsStepperController($timeout)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.mainForm = undefined;\r\n\r\n        vm.orientation = 'horizontal';\r\n        vm.steps = [];\r\n        vm.currentStep = undefined;\r\n        vm.currentStepNumber = 1;\r\n\r\n        // Methods\r\n        vm.setOrientation = setOrientation;\r\n        vm.registerMainForm = registerMainForm;\r\n        vm.registerStep = registerStep;\r\n        vm.setupSteps = setupSteps;\r\n        vm.resetForm = resetForm;\r\n\r\n        vm.setCurrentStep = setCurrentStep;\r\n\r\n        vm.gotoStep = gotoStep;\r\n        vm.gotoPreviousStep = gotoPreviousStep;\r\n        vm.gotoNextStep = gotoNextStep;\r\n        vm.gotoFirstStep = gotoFirstStep;\r\n        vm.gotoLastStep = gotoLastStep;\r\n\r\n        vm.isFirstStep = isFirstStep;\r\n        vm.isLastStep = isLastStep;\r\n\r\n        vm.isStepCurrent = isStepCurrent;\r\n        vm.isStepDisabled = isStepDisabled;\r\n        vm.isStepOptional = isStepOptional;\r\n        vm.isStepHidden = isStepHidden;\r\n        vm.filterHiddenStep = filterHiddenStep;\r\n        vm.isStepValid = isStepValid;\r\n        vm.isStepNumberValid = isStepNumberValid;\r\n\r\n        vm.isFormValid = isFormValid;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Set the orientation of the stepper\r\n         *\r\n         * @param orientation\r\n         */\r\n        function setOrientation(orientation)\r\n        {\r\n            vm.orientation = orientation || 'horizontal';\r\n        }\r\n\r\n        /**\r\n         * Register the main form\r\n         *\r\n         * @param form\r\n         */\r\n        function registerMainForm(form)\r\n        {\r\n            vm.mainForm = form;\r\n        }\r\n\r\n        /**\r\n         * Register a step\r\n         *\r\n         * @param element\r\n         * @param scope\r\n         * @param form\r\n         */\r\n        function registerStep(element, scope, form)\r\n        {\r\n            var step = {\r\n                element   : element,\r\n                scope     : scope,\r\n                form      : form,\r\n                stepNumber: scope.step || (vm.steps.length + 1),\r\n                stepTitle : scope.stepTitle\r\n            };\r\n\r\n            // Push the step into steps array\r\n            vm.steps.push(step);\r\n\r\n            // Sort steps by stepNumber\r\n            vm.steps.sort(function (a, b)\r\n            {\r\n                return a.stepNumber - b.stepNumber;\r\n            });\r\n            \r\n            return step;\r\n        }\r\n\r\n        /**\r\n         * Setup steps for the first time\r\n         */\r\n        function setupSteps()\r\n        {\r\n            vm.setCurrentStep(vm.currentStepNumber);\r\n        }\r\n\r\n        /**\r\n         * Reset steps and the main form\r\n         */\r\n        function resetForm()\r\n        {\r\n            // Timeout is required here because we need to\r\n            // let form model to reset before setting the\r\n            // statuses\r\n            $timeout(function ()\r\n            {\r\n                // Reset all the steps\r\n                for ( var x = 0; x < vm.steps.length; x++ )\r\n                {\r\n                    vm.steps[x].form.$setPristine();\r\n                    vm.steps[x].form.$setUntouched();\r\n                }\r\n\r\n                // Reset the main form\r\n                vm.mainForm.$setPristine();\r\n                vm.mainForm.$setUntouched();\r\n\r\n                // Go to first step\r\n                gotoFirstStep();\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Set current step\r\n         *\r\n         * @param stepNumber\r\n         */\r\n        function setCurrentStep(stepNumber)\r\n        {\r\n            // If the stepNumber is not a valid step number, bail...\r\n            if ( !isStepNumberValid(stepNumber) )\r\n            {\r\n                return;\r\n            }\r\n\r\n            // Update the current step number\r\n            vm.currentStepNumber = stepNumber;\r\n\r\n            if ( vm.orientation === 'horizontal' )\r\n            {\r\n                // Hide all steps\r\n                for ( var i = 0; i < vm.steps.length; i++ )\r\n                {\r\n                    vm.steps[i].element.hide();\r\n                }\r\n\r\n                // Show the current step\r\n                vm.steps[vm.currentStepNumber - 1].element.show();\r\n            }\r\n            else if ( vm.orientation === 'vertical' )\r\n            {\r\n                // Hide all step content\r\n                for ( var j = 0; j < vm.steps.length; j++ )\r\n                {\r\n                    vm.steps[j].element.find('.ms-stepper-step-content').hide();\r\n                }\r\n\r\n                // Show the current step content\r\n                vm.steps[vm.currentStepNumber - 1].element.find('.ms-stepper-step-content').show();\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Go to a step\r\n         *\r\n         * @param stepNumber\r\n         */\r\n        function gotoStep(stepNumber)\r\n        {\r\n            // If the step we are about to go\r\n            // is hidden, bail...\r\n            if ( isStepHidden(stepNumber) )\r\n            {\r\n                return;\r\n            }\r\n\r\n            vm.setCurrentStep(stepNumber);\r\n        }\r\n\r\n        /**\r\n         * Go to the previous step\r\n         */\r\n        function gotoPreviousStep()\r\n        {\r\n            var stepNumber = vm.currentStepNumber - 1;\r\n\r\n            // Test the previous steps and make sure we\r\n            // will land to the one that is not hidden\r\n            for ( var s = stepNumber; s >= 1; s-- )\r\n            {\r\n                if ( !isStepHidden(s) )\r\n                {\r\n                    stepNumber = s;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            vm.setCurrentStep(stepNumber);\r\n        }\r\n\r\n        /**\r\n         * Go to the next step\r\n         */\r\n        function gotoNextStep()\r\n        {\r\n            var stepNumber = vm.currentStepNumber + 1;\r\n\r\n            // Test the following steps and make sure we\r\n            // will land to the one that is not hidden\r\n            for ( var s = stepNumber; s <= vm.steps.length; s++ )\r\n            {\r\n                if ( !isStepHidden(s) )\r\n                {\r\n                    stepNumber = s;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            vm.setCurrentStep(stepNumber);\r\n        }\r\n\r\n        /**\r\n         * Go to the first step\r\n         */\r\n        function gotoFirstStep()\r\n        {\r\n            vm.setCurrentStep(1);\r\n        }\r\n\r\n        /**\r\n         * Go to the last step\r\n         */\r\n        function gotoLastStep()\r\n        {\r\n            vm.setCurrentStep(vm.steps.length);\r\n        }\r\n\r\n        /**\r\n         * Check if the current step is the first step\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isFirstStep()\r\n        {\r\n            return vm.currentStepNumber === 1;\r\n        }\r\n\r\n        /**\r\n         * Check if the current step is the last step\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isLastStep()\r\n        {\r\n            return vm.currentStepNumber === vm.steps.length;\r\n        }\r\n\r\n        /**\r\n         * Check if the given step is the current one\r\n         *\r\n         * @param stepNumber\r\n         * @returns {null|boolean}\r\n         */\r\n        function isStepCurrent(stepNumber)\r\n        {\r\n            // If the stepNumber is not a valid step number, bail...\r\n            if ( !isStepNumberValid(stepNumber) )\r\n            {\r\n                return null;\r\n            }\r\n\r\n            return vm.currentStepNumber === stepNumber;\r\n        }\r\n\r\n        /**\r\n         * Check if the given step should be disabled\r\n         *\r\n         * @param stepNumber\r\n         * @returns {null|boolean}\r\n         */\r\n        function isStepDisabled(stepNumber)\r\n        {\r\n            // If the stepNumber is not a valid step number, bail...\r\n            if ( !isStepNumberValid(stepNumber) )\r\n            {\r\n                return null;\r\n            }\r\n\r\n            var disabled = false;\r\n\r\n            for ( var i = 1; i < stepNumber; i++ )\r\n            {\r\n                if ( !isStepValid(i) )\r\n                {\r\n                    disabled = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            return disabled;\r\n        }\r\n\r\n        /**\r\n         * Check if the given step is optional\r\n         *\r\n         * @param stepNumber\r\n         * @returns {null|boolean}\r\n         */\r\n        function isStepOptional(stepNumber)\r\n        {\r\n            // If the stepNumber is not a valid step number, bail...\r\n            if ( !isStepNumberValid(stepNumber) )\r\n            {\r\n                return null;\r\n            }\r\n\r\n            return vm.steps[stepNumber - 1].scope.optionalStep;\r\n        }\r\n\r\n        /**\r\n         * Check if the given step is hidden\r\n         *\r\n         * @param stepNumber\r\n         * @returns {null|boolean}\r\n         */\r\n        function isStepHidden(stepNumber)\r\n        {\r\n            // If the stepNumber is not a valid step number, bail...\r\n            if ( !isStepNumberValid(stepNumber) )\r\n            {\r\n                return null;\r\n            }\r\n\r\n            return !!vm.steps[stepNumber - 1].scope.hideStep;\r\n        }\r\n\r\n        /**\r\n         * Check if the given step is hidden as a filter\r\n         *\r\n         * @param step\r\n         * @returns {boolean}\r\n         */\r\n        function filterHiddenStep(step)\r\n        {\r\n            return !isStepHidden(step.stepNumber);\r\n        }\r\n\r\n        /**\r\n         * Check if the given step is valid\r\n         *\r\n         * @param stepNumber\r\n         * @returns {null|boolean}\r\n         */\r\n        function isStepValid(stepNumber)\r\n        {\r\n            // If the stepNumber is not a valid step number, bail...\r\n            if ( !isStepNumberValid(stepNumber) )\r\n            {\r\n                return null;\r\n            }\r\n\r\n            // If the step is optional, always return true\r\n            if ( isStepOptional(stepNumber) )\r\n            {\r\n                return true;\r\n            }\r\n\r\n            return vm.steps[stepNumber - 1].form.$valid;\r\n        }\r\n\r\n        /**\r\n         * Check if the given step number is a valid step number\r\n         *\r\n         * @param stepNumber\r\n         * @returns {boolean}\r\n         */\r\n        function isStepNumberValid(stepNumber)\r\n        {\r\n            return !(angular.isUndefined(stepNumber) || stepNumber < 1 || stepNumber > vm.steps.length);\r\n        }\r\n\r\n        /**\r\n         * Check if the entire form is valid\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isFormValid()\r\n        {\r\n            return vm.mainForm.$valid;\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msHorizontalStepperDirective()\r\n    {\r\n        return {\r\n            restrict        : 'A',\r\n            scope           : {},\r\n            require         : ['form', 'msHorizontalStepper'],\r\n            priority        : 1001,\r\n            controller      : 'MsStepperController as MsStepper',\r\n            bindToController: {\r\n                model: '=ngModel'\r\n            },\r\n            transclude      : true,\r\n            templateUrl     : 'app/core/directives/ms-stepper/templates/horizontal/horizontal.html',\r\n            compile         : function (tElement)\r\n            {\r\n                tElement.addClass('ms-stepper');\r\n\r\n                return function postLink(scope, iElement, iAttrs, ctrls)\r\n                {\r\n                    var FormCtrl = ctrls[0],\r\n                        MsStepperCtrl = ctrls[1];\r\n\r\n                    // Register the main form and setup\r\n                    // the steps for the first time\r\n                    MsStepperCtrl.setOrientation('horizontal');\r\n                    MsStepperCtrl.registerMainForm(FormCtrl);\r\n                    MsStepperCtrl.setupSteps();\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msHorizontalStepperStepDirective()\r\n    {\r\n        return {\r\n            restrict: 'E',\r\n            require : ['form', '^msHorizontalStepper'],\r\n            priority: 1000,\r\n            scope   : {\r\n                step        : '=?',\r\n                stepTitle   : '=?',\r\n                optionalStep: '=?',\r\n                hideStep    : '=?'\r\n            },\r\n            compile : function (tElement)\r\n            {\r\n                tElement.addClass('ms-stepper-step');\r\n\r\n                return function postLink(scope, iElement, iAttrs, ctrls)\r\n                {\r\n                    var FormCtrl = ctrls[0],\r\n                        MsStepperCtrl = ctrls[1];\r\n\r\n                    // Is it an optional step?\r\n                    scope.optionalStep = angular.isDefined(iAttrs.optionalStep);\r\n\r\n                    // Register the step\r\n                    MsStepperCtrl.registerStep(iElement, scope, FormCtrl);\r\n\r\n                    // Hide the step by default\r\n                    iElement.hide();\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msVerticalStepperDirective($timeout)\r\n    {\r\n        return {\r\n            restrict        : 'A',\r\n            scope           : {},\r\n            require         : ['form', 'msVerticalStepper'],\r\n            priority        : 1001,\r\n            controller      : 'MsStepperController as MsStepper',\r\n            bindToController: {\r\n                model: '=ngModel'\r\n            },\r\n            transclude      : true,\r\n            templateUrl     : 'app/core/directives/ms-stepper/templates/vertical/vertical.html',\r\n            compile         : function (tElement)\r\n            {\r\n                tElement.addClass('ms-stepper');\r\n\r\n                return function postLink(scope, iElement, iAttrs, ctrls)\r\n                {\r\n                    var FormCtrl = ctrls[0],\r\n                        MsStepperCtrl = ctrls[1];\r\n\r\n                    // Register the main form and setup\r\n                    // the steps for the first time\r\n\r\n                    // Timeout is required in vertical stepper\r\n                    // as we are using transclusion in steps.\r\n                    // We have to wait for them to be transcluded\r\n                    // and registered to the controller\r\n                    $timeout(function ()\r\n                    {\r\n                        MsStepperCtrl.setOrientation('vertical');\r\n                        MsStepperCtrl.registerMainForm(FormCtrl);\r\n                        MsStepperCtrl.setupSteps();\r\n                    });\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msVerticalStepperStepDirective()\r\n    {\r\n        return {\r\n            restrict   : 'E',\r\n            require    : ['form', '^msVerticalStepper'],\r\n            priority   : 1000,\r\n            scope      : {\r\n                step        : '=?',\r\n                stepTitle   : '=?',\r\n                optionalStep: '=?',\r\n                hideStep    : '=?'\r\n            },\r\n            transclude : true,\r\n            templateUrl: 'app/core/directives/ms-stepper/templates/vertical/step/vertical-step.html',\r\n            compile    : function (tElement)\r\n            {\r\n                tElement.addClass('ms-stepper-step');\r\n\r\n                return function postLink(scope, iElement, iAttrs, ctrls)\r\n                {\r\n                    var FormCtrl = ctrls[0],\r\n                        MsStepperCtrl = ctrls[1];\r\n\r\n                    // Is it an optional step?\r\n                    scope.optionalStep = angular.isDefined(iAttrs.optionalStep);\r\n                    \r\n                    // Register the step\r\n                    scope.stepInfo = MsStepperCtrl.registerStep(iElement, scope, FormCtrl);\r\n\r\n                    // Expose the controller to the scope\r\n                    scope.MsStepper = MsStepperCtrl;\r\n\r\n                    // Hide the step content by default\r\n                    iElement.find('.ms-stepper-step-content').hide();\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .directive('msSplashScreen', msSplashScreenDirective);\r\n\r\n    /** @ngInject */\r\n    function msSplashScreenDirective($animate)\r\n    {\r\n        return {\r\n            restrict: 'E',\r\n            link    : function (scope, iElement)\r\n            {\r\n                var splashScreenRemoveEvent = scope.$on('msSplashScreen::remove', function ()\r\n                {\r\n                    $animate.leave(iElement).then(function ()\r\n                    {\r\n                        // De-register scope event\r\n                        splashScreenRemoveEvent();\r\n\r\n                        // Null-ify everything else\r\n                        scope = iElement = null;\r\n                    });\r\n                });\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .directive('msSidenavHelper', msSidenavHelperDirective);\r\n\r\n    /** @ngInject */\r\n    function msSidenavHelperDirective()\r\n    {\r\n        return {\r\n            restrict: 'A',\r\n            require : '^mdSidenav',\r\n            link    : function (scope, iElement, iAttrs, MdSidenavCtrl)\r\n            {\r\n                // Watch md-sidenav open & locked open statuses\r\n                // and add class to the \".page-layout\" if only\r\n                // the sidenav open and NOT locked open\r\n                scope.$watch(function ()\r\n                {\r\n                    return MdSidenavCtrl.isOpen() && !MdSidenavCtrl.isLockedOpen();\r\n                }, function (current)\r\n                {\r\n                    if ( angular.isUndefined(current) )\r\n                    {\r\n                        return;\r\n                    }\r\n\r\n                    iElement.parent().toggleClass('full-height', current);\r\n                    angular.element('html').toggleClass('sidenav-open', current);\r\n                });\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('MsShortcutsController', MsShortcutsController)\r\n        .directive('msShortcuts', msShortcutsDirective);\r\n\r\n    /** @ngInject */\r\n    function MsShortcutsController($scope, $cookies, $document, $timeout, $q, msNavigationService)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.query = '';\r\n        vm.queryOptions = {\r\n            debounce: 300\r\n        };\r\n        vm.resultsLoading = false;\r\n        vm.selectedResultIndex = 0;\r\n        vm.ignoreMouseEvents = false;\r\n        vm.mobileBarActive = false;\r\n\r\n        vm.results = null;\r\n        vm.shortcuts = [];\r\n\r\n        vm.sortableOptions = {\r\n            ghostClass   : 'ghost',\r\n            forceFallback: true,\r\n            fallbackClass: 'dragging',\r\n            onSort       : function ()\r\n            {\r\n                vm.saveShortcuts();\r\n            }\r\n        };\r\n\r\n        // Methods\r\n        vm.populateResults = populateResults;\r\n        vm.loadShortcuts = loadShortcuts;\r\n        vm.saveShortcuts = saveShortcuts;\r\n        vm.addShortcut = addShortcut;\r\n        vm.removeShortcut = removeShortcut;\r\n        vm.handleResultClick = handleResultClick;\r\n\r\n        vm.absorbEvent = absorbEvent;\r\n        vm.handleKeydown = handleKeydown;\r\n        vm.handleMouseenter = handleMouseenter;\r\n        vm.temporarilyIgnoreMouseEvents = temporarilyIgnoreMouseEvents;\r\n        vm.ensureSelectedResultIsVisible = ensureSelectedResultIsVisible;\r\n        vm.toggleMobileBar = toggleMobileBar;\r\n\r\n        //////////\r\n\r\n        init();\r\n\r\n        function init()\r\n        {\r\n            // Load the shortcuts\r\n            vm.loadShortcuts().then(\r\n                // Success\r\n                function (response)\r\n                {\r\n                    vm.shortcuts = response;\r\n\r\n                    // Add shortcuts as results by default\r\n                    if ( vm.shortcuts.length > 0 )\r\n                    {\r\n                        vm.results = response;\r\n                    }\r\n                }\r\n            );\r\n\r\n            // Watch the model changes to trigger the search\r\n            $scope.$watch('MsShortcuts.query', function (current, old)\r\n            {\r\n                if ( angular.isUndefined(current) )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                if ( angular.equals(current, old) )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                // Show the loader\r\n                vm.resultsLoading = true;\r\n\r\n                // Populate the results\r\n                vm.populateResults().then(\r\n                    // Success\r\n                    function (response)\r\n                    {\r\n                        vm.results = response;\r\n                    },\r\n                    // Error\r\n                    function ()\r\n                    {\r\n                        vm.results = [];\r\n                    }\r\n                ).finally(\r\n                    function ()\r\n                    {\r\n                        // Hide the loader\r\n                        vm.resultsLoading = false;\r\n                    }\r\n                );\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Populate the results\r\n         */\r\n        function populateResults()\r\n        {\r\n            var results = [],\r\n                flatNavigation = msNavigationService.getFlatNavigation(),\r\n                deferred = $q.defer();\r\n\r\n            // Iterate through the navigation array and\r\n            // make sure it doesn't have any groups or\r\n            // none ui-sref items\r\n            for ( var x = 0; x < flatNavigation.length; x++ )\r\n            {\r\n                if ( flatNavigation[x].uisref )\r\n                {\r\n                    results.push(flatNavigation[x]);\r\n                }\r\n            }\r\n\r\n            // If there is a query, filter the results\r\n            if ( vm.query )\r\n            {\r\n                results = results.filter(function (item)\r\n                {\r\n                    if ( angular.lowercase(item.title).search(angular.lowercase(vm.query)) > -1 )\r\n                    {\r\n                        return true;\r\n                    }\r\n                });\r\n\r\n                // Iterate through one last time and\r\n                // add required properties to items\r\n                for ( var i = 0; i < results.length; i++ )\r\n                {\r\n                    // Add false to hasShortcut by default\r\n                    results[i].hasShortcut = false;\r\n\r\n                    // Test if the item is in the shortcuts list\r\n                    for ( var y = 0; y < vm.shortcuts.length; y++ )\r\n                    {\r\n                        if ( vm.shortcuts[y]._id === results[i]._id )\r\n                        {\r\n                            results[i].hasShortcut = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else\r\n            {\r\n                // If the query is empty, that means\r\n                // there is nothing to search for so\r\n                // we will populate the results with\r\n                // current shortcuts if there is any\r\n                if ( vm.shortcuts.length > 0 )\r\n                {\r\n                    results = vm.shortcuts;\r\n                }\r\n            }\r\n\r\n            // Reset the selected result\r\n            vm.selectedResultIndex = 0;\r\n\r\n            // Fake the service delay\r\n            $timeout(function ()\r\n            {\r\n                // Resolve the promise\r\n                deferred.resolve(results);\r\n            }, 250);\r\n\r\n            // Return a promise\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * Load shortcuts\r\n         */\r\n        function loadShortcuts()\r\n        {\r\n            var deferred = $q.defer();\r\n\r\n            // For the demo purposes, we will\r\n            // load the shortcuts from the cookies.\r\n            // But here you can make an API call\r\n            // to load them from the DB.\r\n            var shortcuts = angular.fromJson($cookies.get('FUSE.shortcuts'));\r\n\r\n            // No cookie available. Generate one\r\n            // for the demo purposes...\r\n            if ( angular.isUndefined(shortcuts) )\r\n            {\r\n                shortcuts = [\r\n                    {\r\n                        'title'      : 'Sample',\r\n                        'icon'       : 'icon-tile-four',\r\n                        'state'      : 'app.sample',\r\n                        'weight'     : 1,\r\n                        'children'   : [],\r\n                        '_id'        : 'sample',\r\n                        '_path'      : 'apps.sample',\r\n                        'uisref'     : 'app.sample',\r\n                        'hasShortcut': true\r\n                    }\r\n                ];\r\n\r\n                $cookies.put('FUSE.shortcuts', angular.toJson(shortcuts));\r\n            }\r\n\r\n            // Resolve the promise\r\n            deferred.resolve(shortcuts);\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * Save the shortcuts\r\n         */\r\n        function saveShortcuts()\r\n        {\r\n            var deferred = $q.defer();\r\n\r\n            // For the demo purposes, we will\r\n            // keep the shortcuts in the cookies.\r\n            // But here you can make an API call\r\n            // to save them to the DB.\r\n            $cookies.put('FUSE.shortcuts', angular.toJson(vm.shortcuts));\r\n\r\n            // Fake the service delay\r\n            $timeout(function ()\r\n            {\r\n                deferred.resolve({'success': true});\r\n            }, 250);\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * Add item as shortcut\r\n         *\r\n         * @param item\r\n         */\r\n        function addShortcut(item)\r\n        {\r\n            // Update the hasShortcut status\r\n            item.hasShortcut = true;\r\n\r\n            // Add as a shortcut\r\n            vm.shortcuts.push(item);\r\n\r\n            // Save the shortcuts\r\n            vm.saveShortcuts();\r\n        }\r\n\r\n        /**\r\n         * Remove item from shortcuts\r\n         *\r\n         * @param item\r\n         */\r\n        function removeShortcut(item)\r\n        {\r\n            // Update the hasShortcut status\r\n            item.hasShortcut = false;\r\n\r\n            // Remove the shortcut\r\n            for ( var x = 0; x < vm.shortcuts.length; x++ )\r\n            {\r\n                if ( vm.shortcuts[x]._id === item._id )\r\n                {\r\n                    // Remove the x-th item from the array\r\n                    vm.shortcuts.splice(x, 1);\r\n\r\n                    // If we aren't searching for anything...\r\n                    if ( !vm.query )\r\n                    {\r\n                        // If all the shortcuts have been removed,\r\n                        // null-ify the results\r\n                        if ( vm.shortcuts.length === 0 )\r\n                        {\r\n                            vm.results = null;\r\n                        }\r\n                        // Otherwise update the selected index\r\n                        else\r\n                        {\r\n                            if ( x >= vm.shortcuts.length )\r\n                            {\r\n                                vm.selectedResultIndex = vm.shortcuts.length - 1;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Save the shortcuts\r\n            vm.saveShortcuts();\r\n        }\r\n\r\n        /**\r\n         * Handle the result click\r\n         *\r\n         * @param item\r\n         */\r\n        function handleResultClick(item)\r\n        {\r\n            // Add or remove the shortcut\r\n            if ( item.hasShortcut )\r\n            {\r\n                vm.removeShortcut(item);\r\n            }\r\n            else\r\n            {\r\n                vm.addShortcut(item);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Absorb the given event\r\n         *\r\n         * @param event\r\n         */\r\n        function absorbEvent(event)\r\n        {\r\n            event.preventDefault();\r\n        }\r\n\r\n        /**\r\n         * Handle keydown\r\n         *\r\n         * @param event\r\n         */\r\n        function handleKeydown(event)\r\n        {\r\n            var keyCode = event.keyCode,\r\n                keys = [38, 40];\r\n\r\n            // Prevent the default action if\r\n            // one of the keys are pressed that\r\n            // we are listening\r\n            if ( keys.indexOf(keyCode) > -1 )\r\n            {\r\n                event.preventDefault();\r\n            }\r\n\r\n            switch ( keyCode )\r\n            {\r\n                // Enter\r\n                case 13:\r\n\r\n                    // Trigger result click\r\n                    vm.handleResultClick(vm.results[vm.selectedResultIndex]);\r\n\r\n                    break;\r\n\r\n                // Up Arrow\r\n                case 38:\r\n\r\n                    // Decrease the selected result index\r\n                    if ( vm.selectedResultIndex - 1 >= 0 )\r\n                    {\r\n                        // Decrease the selected index\r\n                        vm.selectedResultIndex--;\r\n\r\n                        // Make sure the selected result is in the view\r\n                        vm.ensureSelectedResultIsVisible();\r\n                    }\r\n\r\n                    break;\r\n\r\n                // Down Arrow\r\n                case 40:\r\n\r\n                    // Increase the selected result index\r\n                    if ( vm.selectedResultIndex + 1 < vm.results.length )\r\n                    {\r\n                        // Increase the selected index\r\n                        vm.selectedResultIndex++;\r\n\r\n                        // Make sure the selected result is in the view\r\n                        vm.ensureSelectedResultIsVisible();\r\n                    }\r\n\r\n                    break;\r\n\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Handle mouseenter\r\n         *\r\n         * @param index\r\n         */\r\n        function handleMouseenter(index)\r\n        {\r\n            if ( vm.ignoreMouseEvents )\r\n            {\r\n                return;\r\n            }\r\n\r\n            // Update the selected result index\r\n            // with the given index\r\n            vm.selectedResultIndex = index;\r\n        }\r\n\r\n        /**\r\n         * Set a variable for a limited time\r\n         * to make other functions to ignore\r\n         * the mouse events\r\n         */\r\n        function temporarilyIgnoreMouseEvents()\r\n        {\r\n            // Set the variable\r\n            vm.ignoreMouseEvents = true;\r\n\r\n            // Cancel the previous timeout\r\n            $timeout.cancel(vm.mouseEventIgnoreTimeout);\r\n\r\n            // Set the timeout\r\n            vm.mouseEventIgnoreTimeout = $timeout(function ()\r\n            {\r\n                vm.ignoreMouseEvents = false;\r\n            }, 250);\r\n        }\r\n\r\n        /**\r\n         * Ensure the selected result will\r\n         * always be visible on the results\r\n         * area\r\n         */\r\n        function ensureSelectedResultIsVisible()\r\n        {\r\n            var resultsEl = $document.find('#ms-shortcut-add-menu').find('.results'),\r\n                selectedItemEl = angular.element(resultsEl.find('.result')[vm.selectedResultIndex]);\r\n\r\n            if ( resultsEl && selectedItemEl )\r\n            {\r\n                var top = selectedItemEl.position().top - 8,\r\n                    bottom = selectedItemEl.position().top + selectedItemEl.outerHeight() + 8;\r\n\r\n                // Start ignoring mouse events\r\n                vm.temporarilyIgnoreMouseEvents();\r\n\r\n                if ( resultsEl.scrollTop() > top )\r\n                {\r\n                    resultsEl.scrollTop(top);\r\n                }\r\n\r\n                if ( bottom > (resultsEl.height() + resultsEl.scrollTop()) )\r\n                {\r\n                    resultsEl.scrollTop(bottom - resultsEl.height());\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Toggle mobile bar\r\n         */\r\n        function toggleMobileBar()\r\n        {\r\n            vm.mobileBarActive = !vm.mobileBarActive;\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msShortcutsDirective()\r\n    {\r\n        return {\r\n            restrict        : 'E',\r\n            scope           : {},\r\n            require         : 'msShortcuts',\r\n            controller      : 'MsShortcutsController as MsShortcuts',\r\n            bindToController: {},\r\n            templateUrl     : 'app/core/directives/ms-shortcuts/ms-shortcuts.html',\r\n            compile         : function (tElement)\r\n            {\r\n                // Add class\r\n                tElement.addClass('ms-shortcuts');\r\n\r\n                return function postLink(scope, iElement)\r\n                {\r\n                    // Data\r\n\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.core')\r\n    .controller('MsSearchBarController', MsSearchBarController)\r\n    .directive('msSearchBar', msSearchBarDirective);\r\n\r\n  /** @ngInject */\r\n  function MsSearchBarController($rootScope, $scope, $element, $timeout)\r\n  {\r\n    var vm = this;\r\n\r\n    // Data\r\n    vm.collapsed = true;\r\n    vm.query = '';\r\n    vm.queryOptions = {\r\n      debounce: vm.debounce || 0\r\n    };\r\n    vm.resultsLoading = false;\r\n    vm.results = null;\r\n    vm.selectedResultIndex = 0;\r\n    vm.ignoreMouseEvents = false;\r\n\r\n    // Methods\r\n    vm.populateResults = populateResults;\r\n\r\n    vm.expand = expand;\r\n    vm.collapse = collapse;\r\n\r\n    vm.absorbEvent = absorbEvent;\r\n    vm.handleKeydown = handleKeydown;\r\n    vm.handleMouseenter = handleMouseenter;\r\n    vm.temporarilyIgnoreMouseEvents = temporarilyIgnoreMouseEvents;\r\n    vm.handleResultClick = handleResultClick;\r\n    vm.ensureSelectedResultIsVisible = ensureSelectedResultIsVisible;\r\n\r\n    //////////\r\n\r\n    init();\r\n\r\n    function init()\r\n    {\r\n      // Watch the model changes to trigger the search\r\n      $scope.$watch('MsSearchBar.query', function (current, old)\r\n      {\r\n\r\n        $rootScope.globalSearch.searchTerm = current;\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Populate the results\r\n     *\r\n     * @param results\r\n     */\r\n    function populateResults(results)\r\n    {\r\n      // Before doing anything,\r\n      // make sure the search bar is expanded\r\n      if ( vm.collapsed )\r\n      {\r\n        return;\r\n      }\r\n\r\n      var isArray = angular.isArray(results),\r\n        isNull = results === null;\r\n\r\n      // Only accept arrays and null values\r\n      if ( !isArray && !isNull )\r\n      {\r\n        return;\r\n      }\r\n\r\n      // Reset the selected result\r\n      vm.selectedResultIndex = 0;\r\n\r\n      // Populate the results\r\n      vm.results = results;\r\n    }\r\n\r\n    /**\r\n     * Expand\r\n     */\r\n    function expand()\r\n    {\r\n      // Set collapsed status\r\n      vm.collapsed = false;\r\n\r\n      // Call expand on scope\r\n      $scope.expand();\r\n\r\n      // Callback\r\n      if ( vm.onExpand && angular.isFunction(vm.onExpand) )\r\n      {\r\n        vm.onExpand();\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Collapse\r\n     */\r\n    function collapse()\r\n    {\r\n      // Empty the query\r\n      vm.query = '';\r\n\r\n      // Empty results to hide the results view\r\n      vm.populateResults(null);\r\n\r\n      // Set collapsed status\r\n      vm.collapsed = true;\r\n\r\n      // Call collapse on scope\r\n      $scope.collapse();\r\n\r\n      // Callback\r\n      if ( vm.onCollapse && angular.isFunction(vm.onCollapse) )\r\n      {\r\n        vm.onCollapse();\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Absorb the given event\r\n     *\r\n     * @param event\r\n     */\r\n    function absorbEvent(event)\r\n    {\r\n      event.preventDefault();\r\n    }\r\n\r\n    /**\r\n     * Handle keydown\r\n     *\r\n     * @param event\r\n     */\r\n    function handleKeydown(event)\r\n    {\r\n      var keyCode = event.keyCode,\r\n        keys = [27, 38, 40];\r\n\r\n      // Prevent the default action if\r\n      // one of the keys are pressed that\r\n      // we are listening\r\n      if ( keys.indexOf(keyCode) > -1 )\r\n      {\r\n        event.preventDefault();\r\n      }\r\n\r\n      switch ( keyCode )\r\n      {\r\n        // Enter\r\n        case 13:\r\n\r\n          // Trigger result click\r\n          vm.handleResultClick(vm.results[vm.selectedResultIndex]);\r\n\r\n          break;\r\n\r\n        // Escape\r\n        case 27:\r\n\r\n          // Collapse the search bar\r\n          vm.collapse();\r\n\r\n          break;\r\n\r\n        // Up Arrow\r\n        case 38:\r\n\r\n          // Decrease the selected result index\r\n          if ( vm.selectedResultIndex - 1 >= 0 )\r\n          {\r\n            // Decrease the selected index\r\n            vm.selectedResultIndex--;\r\n\r\n            // Make sure the selected result is in the view\r\n            vm.ensureSelectedResultIsVisible();\r\n          }\r\n\r\n          break;\r\n\r\n        // Down Arrow\r\n        case 40:\r\n\r\n          if ( !vm.results )\r\n          {\r\n            return;\r\n          }\r\n\r\n          // Increase the selected result index\r\n          if ( vm.selectedResultIndex + 1 < vm.results.length )\r\n          {\r\n            // Increase the selected index\r\n            vm.selectedResultIndex++;\r\n\r\n            // Make sure the selected result is in the view\r\n            vm.ensureSelectedResultIsVisible();\r\n          }\r\n\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Handle mouseenter\r\n     *\r\n     * @param index\r\n     */\r\n    function handleMouseenter(index)\r\n    {\r\n      if ( vm.ignoreMouseEvents )\r\n      {\r\n        return;\r\n      }\r\n\r\n      // Update the selected result index\r\n      // with the given index\r\n      vm.selectedResultIndex = index;\r\n    }\r\n\r\n    /**\r\n     * Set a variable for a limited time\r\n     * to make other functions to ignore\r\n     * the mouse events\r\n     */\r\n    function temporarilyIgnoreMouseEvents()\r\n    {\r\n      // Set the variable\r\n      vm.ignoreMouseEvents = true;\r\n\r\n      // Cancel the previous timeout\r\n      $timeout.cancel(vm.mouseEventIgnoreTimeout);\r\n\r\n      // Set the timeout\r\n      vm.mouseEventIgnoreTimeout = $timeout(function ()\r\n      {\r\n        vm.ignoreMouseEvents = false;\r\n      }, 250);\r\n    }\r\n\r\n    /**\r\n     * Handle the result click\r\n     *\r\n     * @param item\r\n     */\r\n    function handleResultClick(item)\r\n    {\r\n      if ( vm.onResultClick )\r\n      {\r\n        vm.onResultClick({item: item});\r\n      }\r\n\r\n      // Collapse the search bar\r\n      vm.collapse();\r\n    }\r\n\r\n    /**\r\n     * Ensure the selected result will\r\n     * always be visible on the results\r\n     * area\r\n     */\r\n    function ensureSelectedResultIsVisible()\r\n    {\r\n      var resultsEl = $element.find('.ms-search-bar-results'),\r\n        selectedItemEl = angular.element(resultsEl.find('.result')[vm.selectedResultIndex]);\r\n\r\n      if ( resultsEl && selectedItemEl )\r\n      {\r\n        var top = selectedItemEl.position().top - 8,\r\n          bottom = selectedItemEl.position().top + selectedItemEl.outerHeight() + 8;\r\n\r\n        // Start ignoring mouse events\r\n        vm.temporarilyIgnoreMouseEvents();\r\n\r\n        if ( resultsEl.scrollTop() > top )\r\n        {\r\n          resultsEl.scrollTop(top);\r\n        }\r\n\r\n        if ( bottom > (resultsEl.height() + resultsEl.scrollTop()) )\r\n        {\r\n          resultsEl.scrollTop(bottom - resultsEl.height());\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /** @ngInject */\r\n  function msSearchBarDirective($document)\r\n  {\r\n    return {\r\n      restrict        : 'E',\r\n      scope           : {},\r\n      require         : 'msSearchBar',\r\n      controller      : 'MsSearchBarController as MsSearchBar',\r\n      bindToController: {\r\n        debounce     : '=?',\r\n        onSearch     : '@',\r\n        onResultClick: '&?',\r\n        onExpand     : '&?',\r\n        onCollapse   : '&?'\r\n      },\r\n      templateUrl     : 'app/core/directives/ms-search-bar/ms-search-bar.html',\r\n      compile         : function (tElement)\r\n      {\r\n        // Add class\r\n        tElement.addClass('ms-search-bar');\r\n\r\n        return function postLink(scope, iElement)\r\n        {\r\n          // Data\r\n          var inputEl,\r\n            bodyEl = $document.find('body');\r\n\r\n          // Methods\r\n          scope.collapse = collapse;\r\n          scope.expand = expand;\r\n\r\n          //////////\r\n\r\n          // Initialize\r\n          init();\r\n\r\n          /**\r\n           * Initialize\r\n           */\r\n          function init()\r\n          {\r\n            // Grab the input element\r\n            inputEl = iElement.find('#ms-search-bar-input');\r\n          }\r\n\r\n          /**\r\n           * Expand action\r\n           */\r\n          function expand()\r\n          {\r\n            // Add expanded class\r\n            iElement.addClass('expanded');\r\n\r\n            // Add helper class to the body\r\n            bodyEl.addClass('ms-search-bar-expanded');\r\n\r\n            // Focus on the input\r\n            inputEl.focus();\r\n          }\r\n\r\n          /**\r\n           * Collapse action\r\n           */\r\n          function collapse()\r\n          {\r\n            // Remove expanded class\r\n            iElement.removeClass('expanded');\r\n\r\n            // Remove helper class from the body\r\n            bodyEl.removeClass('ms-search-bar-expanded');\r\n          }\r\n        };\r\n      }\r\n    };\r\n  }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .provider('msScrollConfig', msScrollConfigProvider)\r\n        .directive('msScroll', msScrollDirective);\r\n\r\n    /** @ngInject */\r\n    function msScrollConfigProvider()\r\n    {\r\n        // Default configuration\r\n        var defaultConfiguration = {\r\n            wheelSpeed            : 1,\r\n            wheelPropagation      : false,\r\n            swipePropagation      : true,\r\n            minScrollbarLength    : null,\r\n            maxScrollbarLength    : null,\r\n            useBothWheelAxes      : false,\r\n            useKeyboard           : true,\r\n            suppressScrollX       : false,\r\n            suppressScrollY       : false,\r\n            scrollXMarginOffset   : 0,\r\n            scrollYMarginOffset   : 0,\r\n            stopPropagationOnClick: true\r\n        };\r\n\r\n        // Methods\r\n        this.config = config;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Extend default configuration with the given one\r\n         *\r\n         * @param configuration\r\n         */\r\n        function config(configuration)\r\n        {\r\n            defaultConfiguration = angular.extend({}, defaultConfiguration, configuration);\r\n        }\r\n\r\n        /**\r\n         * Service\r\n         */\r\n        this.$get = function ()\r\n        {\r\n            var service = {\r\n                getConfig: getConfig\r\n            };\r\n\r\n            return service;\r\n\r\n            //////////\r\n\r\n            /**\r\n             * Return the config\r\n             */\r\n            function getConfig()\r\n            {\r\n                return defaultConfiguration;\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msScrollDirective($timeout, msScrollConfig, msUtils, fuseConfig)\r\n    {\r\n        return {\r\n            restrict: 'AE',\r\n            compile : function (tElement)\r\n            {\r\n                // Do not replace scrollbars if\r\n                // 'disableCustomScrollbars' config enabled\r\n                if ( fuseConfig.getConfig('disableCustomScrollbars') )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                // Do not replace scrollbars on mobile devices\r\n                // if 'disableCustomScrollbarsOnMobile' config enabled\r\n                if ( fuseConfig.getConfig('disableCustomScrollbarsOnMobile') && msUtils.isMobile() )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                // Add class\r\n                tElement.addClass('ms-scroll');\r\n\r\n                return function postLink(scope, iElement, iAttrs)\r\n                {\r\n                    var options = {};\r\n\r\n                    // If options supplied, evaluate the given\r\n                    // value. This is because we don't want to\r\n                    // have an isolated scope but still be able\r\n                    // to use scope variables.\r\n                    // We don't want an isolated scope because\r\n                    // we should be able to use this everywhere\r\n                    // especially with other directives\r\n                    if ( iAttrs.msScroll )\r\n                    {\r\n                        options = scope.$eval(iAttrs.msScroll);\r\n                    }\r\n\r\n                    // Extend the given config with the ones from provider\r\n                    options = angular.extend({}, msScrollConfig.getConfig(), options);\r\n\r\n                    // Initialize the scrollbar\r\n                    $timeout(function ()\r\n                    {\r\n                        PerfectScrollbar.initialize(iElement[0], options);\r\n                    }, 0);\r\n\r\n                    // Update the scrollbar on element mouseenter\r\n                    iElement.on('mouseenter', updateScrollbar);\r\n\r\n                    // Watch scrollHeight and update\r\n                    // the scrollbar if it changes\r\n                    scope.$watch(function ()\r\n                    {\r\n                        return iElement.prop('scrollHeight');\r\n                    }, function (current, old)\r\n                    {\r\n                        if ( angular.isUndefined(current) || angular.equals(current, old) )\r\n                        {\r\n                            return;\r\n                        }\r\n\r\n                        updateScrollbar();\r\n                    });\r\n\r\n                    // Watch scrollWidth and update\r\n                    // the scrollbar if it changes\r\n                    scope.$watch(function ()\r\n                    {\r\n                        return iElement.prop('scrollWidth');\r\n                    }, function (current, old)\r\n                    {\r\n                        if ( angular.isUndefined(current) || angular.equals(current, old) )\r\n                        {\r\n                            return;\r\n                        }\r\n\r\n                        updateScrollbar();\r\n                    });\r\n\r\n                    /**\r\n                     * Update the scrollbar\r\n                     */\r\n                    function updateScrollbar()\r\n                    {\r\n                        PerfectScrollbar.update(iElement[0]);\r\n                    }\r\n\r\n                    // Cleanup on destroy\r\n                    scope.$on('$destroy', function ()\r\n                    {\r\n                        iElement.off('mouseenter');\r\n                        PerfectScrollbar.destroy(iElement[0]);\r\n                    });\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .directive('msResponsiveTable', msResponsiveTableDirective);\r\n\r\n    /** @ngInject */\r\n    function msResponsiveTableDirective()\r\n    {\r\n        return {\r\n            restrict: 'A',\r\n            link    : function (scope, iElement)\r\n            {\r\n                // Wrap the table\r\n                var wrapper = angular.element('<div class=\"ms-responsive-table-wrapper\"></div>');\r\n                iElement.after(wrapper);\r\n                wrapper.append(iElement);\r\n\r\n                //////////\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .directive('msRandomClass', msRandomClassDirective);\r\n\r\n    /** @ngInject */\r\n    function msRandomClassDirective()\r\n    {\r\n        return {\r\n            restrict: 'A',\r\n            scope   : {\r\n                msRandomClass: '='\r\n            },\r\n            link    : function (scope, iElement)\r\n            {\r\n                var randomClass = scope.msRandomClass[Math.floor(Math.random() * (scope.msRandomClass.length))];\r\n                iElement.addClass(randomClass);\r\n            }\r\n        };\r\n    }\r\n})();\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.core')\r\n    .provider('msNavigationService', msNavigationServiceProvider)\r\n    .controller('MsNavigationController', MsNavigationController)\r\n    // Vertical\r\n    .directive('msNavigation', msNavigationDirective)\r\n    .controller('MsNavigationNodeController', MsNavigationNodeController)\r\n    .directive('msNavigationNode', msNavigationNodeDirective)\r\n    .directive('msNavigationItem', msNavigationItemDirective)\r\n    //Horizontal\r\n    .directive('msNavigationHorizontal', msNavigationHorizontalDirective)\r\n    .controller('MsNavigationHorizontalNodeController', MsNavigationHorizontalNodeController)\r\n    .directive('msNavigationHorizontalNode', msNavigationHorizontalNodeDirective)\r\n    .directive('msNavigationHorizontalItem', msNavigationHorizontalItemDirective);\r\n\r\n  /** @ngInject */\r\n  function msNavigationServiceProvider() {\r\n\r\n\r\n    // Inject $log service\r\n    var $log = angular.injector(['ng']).get('$log');\r\n\r\n    // Navigation array\r\n    var navigation = [];\r\n\r\n    var service = this;\r\n\r\n    // Methods\r\n    service.saveItem = saveItem;\r\n    service.deleteItem = deleteItem;\r\n    service.sortByWeight = sortByWeight;\r\n\r\n    //////////\r\n\r\n    /**\r\n     * Create or update the navigation item\r\n     *\r\n     * @param path\r\n     * @param item\r\n     */\r\n    function saveItem(path, item) {\r\n      if (!angular.isString(path)) {\r\n        $log.error('path must be a string (eg. `dashboard.project`)');\r\n        return;\r\n      }\r\n\r\n      var parts = path.split('.');\r\n\r\n      // Generate the object id from the parts\r\n      var id = parts[parts.length - 1];\r\n\r\n      // Get the parent item from the parts\r\n      var parent = _findOrCreateParent(parts);\r\n\r\n      // Decide if we are going to update or create\r\n      var updateItem = false;\r\n\r\n      for (var i = 0; i < parent.length; i++) {\r\n        if (parent[i]._id === id) {\r\n          updateItem = parent[i];\r\n\r\n          break;\r\n        }\r\n      }\r\n\r\n      // Update\r\n      if (updateItem) {\r\n        angular.extend(updateItem, item);\r\n\r\n        // Add proper ui-sref\r\n        updateItem.uisref = _getUiSref(updateItem);\r\n      }\r\n      // Create\r\n      else {\r\n        // Create an empty children array in the item\r\n        item.children = [];\r\n\r\n        // Add the default weight if not provided or if it's not a number\r\n        if (angular.isUndefined(item.weight) || !angular.isNumber(item.weight)) {\r\n          item.weight = 1;\r\n        }\r\n\r\n        // Add the item id\r\n        item._id = id;\r\n\r\n        // Add the item path\r\n        item._path = path;\r\n\r\n        // Add proper ui-sref\r\n        item.uisref = _getUiSref(item);\r\n\r\n        // Push the item into the array\r\n        parent.push(item);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Delete navigation item\r\n     *\r\n     * @param path\r\n     */\r\n    function deleteItem(path) {\r\n      if (!angular.isString(path)) {\r\n        $log.error('path must be a string (eg. `dashboard.project`)');\r\n        return;\r\n      }\r\n\r\n      // Locate the item by using given path\r\n      var item = navigation,\r\n        parts = path.split('.');\r\n\r\n      for (var p = 0; p < parts.length; p++) {\r\n        var id = parts[p];\r\n\r\n        for (var i = 0; i < item.length; i++) {\r\n          if (item[i]._id === id) {\r\n            // If we have a matching path,\r\n            // we have found our object:\r\n            // remove it.\r\n            if (item[i]._path === path) {\r\n              item.splice(i, 1);\r\n              return true;\r\n            }\r\n\r\n            // Otherwise grab the children of\r\n            // the current item and continue\r\n            item = item[i].children;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      return false;\r\n    }\r\n\r\n    /**\r\n     * Sort the navigation items by their weights\r\n     *\r\n     * @param parent\r\n     */\r\n    function sortByWeight(parent) {\r\n      // If parent not provided, sort the root items\r\n      if (!parent) {\r\n        parent = navigation;\r\n        parent.sort(_byWeight);\r\n      }\r\n\r\n      // Sort the children\r\n      for (var i = 0; i < parent.length; i++) {\r\n        var children = parent[i].children;\r\n\r\n        if (children.length > 1) {\r\n          children.sort(_byWeight);\r\n        }\r\n\r\n        if (children.length > 0) {\r\n          sortByWeight(children);\r\n        }\r\n      }\r\n    }\r\n\r\n    /* ----------------- */\r\n    /* Private Functions */\r\n    /* ----------------- */\r\n\r\n    /**\r\n     * Find or create parent\r\n     *\r\n     * @param parts\r\n     * @returns {Array|Boolean}\r\n     * @private\r\n     */\r\n    function _findOrCreateParent(parts) {\r\n      // Store the main navigation\r\n      var parent = navigation;\r\n\r\n      // If it's going to be a root item\r\n      // return the navigation itself\r\n      if (parts.length === 1) {\r\n        return parent;\r\n      }\r\n\r\n      // Remove the last element from the parts as\r\n      // we don't need that to figure out the parent\r\n      parts.pop();\r\n\r\n      // Find and return the parent\r\n      for (var i = 0; i < parts.length; i++) {\r\n        var _id = parts[i],\r\n          createParent = true;\r\n\r\n        for (var p = 0; p < parent.length; p++) {\r\n          if (parent[p]._id === _id) {\r\n            parent = parent[p].children;\r\n            createParent = false;\r\n\r\n            break;\r\n          }\r\n        }\r\n\r\n        // If there is no parent found, create one, push\r\n        // it into the current parent and assign it as a\r\n        // new parent\r\n        if (createParent) {\r\n          var item = {\r\n            _id: _id,\r\n            _path: parts.join('.'),\r\n            title: _id,\r\n            weight: 1,\r\n            children: []\r\n          };\r\n\r\n          parent.push(item);\r\n          parent = item.children;\r\n        }\r\n      }\r\n\r\n      return parent;\r\n    }\r\n\r\n    /**\r\n     * Sort by weight\r\n     *\r\n     * @param x\r\n     * @param y\r\n     * @returns {number}\r\n     * @private\r\n     */\r\n    function _byWeight(x, y) {\r\n      return parseInt(x.weight) - parseInt(y.weight);\r\n    }\r\n\r\n    /**\r\n     * Setup the ui-sref using state & state parameters\r\n     *\r\n     * @param item\r\n     * @returns {string}\r\n     * @private\r\n     */\r\n    function _getUiSref(item) {\r\n      var uisref = '';\r\n\r\n      if (angular.isDefined(item.state)) {\r\n        uisref = item.state;\r\n\r\n        if (angular.isDefined(item.stateParams) && angular.isObject(item.stateParams)) {\r\n          uisref = uisref + '(' + angular.toJson(item.stateParams) + ')';\r\n        }\r\n      }\r\n\r\n      return uisref;\r\n    }\r\n\r\n    /* ----------------- */\r\n    /* Service           */\r\n    /* ----------------- */\r\n\r\n    this.$get = function () {\r\n      var activeItem = null,\r\n        navigationScope = null,\r\n        folded = null,\r\n        foldedOpen = null;\r\n\r\n      var service = {\r\n        saveItem: saveItem,\r\n        deleteItem: deleteItem,\r\n        sort: sortByWeight,\r\n        clearNavigation: clearNavigation,\r\n        setActiveItem: setActiveItem,\r\n        getActiveItem: getActiveItem,\r\n        getNavigation: getNavigation,\r\n        getFlatNavigation: getFlatNavigation,\r\n        setNavigationScope: setNavigationScope,\r\n        setFolded: setFolded,\r\n        getFolded: getFolded,\r\n        setFoldedOpen: setFoldedOpen,\r\n        getFoldedOpen: getFoldedOpen,\r\n        toggleFolded: toggleFolded\r\n      };\r\n\r\n      return service;\r\n\r\n      //////////\r\n\r\n      /**\r\n       * Clear the entire navigation\r\n       */\r\n      function clearNavigation() {\r\n        // Clear the navigation array\r\n        navigation = [];\r\n\r\n        // Clear the vm.navigation from main controller\r\n        if (navigationScope) {\r\n          debugger\r\n          navigationScope.vm.navigation = navigation;\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Set active item\r\n       *\r\n       * @param node\r\n       * @param scope\r\n       */\r\n      function setActiveItem(node, scope) {\r\n        activeItem = {\r\n          node: node,\r\n          scope: scope\r\n        };\r\n      }\r\n\r\n      /**\r\n       * Return active item\r\n       */\r\n      function getActiveItem() {\r\n        return activeItem;\r\n      }\r\n\r\n      /**\r\n       * Return navigation array\r\n       *\r\n       * @param root\r\n       * @returns Array\r\n       */\r\n    \r\n      function getNavigation(root) {\r\n        if (root) {\r\n          for (var i = 0; i < navigation.length; i++) {\r\n            if (navigation[i]._id === root) {\r\n              debugger;\r\n              return [navigation[i]];\r\n   \r\n            }\r\n          }\r\n          return null;\r\n        }\r\n         var find=false;\r\n         for(var i=0;i<navigation.length;i++)\r\n         {\r\n          if(find==true)\r\n           {\r\n           break;\r\n           }\r\n           else\r\n           {\r\n             for(var j=0;j<navigation[i].children.length;j++)\r\n             {\r\n               if(navigation[i].children[j].title==\"Invitations\")\r\n               {\r\n                 navigation[i].children[j].title=\"Linking\";\r\n                 find=true;\r\n                 break;\r\n               }\r\n            }     \r\n           }\r\n         return navigation;\r\n       }\r\n\r\n     \r\n\r\n      return navigation;\r\n    }\r\n      /**\r\n       * Return flat navigation array\r\n       *\r\n       * @param root\r\n       * @returns Array\r\n       */\r\n      function getFlatNavigation(root) {\r\n        // Get the correct navigation array\r\n        var navigation = getNavigation(root);\r\n        alert(navigation);\r\n        // Flatten the navigation object\r\n        return _flattenNavigation(navigation);\r\n      }\r\n\r\n      /**\r\n       * Store navigation's scope for later use\r\n       *\r\n       * @param scope\r\n       */\r\n      function setNavigationScope(scope) {\r\n        navigationScope = scope;\r\n      }\r\n\r\n      /**\r\n       * Set folded status\r\n       *\r\n       * @param status\r\n       */\r\n      function setFolded(status) {\r\n        folded = status;\r\n      }\r\n\r\n      /**\r\n       * Return folded status\r\n       *\r\n       * @returns {*}\r\n       */\r\n      function getFolded() {\r\n        return folded;\r\n      }\r\n\r\n      /**\r\n       * Set folded open status\r\n       *\r\n       * @param status\r\n       */\r\n      function setFoldedOpen(status) {\r\n        foldedOpen = status;\r\n      }\r\n\r\n      /**\r\n       * Return folded open status\r\n       *\r\n       * @returns {*}\r\n       */\r\n      function getFoldedOpen() {\r\n        return foldedOpen;\r\n      }\r\n\r\n\r\n      /**\r\n       * Toggle fold on stored navigation's scope\r\n       */\r\n      function toggleFolded() {\r\n        navigationScope.toggleFolded();\r\n      }\r\n\r\n      /**\r\n       * Flatten the given navigation\r\n       *\r\n       * @param navigation\r\n       * @private\r\n       */\r\n      debugger;\r\n      function _flattenNavigation(navigation) {\r\n        var flatNav = [];\r\n\r\n        for (var x = 0; x < navigation.length; x++) {\r\n          // Copy and clear the children of the\r\n          // navigation that we want to push\r\n          var navToPush = angular.copy(navigation[x]);\r\n          navToPush.children = [];\r\n\r\n          // Push the item\r\n          flatNav.push(navToPush);\r\n          debugger;\r\n          // If there are child items in this navigation,\r\n          // do some nested function magic\r\n          if (navigation[x].children.length > 0 ) {\r\n            flatNav = flatNav.concat(_flattenNavigation(navigation[x].children));\r\n          }\r\n        }\r\n\r\n        return flatNav;\r\n      }\r\n    };\r\n  }\r\n\r\n  /** @ngInject */\r\n  function MsNavigationController($scope, msNavigationService) {\r\n    var vm = this;\r\n\r\n    // Data\r\n    if ($scope.root) {\r\n      debugger;\r\n      vm.navigation = msNavigationService.getNavigation($scope.root);\r\n      console.log(vm.navigation);\r\n    }\r\n    else {\r\n      vm.navigation = msNavigationService.getNavigation();\r\n     \r\n    }\r\n\r\n    // Methods\r\n    vm.toggleHorizontalMobileMenu = toggleHorizontalMobileMenu;\r\n\r\n    //////////\r\n\r\n    init();\r\n\r\n    /**\r\n     * Initialize\r\n     */\r\n    function init() {\r\n      // Sort the navigation before doing anything else\r\n      msNavigationService.sort();\r\n    }\r\n\r\n    /**\r\n     * Toggle horizontal mobile menu\r\n     */\r\n    function toggleHorizontalMobileMenu() {\r\n      angular.element('body').toggleClass('ms-navigation-horizontal-mobile-menu-active');\r\n    }\r\n  }\r\n\r\n  /** @ngInject */\r\n  function msNavigationDirective($rootScope, $timeout, $mdSidenav, msNavigationService) {\r\n    return {\r\n      restrict: 'E',\r\n      scope: {\r\n        folded: '=',\r\n        root: '@'\r\n      },\r\n      controller: 'MsNavigationController as vm',\r\n      templateUrl: 'app/core/directives/ms-navigation/templates/vertical.html',\r\n      transclude: true,\r\n      compile: function (tElement) {\r\n        tElement.addClass('ms-navigation');\r\n\r\n        return function postLink(scope, iElement) {\r\n          var bodyEl = angular.element('body'),\r\n            foldExpanderEl = angular.element('<div id=\"ms-navigation-fold-expander\"></div>'),\r\n            foldCollapserEl = angular.element('<div id=\"ms-navigation-fold-collapser\"></div>'),\r\n            sidenav = $mdSidenav('navigation');\r\n\r\n          // Store the navigation in the service for public access\r\n          msNavigationService.setNavigationScope(scope);\r\n\r\n          // Initialize\r\n          init();\r\n\r\n          /**\r\n           * Initialize\r\n           */\r\n          function init() {\r\n            // Set the folded status for the first time.\r\n            // First, we have to check if we have a folded\r\n            // status available in the service already. This\r\n            // will prevent navigation to act weird if we already\r\n            // set the fold status, remove the navigation and\r\n            // then re-initialize it, which happens if we\r\n            // change to a view without a navigation and then\r\n            // come back with history.back() function.\r\n\r\n            // If the service didn't initialize before, set\r\n            // the folded status from scope, otherwise we\r\n            // won't touch anything because the folded status\r\n            // already set in the service...\r\n            if (msNavigationService.getFolded() === null) {\r\n              msNavigationService.setFolded(scope.folded);\r\n            }\r\n\r\n            if (msNavigationService.getFolded()) {\r\n              // Collapse everything.\r\n              // This must be inside a $timeout because by the\r\n              // time we call this, the 'msNavigation::collapse'\r\n              // event listener is not registered yet. $timeout\r\n              // will ensure that it will be called after it is\r\n              // registered.\r\n              $timeout(function () {\r\n                $rootScope.$broadcast('msNavigation::collapse');\r\n              });\r\n\r\n              // Add class to the body\r\n              bodyEl.addClass('ms-navigation-folded');\r\n\r\n              // Set fold expander\r\n              setFoldExpander();\r\n            }\r\n          }\r\n\r\n          // Sidenav locked open status watcher\r\n          scope.$watch(function () {\r\n            return sidenav.isLockedOpen();\r\n          }, function (current, old) {\r\n            if (angular.isUndefined(current) || angular.equals(current, old)) {\r\n              return;\r\n            }\r\n\r\n            var folded = msNavigationService.getFolded();\r\n\r\n            if (folded) {\r\n              if (current) {\r\n                // Collapse everything\r\n                $rootScope.$broadcast('msNavigation::collapse');\r\n              }\r\n              else {\r\n                // Expand the active one and its parents\r\n                var activeItem = msNavigationService.getActiveItem();\r\n                if (activeItem) {\r\n                  activeItem.scope.$emit('msNavigation::stateMatched');\r\n                }\r\n              }\r\n            }\r\n          });\r\n\r\n          // Folded status watcher\r\n          scope.$watch('folded', function (current, old) {\r\n            if (angular.isUndefined(current) || angular.equals(current, old)) {\r\n              return;\r\n            }\r\n\r\n            setFolded(current);\r\n          });\r\n\r\n          /**\r\n           * Set folded status\r\n           *\r\n           * @param folded\r\n           */\r\n          function setFolded(folded) {\r\n            // Store folded status on the service for global access\r\n            msNavigationService.setFolded(folded);\r\n\r\n            if (folded) {\r\n              // Collapse everything\r\n              $rootScope.$broadcast('msNavigation::collapse');\r\n\r\n              // Add class to the body\r\n              bodyEl.addClass('ms-navigation-folded');\r\n\r\n              // Set fold expander\r\n              setFoldExpander();\r\n            }\r\n            else {\r\n              // Expand the active one and its parents\r\n              var activeItem = msNavigationService.getActiveItem();\r\n              if (activeItem) {\r\n                activeItem.scope.$emit('msNavigation::stateMatched');\r\n              }\r\n\r\n              // Remove body class\r\n              bodyEl.removeClass('ms-navigation-folded ms-navigation-folded-open');\r\n\r\n              // Remove fold collapser\r\n              removeFoldCollapser();\r\n            }\r\n          }\r\n\r\n          /**\r\n           * Set fold expander\r\n           */\r\n          function setFoldExpander() {\r\n            iElement.parent().append(foldExpanderEl);\r\n\r\n            // Let everything settle for a moment\r\n            // before registering the event listener\r\n            $timeout(function () {\r\n              foldExpanderEl.on('mouseenter touchstart', onFoldExpanderHover);\r\n            });\r\n          }\r\n\r\n          /**\r\n           * Set fold collapser\r\n           */\r\n          function setFoldCollapser() {\r\n            bodyEl.find('#main').append(foldCollapserEl);\r\n            foldCollapserEl.on('mouseenter touchstart', onFoldCollapserHover);\r\n          }\r\n\r\n          /**\r\n           * Remove fold collapser\r\n           */\r\n          function removeFoldCollapser() {\r\n            foldCollapserEl.remove();\r\n          }\r\n\r\n          /**\r\n           * onHover event of foldExpander\r\n           */\r\n          function onFoldExpanderHover(event) {\r\n            if (event) {\r\n              event.preventDefault();\r\n            }\r\n\r\n            // Set folded open status\r\n            msNavigationService.setFoldedOpen(true);\r\n\r\n            // Expand the active one and its parents\r\n            var activeItem = msNavigationService.getActiveItem();\r\n            if (activeItem) {\r\n              activeItem.scope.$emit('msNavigation::stateMatched');\r\n            }\r\n\r\n            // Add class to the body\r\n            bodyEl.addClass('ms-navigation-folded-open');\r\n\r\n            // Remove the fold opener\r\n            foldExpanderEl.remove();\r\n\r\n            // Set fold collapser\r\n            setFoldCollapser();\r\n          }\r\n\r\n          /**\r\n           * onHover event of foldCollapser\r\n           */\r\n          function onFoldCollapserHover(event) {\r\n            if (event) {\r\n              event.preventDefault();\r\n            }\r\n\r\n            // Set folded open status\r\n            msNavigationService.setFoldedOpen(false);\r\n\r\n            // Collapse everything\r\n            $rootScope.$broadcast('msNavigation::collapse');\r\n\r\n            // Remove body class\r\n            bodyEl.removeClass('ms-navigation-folded-open');\r\n\r\n            // Remove the fold collapser\r\n            foldCollapserEl.remove();\r\n\r\n            // Set fold expander\r\n            setFoldExpander();\r\n          }\r\n\r\n          /**\r\n           * Public access for toggling folded status externally\r\n           */\r\n          scope.toggleFolded = function () {\r\n            var folded = msNavigationService.getFolded();\r\n\r\n            setFolded(!folded);\r\n          };\r\n\r\n          /**\r\n           * On $stateChangeStart\r\n           */\r\n          scope.$on('$stateChangeStart', function () {\r\n            // Close the sidenav\r\n            sidenav.close();\r\n          });\r\n\r\n          // Cleanup\r\n          scope.$on('$destroy', function () {\r\n            foldCollapserEl.off('mouseenter touchstart');\r\n            foldExpanderEl.off('mouseenter touchstart');\r\n          });\r\n        };\r\n      }\r\n    };\r\n  }\r\n\r\n  /** @ngInject */\r\n  function MsNavigationNodeController($scope, $element, $rootScope, $animate, $state, msNavigationService) {\r\n    var vm = this;\r\n    var checkRace;\r\n\r\n\r\n    $scope.$on('event:startDoomsDayDevice', function (data) {\r\n\r\n      console.log('data', data);\r\n\r\n    });\r\n\r\n\r\n\r\n\r\n\r\n    // Data\r\n    vm.element = $element;\r\n    vm.node = $scope.node;\r\n    vm.hasChildren = undefined;\r\n    vm.collapsed = undefined;\r\n    vm.collapsable = undefined;\r\n    vm.group = undefined;\r\n    vm.animateHeightClass = 'animate-height';\r\n    vm.appState = vm.node.state;\r\n    vm.showQueue = 'false';\r\n    vm.user = $rootScope.user;\r\n    checkRace = false;\r\n\r\n    // Methods\r\n    vm.toggleCollapsed = toggleCollapsed;\r\n    vm.collapse = collapse;\r\n    vm.expand = expand;\r\n    vm.getClass = getClass;\r\n    vm.isHidden = isHidden;\r\n    vm.queue = queue;\r\n\r\n    vm.badgeData = $rootScope.inviteCounts;\r\n\r\n    vm.badgeDataFeed = $rootScope.feed;\r\n\r\n    vm.unread = vm.badgeDataFeed.unread;\r\n\r\n    vm.unreadCount = vm.unread.length;\r\n\r\n    //console.log('vm.unread', vm.unread);\r\n\r\n    //console.log('vm.unreadCount', vm.unreadCount);\r\n\r\n\r\n    //console.log('$rootScope', $rootScope);\r\n\r\n    //console.log('badge data', vm.badgeData);\r\n\r\n    //console.log('badge data checklists', vm.badgeData.checklists);\r\n\r\n    //console.log('badge data friendships', vm.badgeData.friendships);\r\n\r\n    //console.log('badgeDataFeed', vm.badgeDataFeed);\r\n\r\n    //console.log('badgeDataFeed unread', vm.badgeDataFeed.unread);\r\n\r\n\r\n    if (vm.appState == 'app.queue') {\r\n      //console.log('$rootScope app.queue', $rootScope);\r\n      console.log('vm.showQueue Before', vm.showQueue);\r\n      vm.queue();\r\n      console.log('vm.showQueue After', vm.showQueue);\r\n    }\r\n\r\n    if (vm.appState == 'app.queue' && !checkRace) {\r\n      //console.log('$rootScope app.queue', $rootScope);\r\n      console.log('vm.showQueue Before', vm.showQueue);\r\n      vm.queue();\r\n      console.log('vm.showQueue After', vm.showQueue);\r\n    }\r\n\r\n\r\n\r\n    function queue() {\r\n      if ($rootScope.user) {\r\n        checkRace = true;\r\n        console.log('roles', $rootScope.user.roles);\r\n\r\n        for (i = 0; i < $rootScope.user.roles.length; i++) {\r\n          if ($rootScope.user.roles[i] == 'queue') {\r\n            vm.showQueue = 'true';\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n\r\n\r\n    init();\r\n\r\n    function init() {\r\n      // Setup the initial values\r\n\r\n      // Has children?\r\n      vm.hasChildren = vm.node.children.length > 0;\r\n\r\n      // Is group?\r\n      vm.group = !!(angular.isDefined(vm.node.group) && vm.node.group === true);\r\n\r\n      // Is collapsable?\r\n      if (!vm.hasChildren || vm.group) {\r\n        vm.collapsable = false;\r\n      }\r\n      else {\r\n        vm.collapsable = !!(angular.isUndefined(vm.node.collapsable) || typeof vm.node.collapsable !== 'boolean' || vm.node.collapsable === true);\r\n      }\r\n\r\n      // Is collapsed?\r\n      if (!vm.collapsable) {\r\n        vm.collapsed = false;\r\n      }\r\n      else {\r\n        vm.collapsed = !!(angular.isUndefined(vm.node.collapsed) || typeof vm.node.collapsed !== 'boolean' || vm.node.collapsed === true);\r\n      }\r\n\r\n      // Expand all parents if we have a matching state or\r\n      // the current state is a child of the node's state\r\n      if (vm.node.state === $state.current.name || $state.includes(vm.node.state)) {\r\n        // If state params are defined, make sure they are\r\n        // equal, otherwise do not set the active item\r\n        if (angular.isDefined(vm.node.stateParams) && angular.isDefined($state.params) && !angular.equals(vm.node.stateParams, $state.params)) {\r\n          return;\r\n        }\r\n\r\n        $scope.$emit('msNavigation::stateMatched');\r\n\r\n        // Also store the current active menu item\r\n        msNavigationService.setActiveItem(vm.node, $scope);\r\n      }\r\n\r\n      $scope.$on('msNavigation::stateMatched', function () {\r\n        // Expand if the current scope is collapsable and is collapsed\r\n        if (vm.collapsable && vm.collapsed) {\r\n          $scope.$evalAsync(function () {\r\n            vm.collapsed = false;\r\n          });\r\n        }\r\n      });\r\n\r\n      // Listen for collapse event\r\n      $scope.$on('msNavigation::collapse', function (event, path) {\r\n        if (vm.collapsed || !vm.collapsable) {\r\n          return;\r\n        }\r\n\r\n        // If there is no path defined, collapse\r\n        if (angular.isUndefined(path)) {\r\n          vm.collapse();\r\n        }\r\n        // If there is a path defined, do not collapse\r\n        // the items that are inside that path. This will\r\n        // prevent parent items from collapsing\r\n        else {\r\n          var givenPathParts = path.split('.'),\r\n            activePathParts = [];\r\n\r\n          var activeItem = msNavigationService.getActiveItem();\r\n          if (activeItem) {\r\n            activePathParts = activeItem.node._path.split('.');\r\n          }\r\n\r\n          // Test for given path\r\n          if (givenPathParts.indexOf(vm.node._id) > -1) {\r\n            return;\r\n          }\r\n\r\n          // Test for active path\r\n          if (activePathParts.indexOf(vm.node._id) > -1) {\r\n            return;\r\n          }\r\n\r\n          vm.collapse();\r\n        }\r\n      });\r\n\r\n      // Listen for $stateChangeSuccess event\r\n      $scope.$on('$stateChangeSuccess', function () {\r\n        if (vm.node.state === $state.current.name) {\r\n          // If state params are defined, make sure they are\r\n          // equal, otherwise do not set the active item\r\n          if (angular.isDefined(vm.node.stateParams) && angular.isDefined($state.params) && !angular.equals(vm.node.stateParams, $state.params)) {\r\n            return;\r\n          }\r\n\r\n          // Update active item on state change\r\n          msNavigationService.setActiveItem(vm.node, $scope);\r\n\r\n          // Collapse everything except the one we're using\r\n          $rootScope.$broadcast('msNavigation::collapse', vm.node._path);\r\n        }\r\n\r\n        // Expand the parents if we the current\r\n        // state is a child of the node's state\r\n        if ($state.includes(vm.node.state)) {\r\n          // If state params are defined, make sure they are\r\n          // equal, otherwise do not set the active item\r\n          if (angular.isDefined(vm.node.stateParams) && angular.isDefined($state.params) && !angular.equals(vm.node.stateParams, $state.params)) {\r\n            return;\r\n          }\r\n\r\n          // Emit the stateMatched\r\n          $scope.$emit('msNavigation::stateMatched');\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n    /**\r\n     * Toggle collapsed\r\n     */\r\n    function toggleCollapsed() {\r\n      if (vm.collapsed) {\r\n        vm.expand();\r\n      }\r\n      else {\r\n        vm.collapse();\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Collapse\r\n     */\r\n    function collapse() {\r\n      // Grab the element that we are going to collapse\r\n      var collapseEl = vm.element.children('ul');\r\n\r\n      // Grab the height\r\n      var height = collapseEl[0].offsetHeight;\r\n\r\n      $scope.$evalAsync(function () {\r\n        // Set collapsed status\r\n        vm.collapsed = true;\r\n\r\n        // Add collapsing class to the node\r\n        vm.element.addClass('collapsing');\r\n\r\n        // Animate the height\r\n        $animate.animate(collapseEl,\r\n          {\r\n            'display': 'block',\r\n            'height': height + 'px'\r\n          },\r\n          {\r\n            'height': '0px'\r\n          },\r\n          vm.animateHeightClass\r\n        ).then(\r\n          function () {\r\n            // Clear the inline styles after animation done\r\n            collapseEl.css({\r\n              'display': '',\r\n              'height': ''\r\n            });\r\n\r\n            // Clear collapsing class from the node\r\n            vm.element.removeClass('collapsing');\r\n          }\r\n        );\r\n\r\n        // Broadcast the collapse event so child items can also be collapsed\r\n        $scope.$broadcast('msNavigation::collapse');\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Expand\r\n     */\r\n    function expand() {\r\n      // Grab the element that we are going to expand\r\n      var expandEl = vm.element.children('ul');\r\n\r\n      // Move the element out of the dom flow and\r\n      // make it block so we can get its height\r\n      expandEl.css({\r\n        'position': 'absolute',\r\n        'visibility': 'hidden',\r\n        'display': 'block',\r\n        'height': 'auto'\r\n      });\r\n\r\n      // Grab the height\r\n      var height = expandEl[0].offsetHeight;\r\n\r\n      // Reset the style modifications\r\n      expandEl.css({\r\n        'position': '',\r\n        'visibility': '',\r\n        'display': '',\r\n        'height': ''\r\n      });\r\n\r\n      $scope.$evalAsync(function () {\r\n        // Set collapsed status\r\n        vm.collapsed = false;\r\n\r\n        // Add expanding class to the node\r\n        vm.element.addClass('expanding');\r\n\r\n        // Animate the height\r\n        $animate.animate(expandEl,\r\n          {\r\n            'display': 'block',\r\n            'height': '0px'\r\n          },\r\n          {\r\n            'height': height + 'px'\r\n          },\r\n          vm.animateHeightClass\r\n        ).then(\r\n          function () {\r\n            // Clear the inline styles after animation done\r\n            expandEl.css({\r\n              'height': ''\r\n            });\r\n\r\n            // Clear expanding class from the node\r\n            vm.element.removeClass('expanding');\r\n          }\r\n        );\r\n\r\n        // If item expanded, broadcast the collapse event from rootScope so that the other expanded items\r\n        // can be collapsed. This is necessary for keeping only one parent expanded at any time\r\n        $rootScope.$broadcast('msNavigation::collapse', vm.node._path);\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Return the class\r\n     *\r\n     * @returns {*}\r\n     */\r\n    function getClass() {\r\n      return vm.node.class;\r\n    }\r\n\r\n    /**\r\n     * Check if node should be hidden\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    function isHidden() {\r\n      if (angular.isDefined(vm.node.hidden) && angular.isFunction(vm.node.hidden)) {\r\n        return vm.node.hidden();\r\n      }\r\n\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /** @ngInject */\r\n  function msNavigationNodeDirective() {\r\n    return {\r\n      restrict: 'A',\r\n      bindToController: {\r\n        node: '=msNavigationNode'\r\n      },\r\n      controller: 'MsNavigationNodeController as vm',\r\n      compile: function (tElement) {\r\n        tElement.addClass('ms-navigation-node');\r\n\r\n        return function postLink(scope, iElement, iAttrs, MsNavigationNodeCtrl) {\r\n          // Add custom classes\r\n          iElement.addClass(MsNavigationNodeCtrl.getClass());\r\n\r\n          // Add group class if it's a group\r\n          if (MsNavigationNodeCtrl.group) {\r\n            iElement.addClass('group');\r\n          }\r\n        };\r\n      }\r\n    };\r\n  }\r\n\r\n  /** @ngInject */\r\n  function msNavigationItemDirective() {\r\n    return {\r\n      restrict: 'A',\r\n      require: '^msNavigationNode',\r\n      compile: function (tElement) {\r\n        tElement.addClass('ms-navigation-item');\r\n\r\n        return function postLink(scope, iElement, iAttrs, MsNavigationNodeCtrl) {\r\n          // If the item is collapsable...\r\n          if (MsNavigationNodeCtrl.collapsable) {\r\n            iElement.on('click', MsNavigationNodeCtrl.toggleCollapsed);\r\n          }\r\n\r\n          // Cleanup\r\n          scope.$on('$destroy', function () {\r\n            iElement.off('click');\r\n          });\r\n        };\r\n      }\r\n    };\r\n  }\r\n\r\n  /** @ngInject */\r\n  function msNavigationHorizontalDirective(msNavigationService) {\r\n    return {\r\n      restrict: 'E',\r\n      scope: {\r\n        root: '@'\r\n      },\r\n      controller: 'MsNavigationController as vm',\r\n      templateUrl: 'app/core/directives/ms-navigation/templates/horizontal.html',\r\n      transclude: true,\r\n      compile: function (tElement) {\r\n        tElement.addClass('ms-navigation-horizontal');\r\n\r\n        return function postLink(scope) {\r\n          // Store the navigation in the service for public access\r\n          msNavigationService.setNavigationScope(scope);\r\n        };\r\n      }\r\n    };\r\n  }\r\n\r\n  /** @ngInject */\r\n  function MsNavigationHorizontalNodeController($scope, $element, $rootScope, $state, msNavigationService) {\r\n    var vm = this;\r\n\r\n    // Data\r\n    vm.element = $element;\r\n    vm.node = $scope.node;\r\n    vm.hasChildren = undefined;\r\n    vm.group = undefined;\r\n\r\n    // Methods\r\n    vm.getClass = getClass;\r\n\r\n    //////////\r\n\r\n    init();\r\n\r\n    /**\r\n     * Initialize\r\n     */\r\n    function init() {\r\n      // Setup the initial values\r\n\r\n      // Is active\r\n      vm.isActive = false;\r\n\r\n      // Has children?\r\n      vm.hasChildren = vm.node.children.length > 0;\r\n\r\n      // Is group?\r\n      vm.group = !!(angular.isDefined(vm.node.group) && vm.node.group === true);\r\n\r\n      // Mark all parents as active if we have a matching state\r\n      // or the current state is a child of the node's state\r\n      if (vm.node.state === $state.current.name || $state.includes(vm.node.state)) {\r\n        // If state params are defined, make sure they are\r\n        // equal, otherwise do not set the active item\r\n        if (angular.isDefined(vm.node.stateParams) && angular.isDefined($state.params) && !angular.equals(vm.node.stateParams, $state.params)) {\r\n          return;\r\n        }\r\n\r\n        $scope.$emit('msNavigation::stateMatched');\r\n\r\n        // Also store the current active menu item\r\n        msNavigationService.setActiveItem(vm.node, $scope);\r\n      }\r\n\r\n      $scope.$on('msNavigation::stateMatched', function () {\r\n        // Mark as active if has children\r\n        if (vm.hasChildren) {\r\n          $scope.$evalAsync(function () {\r\n            vm.isActive = true;\r\n          });\r\n        }\r\n      });\r\n\r\n      // Listen for clearActive event\r\n      $scope.$on('msNavigation::clearActive', function () {\r\n        if (!vm.hasChildren) {\r\n          return;\r\n        }\r\n\r\n        var activePathParts = [];\r\n\r\n        var activeItem = msNavigationService.getActiveItem();\r\n        if (activeItem) {\r\n          activePathParts = activeItem.node._path.split('.');\r\n        }\r\n\r\n        // Test for active path\r\n        if (activePathParts.indexOf(vm.node._id) > -1) {\r\n          $scope.$evalAsync(function () {\r\n            vm.isActive = true;\r\n          });\r\n        }\r\n        else {\r\n          $scope.$evalAsync(function () {\r\n            vm.isActive = false;\r\n          });\r\n        }\r\n\r\n      });\r\n\r\n      // Listen for $stateChangeSuccess event\r\n      $scope.$on('$stateChangeSuccess', function () {\r\n        if (vm.node.state === $state.current.name || $state.includes(vm.node.state)) {\r\n          // If state params are defined, make sure they are\r\n          // equal, otherwise do not set the active item\r\n          if (angular.isDefined(vm.node.stateParams) && angular.isDefined($state.params) && !angular.equals(vm.node.stateParams, $state.params)) {\r\n            return;\r\n          }\r\n\r\n          // Update active item on state change\r\n          msNavigationService.setActiveItem(vm.node, $scope);\r\n\r\n          // Clear all active states except the one we're using\r\n          $rootScope.$broadcast('msNavigation::clearActive');\r\n        }\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Return the class\r\n     *\r\n     * @returns {*}\r\n     */\r\n    function getClass() {\r\n      return vm.node.class;\r\n    }\r\n  }\r\n\r\n  /** @ngInject */\r\n  function msNavigationHorizontalNodeDirective() {\r\n    return {\r\n      restrict: 'A',\r\n      bindToController: {\r\n        node: '=msNavigationHorizontalNode'\r\n      },\r\n      controller: 'MsNavigationHorizontalNodeController as vm',\r\n      compile: function (tElement) {\r\n        tElement.addClass('ms-navigation-horizontal-node');\r\n\r\n        return function postLink(scope, iElement, iAttrs, MsNavigationHorizontalNodeCtrl) {\r\n          // Add custom classes\r\n          iElement.addClass(MsNavigationHorizontalNodeCtrl.getClass());\r\n\r\n          // Add group class if it's a group\r\n          if (MsNavigationHorizontalNodeCtrl.group) {\r\n            iElement.addClass('group');\r\n          }\r\n        };\r\n      }\r\n    };\r\n  }\r\n\r\n  /** @ngInject */\r\n  function msNavigationHorizontalItemDirective($mdMedia) {\r\n    return {\r\n      restrict: 'A',\r\n      require: '^msNavigationHorizontalNode',\r\n      compile: function (tElement) {\r\n        tElement.addClass('ms-navigation-horizontal-item');\r\n\r\n        return function postLink(scope, iElement, iAttrs, MsNavigationHorizontalNodeCtrl) {\r\n          iElement.on('click', onClick);\r\n\r\n          function onClick() {\r\n            if (!MsNavigationHorizontalNodeCtrl.hasChildren || $mdMedia('gt-md')) {\r\n              return;\r\n            }\r\n\r\n            iElement.toggleClass('expanded');\r\n          }\r\n\r\n          // Cleanup\r\n          scope.$on('$destroy', function () {\r\n            iElement.off('click');\r\n          });\r\n        };\r\n      }\r\n    };\r\n  }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .factory('msNavFoldService', msNavFoldService)\r\n        .directive('msNavIsFolded', msNavIsFoldedDirective)\r\n        .controller('MsNavController', MsNavController)\r\n        .directive('msNav', msNavDirective)\r\n        .directive('msNavTitle', msNavTitleDirective)\r\n        .directive('msNavButton', msNavButtonDirective)\r\n        .directive('msNavToggle', msNavToggleDirective);\r\n\r\n    /** @ngInject */\r\n    function msNavFoldService()\r\n    {\r\n        var foldable = {};\r\n\r\n        var service = {\r\n            setFoldable    : setFoldable,\r\n            isNavFoldedOpen: isNavFoldedOpen,\r\n            toggleFold     : toggleFold,\r\n            openFolded     : openFolded,\r\n            closeFolded    : closeFolded\r\n        };\r\n\r\n        return service;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Set the foldable\r\n         *\r\n         * @param scope\r\n         * @param element\r\n         */\r\n        function setFoldable(scope, element)\r\n        {\r\n            foldable = {\r\n                'scope'  : scope,\r\n                'element': element\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Is folded open\r\n         */\r\n        function isNavFoldedOpen()\r\n        {\r\n            return foldable.scope.isNavFoldedOpen();\r\n        }\r\n\r\n        /**\r\n         * Toggle fold\r\n         */\r\n        function toggleFold()\r\n        {\r\n            foldable.scope.toggleFold();\r\n        }\r\n\r\n        /**\r\n         * Open folded navigation\r\n         */\r\n        function openFolded()\r\n        {\r\n            foldable.scope.openFolded();\r\n        }\r\n\r\n        /**\r\n         * Close folded navigation\r\n         */\r\n        function closeFolded()\r\n        {\r\n            foldable.scope.closeFolded();\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msNavIsFoldedDirective($document, $rootScope, msNavFoldService)\r\n    {\r\n        return {\r\n            restrict: 'A',\r\n            link    : function (scope, iElement, iAttrs)\r\n            {\r\n                var isFolded = (iAttrs.msNavIsFolded === 'true'),\r\n                    isFoldedOpen = false,\r\n                    body = angular.element($document[0].body),\r\n                    openOverlay = angular.element('<div id=\"ms-nav-fold-open-overlay\"></div>'),\r\n                    closeOverlay = angular.element('<div id=\"ms-nav-fold-close-overlay\"></div>'),\r\n                    sidenavEl = iElement.parent();\r\n\r\n                // Initialize the service\r\n                msNavFoldService.setFoldable(scope, iElement, isFolded);\r\n\r\n                // Set the fold status for the first time\r\n                if ( isFolded )\r\n                {\r\n                    fold();\r\n                }\r\n                else\r\n                {\r\n                    unfold();\r\n                }\r\n\r\n                /**\r\n                 * Is nav folded open\r\n                 */\r\n                function isNavFoldedOpen()\r\n                {\r\n                    return isFoldedOpen;\r\n                }\r\n\r\n                /**\r\n                 * Toggle fold\r\n                 */\r\n                function toggleFold()\r\n                {\r\n                    isFolded = !isFolded;\r\n\r\n                    if ( isFolded )\r\n                    {\r\n                        fold();\r\n                    }\r\n                    else\r\n                    {\r\n                        unfold();\r\n                    }\r\n                }\r\n\r\n                /**\r\n                 * Fold the navigation\r\n                 */\r\n                function fold()\r\n                {\r\n                    // Add classes\r\n                    body.addClass('ms-nav-folded');\r\n\r\n                    // Collapse everything and scroll to the top\r\n                    $rootScope.$broadcast('msNav::forceCollapse');\r\n                    iElement.scrollTop(0);\r\n\r\n                    // Append the openOverlay to the element\r\n                    sidenavEl.append(openOverlay);\r\n\r\n                    // Event listeners\r\n                    openOverlay.on('mouseenter touchstart', function (event)\r\n                    {\r\n                        openFolded(event);\r\n                        isFoldedOpen = true;\r\n                    });\r\n                }\r\n\r\n                /**\r\n                 * Open folded navigation\r\n                 */\r\n                function openFolded(event)\r\n                {\r\n                    if ( angular.isDefined(event) )\r\n                    {\r\n                        event.preventDefault();\r\n                    }\r\n\r\n                    body.addClass('ms-nav-folded-open');\r\n\r\n                    // Update the location\r\n                    $rootScope.$broadcast('msNav::expandMatchingToggles');\r\n\r\n                    // Remove open overlay\r\n                    sidenavEl.find(openOverlay).remove();\r\n\r\n                    // Append close overlay and bind its events\r\n                    sidenavEl.parent().append(closeOverlay);\r\n                    closeOverlay.on('mouseenter touchstart', function (event)\r\n                    {\r\n                        closeFolded(event);\r\n                        isFoldedOpen = false;\r\n                    });\r\n                }\r\n\r\n                /**\r\n                 * Close folded navigation\r\n                 */\r\n                function closeFolded(event)\r\n                {\r\n                    if ( angular.isDefined(event) )\r\n                    {\r\n                        event.preventDefault();\r\n                    }\r\n\r\n                    // Collapse everything and scroll to the top\r\n                    $rootScope.$broadcast('msNav::forceCollapse');\r\n                    iElement.scrollTop(0);\r\n\r\n                    body.removeClass('ms-nav-folded-open');\r\n\r\n                    // Remove close overlay\r\n                    sidenavEl.parent().find(closeOverlay).remove();\r\n\r\n                    // Append open overlay and bind its events\r\n                    sidenavEl.append(openOverlay);\r\n                    openOverlay.on('mouseenter touchstart', function (event)\r\n                    {\r\n                        openFolded(event);\r\n                        isFoldedOpen = true;\r\n                    });\r\n                }\r\n\r\n                /**\r\n                 * Unfold the navigation\r\n                 */\r\n                function unfold()\r\n                {\r\n                    body.removeClass('ms-nav-folded ms-nav-folded-open');\r\n\r\n                    // Update the location\r\n                    $rootScope.$broadcast('msNav::expandMatchingToggles');\r\n\r\n                    iElement.off('mouseenter mouseleave');\r\n                }\r\n\r\n                // Expose functions to the scope\r\n                scope.toggleFold = toggleFold;\r\n                scope.openFolded = openFolded;\r\n                scope.closeFolded = closeFolded;\r\n                scope.isNavFoldedOpen = isNavFoldedOpen;\r\n\r\n                // Cleanup\r\n                scope.$on('$destroy', function ()\r\n                {\r\n                    openOverlay.off('mouseenter touchstart');\r\n                    closeOverlay.off('mouseenter touchstart');\r\n                    iElement.off('mouseenter mouseleave');\r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n    /** @ngInject */\r\n    function MsNavController()\r\n    {\r\n        var vm = this,\r\n            disabled = false,\r\n            toggleItems = [],\r\n            lockedItems = [];\r\n\r\n        // Data\r\n\r\n        // Methods\r\n        vm.isDisabled = isDisabled;\r\n        vm.enable = enable;\r\n        vm.disable = disable;\r\n        vm.setToggleItem = setToggleItem;\r\n        vm.getLockedItems = getLockedItems;\r\n        vm.setLockedItem = setLockedItem;\r\n        vm.clearLockedItems = clearLockedItems;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Is navigation disabled\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isDisabled()\r\n        {\r\n            return disabled;\r\n        }\r\n\r\n        /**\r\n         * Disable the navigation\r\n         */\r\n        function disable()\r\n        {\r\n            disabled = true;\r\n        }\r\n\r\n        /**\r\n         * Enable the navigation\r\n         */\r\n        function enable()\r\n        {\r\n            disabled = false;\r\n        }\r\n\r\n        /**\r\n         * Set toggle item\r\n         *\r\n         * @param element\r\n         * @param scope\r\n         */\r\n        function setToggleItem(element, scope)\r\n        {\r\n            toggleItems.push({\r\n                'element': element,\r\n                'scope'  : scope\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Get locked items\r\n         *\r\n         * @returns {Array}\r\n         */\r\n        function getLockedItems()\r\n        {\r\n            return lockedItems;\r\n        }\r\n\r\n        /**\r\n         * Set locked item\r\n         *\r\n         * @param element\r\n         * @param scope\r\n         */\r\n        function setLockedItem(element, scope)\r\n        {\r\n            lockedItems.push({\r\n                'element': element,\r\n                'scope'  : scope\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Clear locked items list\r\n         */\r\n        function clearLockedItems()\r\n        {\r\n            lockedItems = [];\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msNavDirective($rootScope, $mdComponentRegistry, msNavFoldService)\r\n    {\r\n        return {\r\n            restrict  : 'E',\r\n            scope     : {},\r\n            controller: 'MsNavController',\r\n            compile   : function (tElement)\r\n            {\r\n                tElement.addClass('ms-nav');\r\n\r\n                return function postLink(scope)\r\n                {\r\n                    // Update toggle status according to the ui-router current state\r\n                    $rootScope.$broadcast('msNav::expandMatchingToggles');\r\n\r\n                    // Update toggles on state changes\r\n                    var stateChangeSuccessEvent = $rootScope.$on('$stateChangeSuccess', function ()\r\n                    {\r\n                        $rootScope.$broadcast('msNav::expandMatchingToggles');\r\n\r\n                        // Close navigation sidenav on stateChangeSuccess\r\n                        $mdComponentRegistry.when('navigation').then(function (navigation)\r\n                        {\r\n                            navigation.close();\r\n\r\n                            if ( msNavFoldService.isNavFoldedOpen() )\r\n                            {\r\n                                msNavFoldService.closeFolded();\r\n                            }\r\n                        });\r\n                    });\r\n\r\n                    // Cleanup\r\n                    scope.$on('$destroy', function ()\r\n                    {\r\n                        stateChangeSuccessEvent();\r\n                    });\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msNavTitleDirective()\r\n    {\r\n        return {\r\n            restrict: 'A',\r\n            compile : function (tElement)\r\n            {\r\n                tElement.addClass('ms-nav-title');\r\n\r\n                return function postLink()\r\n                {\r\n\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msNavButtonDirective()\r\n    {\r\n        return {\r\n            restrict: 'AE',\r\n            compile : function (tElement)\r\n            {\r\n                tElement.addClass('ms-nav-button');\r\n\r\n                return function postLink()\r\n                {\r\n\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msNavToggleDirective($rootScope, $q, $animate, $state)\r\n    {\r\n        return {\r\n            restrict: 'A',\r\n            require : '^msNav',\r\n            scope   : true,\r\n            compile : function (tElement, tAttrs)\r\n            {\r\n                tElement.addClass('ms-nav-toggle');\r\n\r\n                // Add collapsed attr\r\n                if ( angular.isUndefined(tAttrs.collapsed) )\r\n                {\r\n                    tAttrs.collapsed = true;\r\n                }\r\n\r\n                tElement.attr('collapsed', tAttrs.collapsed);\r\n\r\n                return function postLink(scope, iElement, iAttrs, MsNavCtrl)\r\n                {\r\n                    var classes = {\r\n                        expanded         : 'expanded',\r\n                        expandAnimation  : 'expand-animation',\r\n                        collapseAnimation: 'collapse-animation'\r\n                    };\r\n\r\n                    // Store all related states\r\n                    var links = iElement.find('a');\r\n                    var states = [];\r\n                    var regExp = /\\(.*\\)/g;\r\n\r\n                    angular.forEach(links, function (link)\r\n                    {\r\n                        var state = angular.element(link).attr('ui-sref');\r\n\r\n                        if ( angular.isUndefined(state) )\r\n                        {\r\n                            return;\r\n                        }\r\n\r\n                        // Remove any parameter definition from the state name before storing it\r\n                        state = state.replace(regExp, '');\r\n\r\n                        states.push(state);\r\n                    });\r\n\r\n                    // Store toggle-able element and its scope in the main nav controller\r\n                    MsNavCtrl.setToggleItem(iElement, scope);\r\n\r\n                    // Click handler\r\n                    iElement.children('.ms-nav-button').on('click', toggle);\r\n\r\n                    // Toggle function\r\n                    function toggle()\r\n                    {\r\n                        // If navigation is disabled, do nothing...\r\n                        if ( MsNavCtrl.isDisabled() )\r\n                        {\r\n                            return;\r\n                        }\r\n\r\n                        // Disable the entire navigation to prevent spamming\r\n                        MsNavCtrl.disable();\r\n\r\n                        if ( isCollapsed() )\r\n                        {\r\n                            // Clear the locked items list\r\n                            MsNavCtrl.clearLockedItems();\r\n\r\n                            // Emit pushToLockedList event\r\n                            scope.$emit('msNav::pushToLockedList');\r\n\r\n                            // Collapse everything but locked items\r\n                            $rootScope.$broadcast('msNav::collapse');\r\n\r\n                            // Expand and then...\r\n                            expand().then(function ()\r\n                            {\r\n                                // Enable the entire navigation after animations completed\r\n                                MsNavCtrl.enable();\r\n                            });\r\n                        }\r\n                        else\r\n                        {\r\n                            // Collapse with all children\r\n                            scope.$broadcast('msNav::forceCollapse');\r\n                        }\r\n                    }\r\n\r\n                    // Cleanup\r\n                    scope.$on('$destroy', function ()\r\n                    {\r\n                        iElement.children('.ms-nav-button').off('click');\r\n                    });\r\n\r\n                    /*---------------------*/\r\n                    /* Scope Events        */\r\n                    /*---------------------*/\r\n\r\n                    /**\r\n                     * Collapse everything but locked items\r\n                     */\r\n                    scope.$on('msNav::collapse', function ()\r\n                    {\r\n                        // Only collapse toggles that are not locked\r\n                        var lockedItems = MsNavCtrl.getLockedItems();\r\n                        var locked = false;\r\n\r\n                        angular.forEach(lockedItems, function (lockedItem)\r\n                        {\r\n                            if ( angular.equals(lockedItem.scope, scope) )\r\n                            {\r\n                                locked = true;\r\n                            }\r\n                        });\r\n\r\n                        if ( locked )\r\n                        {\r\n                            return;\r\n                        }\r\n\r\n                        // Collapse and then...\r\n                        collapse().then(function ()\r\n                        {\r\n                            // Enable the entire navigation after animations completed\r\n                            MsNavCtrl.enable();\r\n                        });\r\n                    });\r\n\r\n                    /**\r\n                     * Collapse everything\r\n                     */\r\n                    scope.$on('msNav::forceCollapse', function ()\r\n                    {\r\n                        // Collapse and then...\r\n                        collapse().then(function ()\r\n                        {\r\n                            // Enable the entire navigation after animations completed\r\n                            MsNavCtrl.enable();\r\n                        });\r\n                    });\r\n\r\n                    /**\r\n                     * Expand toggles that match with the current states\r\n                     */\r\n                    scope.$on('msNav::expandMatchingToggles', function ()\r\n                    {\r\n                        var currentState = $state.current.name;\r\n                        var shouldExpand = false;\r\n\r\n                        angular.forEach(states, function (state)\r\n                        {\r\n                            if ( currentState === state )\r\n                            {\r\n                                shouldExpand = true;\r\n                            }\r\n                        });\r\n\r\n                        if ( shouldExpand )\r\n                        {\r\n                            expand();\r\n                        }\r\n                        else\r\n                        {\r\n                            collapse();\r\n                        }\r\n                    });\r\n\r\n                    /**\r\n                     * Add toggle to the locked list\r\n                     */\r\n                    scope.$on('msNav::pushToLockedList', function ()\r\n                    {\r\n                        // Set expanded item on main nav controller\r\n                        MsNavCtrl.setLockedItem(iElement, scope);\r\n                    });\r\n\r\n                    /*---------------------*/\r\n                    /* Internal functions  */\r\n                    /*---------------------*/\r\n\r\n                    /**\r\n                     * Is element collapsed\r\n                     *\r\n                     * @returns {bool}\r\n                     */\r\n                    function isCollapsed()\r\n                    {\r\n                        return iElement.attr('collapsed') === 'true';\r\n                    }\r\n\r\n                    /**\r\n                     * Is element expanded\r\n                     *\r\n                     * @returns {bool}\r\n                     */\r\n                    function isExpanded()\r\n                    {\r\n                        return !isCollapsed();\r\n                    }\r\n\r\n                    /**\r\n                     * Expand the toggle\r\n                     *\r\n                     * @returns $promise\r\n                     */\r\n                    function expand()\r\n                    {\r\n                        // Create a new deferred object\r\n                        var deferred = $q.defer();\r\n\r\n                        // If the menu item is already expanded, do nothing..\r\n                        if ( isExpanded() )\r\n                        {\r\n                            // Reject the deferred object\r\n                            deferred.reject({'error': true});\r\n\r\n                            // Return the promise\r\n                            return deferred.promise;\r\n                        }\r\n\r\n                        // Set element attr\r\n                        iElement.attr('collapsed', false);\r\n\r\n                        // Grab the element to expand\r\n                        var elementToExpand = angular.element(iElement.find('ms-nav-toggle-items')[0]);\r\n\r\n                        // Move the element out of the dom flow and\r\n                        // make it block so we can get its height\r\n                        elementToExpand.css({\r\n                            'position'  : 'absolute',\r\n                            'visibility': 'hidden',\r\n                            'display'   : 'block',\r\n                            'height'    : 'auto'\r\n                        });\r\n\r\n                        // Grab the height\r\n                        var height = elementToExpand[0].offsetHeight;\r\n\r\n                        // Reset the style modifications\r\n                        elementToExpand.css({\r\n                            'position'  : '',\r\n                            'visibility': '',\r\n                            'display'   : '',\r\n                            'height'    : ''\r\n                        });\r\n\r\n                        // Animate the height\r\n                        scope.$evalAsync(function ()\r\n                        {\r\n                            $animate.animate(elementToExpand,\r\n                                {\r\n                                    'display': 'block',\r\n                                    'height' : '0px'\r\n                                },\r\n                                {\r\n                                    'height': height + 'px'\r\n                                },\r\n                                classes.expandAnimation\r\n                            ).then(\r\n                                function ()\r\n                                {\r\n                                    // Add expanded class\r\n                                    elementToExpand.addClass(classes.expanded);\r\n\r\n                                    // Clear the inline styles after animation done\r\n                                    elementToExpand.css({'height': ''});\r\n\r\n                                    // Resolve the deferred object\r\n                                    deferred.resolve({'success': true});\r\n                                }\r\n                            );\r\n                        });\r\n\r\n                        // Return the promise\r\n                        return deferred.promise;\r\n                    }\r\n\r\n                    /**\r\n                     * Collapse the toggle\r\n                     *\r\n                     * @returns $promise\r\n                     */\r\n                    function collapse()\r\n                    {\r\n                        // Create a new deferred object\r\n                        var deferred = $q.defer();\r\n\r\n                        // If the menu item is already collapsed, do nothing..\r\n                        if ( isCollapsed() )\r\n                        {\r\n                            // Reject the deferred object\r\n                            deferred.reject({'error': true});\r\n\r\n                            // Return the promise\r\n                            return deferred.promise;\r\n                        }\r\n\r\n                        // Set element attr\r\n                        iElement.attr('collapsed', true);\r\n\r\n                        // Grab the element to collapse\r\n                        var elementToCollapse = angular.element(iElement.find('ms-nav-toggle-items')[0]);\r\n\r\n                        // Grab the height\r\n                        var height = elementToCollapse[0].offsetHeight;\r\n\r\n                        // Animate the height\r\n                        scope.$evalAsync(function ()\r\n                        {\r\n                            $animate.animate(elementToCollapse,\r\n                                {\r\n                                    'height': height + 'px'\r\n                                },\r\n                                {\r\n                                    'height': '0px'\r\n                                },\r\n                                classes.collapseAnimation\r\n                            ).then(\r\n                                function ()\r\n                                {\r\n                                    // Remove expanded class\r\n                                    elementToCollapse.removeClass(classes.expanded);\r\n\r\n                                    // Clear the inline styles after animation done\r\n                                    elementToCollapse.css({\r\n                                        'display': '',\r\n                                        'height' : ''\r\n                                    });\r\n\r\n                                    // Resolve the deferred object\r\n                                    deferred.resolve({'success': true});\r\n                                }\r\n                            );\r\n                        });\r\n\r\n                        // Return the promise\r\n                        return deferred.promise;\r\n                    }\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('msMaterialColorPickerController', msMaterialColorPickerController)\r\n        .directive('msMaterialColorPicker', msMaterialColorPicker);\r\n\r\n    /** @ngInject */\r\n    function msMaterialColorPickerController($scope, $mdColorPalette, $mdMenu, fuseGenerator)\r\n    {\r\n        var vm = this;\r\n        vm.palettes = $mdColorPalette; // Material Color Palette\r\n        vm.selectedPalette = false;\r\n        vm.selectedHues = false;\r\n        $scope.$selectedColor = {};\r\n\r\n        // Methods\r\n        vm.activateHueSelection = activateHueSelection;\r\n        vm.selectColor = selectColor;\r\n        vm.removeColor = removeColor;\r\n\r\n        /**\r\n         * Initialize / Watch model changes\r\n         */\r\n        $scope.$watch('ngModel', setSelectedColor);\r\n\r\n        /**\r\n         * Activate Hue Selection\r\n         * @param palette\r\n         * @param hues\r\n         */\r\n        function activateHueSelection(palette, hues)\r\n        {\r\n            vm.selectedPalette = palette;\r\n            vm.selectedHues = hues;\r\n        }\r\n\r\n        /**\r\n         * Select Color\r\n         * @type {selectColor}\r\n         */\r\n        function selectColor(palette, hue)\r\n        {\r\n            // Update Selected Color\r\n            updateSelectedColor(palette, hue);\r\n\r\n            // Update Model Value\r\n            updateModel();\r\n\r\n            // Hide The picker\r\n            $mdMenu.hide();\r\n        }\r\n\r\n        function removeColor()\r\n        {\r\n            vm.selectedColor = {\r\n                palette: '',\r\n                hue    : '',\r\n                class  : ''\r\n            };\r\n\r\n            activateHueSelection(false, false);\r\n\r\n            updateModel();\r\n        }\r\n\r\n        /**\r\n         * Set SelectedColor by model type\r\n         */\r\n        function setSelectedColor()\r\n        {\r\n            if ( !vm.modelCtrl.$viewValue || vm.modelCtrl.$viewValue === '' )\r\n            {\r\n                removeColor();\r\n                return;\r\n            }\r\n\r\n            var palette, hue;\r\n\r\n            // If ModelType Class\r\n            if ( vm.msModelType === 'class' )\r\n            {\r\n                var color = vm.modelCtrl.$viewValue.split('-');\r\n                if ( color.length >= 5 )\r\n                {\r\n                    palette = color[1] + '-' + color[2];\r\n                    hue = color[3];\r\n                }\r\n                else\r\n                {\r\n                    palette = color[1];\r\n                    hue = color[2];\r\n                }\r\n            }\r\n\r\n            // If ModelType Object\r\n            else if ( vm.msModelType === 'obj' )\r\n            {\r\n                palette = vm.modelCtrl.$viewValue.palette;\r\n                hue = vm.modelCtrl.$viewValue.hue || 500;\r\n            }\r\n\r\n            // Update Selected Color\r\n            updateSelectedColor(palette, hue);\r\n        }\r\n\r\n        /**\r\n         * Update Selected Color\r\n         * @param palette\r\n         * @param hue\r\n         */\r\n        function updateSelectedColor(palette, hue)\r\n        {\r\n            vm.selectedColor = {\r\n                palette     : palette,\r\n                hue         : hue,\r\n                class       : 'md-' + palette + '-' + hue + '-bg',\r\n                bgColorValue: fuseGenerator.rgba(vm.palettes[palette][hue].value),\r\n                fgColorValue: fuseGenerator.rgba(vm.palettes[palette][hue].contrast)\r\n            };\r\n\r\n            // If Model object not Equals the selectedColor update it\r\n            // it can be happen when the model only have pallete and hue values\r\n            if ( vm.msModelType === 'obj' && !angular.equals(vm.selectedColor, vm.modelCtrl.$viewValue) )\r\n            {\r\n                // Update Model Value\r\n                updateModel();\r\n            }\r\n\r\n            activateHueSelection(palette, vm.palettes[palette]);\r\n\r\n            $scope.$selectedColor = vm.selectedColor;\r\n        }\r\n\r\n        /**\r\n         * Update Model Value by model type\r\n         */\r\n        function updateModel()\r\n        {\r\n            if ( vm.msModelType === 'class' )\r\n            {\r\n                vm.modelCtrl.$setViewValue(vm.selectedColor.class);\r\n            }\r\n            else if ( vm.msModelType === 'obj' )\r\n            {\r\n                vm.modelCtrl.$setViewValue(vm.selectedColor);\r\n            }\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msMaterialColorPicker()\r\n    {\r\n        return {\r\n            require    : ['msMaterialColorPicker', 'ngModel'],\r\n            restrict   : 'E',\r\n            scope      : {\r\n                ngModel    : '=',\r\n                msModelType: '@?'\r\n            },\r\n            controller : 'msMaterialColorPickerController as vm',\r\n            transclude : true,\r\n            templateUrl: 'app/core/directives/ms-material-color-picker/ms-material-color-picker.html',\r\n            link       : function (scope, element, attrs, controllers, transclude)\r\n            {\r\n                var ctrl = controllers[0];\r\n\r\n                /**\r\n                 *  Pass model controller to directive controller\r\n                 */\r\n                ctrl.modelCtrl = controllers[1];\r\n\r\n                /**\r\n                 * ModelType: 'obj', 'class'(default)\r\n                 * @type {string|string}\r\n                 */\r\n                ctrl.msModelType = scope.msModelType || 'class';\r\n\r\n                transclude(scope, function (clone)\r\n                {\r\n                    clone = clone.filter(function (i, el)\r\n                    {\r\n                        return ( el.nodeType === 1 ) ? true : false;\r\n                    });\r\n\r\n                    if ( clone.length )\r\n                    {\r\n                        element.find('ms-color-picker-button').replaceWith(clone);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('msMasonryController', msMasonryController)\r\n        .directive('msMasonry', msMasonry)\r\n        .directive('msMasonryItem', msMasonryItem);\r\n\r\n    /** @ngInject */\r\n    function msMasonryController($scope, $window, $mdMedia, $timeout)\r\n    {\r\n        var vm = this,\r\n            defaultOpts = {\r\n                columnCount     : 5,\r\n                respectItemOrder: false,\r\n                reLayoutDebounce: 400,\r\n                responsive      : {\r\n                    md: 3,\r\n                    sm: 2,\r\n                    xs: 1\r\n                }\r\n            },\r\n            reLayoutTimeout = true;\r\n\r\n        vm.options = null;\r\n        vm.container = [];\r\n        vm.containerPos = '';\r\n        vm.columnWidth = '';\r\n        vm.items = [];\r\n\r\n        // Methods\r\n        vm.reLayout = reLayout;\r\n        vm.initialize = initialize;\r\n        vm.waitImagesLoaded = waitImagesLoaded;\r\n\r\n        function initialize()\r\n        {\r\n            vm.options = !vm.options ? defaultOpts : angular.extend(defaultOpts, vm.options);\r\n\r\n\r\n            watchContainerResize();\r\n        }\r\n\r\n        $scope.$on('msMasonry:relayout', function ()\r\n        {\r\n            reLayout();\r\n        });\r\n\r\n        function waitImagesLoaded(element, callback)\r\n        {\r\n            if ( typeof imagesLoaded !== 'undefined' )\r\n            {\r\n                var imgLoad = $window.imagesLoaded(element);\r\n\r\n                imgLoad.on('done', function ()\r\n                {\r\n                    callback();\r\n                });\r\n            }\r\n            else\r\n            {\r\n                callback();\r\n            }\r\n        }\r\n\r\n        function watchContainerResize()\r\n        {\r\n            $scope.$watch(\r\n                function ()\r\n                {\r\n                    return vm.container.width();\r\n                },\r\n                function (newValue, oldValue)\r\n                {\r\n                    if ( newValue !== oldValue )\r\n                    {\r\n                        reLayout();\r\n                    }\r\n                }\r\n            );\r\n        }\r\n\r\n        function reLayout()\r\n        {\r\n            // Debounce for relayout\r\n            if ( reLayoutTimeout )\r\n            {\r\n                $timeout.cancel(reLayoutTimeout);\r\n            }\r\n\r\n            reLayoutTimeout = $timeout(function ()\r\n            {\r\n                start();\r\n\r\n                $scope.$broadcast('msMasonry:relayoutFinished');\r\n\r\n            }, vm.options.reLayoutDebounce);\r\n\r\n            // Start relayout\r\n            function start()\r\n            {\r\n                vm.containerPos = vm.container[0].getBoundingClientRect();\r\n\r\n                updateColumnOptions();\r\n\r\n                $scope.$broadcast('msMasonry:relayoutStarted');\r\n\r\n                vm.items = vm.container.find('ms-masonry-item');\r\n\r\n                //initialize lastRowBottomArr\r\n                var referenceArr = Array.apply(null, new Array(vm.columnCount)).map(function ()\r\n                {\r\n                    return 0;\r\n                });\r\n\r\n                // set item positions\r\n                for ( var i = 0; i < vm.items.length; i++ )\r\n                {\r\n                    var item = vm.items[i],\r\n                        xPos, yPos, column, refTop;\r\n\r\n                    item = angular.element(item);\r\n\r\n                    if ( item.scope() )\r\n                    {\r\n                        item.scope().$broadcast('msMasonryItem:startReLayout');\r\n                    }\r\n\r\n                    item.css({'width': vm.columnWidth});\r\n\r\n                    if ( vm.options.respectItemOrder )\r\n                    {\r\n                        column = i % vm.columnCount;\r\n                        refTop = referenceArr[column];\r\n                    }\r\n                    else\r\n                    {\r\n                        refTop = Math.min.apply(Math, referenceArr);\r\n                        column = referenceArr.indexOf(refTop);\r\n                    }\r\n\r\n                    referenceArr[column] = refTop + item[0].getBoundingClientRect().height;\r\n\r\n                    xPos = Math.round(column * vm.columnWidth);\r\n                    yPos = refTop;\r\n\r\n                    item.css({'transform': 'translate3d(' + xPos + 'px,' + yPos + 'px,0px)'});\r\n                    item.addClass('placed');\r\n\r\n                    if ( item.scope() )\r\n                    {\r\n                        item.scope().$broadcast('msMasonryItem:finishReLayout');\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        function updateColumnOptions()\r\n        {\r\n            vm.columnCount = vm.options.columnCount;\r\n\r\n            if ( $mdMedia('gt-md') )\r\n            {\r\n                vm.columnCount = vm.options.columnCount;\r\n            }\r\n            else if ( $mdMedia('md') )\r\n            {\r\n                vm.columnCount = (vm.columnCount > vm.options.responsive.md ? vm.options.responsive.md : vm.columnCount);\r\n            }\r\n            else if ( $mdMedia('sm') )\r\n            {\r\n                vm.columnCount = (vm.columnCount > vm.options.responsive.sm ? vm.options.responsive.sm : vm.columnCount);\r\n            }\r\n            else\r\n            {\r\n                vm.columnCount = vm.options.responsive.xs;\r\n            }\r\n\r\n            vm.columnWidth = vm.containerPos.width / vm.columnCount;\r\n\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msMasonry($timeout)\r\n    {\r\n        return {\r\n            restrict  : 'AEC',\r\n            controller: 'msMasonryController',\r\n            compile   : compile\r\n        };\r\n        function compile(element, attributes)\r\n        {\r\n            return {\r\n                pre : function preLink(scope, iElement, iAttrs, controller)\r\n                {\r\n                    controller.options = angular.fromJson(attributes.options || '{}');\r\n                    controller.container = element;\r\n                },\r\n                post: function postLink(scope, iElement, iAttrs, controller)\r\n                {\r\n                    $timeout(function ()\r\n                    {\r\n                        controller.initialize();\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msMasonryItem()\r\n    {\r\n        return {\r\n            restrict: 'AEC',\r\n            require : '^msMasonry',\r\n            priority: 1,\r\n            link    : link\r\n        };\r\n\r\n        function link(scope, element, attributes, controller)\r\n        {\r\n            controller.waitImagesLoaded(element, function ()\r\n            {\r\n                controller.reLayout();\r\n\r\n            });\r\n\r\n            scope.$on('msMasonryItem:finishReLayout', function ()\r\n            {\r\n                scope.$watch(function ()\r\n                {\r\n                    return element.height();\r\n                }, function (newVal, oldVal)\r\n                {\r\n                    if ( newVal !== oldVal )\r\n                    {\r\n                        controller.reLayout();\r\n                    }\r\n                });\r\n            });\r\n\r\n            element.on('$destroy', function ()\r\n            {\r\n                controller.reLayout();\r\n            });\r\n        }\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .directive('msInfoBar', msInfoBarDirective);\r\n\r\n    /** @ngInject */\r\n    function msInfoBarDirective($document)\r\n    {\r\n        return {\r\n            restrict   : 'E',\r\n            scope      : {},\r\n            transclude : true,\r\n            templateUrl: 'app/core/directives/ms-info-bar/ms-info-bar.html',\r\n            link       : function (scope, iElement)\r\n            {\r\n                var body = $document.find('body'),\r\n                    bodyClass = 'ms-info-bar-active';\r\n\r\n                // Add body class\r\n                body.addClass(bodyClass);\r\n\r\n                /**\r\n                 * Remove the info bar\r\n                 */\r\n                function removeInfoBar()\r\n                {\r\n                    body.removeClass(bodyClass);\r\n                    iElement.remove();\r\n                    scope.$destroy();\r\n                }\r\n\r\n                // Expose functions\r\n                scope.removeInfoBar = removeInfoBar;\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('MsFormWizardController', MsFormWizardController)\r\n        .directive('msFormWizard', msFormWizardDirective)\r\n        .directive('msFormWizardForm', msFormWizardFormDirective);\r\n\r\n    /** @ngInject */\r\n    function MsFormWizardController()\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.forms = [];\r\n        vm.selectedIndex = 0;\r\n\r\n        // Methods\r\n        vm.registerForm = registerForm;\r\n\r\n        vm.previousStep = previousStep;\r\n        vm.nextStep = nextStep;\r\n        vm.firstStep = firstStep;\r\n        vm.lastStep = lastStep;\r\n\r\n        vm.totalSteps = totalSteps;\r\n        vm.isFirstStep = isFirstStep;\r\n        vm.isLastStep = isLastStep;\r\n\r\n        vm.currentStepInvalid = currentStepInvalid;\r\n        vm.previousStepInvalid = previousStepInvalid;\r\n        vm.formsIncomplete = formsIncomplete;\r\n        vm.resetForm = resetForm;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Register form\r\n         *\r\n         * @param form\r\n         */\r\n        function registerForm(form)\r\n        {\r\n            vm.forms.push(form);\r\n        }\r\n\r\n        /**\r\n         * Go to previous step\r\n         */\r\n        function previousStep()\r\n        {\r\n            if ( isFirstStep() )\r\n            {\r\n                return;\r\n            }\r\n\r\n            vm.selectedIndex--;\r\n        }\r\n\r\n        /**\r\n         * Go to next step\r\n         */\r\n        function nextStep()\r\n        {\r\n            if ( isLastStep() )\r\n            {\r\n                return;\r\n            }\r\n\r\n            vm.selectedIndex++;\r\n        }\r\n\r\n        /**\r\n         * Go to first step\r\n         */\r\n        function firstStep()\r\n        {\r\n            vm.selectedIndex = 0;\r\n        }\r\n\r\n        /**\r\n         * Go to last step\r\n         */\r\n        function lastStep()\r\n        {\r\n            vm.selectedIndex = totalSteps() - 1;\r\n        }\r\n\r\n        /**\r\n         * Return total steps\r\n         *\r\n         * @returns {int}\r\n         */\r\n        function totalSteps()\r\n        {\r\n            return vm.forms.length;\r\n        }\r\n\r\n        /**\r\n         * Is first step?\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isFirstStep()\r\n        {\r\n            return vm.selectedIndex === 0;\r\n        }\r\n\r\n        /**\r\n         * Is last step?\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isLastStep()\r\n        {\r\n            return vm.selectedIndex === totalSteps() - 1;\r\n        }\r\n\r\n        /**\r\n         * Is current step invalid?\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function currentStepInvalid()\r\n        {\r\n            return angular.isDefined(vm.forms[vm.selectedIndex]) && vm.forms[vm.selectedIndex].$invalid;\r\n        }\r\n\r\n        /**\r\n         * Is previous step invalid?\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function previousStepInvalid()\r\n        {\r\n            return vm.selectedIndex > 0 && angular.isDefined(vm.forms[vm.selectedIndex - 1]) && vm.forms[vm.selectedIndex - 1].$invalid;\r\n        }\r\n\r\n        /**\r\n         * Check if there is any incomplete forms\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function formsIncomplete()\r\n        {\r\n            for ( var x = 0; x < vm.forms.length; x++ )\r\n            {\r\n                if ( vm.forms[x].$invalid )\r\n                {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        /**\r\n         * Reset form\r\n         */\r\n        function resetForm()\r\n        {\r\n            // Go back to the first step\r\n            vm.selectedIndex = 0;\r\n\r\n            // Make sure all the forms are back in the $pristine & $untouched status\r\n            for ( var x = 0; x < vm.forms.length; x++ )\r\n            {\r\n                vm.forms[x].$setPristine();\r\n                vm.forms[x].$setUntouched();\r\n            }\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msFormWizardDirective()\r\n    {\r\n        return {\r\n            restrict  : 'E',\r\n            scope     : true,\r\n            controller: 'MsFormWizardController as msWizard',\r\n            compile   : function (tElement)\r\n            {\r\n                tElement.addClass('ms-form-wizard');\r\n\r\n                return function postLink()\r\n                {\r\n\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msFormWizardFormDirective()\r\n    {\r\n        return {\r\n            restrict: 'A',\r\n            require : ['form', '^msFormWizard'],\r\n            compile : function (tElement)\r\n            {\r\n                tElement.addClass('ms-form-wizard-form');\r\n\r\n                return function postLink(scope, iElement, iAttrs, ctrls)\r\n                {\r\n                    var formCtrl = ctrls[0],\r\n                        MsFormWizardCtrl = ctrls[1];\r\n\r\n                    MsFormWizardCtrl.registerForm(formCtrl);\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .provider('msDatepickerFixConfig', msDatepickerFixConfigProvider)\r\n        .directive('msDatepickerFix', msDatepickerFix);\r\n\r\n    /** @ngInject */\r\n    function msDatepickerFixConfigProvider()\r\n    {\r\n\r\n        // Default configuration\r\n        var defaultConfiguration = {\r\n            // To view\r\n            formatter: function (val)\r\n            {\r\n                if ( !val )\r\n                {\r\n                    return '';\r\n                }\r\n\r\n                return val === '' ? val : new Date(val);\r\n            },\r\n            // To model\r\n            parser   : function (val)\r\n            {\r\n                if ( !val )\r\n                {\r\n                    return '';\r\n                }\r\n                var offset = moment(val).utcOffset();\r\n                var date = new Date(moment(val).add(offset, 'm'));\r\n                return date;\r\n            }\r\n        };\r\n\r\n        // Methods\r\n        this.config = config;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Extend default configuration with the given one\r\n         *\r\n         * @param configuration\r\n         */\r\n        function config(configuration)\r\n        {\r\n            defaultConfiguration = angular.extend({}, defaultConfiguration, configuration);\r\n        }\r\n\r\n        /**\r\n         * Service\r\n         */\r\n        this.$get = function ()\r\n        {\r\n            return defaultConfiguration;\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msDatepickerFix(msDatepickerFixConfig)\r\n    {\r\n        return {\r\n            require: 'ngModel',\r\n            link   : function (scope, elem, attrs, ngModel)\r\n            {\r\n                ngModel.$formatters.unshift(msDatepickerFixConfig.formatter); // to view\r\n                ngModel.$parsers.unshift(msDatepickerFixConfig.parser); // to model\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .directive('msCard', msCardDirective);\r\n\r\n    /** @ngInject */\r\n    function msCardDirective()\r\n    {\r\n        return {\r\n            restrict: 'E',\r\n            scope   : {\r\n                templatePath: '=template',\r\n                card        : '=ngModel',\r\n                vm          : '=viewModel'\r\n            },\r\n            template: '<div class=\"ms-card-content-wrapper\" ng-include=\"templatePath\" onload=\"cardTemplateLoaded()\"></div>',\r\n            compile : function (tElement)\r\n            {\r\n                // Add class\r\n                tElement.addClass('ms-card');\r\n\r\n                return function postLink(scope, iElement)\r\n                {\r\n                    // Methods\r\n                    scope.cardTemplateLoaded = cardTemplateLoaded;\r\n\r\n                    //////////\r\n\r\n                    /**\r\n                     * Emit cardTemplateLoaded event\r\n                     */\r\n                    function cardTemplateLoaded()\r\n                    {\r\n                        scope.$emit('msCard::cardTemplateLoaded', iElement);\r\n                    }\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.user', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, msApiProvider, $translatePartialLoaderProvider, msNavigationServiceProvider) {\r\n\r\n    // State\r\n    $stateProvider.state('app.user', {\r\n      url: '/user',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/user/user.html',\r\n          controller: 'UserController as vm'\r\n        }\r\n      },\r\n      bodyClass: 'forms'\r\n    });\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/user');\r\n\r\n    // Navigation\r\n    /*\r\n    msNavigationServiceProvider.saveItem('account', {\r\n      title: 'Account Settings',\r\n      group: true,\r\n      weight: 2\r\n    });\r\n\r\n\r\n    msNavigationServiceProvider.saveItem('account.user', {\r\n      title: 'User Profile',\r\n      icon: 'icon-account',\r\n      state: 'app.user',\r\n      weight: 1\r\n    });\r\n    */\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.user')\r\n    .controller('UserController', UserController);\r\n\r\n  /** @ngInject */\r\n  function UserController($rootScope, $http, $scope, api, $mdSidenav) {\r\n\r\n    var vm = this;\r\n\r\n    vm.updateUser = updateUser;\r\n\r\n    vm.update = {\r\n      editable: false,\r\n      sending: false,\r\n      cancel: function () {\r\n        this.editable = false;\r\n        return this.sending = false;\r\n      },\r\n      send: function () {\r\n        this.sending = true;\r\n        return api.account.update(this.info).error(function (res) {\r\n          return $rootScope.message('Server not responsing properly.', 'warning');\r\n        }).success(function (res) {\r\n          if (res === void 0 || res === null || res === '') {\r\n            return $rootScope.message('Error talking to server', 'warning');\r\n          } else if (res.code) {\r\n            return $rootScope.message(res.message, 'warning');\r\n          } else {\r\n            $rootScope.user = res.user;\r\n            vm.update.editable = false;\r\n            return $rootScope.message(res.message);\r\n          }\r\n        })[\"finally\"](function () {\r\n          return vm.update.sending = false;\r\n        });\r\n      },\r\n      info: {\r\n        notifications: 0,\r\n        name: {\r\n          first: '',\r\n          last: ''\r\n        },\r\n        email: '',\r\n        password: '',\r\n        phone: ''\r\n      }\r\n    };\r\n\r\n    function updateUser(u) {\r\n      vm.update.info = {\r\n        notifications: +u.notifications,\r\n        name: {\r\n          first: u.name.first,\r\n          last: u.name.last\r\n        },\r\n        email: u.email,\r\n        password: u.password,\r\n        phone: u.phone\r\n      };\r\n    };\r\n\r\n    // Fetch user object from $rootScope on broadcast event\r\n    $scope.$on('event:userLoaded', function () {\r\n      vm.updateUser($rootScope.user);\r\n    });\r\n\r\n    // Fetch user object from $rootScope\r\n    if ($rootScope.user !== undefined) {\r\n      vm.updateUser($rootScope.user);\r\n    }\r\n\r\n\r\n    vm.toggleSidenav = toggleSidenav;\r\n\r\n    //Toggle Left Side Nav\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n    }\r\n\r\n    $scope.$on('event:startDoomsDayDevice', function (data) {\r\n\r\n      console.log('data', data);\r\n\r\n    });\r\n\r\n    console.log('vm.update', vm.update);\r\n\r\n  }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.todo')\r\n        .controller('TodoController', TodoController);\r\n\r\n    /** @ngInject */\r\n    function TodoController($document, $mdDialog, $mdSidenav, Tasks, Tags)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.tasks = Tasks.data;\r\n        vm.tags = Tags.data;\r\n        vm.completed = [];\r\n        vm.colors = ['blue', 'blue-grey', 'orange', 'pink', 'purple'];\r\n        vm.projects = {\r\n            'creapond'    : 'Project Creapond',\r\n            'withinpixels': 'Project Withinpixels'\r\n        };\r\n        vm.selectedFilter = {\r\n            filter : 'Start Date',\r\n            dueDate: 'Next 3 days'\r\n        };\r\n        vm.selectedProject = 'creapond';\r\n\r\n        // Tasks will be filtered against these models\r\n        vm.taskFilters = {\r\n            search   : '',\r\n            tags     : [],\r\n            completed: '',\r\n            deleted  : false,\r\n            important: '',\r\n            starred  : '',\r\n            startDate: '',\r\n            dueDate  : ''\r\n        };\r\n        vm.taskFiltersDefaults = angular.copy(vm.taskFilters);\r\n        vm.showAllTasks = true;\r\n\r\n        vm.taskOrder = '';\r\n        vm.taskOrderDescending = false;\r\n\r\n        vm.sortableOptions = {\r\n            handle        : '.handle',\r\n            forceFallback : true,\r\n            ghostClass    : 'todo-item-placeholder',\r\n            fallbackClass : 'todo-item-ghost',\r\n            fallbackOnBody: true,\r\n            sort          : true\r\n        };\r\n        vm.msScrollOptions = {\r\n            suppressScrollX: true\r\n        };\r\n\r\n        // Methods\r\n        vm.preventDefault = preventDefault;\r\n        vm.openTaskDialog = openTaskDialog;\r\n        vm.toggleCompleted = toggleCompleted;\r\n        vm.toggleSidenav = toggleSidenav;\r\n        vm.toggleFilter = toggleFilter;\r\n        vm.toggleFilterWithEmpty = toggleFilterWithEmpty;\r\n        vm.filterByStartDate = filterByStartDate;\r\n        vm.filterByDueDate = filterByDueDate;\r\n        vm.resetFilters = resetFilters;\r\n        vm.toggleTagFilter = toggleTagFilter;\r\n        vm.isTagFilterExists = isTagFilterExists;\r\n\r\n        init();\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Initialize the controller\r\n         */\r\n        function init()\r\n        {\r\n            angular.forEach(vm.tasks, function (task)\r\n            {\r\n                if ( task.startDate )\r\n                {\r\n                    task.startDate = new Date(task.startDate);\r\n                    task.startDateTimestamp = task.startDate.getTime();\r\n                }\r\n\r\n                if ( task.dueDate )\r\n                {\r\n                    task.dueDate = new Date(task.dueDate);\r\n                    task.dueDateTimestamp = task.dueDate.getTime();\r\n                }\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Prevent default\r\n         *\r\n         * @param e\r\n         */\r\n        function preventDefault(e)\r\n        {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }\r\n\r\n        /**\r\n         * Open new task dialog\r\n         *\r\n         * @param ev\r\n         * @param task\r\n         */\r\n        function openTaskDialog(ev, task)\r\n        {\r\n            $mdDialog.show({\r\n                controller         : 'TaskDialogController',\r\n                controllerAs       : 'vm',\r\n                templateUrl        : 'app/main/apps/todo/dialogs/task/task-dialog.html',\r\n                parent             : angular.element($document.body),\r\n                targetEvent        : ev,\r\n                clickOutsideToClose: true,\r\n                locals             : {\r\n                    Task : task,\r\n                    Tasks: vm.tasks,\r\n                    event: ev\r\n                }\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Toggle completed status of the task\r\n         *\r\n         * @param task\r\n         * @param event\r\n         */\r\n        function toggleCompleted(task, event)\r\n        {\r\n            event.stopPropagation();\r\n            task.completed = !task.completed;\r\n        }\r\n\r\n        /**\r\n         * Toggle sidenav\r\n         *\r\n         * @param sidenavId\r\n         */\r\n        function toggleSidenav(sidenavId)\r\n        {\r\n            $mdSidenav(sidenavId).toggle();\r\n        }\r\n\r\n        /**\r\n         * Toggles filter with true or false\r\n         *\r\n         * @param filter\r\n         */\r\n        function toggleFilter(filter)\r\n        {\r\n            vm.taskFilters[filter] = !vm.taskFilters[filter];\r\n\r\n            checkFilters();\r\n        }\r\n\r\n        /**\r\n         * Toggles filter with true or empty string\r\n         * @param filter\r\n         */\r\n        function toggleFilterWithEmpty(filter)\r\n        {\r\n            if ( vm.taskFilters[filter] === '' )\r\n            {\r\n                vm.taskFilters[filter] = true;\r\n            }\r\n            else\r\n            {\r\n                vm.taskFilters[filter] = '';\r\n            }\r\n\r\n            checkFilters();\r\n        }\r\n\r\n        /**\r\n         * Reset filters\r\n         */\r\n        function resetFilters()\r\n        {\r\n            vm.showAllTasks = true;\r\n            vm.taskFilters = angular.copy(vm.taskFiltersDefaults);\r\n        }\r\n\r\n        /**\r\n         * Check filters and mark showAllTasks\r\n         * as true if no filters selected\r\n         */\r\n        function checkFilters()\r\n        {\r\n            vm.showAllTasks = !!angular.equals(vm.taskFiltersDefaults, vm.taskFilters);\r\n        }\r\n\r\n        /**\r\n         * Filter by startDate\r\n         *\r\n         * @param item\r\n         * @returns {boolean}\r\n         */\r\n        function filterByStartDate(item)\r\n        {\r\n            if ( vm.taskFilters.startDate === true )\r\n            {\r\n                return item.startDate === new Date();\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n        /**\r\n         * Filter Due Date\r\n         *\r\n         * @param item\r\n         * @returns {boolean}\r\n         */\r\n        function filterByDueDate(item)\r\n        {\r\n            if ( vm.taskFilters.dueDate === true )\r\n            {\r\n                return !(item.dueDate === null || item.dueDate.length === 0);\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n        /**\r\n         * Toggles tag filter\r\n         *\r\n         * @param tag\r\n         */\r\n        function toggleTagFilter(tag)\r\n        {\r\n            var i = vm.taskFilters.tags.indexOf(tag);\r\n\r\n            if ( i > -1 )\r\n            {\r\n                vm.taskFilters.tags.splice(i, 1);\r\n            }\r\n            else\r\n            {\r\n                vm.taskFilters.tags.push(tag);\r\n            }\r\n\r\n            checkFilters();\r\n        }\r\n\r\n        /**\r\n         * Returns if tag exists in the tagsFilter\r\n         *\r\n         * @param tag\r\n         * @returns {boolean}\r\n         */\r\n        function isTagFilterExists(tag)\r\n        {\r\n            return vm.taskFilters.tags.indexOf(tag) > -1;\r\n        }\r\n    }\r\n})();\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.templates', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, msApiProvider, $translatePartialLoaderProvider, msNavigationServiceProvider) {\r\n\r\n    // State\r\n    $stateProvider.state('app.templates', {\r\n      url: '/templates',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/templates/templates.html',\r\n          controller: 'TemplatesController as vm'\r\n        }\r\n      },\r\n      bodyClass: 'forms'\r\n    });\r\n\r\n\r\n    // Translate\r\n    $translatePartialLoaderProvider.addPart('app/main/templates');\r\n\r\n    // Navigation\r\n    msNavigationServiceProvider.saveItem('checklists.templates', {\r\n      title: 'Templates',\r\n      icon: 'icon-account-multiple',\r\n      state: 'app.templates',\r\n      weight: 3\r\n    });\r\n\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.templates')\r\n    .controller('TemplatesController', TemplatesController);\r\n\r\n  /** @ngInject */\r\n  function TemplatesController($rootScope, $http, api, $mdSidenav, $mdDialog, $scope, $document, $state) {\r\n\r\n    //console.log('$rootScope.user', $rootScope.user);\r\n\r\n    var vm = this;\r\n    vm.openAddChecklistTemplateDialog = openAddChecklistTemplateDialog;\r\n    vm.openAddFolderTemplateDialog = openAddFolderTemplateDialog;\r\n    vm.fetchGroups = fetchGroups;\r\n    vm.openFolderInput = openFolderInput;\r\n    vm.cancelFolderInput = cancelFolderInput;\r\n    vm.cancelGroupInput = cancelGroupInput;\r\n    vm.cancelChecklistInput = cancelChecklistInput;\r\n    vm.openGroupInput = openGroupInput;\r\n    vm.addNewFolder = addNewFolder;\r\n    vm.addNewGroup = addNewGroup;\r\n    vm.addNewChecklist = addNewChecklist;\r\n    vm.toggleSidenav = toggleSidenav;\r\n    vm.closeDialog = closeDialog;\r\n    vm.templateFiltersDefaults = angular.copy(vm.templateFilters);\r\n    vm.showAllTemplates = true;\r\n    vm.templateOrder = '';\r\n    vm.templateOrderDescending = false;\r\n\r\n    //Toggle Left Side Nav\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n    };\r\n\r\n    function closeDialog() {\r\n      $mdDialog.hide();\r\n    };\r\n\r\n    vm.templateFilters = {\r\n      search: '',\r\n      deleted: false\r\n    };\r\n\r\n    vm.sortableOptions = {\r\n      handle: '.handle',\r\n      forceFallback: true,\r\n      ghostClass: 'todo-item-placeholder',\r\n      fallbackClass: 'todo-item-ghost',\r\n      fallbackOnBody: true,\r\n      sort: true\r\n    };\r\n\r\n    vm.msScrollOptions = {\r\n      suppressScrollX: true\r\n    };\r\n\r\n    console.log('vm.templateFilters', vm.templateFilters);\r\n    vm.templateFiltersDefaults = angular.copy(vm.templateFilters);\r\n    vm.showAllFilters = true;\r\n\r\n    vm.filterOrder = '';\r\n    vm.filterOrderDescending = false;\r\n\r\n    vm.folders = [];\r\n    api.folders.get().then(function (d) {\r\n      console.log('d', d);\r\n      vm.folders = d.data.folders;\r\n    });\r\n\r\n    vm.wizard = {\r\n      newFolder: false,\r\n      newGroup: false\r\n    };\r\n\r\n    function fetchGroups(id) {\r\n\r\n      vm.groups = $rootScope.children('groups', id);\r\n      console.log('vm.groups pre organizeData id / vm.groups', id, vm.groups)\r\n      $rootScope.organizeData();\r\n      console.log('fetching', id, vm.groups);\r\n\r\n      if (!vm.groups.length > 0) {\r\n        vm.wizard.switch = true;\r\n      } else {\r\n        vm.wizard.switch = false;\r\n      }\r\n    };\r\n\r\n\r\n    function openFolderInput() {\r\n      vm.folder = '';\r\n      vm.group = '';\r\n      vm.wizard.newFolder = true;\r\n      vm.wizard.newGroup = false;\r\n      vm.wizard.newChecklist = false;\r\n      console.log('vm.wizard', vm.wizard);\r\n\r\n    };\r\n\r\n    function cancelFolderInput() {\r\n      return vm.wizard.newFolder = false;\r\n      console.log('vm.wizard', vm.wizard);\r\n    };\r\n\r\n    function cancelGroupInput() {\r\n      console.log('fff');\r\n      return vm.wizard.newGroup = false;\r\n      return vm.wizard.switch = false;\r\n      console.log('vm.wizard', vm.wizard);\r\n    };\r\n\r\n    function cancelChecklistInput() {\r\n      vm.closeDialog();\r\n      console.log('vm.wizard', vm.wizard);\r\n    };\r\n\r\n    function openGroupInput() {\r\n      vm.group = '';\r\n      vm.wizard.newFolder = false;\r\n      vm.wizard.newChecklist = false;\r\n      vm.wizard.newGroup = true;\r\n      vm.wizard.switch = true;\r\n      console.log('vm.wizard', vm.wizard);\r\n    };\r\n\r\n\r\n    function addNewFolder() {\r\n      //console.log('pre insert vm.folders', vm.folders);\r\n      //Set sending variable for buttons\r\n      vm.folder.sending = true;\r\n\r\n      //Set order variable for sql insert\r\n      vm.folder.order = 1;\r\n      vm.folder.order += vm.folders.length;\r\n\r\n      api.folders.add(vm.folder.name, vm.folder.description, vm.folder.order).error(function (res) {\r\n        return $rootScope.message(\"Error Creating Project\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error Creating Project\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          vm.verticalStepper = {\r\n            newFolderID: res.folder.id\r\n          }\r\n\r\n\r\n\r\n          $rootScope.$broadcast('event:updateModels');\r\n          vm.folders.push(res.folder);\r\n          $rootScope.organizeData();\r\n\r\n          vm.fetchGroups(res.folder.id);\r\n\r\n\r\n          $rootScope.message('Project Added');\r\n\r\n          //Hide Buttons\r\n          vm.wizard.newFolder = false;\r\n\r\n\r\n        }\r\n      });\r\n\r\n    };\r\n\r\n    function addNewGroup(groupName, folderID) {\r\n\r\n      //Set sending variable for buttons\r\n      vm.group.sending = true;\r\n\r\n      //Set order variable for sql insert\r\n      vm.group.order = 1;\r\n      vm.group.order += vm.groups.length;\r\n      vm.group.text = groupName;\r\n      vm.group.id_parent = folderID;\r\n\r\n      api.groups.add(vm.group.text, vm.group.order, vm.group.id_parent).error(function (res) {\r\n        return $rootScope.message(\"Error Adding Folder\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error Adding Folder\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          console.log('res.groups', res.groups);\r\n          $rootScope.$broadcast('event:updateModels');\r\n          vm.groups.push(res.group);\r\n          $rootScope.organizeData();\r\n\r\n          vm.verticalStepper.newGroupID = res.group.id;\r\n          vm.verticalStepper.newFolderID = res.group.id_parent;\r\n\r\n          vm.wizard.newGroup = false;\r\n          vm.wizard.switch = false;\r\n\r\n\r\n          $rootScope.message('Folder Added');\r\n        }\r\n      });\r\n    };\r\n\r\n    function addNewChecklist(checklistName, groupID, folderID) {\r\n\r\n      //Set sending variable for buttons\r\n      vm.checklist.sending = true;\r\n\r\n      //Set order variable for sql insert\r\n      vm.checklist.order = 1;\r\n      vm.checklist.order += vm.checklists.length;\r\n\r\n      //name, order, to\r\n      api.checklists.add(checklistName, vm.checklist.order, groupID).error(function (res) {\r\n        return $rootScope.message(\"Error Adding Checklist\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error Adding Checklist\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          //console.log('res checklist', res);\r\n          //console.log('res.checklist.id', res.checklist.id);\r\n          api.sections.add('sections', 1, res.checklist.id).error(function (res) {\r\n            return $rootScope.message(\"Error Adding Section\", 'warning');\r\n          }).success(function (res) {\r\n            //console.log('res failed', res);\r\n            if (res === void 0 || res === null || res === '') {\r\n              return $rootScope.message(\"Error Adding Section\", 'warning');\r\n            } else if (res.code) {\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              //console.log('res success', res);\r\n              vm.sections.push(res.section);\r\n            }\r\n          });\r\n          //console.log('vm.checklists pre', vm.checklists);\r\n\r\n          $rootScope.$broadcast('event:updateModels');\r\n          console.log('$stateParams.id', $stateParams.id);\r\n          //console.log('$state', $state);\r\n          console.log('$state.is', $state.is);\r\n\r\n\r\n          //vm.checklists = $rootScope.checklists;\r\n          if (!$state.is('app.checklist.detail')) {\r\n            console.log('pre unshift vm.checklists', vm.checklists);\r\n            vm.checklists.unshift(res.checklist);\r\n            console.log('post unshift vm.checklists', vm.checklists);\r\n          }\r\n\r\n          $rootScope.organizeData();\r\n          $rootScope.message('Checklist Added');\r\n\r\n        }\r\n      });\r\n\r\n      vm.closeDialog();\r\n    };\r\n\r\n    function openAddChecklistTemplateDialog(ev, templateID, templateType) {\r\n\r\n      vm.title = 'Download From Checklist Templates';\r\n      vm.wizard.templateID = templateID;\r\n      vm.wizard.templateType = templateType;\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/templates/dialogs/templates/checklist-add-from-template-dialog.html',\r\n        parent: angular.element($document.find('#templates')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n\r\n    };\r\n\r\n    function openAddFolderTemplateDialog(ev, templateID, templateType) {\r\n\r\n      vm.title = 'Download From Folder Templates';\r\n      vm.wizard.templateID = templateID;\r\n      vm.wizard.templateType = templateType;\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/templates/dialogs/templates/checklist-add-from-folder-template-dialog.html',\r\n        parent: angular.element($document.find('#templates')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    };\r\n\r\n    vm.templates = {\r\n      list: [],\r\n      load: {\r\n        inProgress: false,\r\n        error: '',\r\n        start: function () {\r\n          var process;\r\n          this.inProgress = true;\r\n          this.error = '';\r\n          process = this.processTemplate;\r\n          return $http.get(\"https://checklinked.com/ajax/templates-get.php?org=1&noXML=1\").success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              console.log('Error loading templates: ', res);\r\n              return vm.templates.load.error = 'Error loading Templates! (Server not responding properly.)';\r\n            } else if (res.code) {\r\n              return vm.templates.load.error = \"Error loading Templates: (\" + res.code + \") \" + res.message;\r\n            } else if (res.templates !== void 0 && res.templates.length) {\r\n              vm.templates.list = res.templates.map(process);\r\n              console.log('vm.templates.list', vm.templates.list);\r\n            }\r\n          }).error(function (err) {\r\n            console.log('Error loading team members: ', err);\r\n            return vm.templates.load.error = 'Error loading Templates! (Sever not responding.)';\r\n          })[\"finally\"](function () {\r\n            return vm.templates.load.inProgress = false;\r\n          });\r\n        },\r\n        startInternal: function () {\r\n          vm.criteria = {\r\n            name: '*',\r\n            organization: '',\r\n            author: '',\r\n            version: '',\r\n            type: '*'\r\n          };\r\n\r\n          return api.checklists.searchForTemplates(vm.criteria).error(function (res) {\r\n            //return $rootScope.message('Unknown error finding Templates.', 'warning');\r\n          }).success(function (res) {\r\n            if (res.code) {\r\n              res.display = \"Error finding Templates: (\" + res.code + \"): \" + res.message;\r\n              //$rootScope.message(res.display, 'warning');\r\n            }\r\n            vm.publicTemplates = res.templates;\r\n            console.log('vm.publicTemplates', vm.publicTemplates);\r\n          })[\"finally\"](function () {\r\n          });\r\n        },\r\n        processTemplate: function (raw) {\r\n          var processed;\r\n          processed = $.extend({}, raw, {\r\n            revising: false,\r\n            deleting: false,\r\n            revise: function () {\r\n              return $rootScope.message('This function is under construction.');\r\n            },\r\n            remove: function () {\r\n              var template;\r\n              if (this.deleting) {\r\n                return false;\r\n              }\r\n              console.log('deleting template', template);\r\n              this.deleting = true;\r\n              template = this;\r\n\r\n              console.log(template);\r\n\r\n              return $http.post(\"https://checklinked.com/ajax/template_delete-post.php\", {\r\n\r\n                template: template\r\n              }, {\r\n                headers: {\r\n                  'Content-Type': 'application/x-www-form-urlencoded'\r\n                },\r\n                cache: false\r\n              }).success(function (res) {\r\n                if (res === void 0 || res === null || res === '') {\r\n                  return $rootScope.message('Error deleting Template. Server not responding properly.', 'warning');\r\n                } else if (res.code) {\r\n                  return $rootScope.message(\"Error deleting Template: (\" + res.code + \"): \" + res.message, 'warning');\r\n                } else {\r\n                  vm.templates.list.remove(template);\r\n                  console.log('template deleted', template, vm.templates.list);\r\n                  return $rootScope.message('Template Deleted');\r\n                }\r\n              }).error(function (err) {\r\n                return $rootScope.message('Error deleting Template. Server not responding.', 'warning');\r\n              })[\"finally\"](function () {\r\n                return template.deleting = false;\r\n              });\r\n            }\r\n          });\r\n          return processed;\r\n        }\r\n      }\r\n    };\r\n\r\n    vm.download = {\r\n      template: null,\r\n      creating: false,\r\n      begin: function (ev, templateID, templateType) {\r\n        if(templateType == 'checklist') {\r\n          console.log('open openAddChecklistTemplateDialog');\r\n          vm.openAddChecklistTemplateDialog(ev, templateID, templateType);\r\n        } else if(templateType == 'group'){\r\n          console.log('open openAddFolderTemplateDialog');\r\n          vm.openAddFolderTemplateDialog(ev, templateID, templateType);\r\n        }\r\n\r\n      },\r\n      create: function (idCTMPL, parentID, templateType) {\r\n        console.log('idCTMPL', idCTMPL);\r\n        console.log('parentID', parentID);\r\n        console.log('templateType', templateType);\r\n\r\n        vm.download.creating = true;\r\n        return api.checklists.createFromTemplate(idCTMPL, parentID, templateType).error(function (res) {\r\n          return $rootScope.message('Unknown error creating Checklist from selected Template.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            return $rootScope.message(\"Error creating Checklist from Template: (\" + res.code + \"): \" + res.message, 'warning');\r\n          } else {\r\n\r\n            $rootScope.$broadcast('event:updateModels');\r\n\r\n            $rootScope.message('Template has been downloaded', 'success');\r\n            $rootScope.organizeData();\r\n            vm.closeDialog();\r\n          }\r\n        })[\"finally\"](function () {\r\n          return vm.download.creating = false;\r\n        });\r\n      }\r\n    };\r\n\r\n    vm.templates.load.start();\r\n    vm.templates.load.startInternal();\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.teammembers', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, msApiProvider, $translatePartialLoaderProvider, msNavigationServiceProvider) {\r\n\r\n    // State\r\n    $stateProvider.state('app.teammembers', {\r\n      url: '/teammembers',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/teammembers/teammembers.html',\r\n          controller: 'TeamMembersController as vm'\r\n        }\r\n      },\r\n      bodyClass: 'forms'\r\n    });\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/teammembers');\r\n\r\n    // Navigation\r\n    /*\r\n    msNavigationServiceProvider.saveItem('account.teammembers', {\r\n      title: 'Team Members',\r\n      icon: 'icon-account-multiple',\r\n      state: 'app.teammembers',\r\n      weight: 3\r\n    });\r\n    */\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.teammembers')\r\n    .controller('TeamMembersController', TeamMembersController);\r\n\r\n  /** @ngInject */\r\n  function TeamMembersController($rootScope, $http, $scope, api, $mdSidenav) {\r\n\r\n    var vm = this;\r\n\r\n    vm.toggleSidenav = toggleSidenav;\r\n    vm.members = [];\r\n    //$scope.members = [];\r\n\r\n    //Toggle Left Side Nav\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n    }\r\n\r\n\r\n    $scope.$on('event:rolesUpdated', function () {\r\n    });\r\n\r\n    $scope.$on('event:membersUpdated', function () {\r\n      return vm.members.load.start();\r\n    });\r\n\r\n\r\n    vm.members = {\r\n      list: [],\r\n      roles: [],\r\n      load: {\r\n        inProgress: false,\r\n        error: '',\r\n        start: function (idCON) {\r\n          var process;\r\n          if (idCON == null) {\r\n            idCON = null;\r\n          }\r\n          if (idCON === null) {\r\n            this.inProgress = true;\r\n            this.error = '';\r\n            process = this.processMember;\r\n            return $http.get(\"https://checklinked.com/ajax/organization_members-get.php\").success(function (res) {\r\n              if (res === void 0 || res === null || res === '') {\r\n                console.log('Error loading team members: ', res);\r\n                return vm.members.load.error = 'Error loading Team Members! (Server not responding properly.)';\r\n              } else if (res.code) {\r\n                return vm.members.load.error = \"Error loading Team Members: (\" + res.code + \") \" + res.message;\r\n              } else {\r\n                vm.members.roles = res.roles;\r\n                return vm.members.list = res.members.map(process);\r\n              }\r\n            }).error(function (err) {\r\n              console.log('Error loading team members: ', err);\r\n              vm.members.load.inProgress = false;\r\n              return vm.members.load.error = 'Error loading Team Members! (Sever not responding.)';\r\n            })[\"finally\"](function () {\r\n              return vm.members.load.inProgress = false;\r\n            });\r\n          } else {\r\n\r\n          }\r\n        },\r\n        processMember: function (raw) {\r\n          var processed, roles;\r\n          roles = $.extend({}, raw.roles, {\r\n            setting: [],\r\n            set: function (role, willHave) {\r\n              var self;\r\n              this.setting.push(role);\r\n              self = this;\r\n              return $http.post(\"https://checklinked.com/ajax/organization_member_role_set-post.php\", {\r\n                idCON: raw.idCON,\r\n                role: role,\r\n                setTo: willHave\r\n              }, {\r\n                headers: {\r\n                  'Content-Type': 'application/x-www-form-urlencoded'\r\n                },\r\n                cache: false\r\n              }).success(function (res) {\r\n                var ref3, ref4;\r\n                self.setting.remove(role);\r\n                if (res === void 0 || res === null || res === '') {\r\n                  $rootScope.message('Error updating Team Member role. Server not responding properly.', 'warning');\r\n                } else if (res.code) {\r\n                  $rootScope.message(\"Error updating Team Member role. (\" + res.code + \") \" + res.message, 'warning');\r\n                } else if (willHave) {\r\n                  self.has.push(role);\r\n                } else {\r\n                  self.has.remove(role);\r\n                }\r\n                $rootScope.socketio.emit('roles_updated', raw.idCON);\r\n                if ((ref3 = $rootScope.user.organization) != null ? (ref4 = ref3.idACC) != null ? ref4.length : void 0 : void 0) {\r\n                  return $rootScope.socketio.emit('members_updated', $rootScope.user.organization.idACC);\r\n                }\r\n              }).error(function (err) {\r\n                self.setting.remove(role);\r\n                return $rootScope.message('Error updating Team Member role.  Server not responding.', 'warning');\r\n              })[\"finally\"](function () {\r\n                return self.setting.remove(role);\r\n              });\r\n            }\r\n          });\r\n          processed = raw;\r\n          processed.roles = roles;\r\n          return processed;\r\n        }\r\n      },\r\n      offboard: {\r\n        inProgress: [],\r\n        execute: function (member) {\r\n          var confMsg, self;\r\n          confMsg = \"You cannot undo this action.\";\r\n          if (member.idCON === $rootScope.user.idCON) {\r\n            confMsg += \" You\";\r\n          } else {\r\n            confMsg += \" The selected Team Member\";\r\n          }\r\n          confMsg += \" will lose access to all checklists, templates, and posts for this Organization.  Are you sure you wish to do this?\";\r\n          if (confirm(confMsg)) {\r\n            self = vm.members.offboard;\r\n            self.inProgress.push(member.idCON);\r\n            console.log('offboard member', member);\r\n            $http.post('https://checklinked.com/ajax/organization_member_offboard-post.php', {\r\n              idCON: member.idCON\r\n            }, {\r\n              headers: {\r\n                'Content-Type': 'application/x-www-form-urlencoded'\r\n              },\r\n              cache: false\r\n            }).error(function (res) {\r\n              console.log('member offboard error', member, res);\r\n              return $rootScope.message('Error offboarding member.', 'warning');\r\n            }).success(function (res) {\r\n              if (res === void 0 || res === null || res === '') {\r\n                console.log('member offboard error', member, res);\r\n                return $rootScope.message('Invalid response.', 'warning');\r\n              } else if (res.code) {\r\n                console.log('member offboard error', member, res);\r\n                return $rootScope.message(res.message, 'warning');\r\n              } else {\r\n                vm.members.list.remove(member);\r\n                if (member.idCON === $rootScope.user.idCON) {\r\n\r\n                  console.log('offboarded logged in user', res.user);\r\n                  $rootScope.user = res.user;\r\n                  if ($rootScope.viewAs.user.idCON !== $rootScope.user.idCON) {\r\n                    $rootScope.viewAs.set(res.user);\r\n                  }\r\n                  return $location.path('/teammembers');\r\n                }\r\n              }\r\n            })[\"finally\"](function () {\r\n              return self.inProgress.remove(member.idCON);\r\n            });\r\n          }\r\n          return false;\r\n        }\r\n      }\r\n    };\r\n    vm.members.load.start();\r\n\r\n    vm.queue = {\r\n      list: [],\r\n      load: {\r\n        inProgress: false,\r\n        error: '',\r\n        start: function () {\r\n          var process;\r\n          this.inProgress = true;\r\n          this.error = '';\r\n          process = this.processInvite;\r\n          return $http.get(\"https://checklinked.com/ajax/checklist_invites-get.php?queue=1\").success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              console.log('Error loading invites: ', res);\r\n              return vm.templates.load.error = 'Error loading Invites! (Server not responding properly.)';\r\n            } else if (res.code) {\r\n              return vm.queue.load.error = \"Error loading Invites: (\" + res.code + \") \" + res.message;\r\n            } else if (res.invites !== void 0 && res.invites.length) {\r\n              return vm.queue.list = res.invites.map(process);\r\n            }\r\n          }).error(function (err) {\r\n            console.log('Error loading team members: ', err);\r\n            return vm.queue.load.error = 'Error loading Templates! (Sever not responding.)';\r\n          })[\"finally\"](function () {\r\n            return vm.queue.load.inProgress = false;\r\n          });\r\n        },\r\n        processInvite: function (raw) {\r\n          var processed;\r\n          processed = $.extend({}, raw, {\r\n            accepting: false,\r\n            rejecting: false,\r\n            accept: function () {\r\n              return $rootScope.message('This function is under construction.');\r\n            },\r\n            reject: function () {\r\n              var invite;\r\n              if (this.rejecting) {\r\n                return false;\r\n              }\r\n              this.rejecting = true;\r\n              invite = this;\r\n              return $http.post(\"https://checklinked.com/ajax/checklist_invite-destroy.php\", {\r\n                idCFC: invite.id\r\n              }, {\r\n                headers: {\r\n                  'Content-Type': 'application/x-www-form-urlencoded'\r\n                },\r\n                cache: false\r\n              }).success(function (res) {\r\n                if (res === void 0 || res === null || res === '') {\r\n                  return $rootScope.message('Error rejecting Checklist. Server not responding properly.', 'warning');\r\n                } else if (res.code) {\r\n                  return $rootScope.message(\"Error deleting Checklist: (\" + res.code + \"): \" + res.message, 'warning');\r\n                } else {\r\n                  vm.queue.list.remove(invite);\r\n                  return $rootScope.message('Invite Rejected');\r\n                }\r\n              }).error(function (err) {\r\n                return $rootScope.message('Error rejecting Checklist. Server not responding.', 'warning');\r\n              })[\"finally\"](function () {\r\n                return invite.deleting = false;\r\n              });\r\n            }\r\n          });\r\n          return processed;\r\n        }\r\n      }\r\n    };\r\n    vm.queue.load.start();\r\n    vm.memberInvites = {\r\n      load: {\r\n        inProgress: true,\r\n        error: '',\r\n        execute: function () {\r\n          var self;\r\n          self = vm.memberInvites.load;\r\n          self.error = '';\r\n          return $http.get('https://checklinked.com/ajax/subscription_invites-get.php').then(function (d) {\r\n            var res;\r\n            if (typeof d !== 'object') {\r\n              return self.error = \"Server not responding properly.\";\r\n            } else {\r\n              res = d.data;\r\n              if (typeof res !== 'object') {\r\n                return self.error = \"Server response not understood.\";\r\n              } else {\r\n                return vm.memberInvites.invites = res.invites;\r\n              }\r\n            }\r\n          }, function (err) {\r\n            return self.error = \"Error talking to server.\";\r\n          }).then(function () {\r\n            return self.inProgress = false;\r\n          });\r\n        }\r\n      },\r\n      invites: [],\r\n      invite: {\r\n        send: {\r\n          inProgress: false,\r\n          email: '',\r\n          execute: function () {\r\n            var self;\r\n            self = vm.memberInvites.invite.send;\r\n            if (self.email === $rootScope.user.email) {\r\n              return $rootScope.message('You cannot invite yourself!', 'warning');\r\n            }\r\n            self.inProgress = true;\r\n            console.log('invite', self.email);\r\n            api.subscriptions.invite(self.email).error(function (res) {\r\n              return $rootScope.message('Error inviting.', 'warning');\r\n            }).success(function (res) {\r\n              if (res === void 0 || res === null || res === '') {\r\n                return $rootScope.message('Invalid response.', 'warning');\r\n              } else if (res.code) {\r\n                return $rootScope.message(res.message, 'warning');\r\n              } else {\r\n                $rootScope.message('Invitation sent.', 'success');\r\n                return vm.memberInvites.invites.push(res.invite);\r\n              }\r\n            })[\"finally\"](function () {\r\n              return self.inProgress = false;\r\n            });\r\n            return false;\r\n          }\r\n        },\r\n        withdraw: {\r\n          inProgress: [],\r\n          execute: function (invite) {\r\n            var self;\r\n            self = vm.memberInvites.invite.withdraw;\r\n            self.inProgress.push(invite.id);\r\n            console.log('withdraw invite', invite);\r\n            api.subscriptions.withdrawInvite(invite).error(function (res) {\r\n              console.log('invite withdraw error', invite, res);\r\n              $rootScope.message('Error withdrawing invitation.', 'warning');\r\n            }).success(function (res) {\r\n              if (res === void 0 || res === null || res === '') {\r\n                console.log('invite withdraw error', invite, res);\r\n                return $rootScope.message('Invalid response.', 'warning');\r\n              } else if (res.code) {\r\n                console.log('invite withdraw error', invite, res);\r\n                return $rootScope.message(res.message, 'warning');\r\n              } else {\r\n                $rootScope.message('Invitation withdrawn.', 'success');\r\n                return vm.memberInvites.invites.remove(invite);\r\n              }\r\n            })[\"finally\"](function () {\r\n              return self.inProgress.remove(invite.id);\r\n            });\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    };\r\n    vm.memberInvites.load.execute();\r\n\r\n\r\n    $scope.$on('event:userLoaded', function () {\r\n      console.log('userLoaded Triggered');\r\n\r\n      console.log('vm.members.load.inProgress', vm.members.load.inProgress);\r\n      console.log('vm.members.list', vm.members.list);\r\n\r\n\r\n      if (!vm.members.load.inProgress && !vm.members.list) {\r\n\r\n        console.log('Try to load TEAM MEMBERS again');\r\n        vm.members.load.start();\r\n        console.log('vm members', vm.members.list);\r\n      }\r\n    });\r\n\r\n    console.log('vm.members', vm.members);\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.summary', ['datatables'])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, $translatePartialLoaderProvider, msNavigationServiceProvider) {\r\n\r\n    // State\r\n    $stateProvider.state('app.summary', {\r\n      url: '/summary',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/summary/summary.html',\r\n          controller: 'summaryController as vm'\r\n        }\r\n      },\r\n      bodyClass: 'forms'\r\n    });\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/summary');\r\n\r\n\r\n    // Navigation\r\n    msNavigationServiceProvider.saveItem('reports', {\r\n      title: 'Reports',\r\n      group: true,\r\n      weight: 3\r\n    });\r\n\r\n    // Navigation\r\n    msNavigationServiceProvider.saveItem('reports.summary', {\r\n      title: 'Reports',\r\n      icon: 'icon-credit-card',\r\n      state: 'app.summary',\r\n      weight: 1\r\n    });\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.summary')\r\n    .controller('summaryController', summaryController);\r\n\r\n  /** @ngInject */\r\n  function summaryController($rootScope, $http, $scope, api, $mdSidenav, $mdDialog, $document, $stateParams, $timeout, $filter, $location, $state) {\r\n    var vm = this;\r\n\r\n    vm.toggleSidenav = toggleSidenav;\r\n\r\n    vm.viewChecklistAsUser = viewChecklistAsUser;\r\n    vm.showComparison = showComparison;\r\n    vm.requestReportsProgress = requestReportsProgress;\r\n    vm.openConversationDialog = openConversationDialog;\r\n\r\n\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n    }\r\n\r\n    vm.reports = {\r\n      list: [],\r\n      loading: false,\r\n      requesting: false,\r\n      error: null,\r\n      viewing: false,\r\n      viewingSub: false,\r\n      progress: false,\r\n      progressDuration: 10000,\r\n      success: false,\r\n      refresh: function () {\r\n        vm.reports.loading = true;\r\n        vm.reports.viewing = false;\r\n        return api.summary.reports.get().success(function (res) {\r\n          if (res === void 0 || res === null || res === '') {\r\n            return $rootScope.message('Reports not loaded.', 'warning');\r\n          } else if (res.code) {\r\n            return $rootScope.message(\"Error loading reports: (\" + res.code + \": \" + res.message + \")\");\r\n          } else {\r\n            res.reports.forEach(function (report) {\r\n              var checklists;\r\n              checklists = [];\r\n              report.idsCHK.forEach(function (idCHK) {\r\n                var checklist;\r\n                checklist = $filter('filter')($rootScope.checklists, {\r\n                  idCHK: idCHK\r\n                });\r\n                if (checklist !== void 0 && checklist.length) {\r\n                  checklist = JSON.parse(JSON.stringify(checklist[0]));\r\n                  checklist.lines = $filter('filter')(report.lines, {\r\n                    idCHK: idCHK\r\n                  });\r\n                  return checklists.push(checklist);\r\n                }\r\n              });\r\n              return report.checklists = checklists;\r\n            });\r\n            console.log('loaded reports', res.reports);\r\n            return vm.reports.list = res.reports;\r\n          }\r\n        }).error(function (err) {\r\n          return $rootScope.message('Unable to load reports.', 'warning');\r\n        })[\"finally\"](function () {\r\n          return vm.reports.loading = false;\r\n        });\r\n      },\r\n      request: function () {\r\n        vm.reports.requesting = true;\r\n        vm.reports.progress = true;\r\n        vm.requestReportsProgress(vm.reports.progressDuration);\r\n        return api.summary.reports.request().success(function (res) {\r\n          if (res === void 0 || res === null || res === '') {\r\n            return $rootScope.message('Report not requested.', 'warning');\r\n          } else if (res.code) {\r\n            return $rootScope.message(\"Error requesting report: (\" + res.code + \": \" + res.message + \")\");\r\n          } else {\r\n            vm.reports.list = vm.reports.list.concat(res.reports);\r\n            $rootScope.message(\"Report is being processed.  Refresh in a little while to see the result.\");\r\n          }\r\n        }).error(function (err) {\r\n          return $rootScope.message('Unable to request report.', 'warning');\r\n        })[\"finally\"](function () {\r\n          return vm.reports.requesting = false;\r\n        });\r\n      },\r\n      view: function (report, id) {\r\n        var i;\r\n        var x;\r\n        console.log('report', report);\r\n        vm.reports.viewing = report;\r\n        vm.reports.viewing.id = id;\r\n        vm.reports.success = false;\r\n\r\n        for (i = 0; i < vm.reports.viewing.idsCHK.length; i++) {\r\n          //console.log('vm.reports.viewing.idCHK[index]', vm.reports.viewing.idsCHK[i]);\r\n          for (x = 0; x < vm.reports.viewing.lines.length; x++) {\r\n            //console.log('vm.reports.viewing.lines[index]', vm.reports.viewing.lines[x]);\r\n            if (vm.reports.viewing.checklists[i].idCHK === vm.reports.viewing.lines[x].idCHK) {\r\n              return vm.reports.viewSub(vm.reports.viewing.checklists[i], i, vm.reports.viewing.checklists[i].lastActive);\r\n            }\r\n          }\r\n        }\r\n        console.log('vm.reports.viewing', vm.reports.viewing);\r\n      },\r\n      viewSub: function (checklist, id, lastActive) {\r\n        console.log('checklist', checklist);\r\n        console.log('id', id);\r\n        vm.reports.viewingSub = checklist;\r\n        vm.reports.viewingSub.id = id;\r\n        vm.reports.viewingSub.lastActive = lastActive;\r\n        console.log('vm.reports.viewingSub', vm.reports.viewingSub);\r\n      },\r\n      clear: function () {\r\n        console.log('vm.reports.viewing', vm.reports.viewing);\r\n        console.log('vm.reports.viewingSub', vm.reports.viewingSub);\r\n        vm.reports.viewing = false;\r\n        vm.reports.viewingSub = false;\r\n      },\r\n      countReports: function (report) {\r\n\r\n        var counterLine;\r\n        var checklistsArray;\r\n        var i;\r\n        var x;\r\n        counterLine = 0;\r\n        checklistsArray = [];\r\n\r\n        console.log('report.checklists.length', report.checklists.length);\r\n\r\n        /*\r\n         for (i = 0; i < report.checklists.length; i++) {\r\n\r\n         console.log('report.checklists[index]', report.checklists[i]);\r\n\r\n         for (x = 0; x < report.lines.length; x++) {\r\n\r\n         console.log('report.lines[index]', report.lines[x]);\r\n\r\n         if (report.checklists[i].idCHK === report.lines[x].idCHK) {\r\n         counterLine++;\r\n         checklistsArray.push(report.checklists[i].idCHK);\r\n\r\n\r\n         }\r\n         }\r\n         }\r\n         */\r\n        //console.log('counterLine', counterLine);\r\n        //console.log('checklistsArray', checklistsArray);\r\n      }\r\n    };\r\n\r\n    function viewChecklistAsUser(checklist, user) {\r\n      console.log('checklist', checklist);\r\n      console.log('about to view as', user);\r\n      return $rootScope.viewAs.select(user).then(function () {\r\n        console.log('viewing as', user);\r\n        console.log('about to nav to', checklist, $rootScope.viewAs.notMe);\r\n        if ($rootScope.viewAs.notMe) {\r\n          return $location.path(\"/checklist/detail/\" + checklist.idCHK);\r\n        }\r\n      });\r\n    };\r\n\r\n    function showComparison(checklist, user, conflicts) {\r\n      debugger;\r\n      //console.log('checklist', checklist);\r\n      console.log('conflicts', conflicts);\r\n      //console.log('user', user);\r\n\r\n      var showMe, showThem, sections, headings;\r\n\r\n      showMe = {\r\n        idCON: $rootScope.user.idCON,\r\n        name: $rootScope.user.name.first\r\n      };\r\n      showThem = {\r\n        idCON: user.idCON,\r\n        name: user.name.first\r\n      };\r\n\r\n      /* insert vars from summary object here */\r\n\r\n      sections = conflicts.idsCSCT;\r\n      headings = conflicts.idsCHEAD;\r\n\r\n      /*\r\n      sections = [\r\n        '11505481898883747996225093170054566696',\r\n        '210035106508187953978294279645093564028',\r\n        '290218477939258676658483551149704164901',\r\n        '280337413950814899753635094328131491910'\r\n      ];\r\n\r\n      headings = [\r\n        '222286172029066931044419024754067486563',\r\n        '164952131789207838303693072410561785534',\r\n        '7979676763804049159026288640890832749',\r\n        '329258194158486837152271106676525396705'\r\n      ];\r\n      */\r\n\r\n       debugger;\r\n      //console.log('conflicts2', conflicts2);\r\n      $rootScope.showingUsers = [showMe, showThem];\r\n\r\n      //console.log('about to show comparison between', $rootScope.showingUsers);\r\n      //return $location.path(\"/checklist/detail/\" + checklist.idCHK);\r\n      $state.go('app.checklist.conflicts', {id:checklist.idCHK, checklist:checklist, sections:sections, headings:headings, items:conflicts.idsITEM});\r\n    };\r\n\r\n    function requestReportsProgress(duration) {\r\n      $timeout(function () {\r\n        var report;\r\n        vm.reports.success = true;\r\n        vm.reports.refresh();\r\n        //report = vm.reports.list[0];\r\n        //vm.reports.view(report, 0);\r\n        vm.reports.progress = false;\r\n      }, duration);\r\n    }\r\n\r\n    function openConversationDialog(ev, type, id, name) {\r\n\r\n      console.log('id', id);\r\n      console.log('name', name);\r\n      console.log('type', type);\r\n\r\n      $mdDialog.show({\r\n        controller: 'ChecklistConversationDialogController',\r\n        controllerAs: 'vm',\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-conversation-dialog.html',\r\n        parent: angular.element($document.find('#summary')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n        locals: {\r\n          convoId: id,\r\n          convoName: name,\r\n          producerType: type\r\n        }\r\n      });\r\n    }\r\n\r\n    $scope.$on('event:checklistsLoaded', function () {\r\n      if (!vm.reports.loading) {\r\n        return vm.reports.refresh();\r\n      }\r\n    });\r\n\r\n\r\n    vm.reports.refresh();\r\n\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.subscriptions', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, msApiProvider, $translatePartialLoaderProvider, msNavigationServiceProvider) {\r\n\r\n    // State\r\n    $stateProvider.state('app.subscriptions', {\r\n      url: '/subscriptions',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/subscriptions/subscriptions.html',\r\n          controller: 'subscriptionsController as vm'\r\n        }\r\n      },\r\n      bodyClass: 'forms'\r\n    });\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/subscriptions');\r\n\r\n    // Navigation\r\n    /*\r\n    msNavigationServiceProvider.saveItem('account.subscriptions', {\r\n      title: 'Subscriptions',\r\n      icon: 'icon-credit-card',\r\n      state: 'app.subscriptions',\r\n      weight: 4\r\n    });\r\n    */\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.subscriptions')\r\n    .controller('subscriptionsController', subscriptionsController);\r\n\r\n  /** @ngInject */\r\n  function subscriptionsController($rootScope, $http, $scope, api, $mdSidenav, $mdDialog, $document, $stateParams, $timeout) {\r\n    var vm = this;\r\n\r\n    vm.toggleSidenav = toggleSidenav;\r\n    vm.members = [];\r\n    vm.closeDialog = closeDialog;\r\n\r\n    vm.dtOptions = {\r\n      dom: '<\"top\"f>rt<\"bottom\"<\"left\"<\"length\"l>><\"right\"<\"info\"i><\"pagination\"p>>>',\r\n      info: false,\r\n      pagingType: 'simple',\r\n      autoWidth: false,\r\n      responsive: true\r\n    };\r\n\r\n    var idSUI;\r\n    vm.loading = false;\r\n    vm.inviting = false;\r\n    vm.makingSubActive = false;\r\n    vm.withdrawing = [];\r\n    vm.invite = null;\r\n    vm.inviteEmailsUrl = 'partials/account/subscription-inviteForm.html';\r\n    vm.offers = [];\r\n    vm.grabClientToken = null;\r\n    vm.newSubscription = false;\r\n    vm.openSubscriptionDialog = openSubscriptionDialog;\r\n\r\n    vm.selectSubscription = selectSubscription;\r\n    vm.clearSelectSubscription = clearSelectSubscription;\r\n    vm.clearcheck =clearcheck\r\n\r\n\r\n  \r\n    //Toggle Left Side Nav\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n    }\r\n   \r\n    function closeDialog() {\r\n      $mdDialog.hide();\r\n    }\r\n\r\n\r\n    function selectSubscription(ev) {\r\n      console.log('subscriptions', $rootScope.subscriptions);\r\n      vm.newSubscription = true;\r\n      $rootScope.subscriptions.selected = null;\r\n      $rootScope.subscriptions.agreeToTerms = false;\r\n      $rootScope.subscriptions.success = false;\r\n      $rootScope.currentPaymentMethod = null;\r\n      console.log('vm.newSubscription', vm.newSubscription);\r\n    }\r\n\r\n    function clearSelectSubscription(ev) {\r\n      console.log('subscriptions', $rootScope.subscriptions);\r\n      $rootScope.subscriptions.selected = null;\r\n\r\n      console.log('vm.newSubscription', vm.newSubscription);\r\n    }\r\n\r\n    function clearcheck(ev) {\r\n      console.log('subscriptions', $rootScope.subscriptions);\r\n      $rootScope.subscriptions.selected = null;\r\n\r\n      console.log('vm.newSubscription', vm.newSubscription);\r\n    }\r\n\r\n\r\n\r\n    function openSubscriptionDialog(ev, role) {\r\n      \r\n      vm.role = angular.copy(role);\r\n      \r\n            $mdDialog.show({\r\n              scope: $scope,\r\n              preserveScope: true,\r\n              templateUrl: 'app/main/subscriptions/dialogs/subscriptions-dialog.html',\r\n              parent: angular.element($document.find('#subscriptions')),\r\n              targetEvent: ev,\r\n              clickOutsideToClose: true\r\n            });\r\n          }\r\n\r\n    api.subscriptions.getCurrentOffers().success(function (res) {\r\n      var ref;\r\n      if ((ref = res.plans) != null ? ref.length : void 0) {\r\n        return vm.offers = vm.offers.concat(res.plans);\r\n      }\r\n    })[\"finally\"](function () {\r\n      return vm.loading = false;\r\n    });\r\n\r\n    function makeSubscriptionActive() {\r\n      vm.makingSubActive = true;\r\n      return api.subscriptions.makeSubscriptionActive($rootScope.subscriptions.selected.id).error(function (res) {\r\n        return $rootScope.message('Error inviting.', 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message('Invalid response.', 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          $rootScope.user = res.user;\r\n          return $rootScope.subscriptions.selected.users = res.contacts;\r\n        }\r\n      })[\"finally\"](function () {\r\n        return vm.makingSubActive = false;\r\n      });\r\n    };\r\n\r\n    idSUI = $stateParams.idSUI;\r\n    if (idSUI !== void 0 && idSUI !== null && idSUI !== '') {\r\n      vm.acceptInvite = {\r\n        accepting: false,\r\n        signin: {\r\n          username: '',\r\n          password: ''\r\n        },\r\n        reg: {\r\n          contact: {\r\n            name: {\r\n              first: '',\r\n              middle: '',\r\n              last: ''\r\n            },\r\n            phone: '',\r\n            email: ''\r\n          },\r\n          password: '',\r\n          password2: ''\r\n        },\r\n        login: function () {\r\n          vm.acceptInvite.accepting = true;\r\n          api.subscriptions.acceptInvite(idSUI, 'login', vm.acceptInvite.signin).error(function (res) {\r\n            console.log('invite accept error', idSUI, res);\r\n            return $rootScope.message('Error accepting invitation.', 'warning');\r\n          }).success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              console.log('invite accept error', idSUI, res);\r\n              return $rootScope.message('Invalid response.', 'warning');\r\n            } else if (res.code) {\r\n              console.log('invite accept error', idSUI, res);\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              return vm.acceptInvite.succeeded(res.user.token);\r\n            }\r\n          })[\"finally\"](function () {\r\n            return vm.acceptInvite.accepting = false;\r\n          });\r\n        },\r\n        signup: function () {\r\n          vm.acceptInvite.accepting = true;\r\n          return api.subscriptions.acceptInvite(idSUI, 'signup', vm.acceptInvite.reg).error(function (res) {\r\n            console.log('invite accept error', idSUI, res);\r\n            return $rootScope.message('Error accepting invitation.', 'warning');\r\n          }).success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              console.log('invite accept error', idSUI, res);\r\n              return $rootScope.message('Invalid response.', 'warning');\r\n            } else if (res.code) {\r\n              console.log('invite accept error', idSUI, res);\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              return vm.acceptInvite.succeeded(res.user.token);\r\n            }\r\n          })[\"finally\"](function () {\r\n            return vm.acceptInvite.accepting = false;\r\n          });\r\n        },\r\n        succeeded: function (token) {\r\n          return LoginService.doAuth({\r\n            m: 't',\r\n            t: token\r\n          });\r\n        }\r\n      };\r\n      return vm.invite = api.subscriptions.getInvite(idSUI).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n\r\n        } else if (res.code) {\r\n\r\n        } else {\r\n          vm.invite = res.invite;\r\n          vm.acceptInvite.signin.username = res.invite.email;\r\n          return vm.acceptInvite.reg.contact.email = res.invite.email;\r\n        }\r\n      });\r\n    }\r\ndebugger;\r\n\r\n    if (((vm.ref = $rootScope.user) != null ? vm.ref.authenticated : void 0) && $rootScope.user.btClientID !== void 0 && $rootScope.user.btClientID !== null && $rootScope.user.btClientID !== '') {\r\n      vm.grabClientToken = $http.get(\"https://checklinked.com/ajax/braintree_clientID-get.php?cID=\" + $rootScope.user.btClientID);\r\n    } else {\r\n      vm.grabClientToken = $http.get(\"https://checklinked.com/ajax/braintree_clientID-get.php\");\r\n    }\r\n    vm.grabClientToken.success(function (res) {\r\n\r\n      vm.clientToken = res;\r\n      if (vm.clientToken !== void 0 && vm.clientToken !== null && vm.clientToken !== '') {\r\n        $timeout(function () {\r\n          braintree.setup(vm.clientToken, \"dropin\", {\r\n            onPaymentMethodReceived: function (res) {\r\n              $rootScope.currentPaymentMethod = res;\r\n              console.log('payment method updated', $rootScope.currentPaymentMethod);\r\n              $rootScope.$apply();\r\n              $rootScope.$broadcast('event:paymentMethodReceived');\r\n            },\r\n            onError: function (type, message) {\r\n              $rootScope.message(\"Error (\" + type + \"): \" + message, 'warning');\r\n            },\r\n            container: \"payment-form\"\r\n          });\r\n        });\r\n      }\r\n    });\r\n\r\n    console.log('$rootScope.subscriptions', $rootScope.subscriptions);\r\n    console.log('vm.newSubscription', vm.newSubscription);\r\n\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.queue', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, msApiProvider, $translatePartialLoaderProvider, msNavigationServiceProvider) {\r\n\r\n    // State\r\n    $stateProvider.state('app.queue', {\r\n      url: '/queue',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/queue/queue.html',\r\n          controller: 'QueueController as vm'\r\n        }\r\n      },\r\n      bodyClass: 'forms'\r\n    });\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/queue');\r\n\r\n    // Navigation\r\n    msNavigationServiceProvider.saveItem('checklists.queue', {\r\n      title: 'Assign Checklists',\r\n      icon: 'icon-clipboard-arrow-left',\r\n      state: 'app.queue',\r\n      weight: 4\r\n    });\r\n\r\n  }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.queue')\r\n        .controller('QueueController', QueueController);\r\n\r\n    /** @ngInject */\r\n    function QueueController($rootScope, $http, $scope, api, $mdSidenav, $mdDialog, $document)\r\n    {\r\n\r\n    var vm = this;\r\n\r\n\tvm.toggleSidenav = toggleSidenav;\r\n\tvm.closeDialog = closeDialog;\r\n\tvm.openAcceptLinkRequestDialog = openAcceptLinkRequestDialog;\r\n\tvm.queue = [];\r\n\r\n\tfunction closeDialog() {\r\n    \t$mdDialog.hide();\r\n    }\r\n\r\n\tfunction toggleSidenav(sidenavId) {\r\n\t\t$mdSidenav(sidenavId).toggle();\r\n    }\r\n\r\n\tfunction openAcceptLinkRequestDialog(ev)\t{\r\n\r\n            $mdDialog.show({\r\n                scope\t\t\t   : $scope,\r\n\t\t\t\tpreserveScope\t   : true,\r\n                templateUrl        : 'app/main/queue/dialogs/queue/accept-link-request-dialog.html',\r\n                parent             : angular.element($document.find('#queue')),\r\n                targetEvent        : ev,\r\n                clickOutsideToClose: true\r\n            });\r\n        }\r\n\r\n\r\n\t$scope.$on('event:rolesUpdated', function() {});\r\n\r\n    $scope.$on('event:membersUpdated', function() {\r\n      return vm.members.load.start();\r\n    });\r\n    vm.members = {\r\n      list: [],\r\n      roles: [],\r\n      load: {\r\n        inProgress: false,\r\n        error: '',\r\n        start: function(idCON) {\r\n          var process;\r\n          if (idCON == null) {\r\n            idCON = null;\r\n          }\r\n          if (idCON === null) {\r\n            this.inProgress = true;\r\n            this.error = '';\r\n            process = this.processMember;\r\n\t\t\t\t\t\treturn $http.get(\"https://checklinked.com/ajax/organization_members-get.php\").success(function (res) {\r\n              if (res === void 0 || res === null || res === '') {\r\n                console.log('Error loading team members: ', res);\r\n                return vm.members.load.error = 'Error loading Team Members! (Server not responding properly.)';\r\n              } else if (res.code) {\r\n                return vm.members.load.error = \"Error loading Team Members: (\" + res.code + \") \" + res.message;\r\n              } else {\r\n                vm.members.roles = res.roles;\r\n                return vm.members.list = res.members.map(process);\r\n              }\r\n            }).error(function(err) {\r\n              console.log('Error loading team members: ', err);\r\n              return vm.members.load.error = 'Error loading Team Members! (Sever not responding.)';\r\n            })[\"finally\"](function() {\r\n              return vm.members.load.inProgress = false;\r\n            });\r\n          } else {\r\n\r\n          }\r\n        },\r\n        processMember: function(raw) {\r\n          var processed, roles;\r\n          roles = $.extend({}, raw.roles, {\r\n            setting: [],\r\n            set: function(role, willHave) {\r\n              var self;\r\n              this.setting.push(role);\r\n              self = this;\r\n\t\t\t\t\t\t\treturn $http.post(\"https://checklinked.com/ajax/organization_member_role_set-post.php\", {\r\n                idCON: raw.idCON,\r\n                role: role,\r\n                setTo: willHave\r\n              }, {\r\n                headers: {\r\n                  'Content-Type': 'application/x-www-form-urlencoded'\r\n                },\r\n                cache: false\r\n              }).success(function(res) {\r\n                var ref3, ref4;\r\n                self.setting.remove(role);\r\n                if (res === void 0 || res === null || res === '') {\r\n                  $rootScope.message('Error updating Team Member role. Server not responding properly.', 'warning');\r\n                } else if (res.code) {\r\n                  $rootScope.message(\"Error updating Team Member role. (\" + res.code + \") \" + res.message, 'warning');\r\n                } else if (willHave) {\r\n                  self.has.push(role);\r\n                } else {\r\n                  self.has.remove(role);\r\n                }\r\n                $rootScope.socketio.emit('roles_updated', raw.idCON);\r\n                if ((ref3 = $rootScope.user.organization) != null ? (ref4 = ref3.idACC) != null ? ref4.length : void 0 : void 0) {\r\n                  return $rootScope.socketio.emit('members_updated', $rootScope.user.organization.idACC);\r\n                }\r\n              }).error(function(err) {\r\n                self.setting.remove(role);\r\n                return $rootScope.message('Error updating Team Member role.  Server not responding.', 'warning');\r\n              })[\"finally\"](function() {\r\n                return self.setting.remove(role);\r\n              });\r\n            }\r\n          });\r\n          processed = raw;\r\n          processed.roles = roles;\r\n          return processed;\r\n        }\r\n      }\r\n    };\r\n    vm.members.load.start();\r\n    vm.templates = {\r\n      list: [],\r\n      load: {\r\n        inProgress: false,\r\n        error: '',\r\n        start: function() {\r\n          var process;\r\n          this.inProgress = true;\r\n          this.error = '';\r\n          process = this.processTemplate;\r\n\t\t\t\t\treturn $http.get(\"https://checklinked.com/ajax/templates-get.php?org=1&noXML=1\").success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              console.log('Error loading templates: ', res);\r\n              return vm.templates.load.error = 'Error loading Templates! (Server not responding properly.)';\r\n            } else if (res.code) {\r\n              return vm.templates.load.error = \"Error loading Templates: (\" + res.code + \") \" + res.message;\r\n            } else if (res.templates !== void 0 && res.templates.length) {\r\n              return vm.templates.list = res.templates.map(process);\r\n            }\r\n          }).error(function(err) {\r\n            console.log('Error loading team members: ', err);\r\n            return vm.templates.load.error = 'Error loading Templates! (Sever not responding.)';\r\n          })[\"finally\"](function() {\r\n            return vm.templates.load.inProgress = false;\r\n          });\r\n        },\r\n        processTemplate: function(raw) {\r\n          var processed;\r\n          processed = $.extend({}, raw, {\r\n            revising: false,\r\n            deleting: false,\r\n            revise: function() {\r\n              return $rootScope.message('This function is under construction.');\r\n            },\r\n            remove: function() {\r\n              var template;\r\n              if (this.deleting) {\r\n                return false;\r\n              }\r\n              console.log('deleting template', template);\r\n              this.deleting = true;\r\n              template = this;\r\n\t\t\t\t\t\t\treturn $http.post(\"https://checklinked.com/ajax/template_delete-post.php\", {\r\n                template: template\r\n              }, {\r\n                headers: {\r\n                  'Content-Type': 'application/x-www-form-urlencoded'\r\n                },\r\n                cache: false\r\n              }).success(function(res) {\r\n                if (res === void 0 || res === null || res === '') {\r\n                  return $rootScope.message('Error deleting Template. Server not responding properly.', 'warning');\r\n                } else if (res.code) {\r\n                  return $rootScope.message(\"Error deleting Template: (\" + res.code + \"): \" + res.message, 'warning');\r\n                } else {\r\n                  vm.templates.list.remove(template);\r\n                  console.log('template deleted', template, vm.templates.list);\r\n                  return $rootScope.message('Template Deleted');\r\n                }\r\n              }).error(function(err) {\r\n                return $rootScope.message('Error deleting Template. Server not responding.', 'warning');\r\n              })[\"finally\"](function() {\r\n                return template.deleting = false;\r\n              });\r\n            }\r\n          });\r\n          return processed;\r\n        }\r\n      }\r\n    };\r\n    vm.templates.load.start();\r\n    vm.queue = {\r\n      list: [],\r\n      load: {\r\n        inProgress: false,\r\n        error: '',\r\n        start: function() {\r\n          var process;\r\n          this.inProgress = true;\r\n          this.error = '';\r\n          process = this.processInvite;\r\n\t\t\t\t\treturn $http.get(\"https://checklinked.com/ajax/checklist_invites-get.php?queue=1\").success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              console.log('Error loading invites: ', res);\r\n              return vm.templates.load.error = 'Error loading Invites! (Server not responding properly.)';\r\n            } else if (res.code) {\r\n              return vm.queue.load.error = \"Error loading Invites: (\" + res.code + \") \" + res.message;\r\n            } else if (res.invites !== void 0 && res.invites.length) {\r\n              return vm.queue.list = res.invites.map(process);\r\n            }\r\n          }).error(function(err) {\r\n            console.log('Error loading team members: ', err);\r\n            return vm.queue.load.error = 'Error loading Templates! (Sever not responding.)';\r\n          })[\"finally\"](function() {\r\n            return vm.queue.load.inProgress = false;\r\n          });\r\n        },\r\n        processInvite: function(raw) {\r\n          var processed;\r\n          processed = $.extend({}, raw, {\r\n            accepting: false,\r\n            rejecting: false,\r\n            accept: function() {\r\n              vm.queue.assign.invite = this;\r\n              //$('#select-org-contact-modal').modal('show');\r\n             vm.openAcceptLinkRequestDialog();\r\n              return false;\r\n            },\r\n            reject: function() {\r\n              var invite;\r\n              if (this.rejecting) {\r\n                return false;\r\n              }\r\n              this.rejecting = true;\r\n              invite = this;\r\n\t\t\t\t\t\t\treturn $http.post(\"https://checklinked.com/ajax/checklist_invite-destroy.php\", {\r\n                idINVITE: invite.id,\r\n                type: invite.type\r\n              }, {\r\n                headers: {\r\n                  'Content-Type': 'application/x-www-form-urlencoded'\r\n                },\r\n                cache: false\r\n              }).success(function(res) {\r\n                if (res === void 0 || res === null || res === '') {\r\n                  return $rootScope.message('Error rejecting Checklist. Server not responding properly.', 'warning');\r\n                } else if (res.code) {\r\n                  return $rootScope.message(\"Error deleting Checklist: (\" + res.code + \"): \" + res.message, 'warning');\r\n                } else {\r\n                  vm.queue.list.remove(invite);\r\n                  return $rootScope.message('Invite Rejected');\r\n                }\r\n              }).error(function(err) {\r\n                return $rootScope.message('Error rejecting Checklist. Server not responding.', 'warning');\r\n              })[\"finally\"](function() {\r\n                return invite.rejecting = false;\r\n              });\r\n            }\r\n          });\r\n          return processed;\r\n        }\r\n      },\r\n      assign: {\r\n        inProgress: false,\r\n        contact: null,\r\n        invite: null,\r\n        assign: function(contact) {\r\n          var self;\r\n          this.contact = contact;\r\n          this.inProgress = true;\r\n          console.log('assigning', this);\r\n          self = this;\r\n\t\t\t\t\treturn $http.post(\"https://checklinked.com/ajax/checklist_invite-assign.php\", {\r\n            idCON: self.contact.idCON,\r\n            idINVITE: self.invite.id,\r\n            type: self.invite.type\r\n          }, {\r\n            headers: {\r\n              'Content-Type': 'application/x-www-form-urlencoded'\r\n            },\r\n            cache: false\r\n          }).success(function(res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              return $rootScope.message('Error assigning Invite. Server not responding properly.', 'warning');\r\n            } else if (res.code) {\r\n              return $rootScope.message(\"Error assigning Invite: (\" + res.code + \"): \" + res.message, 'warning');\r\n            } else {\r\n              vm.queue.list.remove(self.invite);\r\n              self.invite = null;\r\n              vm.closeDialog();\r\n              return $rootScope.message('Invite Assigned');\r\n            }\r\n          }).error(function(err) {\r\n            return $rootScope.message('Error assigning Invite. Server not responding.', 'warning');\r\n          })[\"finally\"](function() {\r\n            self.inProgress = false;\r\n            return self.contact = null;\r\n          });\r\n        }\r\n      }\r\n    };\r\n    vm.queue.load.start();\r\n    }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.organization', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, msApiProvider, $translatePartialLoaderProvider, msNavigationServiceProvider) {\r\n\r\n    // State\r\n    $stateProvider.state('app.organization', {\r\n      url: '/organization',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/organization/organization.html',\r\n          controller: 'OrganizationController as vm'\r\n        }\r\n      },\r\n      bodyClass: 'forms'\r\n    });\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/organization');\r\n\r\n    // Navigation\r\n    /*\r\n    msNavigationServiceProvider.saveItem('account.organization', {\r\n      title: 'Organization Profile',\r\n      icon: 'icon-store',\r\n      state: 'app.organization',\r\n      weight: 2\r\n    });\r\n    */\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.organization')\r\n    .controller('OrganizationController', OrganizationController);\r\n\r\n  /** @ngInject */\r\n  function OrganizationController($rootScope, $http, $scope, api, $mdSidenav) {\r\n\r\n    var vm = this;\r\n\r\n    vm.user = $rootScope.user;\r\n\r\n    console.log('vm.user', vm.user);\r\n\r\n    vm.toggleSidenav = toggleSidenav;\r\n\r\n    vm.update = update;\r\n\r\n    vm.createOrg = createOrg;\r\n\r\n    vm.createOrganization = false;\r\n\r\n\r\n    var blank, ref, ref1, ref2;\r\n\r\n    blank = {\r\n      name: '',\r\n      address: {\r\n        line1: '',\r\n        line2: '',\r\n        city: '',\r\n        state: '',\r\n        zip: '',\r\n        country: 'USA'\r\n      },\r\n      phone: '',\r\n      email: ''\r\n    };\r\n\r\n\r\n    console.log('$rootScope.user', $rootScope.user);\r\n    debugger;\r\n    if (((ref = $rootScope.user) != null ? ref.organization : void 0) === void 0 || ((ref1 = $rootScope.user) != null ? ref1.organization : void 0) === null || ((ref2 = $rootScope.user) != null ? ref2.organization.length : void 0) === 0) {\r\n      console.log('blank');\r\n      vm.orgTmp = blank;\r\n    } else {\r\n      vm.orgTmp = $rootScope.user.organization;\r\n      console.log('notblank');\r\n    }\r\n\r\n    console.log('vm.orgTmp', vm.orgTmp);\r\n\r\n    if(vm.orgTmp.idACC > 0){ vm.createOrganization = true;}\r\n\r\n    //console.log('vm.createOrganization', vm.createOrganization);\r\n\r\n    vm.selectedSubscription = null;\r\n    vm.updating = false;\r\n\r\n    function update() {\r\n      console.log('vm.orgTmp', vm.orgTmp);\r\n      vm.updating = true;\r\n      return $http.post('https://checklinked.com/ajax/organization-update-post.php', {\r\n        org: vm.orgTmp\r\n      }, {\r\n        headers: {\r\n          'Content-Type': 'application/x-www-form-urlencoded'\r\n        },\r\n        cache: false\r\n      }).error(function () {\r\n        return $rootScope.message('Error talking to server.', 'warning');\r\n      }).success(function (resp) {\r\n        if (resp === void 0 || resp === null || resp === '') {\r\n          return $rootScope.message('Server response is unreadable.', 'warning');\r\n        } else if (resp.code) {\r\n          return $rootScope.message(resp.message);\r\n        } else {\r\n          $rootScope.user = resp.user;\r\n          $rootScope.viewAs.user = resp.viewAs;\r\n          return $rootScope.message('Organization Information updated successfully.');\r\n        }\r\n      })[\"finally\"](function () {\r\n        return vm.updating = false;\r\n      });\r\n    };\r\n\r\n    vm.creating = false;\r\n\r\n    function createOrg() {\r\n      var send;\r\n      vm.creating = true;\r\n      console.log('org id', vm.orgTmp);\r\n      send = vm.orgTmp;\r\n      return $http.post('https://checklinked.com/ajax/organization-create-post.php', {\r\n        org: send\r\n      }, {\r\n        headers: {\r\n          'Content-Type': 'application/x-www-form-urlencoded'\r\n        },\r\n        cache: false\r\n      }).error(function () {\r\n        return $rootScope.message('Error talking to server.', 'warning');\r\n      }).success(function (resp) {\r\n        if (resp === void 0 || resp === null || resp === '') {\r\n          return $rootScope.message('Server response is unreadable.', 'warning');\r\n        } else if (resp.code) {\r\n          return $rootScope.message(resp.message, 'warning');\r\n        } else {\r\n          $rootScope.user = resp.user;\r\n          return $rootScope.message('Organization details have been updated.', 'success');\r\n        }\r\n      })[\"finally\"](function () {\r\n        return vm.creating = false;\r\n      });\r\n    };\r\n\r\n\r\n    //Toggle Left Side Nav\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.mail')\r\n    .controller('MailController', MailController);\r\n\r\n  /** @ngInject */\r\n  function MailController($scope, $rootScope, $document, $mdDialog, $mdMedia, $mdSidenav, $http, $state, msApi, Folders, Labels, Outbox, $filter, api) {\r\n    var vm = this;\r\n\r\n    vm.debug = false;\r\n    vm.colors = ['blue-bg', 'blue-grey-bg', 'orange-bg', 'green-bg', 'teal-bg'];\r\n    vm.selectedAccount = 'creapond';\r\n\r\n    vm.folders = Folders.data;\r\n    vm.labels = Labels.data;\r\n    vm.outbox = Outbox.data;\r\n    vm.loadingThreads = true;\r\n    vm.outboxToggle = false;\r\n    vm.currentFilter = {\r\n      type: null,\r\n      filter: 1,\r\n      name: 'Inbox'\r\n    };\r\n\r\n    vm.currentThread = null;\r\n    vm.selectedThreads = [];\r\n\r\n    vm.views = {\r\n      classic: 'app/main/mail/views/classic/classic-view.html',\r\n      outlook: 'app/main/mail/views/outlook/outlook-view.html'\r\n    };\r\n\r\n    vm.defaultView = 'outlook';\r\n    vm.currentView = 'outlook';\r\n\r\n    // Methods\r\n\r\n\r\n    vm.isFolderActive = isFolderActive;\r\n    vm.isOutboxActive = isOutboxActive;\r\n    vm.isLabelActive = isLabelActive;\r\n\r\n    vm.openThread = openThread;\r\n    vm.closeThread = closeThread;\r\n\r\n    vm.isSelected = isSelected;\r\n    vm.toggleSelectThread = toggleSelectThread;\r\n    vm.selectThreads = selectThreads;\r\n    vm.deselectThreads = deselectThreads;\r\n    vm.toggleSelectThreads = toggleSelectThreads;\r\n\r\n    vm.setThreadStatus = setThreadStatus;\r\n    vm.toggleThreadStatus = toggleThreadStatus;\r\n\r\n    vm.getLabel = getLabel;\r\n    vm.getLabelColor = getLabelColor;\r\n    vm.getLabelTitle = getLabelTitle;\r\n    vm.toggleLabel = toggleLabel;\r\n    vm.isLabelExist = isLabelExist;\r\n\r\n    vm.changeView = changeView;\r\n\r\n    vm.composeDialog = composeDialog;\r\n    vm.replyDialog = replyDialog;\r\n\r\n    vm.toggleSidenav = toggleSidenav;\r\n\r\n    vm.filterThreads = filterThreads;\r\n    vm.filterFolder = filterFolder;\r\n\r\n    vm.fetchChecklist = fetchChecklist;\r\n    vm.fetchSection = fetchSection;\r\n    vm.fetchHeading = fetchHeading;\r\n    vm.fetchItem = fetchItem;\r\n    vm.fetchChecklistData = fetchChecklistData;\r\n    vm.fetchUser = fetchUser;\r\n    vm.deleteFeed = deleteFeed;\r\n    vm.filterOutbox = filterOutbox;\r\n\r\n    vm.upperCaseFirst = upperCaseFirst;\r\n\r\n    vm.passChecklistPostings = passChecklistPostings;\r\n    vm.passInvitations = passInvitations;\r\n    vm.passContacts = passContacts;\r\n    vm.passMessages = passMessages;\r\n\r\n    vm.fetchInvites = fetchInvites;\r\n\r\n    vm.type = {\r\n      'notification': '',\r\n      'post': '',\r\n      'checklist': '',\r\n      'message': '',\r\n      'invited': ''\r\n    };\r\n\r\n    vm.type.item = {\r\n      'checklist': '',\r\n      'section': '',\r\n      'heading': '',\r\n      'invited': ''\r\n    };\r\n\r\n    console.log('vm.type', vm.type);\r\n    console.log('vm.type.item', vm.type.item);\r\n\r\n    init();\r\n\r\n    /**\r\n     * Initialize\r\n     */\r\n    function init() {\r\n      // Request the feed\r\n      //vm.threads = $rootScope.feed.items;\r\n\r\n      api.feed.get().then(function (d) {\r\n        vm.threads = d.data.feed;\r\n        vm.threads.forEach(function (thread) {\r\n\r\n          //console.log('thread', thread);\r\n          switch (thread.type) {\r\n            case 'notification':\r\n              thread.labels = [5];\r\n              break;\r\n            case 'invite':\r\n              thread.labels = [2];\r\n              break;\r\n            case 'invited':\r\n              thread.labels = [3];\r\n              break;\r\n            case 'message':\r\n              thread.labels = [4];\r\n              break;\r\n            case 'post':\r\n              thread.labels = [6];\r\n              break;\r\n            case 'accepted':\r\n              thread.labels = [3];\r\n              break;\r\n            default:\r\n              thread.labels = [0];\r\n              break;\r\n          }\r\n          switch (thread.item.type) {\r\n            case 'checklist':\r\n              thread.labels.push(7);\r\n              break;\r\n            case 'section':\r\n              thread.labels.push(11);\r\n              break;\r\n            case 'heading':\r\n              thread.labels.push(10);\r\n              break;\r\n            case 'item':\r\n              thread.labels.push(12);\r\n              break;\r\n            case 'post':\r\n              thread.labels.push(6);\r\n              break;\r\n            default:\r\n              thread.labels.push(0);\r\n              break;\r\n          }\r\n\r\n        });\r\n\r\n\r\n        console.log('$rootScope.user', $rootScope.user);\r\n\r\n        api.conversations.sent($rootScope.user.idCON, 0).success(function (res) {\r\n          if (res !== undefined && res != null && res != '' && !res.code) {\r\n            vm.sent = res;\r\n            console.log('sent', vm.sent);\r\n          }\r\n        })[\"finally\"](function () {\r\n        });\r\n        console.log('vm.threads', vm.threads);\r\n      });\r\n\r\n      // Load new threads\r\n      //vm.threads = vm.threads;\r\n\r\n      // Hide the loading screen\r\n      vm.loadingThreads = false;\r\n      if (vm.threads) {\r\n        // Open the thread if needed\r\n        if ($state.params.threadId) {\r\n          for (var i = 0; i < vm.threads.length; i++) {\r\n            if (vm.threads[i].id === $state.params.threadId) {\r\n              vm.openThread(vm.threads[i]);\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    function fetchInvites() {\r\n      $rootScope.loading.invites = true;\r\n      api.checklists.invite.get().error(function (res) {\r\n        vm.inviteControl.error = 'Unknown error talking to server.';\r\n      }).success(function (res) {\r\n        if (res.code) {\r\n          console.log('res.code', res);\r\n          vm.inviteControl.error = res.message;\r\n        } else {\r\n          console.log('res.code', res);\r\n          vm.invites = res.invites;\r\n        }\r\n      })[\"finally\"](function () {\r\n        vm.invites.loaded = true;\r\n        $rootScope.loading.invites = false;\r\n        noNav = true;\r\n      });\r\n    }\r\n\r\n    function upperCaseFirst(string) {\r\n      return string.charAt(0).toUpperCase() + string.slice(1);\r\n    }\r\n\r\n\r\n    function filterThreads(labelId) {\r\n      vm.outboxToggle = false;\r\n      console.log('labelId', labelId);\r\n      var label;\r\n      label = vm.getLabel(labelId);\r\n\r\n      console.log('label', label);\r\n\r\n      // Show loader\r\n      $rootScope.loadingProgress = true;\r\n\r\n      // Update the state without reloading the controller\r\n      $state.go('app.mail.threads', {\r\n        type: 'label',\r\n        filter: label.id\r\n      }, {notify: false});\r\n\r\n\r\n      // Set the current filter\r\n      vm.currentFilter = {\r\n        type: 'label',\r\n        filter: label.id,\r\n        name: label.title\r\n      };\r\n\r\n      // Close the current thread if open\r\n      if (vm.currentThread) {\r\n        vm.closeThread();\r\n      }\r\n\r\n      // Hide loader\r\n      $rootScope.loadingProgress = false;\r\n\r\n      //Reset vm.threads and filter again...\r\n      vm.threads = $rootScope.feed.items;\r\n      //console.log('vm.threads', vm.threads);\r\n      vm.threads = $filter('filter')(\r\n        vm.threads, {labels: labelId}, true\r\n      );\r\n\r\n      $mdSidenav('main-sidenav').toggle();\r\n      return vm.threads;\r\n    }\r\n\r\n    function filterFolder(unread) {\r\n      var label, folderID;\r\n      vm.outboxToggle = false;\r\n      console.log('unread', unread);\r\n\r\n      // Show loader\r\n      $rootScope.loadingProgress = true;\r\n\r\n      // Update the state without reloading the controller\r\n      /*\r\n       $state.go('app.mail.threads', {\r\n       type: null,\r\n       filter: unread\r\n       }, {notify: false});\r\n       */\r\n\r\n      //Replace switchCase with array\r\n      switch (unread) {\r\n        case 'all':\r\n          label = 'Inbox';\r\n          folderID = 1;\r\n          console.log('label', label);\r\n          break;\r\n        case 'true':\r\n          label = 'Unread';\r\n          folderID = 2;\r\n          console.log('label', label);\r\n          break;\r\n        case 'false':\r\n          label = 'Read';\r\n          folderID = 3;\r\n          console.log('label', label);\r\n          break;\r\n        default:\r\n          label = 'Inbox';\r\n          folderID = 1;\r\n      }\r\n      // Set the current filter\r\n      vm.currentFilter = {\r\n        type: null,\r\n        filter: folderID,\r\n        name: label\r\n      };\r\n\r\n      // Close the current thread if open\r\n      if (vm.currentThread) {\r\n        vm.closeThread();\r\n      }\r\n\r\n      // Hide loader\r\n      $rootScope.loadingProgress = false;\r\n\r\n      vm.threads = $rootScope.feed.items;\r\n      console.log('vm.threads', vm.threads);\r\n      console.log('unread', unread);\r\n      if (unread !== 'all') {\r\n        vm.threads = $filter('filter')(\r\n          vm.threads, {unread: unread}\r\n        );\r\n      }\r\n      console.log('vm.threads filtered', vm.threads);\r\n      $mdSidenav('main-sidenav').toggle();\r\n      return vm.threads;\r\n    }\r\n\r\n\r\n    function filterOutbox() {\r\n      vm.outboxToggle = true;\r\n      console.log('sent', vm.sent);\r\n\r\n      vm.currentFilter = {\r\n        type: 'outbox',\r\n        filter: 1,\r\n        name: 'Outbox'\r\n      };\r\n\r\n      // Close the current thread if open\r\n      if (vm.currentThread) {\r\n        vm.closeThread();\r\n      }\r\n\r\n      $mdSidenav('main-sidenav').toggle();\r\n      return vm.outboxThreads = vm.sent.posts;\r\n    }\r\n\r\n\r\n    $rootScope.$on('event:feedNotificationsReceived', function () {\r\n      vm.threads = null;\r\n      //console.log('vm.threads loaded', vm.threads);\r\n      vm.threads = $rootScope.feed.items;\r\n      //console.log('vm.threads loaded', vm.threads);\r\n    });\r\n\r\n    // Watch screen size to change view modesfeedNotificationsReceived\r\n    $scope.$watch(function () {\r\n      return $mdMedia('xs');\r\n    }, function (current, old) {\r\n      if (current) {\r\n        vm.currentView = 'classic';\r\n      }\r\n    });\r\n\r\n    $scope.$watch(function () {\r\n      return $mdMedia('gt-xs');\r\n    }, function (current, old) {\r\n      if (current) {\r\n        if (vm.defaultView === 'outlook') {\r\n          vm.currentView = 'outlook';\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n    /**\r\n     * Is the folder with the given name active?\r\n     *\r\n     * @param name\r\n     * @returns {boolean}\r\n     */\r\n    function isFolderActive(id) {\r\n      //console.log('isFolderActive:name', id);\r\n      //console.log('vm.currentFilter.filter', vm.currentFilter.filter);\r\n      return (vm.currentFilter.type === null && vm.currentFilter.filter === id);\r\n    }\r\n\r\n    function isOutboxActive(id) {\r\n      //console.log('isFolderActive:name', id);\r\n      //console.log('vm.currentFilter.filter', vm.currentFilter.filter);\r\n      return (vm.currentFilter.type === 'outbox' && vm.currentFilter.filter === id);\r\n    }\r\n\r\n    /**\r\n     * Is the label with the given name active?\r\n     *\r\n     * @param name\r\n     * @returns {boolean}\r\n     */\r\n    function isLabelActive(id) {\r\n\r\n      //console.log('isLabelActive:id', id);\r\n\r\n      return (vm.currentFilter.type === 'label' && vm.currentFilter.filter === id);\r\n    }\r\n\r\n    /**\r\n     * Open thread\r\n     *\r\n     * @param thread\r\n     */\r\n\r\n    function openThread(thread) {\r\n\r\n      //Set Details to true\r\n      vm.selectedMailShowDetails = false;\r\n\r\n      // Set the read status on the thread\r\n      thread.read = true;\r\n\r\n      // Assign thread as the current thread\r\n      vm.currentThread = thread;\r\n\r\n\r\n      // Update the state without reloading the controller\r\n      //$state.go('app.mail.threads.thread', {threadId: thread.id}, {notify: false});\r\n\r\n\r\n      console.log('thread', thread);\r\n      console.log('thread.item.type', thread.item.type);\r\n      var itemID = [thread.id];\r\n      console.log(itemID);\r\n\r\n      // This HACK will be replaced when endpoint data is refactored and consistent\r\n      switch (thread.type) {\r\n        case 'notification':\r\n          vm.fetchChecklist(thread.item.idCHK);\r\n          switch (thread.item.type) {\r\n            case 'section':\r\n              vm.fetchSection(thread.item.idCHK, thread.item.id);\r\n              break;\r\n            case 'heading':\r\n              vm.fetchHeading(thread.item.idCHK, thread.item.id);\r\n              break;\r\n            case 'item':\r\n              vm.fetchItem(thread.item.idCHK, thread.item.id);\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n          break;\r\n        case 'invite':\r\n          vm.fetchUser(thread);\r\n          break;\r\n        case 'invited':\r\n          vm.fetchUser(thread);\r\n          break;\r\n        case 'message':\r\n          vm.fetchUser(thread);\r\n          break;\r\n        case 'accepted':\r\n          vm.fetchUser(thread);\r\n          break;\r\n        case 'post':\r\n          vm.fetchChecklist(thread.item.idCHK);\r\n          switch (thread.item.type) {\r\n            case 'section':\r\n              vm.fetchSection(thread.item.idCHK, thread.item.id);\r\n              break;\r\n            case 'heading':\r\n              vm.fetchHeading(thread.item.idCHK, thread.item.id);\r\n              break;\r\n            case 'item':\r\n              vm.fetchItem(thread.item.idCHK, thread.item.id);\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n\r\n\r\n      $rootScope.feed.mark(itemID);\r\n\r\n      var i;\r\n      for (i = 0; i < vm.threads.length; i++) {\r\n        if (vm.threads[i].id == itemID) {\r\n          console.log('pre shift', vm.threads[i]);\r\n\r\n          vm.threads[i].unread = false;\r\n          console.log('post shift', vm.threads[i]);\r\n        }\r\n      }\r\n\r\n\r\n    }\r\n\r\n    /**\r\n     * Close thread\r\n     */\r\n    function closeThread() {\r\n      vm.currentThread = null;\r\n\r\n      // Update the state without reloading the controller\r\n      $state.go('app.mail.threads', {\r\n        type: vm.currentFilter.type,\r\n        filter: vm.currentFilter.filter\r\n      }, {notify: false});\r\n    }\r\n\r\n    /**\r\n     * Return selected status of the thread\r\n     *\r\n     * @param thread\r\n     * @returns {boolean}\r\n     */\r\n    function isSelected(thread) {\r\n      return vm.selectedThreads.indexOf(thread) > -1;\r\n    }\r\n\r\n    /**\r\n     * Toggle selected status of the thread\r\n     *\r\n     * @param thread\r\n     * @param event\r\n     */\r\n    function toggleSelectThread(thread, event) {\r\n      if (event) {\r\n        event.stopPropagation();\r\n      }\r\n\r\n      if (vm.selectedThreads.indexOf(thread) > -1) {\r\n        vm.selectedThreads.splice(vm.selectedThreads.indexOf(thread), 1);\r\n      }\r\n      else {\r\n        vm.selectedThreads.push(thread);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Select threads. If key/value pair given,\r\n     * threads will be tested against them.\r\n     *\r\n     * @param [key]\r\n     * @param [value]\r\n     */\r\n    function selectThreads(key, value) {\r\n      // Make sure the current selection is cleared\r\n      // before trying to select new threads\r\n      vm.selectedThreads = [];\r\n\r\n      for (var i = 0; i < vm.threads.length; i++) {\r\n        if (angular.isUndefined(key) && angular.isUndefined(value)) {\r\n          vm.selectedThreads.push(vm.threads[i]);\r\n          continue;\r\n        }\r\n\r\n        if (angular.isDefined(key) && angular.isDefined(value) && vm.threads[i][key] === value) {\r\n          vm.selectedThreads.push(vm.threads[i]);\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Deselect threads\r\n     */\r\n    function deselectThreads() {\r\n      vm.selectedThreads = [];\r\n    }\r\n\r\n    /**\r\n     * Toggle select threads\r\n     */\r\n    function toggleSelectThreads() {\r\n      if (vm.selectedThreads.length > 0) {\r\n        vm.deselectThreads();\r\n      }\r\n      else {\r\n        vm.selectThreads();\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Set the status on given thread, current thread or selected threads\r\n     *\r\n     * @param key\r\n     * @param value\r\n     * @param [thread]\r\n     * @param [event]\r\n     */\r\n    function setThreadStatus(key, value, thread, event) {\r\n      // Stop the propagation if event provided\r\n      // This will stop unwanted actions on button clicks\r\n      if (event) {\r\n        event.stopPropagation();\r\n      }\r\n\r\n      // If the thread provided, do the changes on that\r\n      // particular thread\r\n      if (thread) {\r\n        thread[key] = value;\r\n        return;\r\n      }\r\n\r\n      // If the current thread is available, do the\r\n      // changes on that one\r\n      if (vm.currentThread) {\r\n        vm.currentThread[key] = value;\r\n        return;\r\n      }\r\n\r\n      // Otherwise do the status update on selected threads\r\n      for (var x = 0; x < vm.selectedThreads.length; x++) {\r\n        vm.selectedThreads[x][key] = value;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Toggle the value of the given key on given thread, current\r\n     * thread or selected threads. Given key value must be boolean.\r\n     *\r\n     * @param key\r\n     * @param thread\r\n     * @param event\r\n     */\r\n    function toggleThreadStatus(key, thread, event) {\r\n      // Stop the propagation if event provided\r\n      // This will stop unwanted actions on button clicks\r\n      if (event) {\r\n        event.stopPropagation();\r\n      }\r\n\r\n      // If the thread provided, do the changes on that\r\n      // particular thread\r\n      if (thread) {\r\n        if (typeof(thread[key]) !== 'boolean') {\r\n          return;\r\n        }\r\n\r\n        thread[key] = !thread[key];\r\n        return;\r\n      }\r\n\r\n      // If the current thread is available, do the\r\n      // changes on that one\r\n      if (vm.currentThread) {\r\n        if (typeof(vm.currentThread[key]) !== 'boolean') {\r\n          return;\r\n        }\r\n\r\n        vm.currentThread[key] = !vm.currentThread[key];\r\n        return;\r\n      }\r\n\r\n      // Otherwise do the status update on selected threads\r\n      for (var x = 0; x < vm.selectedThreads.length; x++) {\r\n        if (typeof(vm.selectedThreads[x][key]) !== 'boolean') {\r\n          continue;\r\n        }\r\n\r\n        vm.selectedThreads[x][key] = !vm.selectedThreads[x][key];\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Get label object content\r\n     *\r\n     * @param id\r\n     * @returns {*}\r\n     */\r\n    function getLabel(id) {\r\n      for (var i = 0; i < vm.labels.length; i++) {\r\n        if (vm.labels[i].id === id) {\r\n          return vm.labels[i];\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Get label color from label object\r\n     *\r\n     * @param id\r\n     * @returns {*}\r\n     */\r\n    function getLabelColor(id) {\r\n      return vm.getLabel(id).color;\r\n    }\r\n\r\n    /**\r\n     * Get label title from label object\r\n     *\r\n     * @param id\r\n     * @returns {*}\r\n     */\r\n    function getLabelTitle(id) {\r\n      return vm.getLabel(id).title;\r\n    }\r\n\r\n    /**\r\n     * Toggle label\r\n     *\r\n     * @param label\r\n     */\r\n    function toggleLabel(label) {\r\n      // Toggle label on the currently open thread\r\n      if (vm.currentThread) {\r\n        if (vm.currentThread.labels.indexOf(label.id) > -1) {\r\n          vm.currentThread.labels.splice(vm.currentThread.labels.indexOf(label.id), 1);\r\n        }\r\n        else {\r\n          vm.currentThread.labels.push(label.id);\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      // Toggle labels on selected threads\r\n      // Toggle action will be determined by the first thread from the selection.\r\n      if (vm.selectedThreads.length > 0) {\r\n        // Decide if we are going to remove or add labels\r\n        var removeLabels = (vm.selectedThreads[0].labels.indexOf(label.id) > -1);\r\n\r\n        for (var i = 0; i < vm.selectedThreads.length; i++) {\r\n          if (!removeLabels) {\r\n            vm.selectedThreads[i].labels.push(label.id);\r\n            continue;\r\n          }\r\n\r\n          if (vm.selectedThreads[i].labels.indexOf(label.id) > -1) {\r\n            vm.selectedThreads[i].labels.splice(vm.selectedThreads[i].labels.indexOf(label.id), 1);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Is label exist?\r\n     *\r\n     * @param label\r\n     * @returns {boolean}\r\n     */\r\n    function isLabelExist(label) {\r\n      if (vm.currentThread && vm.currentThread.labels) {\r\n        return (vm.currentThread.labels.indexOf(label.id) > -1);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Change the view\r\n     *\r\n     * @param view\r\n     */\r\n    function changeView(view) {\r\n      if (vm.views[view]) {\r\n        vm.defaultView = view;\r\n        vm.currentView = view;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Open compose dialog\r\n     *\r\n     * @param ev\r\n     */\r\n\r\n    function composeDialog(ev) {\r\n      $mdDialog.show({\r\n        controller: 'ComposeDialogController',\r\n        controllerAs: 'vm',\r\n        locals: {\r\n          selectedMail: undefined\r\n        },\r\n        templateUrl: 'app/main/mail/dialogs/compose/compose-dialog.html',\r\n        parent: angular.element($document.body),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Open reply dialog\r\n     *\r\n     * @param ev\r\n     */\r\n    function replyDialog(ev, currentThread, type) {\r\n\r\n      console.log('reply dialog', currentThread, type);\r\n\r\n      $mdDialog.show({\r\n        controller: 'ComposeDialogController',\r\n        controllerAs: 'vm',\r\n        locals: {\r\n          selectedMail: currentThread,\r\n          type: type\r\n        },\r\n        templateUrl: 'app/main/mail/dialogs/compose/compose-dialog.html',\r\n        parent: angular.element($document.body),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n\r\n    function deleteFeed(event, currentItem) {\r\n\r\n      vm.currentItem = currentItem;\r\n\r\n      var confirm = $mdDialog.confirm()\r\n        .title('Are you sure?')\r\n        .content('This Notification will be deleted.')\r\n        .ariaLabel('Delete Notification')\r\n        .ok('Delete')\r\n        .cancel('Cancel')\r\n        .targetEvent(event);\r\n\r\n      $mdDialog.show(confirm).then(function () {\r\n        api.feed.destroy(vm.currentItem.id).error(function (res) {\r\n          return $rootScope.message(\"Error Deleting Notification\", 'warning');\r\n        }).success(function (res) {\r\n          if (res === void 0 || res === null || res === '') {\r\n            return $rootScope.message(\"Error Deleting Notification\", 'warning');\r\n          } else if (res.code) {\r\n            return $rootScope.message(res.message, 'warning');\r\n          } else {\r\n\r\n            console.log('currentThread', vm.currentItem);\r\n            console.log('id', vm.currentItem.id);\r\n\r\n            /* Remove From Threads Object */\r\n            vm.threads.splice(vm.threads.indexOf(vm.currentItem), 1);\r\n\r\n            vm.closeThread();\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n\r\n    function fetchUser(thread) {\r\n\r\n      vm.currentThread.message = {\r\n        from: thread.user.name,\r\n        organization: thread.user.organization,\r\n        message: thread.item.text\r\n      }\r\n\r\n    }\r\n\r\n\r\n    function fetchChecklist(idCHK) {\r\n\r\n      var find;\r\n\r\n      console.log('idCHK', idCHK);\r\n\r\n      var checklist;\r\n\r\n      vm.loading = true;\r\n      return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=checklist&idCHK=\" + idCHK).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          console.log('Error loading checklist: ', res);\r\n\r\n        } else if (res.code) {\r\n\r\n        } else {\r\n\r\n          checklist = res.checklists[0];\r\n\r\n          //console.log('res', res);\r\n          console.log('checklist', checklist);\r\n\r\n          if (checklist !== void 0 && checklist !== null && checklist !== '') {\r\n\r\n\r\n            vm.currentThread.checklist = {\r\n              idCHK: checklist.idCHK,\r\n              name: checklist.name,\r\n              complete: checklist.complete,\r\n              ownerDetails: checklist.ownerDetails,\r\n              inviterDetails: checklist.inviterDetails\r\n            }\r\n          }\r\n\r\n          //console.log('vm.currentThread.checklist', vm.currentThread.checklist);\r\n\r\n        }\r\n      }).error(function (err) {\r\n        console.log('Error loading checklist', err);\r\n        vm.loading = false;\r\n\r\n      })[\"finally\"](function () {\r\n        return vm.loading = false;\r\n      });\r\n\r\n      vm.loading = true;\r\n    }\r\n\r\n\r\n    function fetchSection(idCHK, sectionID) {\r\n\r\n      console.log('idCHK', idCHK);\r\n      console.log('sectionID', sectionID);\r\n\r\n      var sections;\r\n\r\n      vm.loading = true;\r\n      return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=section&idCHK=\" + idCHK).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          console.log('Error loading sections: ', res);\r\n\r\n        } else if (res.code) {\r\n\r\n        } else {\r\n\r\n          sections = res.sections;\r\n\r\n          console.log('sections', sections);\r\n\r\n          sections.forEach(function (section) {\r\n\r\n            if (section.id == sectionID) {\r\n\r\n              vm.currentThread.specific = {\r\n                idCHK: idCHK,\r\n                id: section.id,\r\n                id_parent: section.id_parent,\r\n                name: section.name\r\n              }\r\n              console.log('vm.currentThread.specific', vm.currentThread.specific);\r\n            }\r\n\r\n          });\r\n\r\n        }\r\n      }).error(function (err) {\r\n        console.log('Error loading sections', err);\r\n        vm.loading = false;\r\n\r\n      })[\"finally\"](function () {\r\n        return vm.loading = false;\r\n      });\r\n\r\n\r\n      vm.loading = true;\r\n    }\r\n\r\n\r\n    function fetchHeading(idCHK, headingID) {\r\n\r\n      console.log('idCHK', idCHK);\r\n      console.log('headingID', headingID);\r\n\r\n\r\n      var headings;\r\n\r\n      vm.loading = true;\r\n      return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=heading&idCHK=\" + idCHK).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          console.log('Error loading headings: ', res);\r\n\r\n        } else if (res.code) {\r\n\r\n        } else {\r\n\r\n          headings = res.headings;\r\n\r\n          headings.forEach(function (heading) {\r\n\r\n            if (heading.id == headingID) {\r\n\r\n              vm.currentThread.specific = {\r\n                idCHK: idCHK,\r\n                id: heading.id,\r\n                id_parent: heading.id_parent,\r\n                name: heading.name\r\n              }\r\n              console.log('vm.currentThread.specific', vm.currentThread.specific);\r\n            }\r\n\r\n          });\r\n\r\n        }\r\n      }).error(function (err) {\r\n        console.log('Error loading headings', err);\r\n        vm.loading = false;\r\n\r\n      })[\"finally\"](function () {\r\n        return vm.loading = false;\r\n      });\r\n\r\n\r\n      vm.loading = true;\r\n    }\r\n\r\n\r\n    function fetchItem(idCHK, itemID) {\r\n\r\n      console.log('idCHK', idCHK);\r\n      console.log('itemID', itemID);\r\n\r\n      console.log('itemID', itemID);\r\n\r\n\r\n      var items;\r\n\r\n      vm.loading = true;\r\n      return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=item&idCHK=\" + idCHK).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          console.log('Error loading headings: ', res);\r\n\r\n        } else if (res.code) {\r\n\r\n        } else {\r\n\r\n          items = res.items;\r\n\r\n          items.forEach(function (item) {\r\n\r\n            if (item.id == itemID) {\r\n\r\n              vm.currentThread.specific = {\r\n                idCHK: idCHK,\r\n                id: item.id,\r\n                id_parent: item.id_parent,\r\n                name: item.name\r\n              }\r\n              console.log('vm.currentThread.specific', vm.currentThread.specific);\r\n            }\r\n\r\n          });\r\n\r\n        }\r\n      }).error(function (err) {\r\n        console.log('Error loading headings', err);\r\n        vm.loading = false;\r\n\r\n      })[\"finally\"](function () {\r\n        return vm.loading = false;\r\n      });\r\n\r\n\r\n      vm.loading = true;\r\n    }\r\n\r\n\r\n    function fetchChecklistData(idCHK) {\r\n\r\n      var checklist;\r\n\r\n      vm.loading = true;\r\n      return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=checklist&idCHK=\" + idCHK).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          console.log('Error loading checklist: ', res);\r\n\r\n        } else if (res.code) {\r\n\r\n        } else {\r\n\r\n          console.log('res.checklists[0]', res.checklists[0]);\r\n          checklist = res.checklists[0];\r\n\r\n        }\r\n      }).error(function (err) {\r\n        console.log('Error loading checklist', err);\r\n        vm.loading = false;\r\n\r\n      })[\"finally\"](function () {\r\n        return checklist;\r\n      });\r\n\r\n    }\r\n\r\n\r\n    function passChecklistPostings(idCHK, id_parent, id, type, name, threadType) {\r\n\r\n      var sections, headings, i, noNav = false;\r\n\r\n      sections = [];\r\n      headings = [];\r\n\r\n      console.log('idCHK', idCHK);\r\n      console.log('type', type);\r\n      console.log('id_parent', id_parent);\r\n      console.log('id', id);\r\n      console.log('name', name);\r\n      console.log('threadType', threadType);\r\n\r\n      switch (type) {\r\n        case 'checklist':\r\n          break;\r\n        case 'section':\r\n          break;\r\n        case 'heading':\r\n          sections.push(id_parent);\r\n          break;\r\n        case 'item':\r\n          noNav = true;\r\n          api.headings.get(idCHK).success(function (res) {\r\n\r\n            for (i = 0; i < res.headings.length; i++) {\r\n              console.log('res.headings[i].id', res.headings[i].id);\r\n              if (res.headings[i].id === id_parent) {\r\n                sections.push(res.headings[i].id_parent);\r\n\r\n                console.log('res.headings[i].id_parent', res.headings[i].id_parent);\r\n              }\r\n            }\r\n\r\n            console.log('sections post loop', sections);\r\n            //sections.push(res.sections[0].id);\r\n            headings.push(id_parent);\r\n\r\n            console.log('headings post loop', headings);\r\n\r\n            $state.go('app.checklist.notifications', {\r\n              id: id,\r\n              idCHK: idCHK,\r\n              sections: sections,\r\n              headings: headings,\r\n              name: name,\r\n              type: threadType\r\n            });\r\n\r\n          })[\"finally\"](function () {\r\n          });\r\n\r\n          console.log('headings post loop', headings);\r\n          break;\r\n        default:\r\n          return false;\r\n      }\r\n\r\n      if (!noNav) {\r\n        $state.go('app.checklist.notifications', {\r\n          id: id,\r\n          idCHK: idCHK,\r\n          sections: sections,\r\n          headings: headings,\r\n          name: name,\r\n          type: threadType\r\n        });\r\n      }\r\n\r\n    };\r\n\r\n    function passInvitations(id) {\r\n\r\n      var noNav = false;\r\n\r\n      //console.log('id', id);\r\n\r\n         $state.go('app.invitations.accept', {\r\n         passID: id\r\n         });\r\n    };\r\n\r\n    function passContacts(id) {\r\n\r\n      var noNav = false;\r\n\r\n      //console.log('id', id);\r\n\r\n      $state.go('app.contacts.accept', {\r\n        passID: id\r\n      });\r\n    };\r\n\r\n\r\n    function passMessages(id) {\r\n\r\n      var noNav = false;\r\n\r\n      //console.log('id', id);\r\n\r\n      $state.go('app.chat.pass', {\r\n        passID: id\r\n      });\r\n    };\r\n\r\n\r\n\r\n    /**\r\n     * Toggle sidenav\r\n     *\r\n     * @param sidenavId\r\n     */\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n    }\r\n  }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.login', [])\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($stateProvider, $translatePartialLoaderProvider, msNavigationServiceProvider)\r\n    {\r\n        // State\r\n        $stateProvider.state('app.login', {\r\n            url      : '/login',\r\n            views    : {\r\n                'main@'                       : {\r\n                    templateUrl: 'app/core/layouts/content-only.html',\r\n                    controller : 'MainController as vm'\r\n                },\r\n                'content@app.login': {\r\n                    templateUrl: 'app/main/login/login.html',\r\n                    controller : 'LoginController as vm'\r\n                }\r\n            },\r\n            bodyClass: 'login'\r\n        });\r\n\r\n        // Translation\r\n        $translatePartialLoaderProvider.addPart('app/main/login');\r\n    }\r\n\r\n})();\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.login')\r\n    .controller('LoginController', LoginController);\r\n\r\n  /** @ngInject */\r\n  function LoginController($rootScope, $http, $state, api) {\r\n    var vm = this;\r\n\r\n    // Methods\r\n    vm.login = login;\r\n    vm.logout = logout;\r\n\r\n    function login() {\r\n      $http.post(\"https://checklinked.com/ajax/login-doAuth.php\", {\r\n        user: vm.email,\r\n        pass: vm.form.password\r\n      }, {\r\n        headers: {\r\n          'Content-Type': 'application/x-www-form-urlencoded'\r\n        },\r\n        cache: false\r\n      }).success(function (res) {\r\n        debugger;\r\n        var organizationError = res.user.organizationError;\r\n\r\n        if (organizationError !== null) {\r\n          var destination = 'app.organization';\r\n        } else {\r\n          var destination = 'app.user';\r\n        }\r\n\r\n        $state.go(destination);\r\n\r\n      }).error(function (err) {\r\n      })\r\n\r\n    }\r\n\r\n    function logout() {\r\n      $http.get('https://checklinked.com/ajax/logout.php')\r\n        .then(\r\n          function (res) {\r\n          },\r\n          function (err) {\r\n          }\r\n        );\r\n    }\r\n  }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.invite', [])\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($stateProvider, $translatePartialLoaderProvider, msNavigationServiceProvider)\r\n    {\r\n        // State\r\n        $stateProvider.state('app.invite', {\r\n            url      : '/invite/:id',\r\n            views    : {\r\n                'main@'                       : {\r\n                    templateUrl: 'app/core/layouts/content-only.html',\r\n                    controller : 'MainController as vm'\r\n                },\r\n                'content@app.invite': {\r\n                    templateUrl: 'app/main/invite/invite.html',\r\n                    controller : 'InviteController as vm'\r\n                }\r\n            },\r\n            bodyClass: 'invite'\r\n        })\r\n        // Translation\r\n        $translatePartialLoaderProvider.addPart('app/main/invite');\r\n    }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.invite')\r\n    .controller('InviteController', InviteController);\r\n\r\n  /** @ngInject */\r\n  function InviteController($rootScope, $scope, $http, $state, api, $location, $stateParams) {\r\n\r\n    var vm = this;\r\n    var idSUI;\r\n\r\n    vm.loading = false;\r\n    vm.inviting = false;\r\n    vm.makingSubActive = false;\r\n    vm.withdrawing = [];\r\n    vm.invite = null;\r\n    vm.view = {\r\n      legacy: false,\r\n      create: false\r\n    }\r\n    vm.accountCreate = false;\r\n\r\n    vm.viewToggle = viewToggle;\r\n    vm.resetToggle = resetToggle;\r\n\r\n\r\n    idSUI = $stateParams.id;\r\n\r\n    if (idSUI !== void 0 && idSUI !== null && idSUI !== '') {\r\n\r\n      vm.acceptInvite = {\r\n        accepting: false,\r\n        signin: {\r\n          username: '',\r\n          password: ''\r\n        },\r\n        reg: {\r\n          contact: {\r\n            name: {\r\n              first: '',\r\n              middle: '',\r\n              last: ''\r\n            },\r\n            phone: '',\r\n            email: ''\r\n          },\r\n          password: '',\r\n          password2: ''\r\n        },\r\n        login: function () {\r\n          console.log('idSUI', idSUI);\r\n\r\n          vm.acceptInvite.accepting = true;\r\n          return api.subscriptions.acceptInvite(idSUI, 'login', vm.acceptInvite.signin).error(function (res) {\r\n            console.log('invite accept error', idSUI, res);\r\n            return $rootScope.message('Error accepting invitation.', 'warning');\r\n          }).success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              console.log('invite accept error', idSUI, res);\r\n              return $rootScope.message('Invalid response.', 'warning');\r\n            } else if (res.code) {\r\n              console.log('invite accept error', idSUI, res);\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              return vm.acceptInvite.succeeded(res.user.token);\r\n            }\r\n          })[\"finally\"](function () {\r\n            return vm.acceptInvite.accepting = false;\r\n          });\r\n        },\r\n        signup: function () {\r\n          console.log('vm.acceptInvite.reg', vm.acceptInvite.reg);\r\n          console.log('idSUI', idSUI);\r\n\r\n          vm.acceptInvite.accepting = true;\r\n          return api.subscriptions.acceptInvite(idSUI, 'signup', vm.acceptInvite.reg).error(function (res) {\r\n            console.log('invite accept error', idSUI, res);\r\n            return $rootScope.message('Error accepting invitation.', 'warning');\r\n          }).success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              console.log('invite accept error', idSUI, res);\r\n              return $rootScope.message('Invalid response.', 'warning');\r\n            } else if (res.code) {\r\n              console.log('invite accept error', idSUI, res);\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              return vm.acceptInvite.succeeded(res.user.token);\r\n            }\r\n          })[\"finally\"](function () {\r\n            return vm.acceptInvite.accepting = false;\r\n          });\r\n        },\r\n        succeeded: function (token) {\r\n          console.log('token', token);\r\n          return api.login.doAuth({\r\n            m: 't',\r\n            t: token\r\n          });\r\n        }\r\n      };\r\n\r\n      //Needs Fixed\r\n      vm.invite = api.subscriptions.getInvite(idSUI).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n\r\n        } else if (res.code) {\r\n\r\n        } else {\r\n          vm.invite = res.invite;\r\n          vm.acceptInvite.signin.username = res.invite.email;\r\n          return vm.acceptInvite.reg.contact.email = res.invite.email;\r\n        }\r\n      });\r\n    }\r\n\r\n    function viewToggle(open, close) {\r\n      vm.view[open] = !vm.view[open];\r\n      vm.view[close] = false;\r\n    };\r\n\r\n    function resetToggle() {\r\n      vm.view = {\r\n        legacy: false,\r\n        create: false\r\n      }\r\n    };\r\n\r\n\r\n  }\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.invitations', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, msApiProvider, $translatePartialLoaderProvider, msNavigationServiceProvider) {\r\n\r\n    // State\r\n    $stateProvider.state('app.invitations', {\r\n      url: '/invitations',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/invitations/invitations.html',\r\n          controller: 'InvitationsController as vm'\r\n        }\r\n      },\r\n      bodyClass: 'forms'\r\n    })\r\n      .state('app.invitations.accept', {\r\n        url: '/invitations/:passID',\r\n        views: {\r\n          'content@app': {\r\n            templateUrl: 'app/main/invitations/invitations.html',\r\n            controller: 'InvitationsController as vm'\r\n          }\r\n        },\r\n        bodyClass: 'forms'\r\n      });\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/invitations');\r\n\r\n    // Navigation\r\n    msNavigationServiceProvider.saveItem('checklists.invitations', {\r\n      title: 'Invitations',\r\n      icon: 'icon-google-circles-invite',\r\n      state: 'app.invitations',\r\n      badge: {\r\n        color: '#F44336'\r\n      },\r\n      weight: 4\r\n    });\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.invitations')\r\n    .controller('InvitationsController', InvitationsController);\r\n\r\n  /** @ngInject */\r\n  function InvitationsController($rootScope, $http, $scope, api, $mdSidenav, $mdDialog, $document, $filter, $stateParams, $state) {\r\n\r\n    var vm = this;\r\n\r\n    $scope.$on('event:userLoaded', function (e, data) {\r\n      console.log('received event:userLoaded', data);\r\n\r\n    });\r\n\r\n    vm.inviteContact = inviteContact;\r\n    vm.setBlank = setBlank;\r\n    vm.openFolderInput = openFolderInput;\r\n    vm.cancelFolderInput = cancelFolderInput;\r\n    vm.cancelChecklistInput = cancelChecklistInput;\r\n    vm.openGroupInput = openGroupInput;\r\n    vm.openAcceptChecklistInvitations = openAcceptChecklistInvitations;\r\n    vm.openAcceptGroupInvitations = openAcceptGroupInvitations;\r\n    vm.cancelGroupInput = cancelGroupInput;\r\n    vm.fetchGroups = fetchGroups;\r\n    vm.sendForm = sendForm;\r\n    vm.determineOrder = determineOrder;\r\n    vm.closeDialog = closeDialog;\r\n    vm.addNewGroup = addNewGroup;\r\n    vm.addNewFolder = addNewFolder;\r\n    vm.fetchGroups = fetchGroups;\r\n\r\n    vm.passID = $stateParams.passID;\r\n\r\n    console.log('vm.passID', vm.passID);\r\n\r\n    vm.folders = [];\r\n    vm.groups = [];\r\n\r\n    vm.wizard = {\r\n      newFolder: false,\r\n      newGroup: false\r\n    };\r\n\r\n    console.log('console', $rootScope.inviteCounts.checklists);\r\n    console.log('console', $rootScope.inviteCounts.friendships);\r\n\r\n    function determineOrder(what, to) {\r\n      var count, order, ref, whats;\r\n      whats = what + 's';\r\n      order = 1;\r\n      if (what === 'folder') {\r\n        order += $rootScope.folders.length;\r\n      } else {\r\n        count = (ref = $filter('filter')($rootScope[whats], {\r\n          id_parent: to\r\n        }, true)) != null ? ref : [];\r\n        order += count.length;\r\n      }\r\n      return order;\r\n    };\r\n\r\n    function sendForm(ev) {\r\n\r\n      if (vm.verticalStepper.step2) {\r\n        vm.inviteControl.assign(vm.verticalStepper.step2.groupID);\r\n        $rootScope.message('Invitation Accepted', 'success');\r\n      } else {\r\n        vm.inviteControl.assign(vm.verticalStepper.step1.folderID);\r\n        $rootScope.message('Invitation Accepted', 'success');\r\n      }\r\n      vm.formWizard = {};\r\n      $mdDialog.hide();\r\n    }\r\n\r\n    api.folders.get().then(function (d) {\r\n      vm.folders = d.data.folders;\r\n      console.log('vm.folders', vm.folders);\r\n    });\r\n\r\n    function openFolderInput() {\r\n      vm.wizard.newFolder = true;\r\n      vm.wizard.newGroup = false;\r\n      vm.wizard.newChecklist = false;\r\n    }\r\n\r\n    function cancelFolderInput() {\r\n      return vm.wizard.newFolder = false;\r\n    }\r\n\r\n    function cancelChecklistInput() {\r\n      vm.closeDialog();\r\n    }\r\n\r\n    function openGroupInput() {\r\n      vm.wizard.newFolder = false;\r\n      vm.wizard.newChecklist = false;\r\n      vm.wizard.newGroup = true;\r\n    }\r\n\r\n    function cancelGroupInput() {\r\n      return vm.wizard.newGroup = false;\r\n    }\r\n\r\n\r\n    function fetchGroups(id) {\r\n      vm.groups = $rootScope.children('groups', id);\r\n      $rootScope.organizeData();\r\n    };\r\n\r\n    console.log('vm.folders', vm.folders);\r\n\r\n    function inviteContact(group) {\r\n      $('#group_' + group.id).modal('show');\r\n      return null;\r\n    };\r\n\r\n    function setBlank() {\r\n      vm.invites = {\r\n        loaded: false,\r\n        received: [],\r\n        sent: []\r\n      };\r\n      vm.tree = [];\r\n      return $rootScope.loading.invites = false;\r\n    };\r\n\r\n    vm.setBlank();\r\n\r\n    vm.inviteControl = {\r\n      assigning: null,\r\n      error: null,\r\n      remove: function (type, invite) {\r\n        var idx;\r\n        console.log('removing invite', type, invite);\r\n        idx = vm.invites[type].indexOf(invite);\r\n        if (idx === -1) {\r\n          return console.log('Could not index invite for removal');\r\n        } else {\r\n          console.log('invite indexed for removal', idx);\r\n          vm.invites[type].splice(idx, 1);\r\n          return console.log('invite removed', vm.invites[type]);\r\n        }\r\n      },\r\n      load: function () {\r\n        console.log('loading folder invites');\r\n        $rootScope.loading.invites = true;\r\n        return api.checklists.invite.get().error(function (res) {\r\n          return vm.inviteControl.error = 'Unknown error talking to server.';\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            console.log('res.code', res);\r\n            return vm.inviteControl.error = res.message;\r\n          } else {\r\n            console.log('res.code', res);\r\n            return vm.invites = res.invites;\r\n          }\r\n        })[\"finally\"](function () {\r\n          vm.invites.loaded = true;\r\n          return $rootScope.loading.invites = false;\r\n        });\r\n      },\r\n      destroy: function (type, invite) {\r\n        console.log('type/invite', type, invite);\r\n\r\n        invite.destroying = true;\r\n\r\n        return api.checklists.invite.destroy(invite).error(function (res) {\r\n          console.log('destroy type/invite', type, invite);\r\n          console.log('waz up blackfuck', res);\r\n          invite.destroying = false;\r\n          invite.errors.destroying = res;\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            console.log('waz up faggot');\r\n            console.log('res', res);\r\n            return invite.destroying = false;\r\n          } else {\r\n            vm.inviteControl.remove(type, invite);\r\n            return $rootScope.message('Invitation has been deleted', 'success');\r\n            return $rootScope.socketio.emit('invite_answered', invite);\r\n          }\r\n        });\r\n      },\r\n      accept: function (ev, invite) {\r\n\r\n        vm.verticalStepper = {\r\n          step1: {},\r\n          step2: {}\r\n        };\r\n\r\n        console.log('vm.folders', vm.folders);\r\n        console.log('invite', invite);\r\n\r\n        $mdDialog.show({\r\n          controller: function DialogController($scope, $mdDialog) {\r\n            $scope.closeDialog = function () {\r\n              $mdDialog.hide();\r\n            }\r\n          },\r\n          scope: $scope,\r\n          preserveScope: true,\r\n          templateUrl: 'app/main/invitations/dialogs/invitation-accept-dialog.html',\r\n          parent: angular.element($document.find('#invitations')),\r\n          targetEvent: ev,\r\n          clickOutsideToClose: true\r\n        });\r\n        vm.inviteControl.assigning = invite;\r\n      },\r\n      acceptChecklist: function (invite, ev) {\r\n        console.log('invite checklist', invite);\r\n        vm.openAcceptChecklistInvitations(invite, ev);\r\n        vm.inviteControl.assigning = invite;\r\n        return null;\r\n      },\r\n      acceptGroup: function (invite, ev) {\r\n        console.log('invite group', invite);\r\n        vm.openAcceptGroupInvitations(invite, ev);\r\n        vm.inviteControl.assigning = invite;\r\n        return null;\r\n      },\r\n      assign: function (idPARENT) {\r\n        var id, invite, order, name;\r\n        invite = vm.inviteControl.assigning;\r\n        invite.accepting = true;\r\n        invite.errors = $.extend({}, invite.errors, {\r\n          accepting: null\r\n        });\r\n        order = vm.determineOrder(invite.type, idPARENT);\r\n        name = name != null ? name : invite.type === 'group' ? invite.name : invite.checklist.name;\r\n        id = invite.type === 'group' ? invite.id : invite.checklist.id;\r\n\r\n        console.log('invite', invite);\r\n        console.log('idPARENT', idPARENT);\r\n        console.log('name', name);\r\n        console.log('order', order);\r\n        return api.checklists.invite.accept(invite, idPARENT, name, order).error(function (res) {\r\n          return invite.errors.accepting = res;\r\n        }).success(function (res) {\r\n          var group, ref;\r\n          if (res.code) {\r\n            return invite.errors.accepting = res.message;\r\n          } else {\r\n            vm.invites.received.remove(invite);\r\n            if (invite.type === 'group') {\r\n              $rootScope.groups.push(res.groups[0]);\r\n              $rootScope.checklists = $rootScope.checklists.concat(res.checklists);\r\n            } else {\r\n              $rootScope.checklists.push(res.checklists[0]);\r\n            }\r\n            $rootScope.organizeData();\r\n            if (invite.type === 'checklist') {\r\n              $rootScope.notify({\r\n                idCHK: invite.checklist.id,\r\n                idFDI: res.checklists[0].idFDI_latest,\r\n                type: 'joined',\r\n                user: invite.users.inviter\r\n              });\r\n            }\r\n            if (invite.type === 'group') {\r\n              group = (ref = $filter('filter')($rootScope.groups, {\r\n                id: res.groups[0].id\r\n              }, true)) != null ? ref[0] : void 0;\r\n              console.log('group found?', group, $rootScope.groups);\r\n              if (typeof group === 'object') {\r\n                return group.checklists.forEach(function (checklist) {\r\n                  return $rootScope.notify({\r\n                    idCHK: checklist.idCHK,\r\n                    idFDI: checklist.idFDI_latest,\r\n                    type: 'joined'\r\n                  });\r\n                });\r\n              }\r\n            }\r\n          }\r\n        })[\"finally\"](function () {\r\n          return invite.accepting = false;\r\n        });\r\n      }\r\n    };\r\n\r\n    function openAcceptChecklistInvitations(invite, ev) {\r\n      vm.title = invite.checklist.name;\r\n      vm.name = invite.checklist.name;\r\n      vm.checklistID = invite.checklist.id;\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/invitations/dialogs/invitation-accept-checklist-dialog.html',\r\n        parent: angular.element($document.find('#invitations')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n      });\r\n    };\r\n\r\n    function openAcceptGroupInvitations(invite, ev) {\r\n      vm.title = invite.name;\r\n      vm.name = invite.name;\r\n      vm.checklistID = invite.id;\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/invitations/dialogs/invitation-accept-group-dialog.html',\r\n        parent: angular.element($document.find('#invitations')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n      });\r\n    };\r\n\r\n    $scope.$on('event:userSelected', function () {\r\n      return vm.setBlank();\r\n    });\r\n    $scope.$on('event:userLoaded', function () {\r\n      if (!vm.invites.loaded && !$rootScope.loading.invites) {\r\n        return vm.inviteControl.load();\r\n      }\r\n    });\r\n    $scope.$on('event:checklistInviteCountChanged', function () {\r\n      if ($rootScope.userAuthenticated() && !$rootScope.loading.invites) {\r\n        return vm.inviteControl.load();\r\n      }\r\n    });\r\n    if (!vm.invites.loaded && !$rootScope.loading.invites) {\r\n      vm.inviteControl.load();\r\n    }\r\n\r\n\r\n    function addNewFolder() {\r\n\r\n      vm.folder.sending = true;\r\n      vm.folder.order = 1;\r\n      vm.folder.order += vm.folders.length;\r\n\r\n      api.folders.add(vm.folder.name, vm.folder.description, vm.folder.order).error(function (res) {\r\n        return $rootScope.message(\"Error Creating Project\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error Creating Project\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          vm.verticalStepper = {\r\n            newFolderID: res.folder.id\r\n          }\r\n\r\n          $rootScope.$broadcast('event:updateModels');\r\n          vm.folders.push(res.folder);\r\n          $rootScope.organizeData();\r\n\r\n          vm.fetchGroups(res.folder.id);\r\n\r\n\r\n          $rootScope.message('Project Added');\r\n\r\n          //Hide Buttons\r\n          vm.wizard.newFolder = false;\r\n        }\r\n      });\r\n\r\n    };\r\n\r\n    function addNewGroup(groupName, folderID) {\r\n\r\n      //Set sending variable for buttons\r\n      vm.group.sending = true;\r\n\r\n      //Set order variable for sql insert\r\n      vm.group.order = 1;\r\n      vm.group.order += vm.groups.length;\r\n      vm.group.text = groupName;\r\n      vm.group.id_parent = folderID;\r\n\r\n      api.groups.add(vm.group.text, vm.group.order, vm.group.id_parent).error(function (res) {\r\n        return $rootScope.message(\"Error Adding Folder\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error Adding Folder\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          console.log('res.groups', res.groups);\r\n          $rootScope.$broadcast('event:updateModels');\r\n          vm.groups.push(res.group);\r\n          $rootScope.organizeData();\r\n\r\n          vm.verticalStepper.newGroupID = res.group.id;\r\n          vm.verticalStepper.newFolderID = res.group.id_parent;\r\n\r\n          vm.wizard.newGroup = false;\r\n          vm.wizard.switch = false;\r\n\r\n\r\n          $rootScope.message('Folder Added');\r\n        }\r\n      });\r\n    };\r\n\r\n    function fetchGroups(id) {\r\n      vm.groups = $rootScope.children('groups', id);\r\n      console.log('vm.groups pre organizeData id / vm.groups', id, vm.groups)\r\n      $rootScope.organizeData();\r\n      console.log('fetching', id, vm.groups);\r\n\r\n      if (!vm.groups.length > 0) {\r\n        vm.wizard.switch = true;\r\n      } else {\r\n        vm.wizard.switch = false;\r\n      }\r\n    };\r\n\r\n\r\n    function closeDialog() {\r\n      $mdDialog.hide();\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.groups')\r\n    .controller('GroupsController', GroupsController);\r\n\r\n  /** @ngInject */\r\n  function GroupsController($scope, $rootScope, api, $stateParams, $location, $mdDialog, $mdSidenav, $document, $http, $state, $filter) {\r\n    var vm = this;\r\n\r\n    if ($stateParams.id !== undefined && $stateParams.id != null) {\r\n      if ($stateParams.id == '') {\r\n        $location.path('/folders');\r\n      } else {\r\n        vm.groups = [];\r\n        vm.folder_id = $stateParams.id;\r\n        api.groups.get($stateParams.id).then(function (d) {\r\n          vm.groups = d.data.groups;\r\n        });\r\n      }\r\n    }\r\n\r\n    console.log('vm.groups', vm.groups);\r\n\r\n    if ($rootScope.loading.folders || $rootScope.loading.groups || $rootScope.loading.checklists) {\r\n      console.log('$rootScope.loading', $rootScope.loading);\r\n      console.log('$rootScope.loading.folders', $rootScope.loading.folders);\r\n      console.log('$rootScope.loading.groups', $rootScope.loading.groups);\r\n      console.log('$rootScope.loading.checklists', $rootScope.loading.checklists);\r\n      console.log('$rootScope.loading', $rootScope.loading);\r\n    }\r\n\r\n    // Tasks will be filtered against these models\r\n    vm.groupFilters = {\r\n      search: '',\r\n      deleted: false\r\n    };\r\n\r\n    /* Controller Scope */\r\n    vm.groupFiltersDefaults = angular.copy(vm.groupFilters);\r\n    vm.showAllGroups = true;\r\n    vm.groupOrder = '';\r\n    vm.groupOrderDescending = false;\r\n    vm.openGroupDialog = openGroupDialog;\r\n    vm.addGroupDialog = addGroupDialog;\r\n    vm.deleteGroup = deleteGroup;\r\n    vm.toggleSidenav = toggleSidenav;\r\n    vm.toggleFilter = toggleFilter;\r\n    vm.resetFilters = resetFilters;\r\n    vm.toggleFilterWithEmpty = toggleFilterWithEmpty;\r\n    vm.addNewGroup = addNewGroup;\r\n    vm.openAddGroupTemplateDialog = openAddGroupTemplateDialog\r\n    vm.sendLinkRequestDialog = sendLinkRequestDialog;\r\n    vm.saveGroup = saveGroup;\r\n    vm.deleteGroup = deleteGroup;\r\n    vm.closeDialog = closeDialog;\r\n    vm.publishTemplateDialog = publishTemplateDialog;\r\n    vm.linkExistingDialog = linkExistingDialog;\r\n\r\n    /* Dialog Methods */\r\n\r\n    function openGroupDialog(ev, group) {\r\n\r\n      vm.group = group;\r\n      vm.title = 'Edit Folder';\r\n      vm.newGroup = false;\r\n\r\n      if (!vm.group) {\r\n        vm.group = {\r\n          'id': '',\r\n          'name': '',\r\n          'description': '',\r\n          'order': '',\r\n          'deleted': false\r\n        };\r\n        vm.title = 'New Folder';\r\n        vm.newGroup = true;\r\n      }\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/groups/dialogs/group/group-dialog.html',\r\n        parent: angular.element($document.find('#groups')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n\r\n    function addGroupDialog(ev, group) {\r\n\r\n      vm.group = group;\r\n      vm.title = 'Edit Folder';\r\n      vm.newGroup = false;\r\n\r\n      if (!vm.group) {\r\n        vm.group = {\r\n          'id': '',\r\n          'name': '',\r\n          'order': '',\r\n          'deleted': false\r\n        };\r\n        vm.title = 'Create New Folder';\r\n        vm.newGroup = true;\r\n      }\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/groups/dialogs/group/group-dialog.html',\r\n        parent: angular.element($document.find('#groups')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n\r\n    function openAddGroupTemplateDialog(ev) {\r\n\r\n      vm.title = 'Find Folder Templates';\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/groups/dialogs/group/group-add-from-template-dialog.html',\r\n        parent: angular.element($document.find('#groups')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n\r\n    }\r\n\r\n    function sendLinkRequestDialog(ev, group) {\r\n      $mdDialog.show({\r\n        controller: 'GroupSendLinkRequestDialogController',\r\n        controllerAs: 'vm',\r\n        templateUrl: 'app/main/groups/dialogs/group/group-send-link-request-dialog.html',\r\n        parent: angular.element($document.find('#groups')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n        locals: {\r\n          GROUP: group\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n    function linkExistingDialog(ev, group) {\r\n      $mdDialog.show({\r\n        controller: 'LinkExistingDialogController',\r\n        controllerAs: 'vm',\r\n        templateUrl: 'app/main/groups/dialogs/group/link-existing-dialog.html',\r\n        parent: angular.element($document.find('#groups')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n        locals: {\r\n          group: group\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n    function publishTemplateDialog(ev, id, name) {\r\n\r\n\r\n      $mdDialog.show({\r\n        controller: 'GroupPublishTemplateDialogController',\r\n        controllerAs: 'vm',\r\n        templateUrl: 'app/main/groups/dialogs/group/group-publish-template-dialog.html',\r\n        parent: angular.element($document.find('#groups')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n        locals: {\r\n          id: id,\r\n          name: name\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n    function closeDialog() {\r\n      $mdDialog.hide();\r\n    }\r\n\r\n    /* Add New Group */\r\n    function addNewGroup() {\r\n\r\n      vm.group.parentId = $stateParams.id;\r\n      vm.group.sending = true;\r\n      vm.group.order = 1;\r\n      vm.group.order += vm.groups.length;\r\n\r\n      api.groups.add(vm.group.name, vm.group.order, vm.group.parentId).error(function (res) {\r\n        return $rootScope.message(\"Error Creating Folder\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error Creating Folder\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          /* Reset Group Object */\r\n          vm.group.id = res.group.id;\r\n          vm.group.name = res.group.name;\r\n          vm.group.id_parent = res.group.id_parent;\r\n          vm.group.order = res.group.order;\r\n\r\n\r\n          $rootScope.$broadcast('event:updateModels');\r\n\r\n          //Toaster Notification\r\n          $rootScope.message('Folder Created');\r\n\r\n          //Add New Group to Groups object\r\n          vm.groups.unshift(vm.group);\r\n\r\n          vm.group.sending = false;\r\n\r\n          //Close Dialog Window\r\n          vm.closeDialog();\r\n        }\r\n      });\r\n\r\n      //Close Left Navigation\r\n      $mdSidenav('group-sidenav').toggle();\r\n    }\r\n\r\n    /* Save Group */\r\n    function saveGroup() {\r\n\r\n      var editPack;\r\n\r\n      editPack = {\r\n        'type': 'group',\r\n        'text': vm.group.name,\r\n        'order': vm.group.order,\r\n        'id': vm.group.id,\r\n        'rid': vm.group.rid\r\n      };\r\n\r\n      api.groups.edit(editPack).error(function (res) {\r\n        return $rootScope.message(\"Error Editing Folder\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error Editing Folder\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          //Toaster Notification\r\n          $rootScope.message('Folder Edited');\r\n\r\n          vm.group.sending = false;\r\n\r\n          //Close Dialog Window\r\n          vm.closeDialog();\r\n\r\n        }\r\n      });\r\n\r\n      //Close Left Navigation\r\n      $mdSidenav('group-sidenav').close();\r\n    }\r\n\r\n    /* Delete Group */\r\n    function deleteGroup(group, event) {\r\n      vm.group = group;\r\n\r\n      console.log('vm.group', vm.group);\r\n\r\n      var confirm = $mdDialog.confirm()\r\n        .title('Are you sure?')\r\n        .content('This Folder will be deleted.')\r\n        .ariaLabel('Delete Folder')\r\n        .ok('Delete')\r\n        .cancel('Cancel')\r\n        .targetEvent(event);\r\n\r\n      $mdDialog.show(confirm).then(function () {\r\n\r\n        api.groups.destroy(vm.group.id).error(function (res) {\r\n          return $rootScope.message(\"Error Deleteing Folder\", 'warning');\r\n        }).success(function (res) {\r\n          if (res === void 0 || res === null || res === '') {\r\n            $rootScope.message(\"Error Deleteing Folder\", 'warning');\r\n          } else if (res.code) {\r\n            $rootScope.message(res.message, 'warning');\r\n          } else {\r\n\r\n            /* Remove From Groups Object */\r\n            vm.groups.splice(vm.groups.indexOf(group), 1);\r\n\r\n            $rootScope.message('Folder Deleted', 'success');\r\n\r\n            vm.group.sending = false;\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n\r\n    vm.find = {\r\n      template: null,\r\n      searchCount: 0,\r\n      searching: false,\r\n      creating: false,\r\n      results: [],\r\n      begin: function (ev, parentID, type) {\r\n        vm.find.template = {\r\n          criteria: {\r\n            name: '',\r\n            organization: '',\r\n            author: '',\r\n            version: '',\r\n            type: type\r\n          },\r\n          parentID: parentID\r\n        };\r\n\r\n        vm.find.searching = false;\r\n        vm.find.creating = false;\r\n        vm.find.searchCount = 0;\r\n        vm.find.results = [];\r\n        vm.openAddGroupTemplateDialog(ev);\r\n        return null;\r\n\r\n      },\r\n      search: function () {\r\n        vm.find.searching = true;\r\n        if (vm.find.template.criteria.name === '' && vm.find.template.criteria.organization === '' && vm.find.template.criteria.author === '' && vm.find.template.criteria.version === '') {\r\n          $rootScope.message('Please provide Search Criteria', 'warning');\r\n          vm.find.searching = false;\r\n          console.log('died in search');\r\n          return false;\r\n        }\r\n\r\n        console.log('vm.find', vm.find.template);\r\n        return api.checklists.searchForTemplates(vm.find.template.criteria).error(function (res) {\r\n          return $rootScope.message('Unknown error finding Templates.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            res.display = \"Error finding Templates: (\" + res.code + \"): \" + res.message;\r\n            $rootScope.message(res.display, 'warning');\r\n          }\r\n          vm.find.results = res;\r\n          console.log('vm.find.results', vm.find.results);\r\n          return vm.find.searchCount++;\r\n        })[\"finally\"](function () {\r\n          return vm.find.searching = false;\r\n        });\r\n      },\r\n      create: function (idCTMPL) {\r\n        console.log('idCTMPL', idCTMPL);\r\n        console.log('vm.find.template.parentID', vm.find.template.parentID);\r\n        console.log('vm.find.template.criteria.type', vm.find.template.criteria.type);\r\n        vm.find.creating = true;\r\n        return api.checklists.createFromTemplate(idCTMPL, vm.find.template.parentID, vm.find.template.criteria.type).error(function (res) {\r\n          return $rootScope.message('Unknown error creating Checklist from selected Template.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            return $rootScope.message(\"Error creating Checklist from Template: (\" + res.code + \"): \" + res.message, 'warning');\r\n          } else {\r\n            if (vm.find.template.criteria.type === 'group') {\r\n              console.log('vm.find.template.criteria.type', vm.find.template.criteria.type);\r\n              console.log('res on push', res);\r\n              vm.groups.unshift(res.groups[0]);\r\n              console.log();\r\n            }\r\n            $rootScope.checklists = $rootScope.checklists.concat(res.checklists);\r\n\r\n            vm.closeDialog();\r\n            vm.toggleSidenav('group-sidenav');\r\n            $rootScope.message('Folder Template Applied', 'success');\r\n            $rootScope.organizeData();\r\n          }\r\n        })[\"finally\"](function () {\r\n          return vm.find.creating = false;\r\n        });\r\n      }\r\n    };\r\n\r\n\r\n    /* Side Navigation Methods */\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n    }\r\n\r\n    /* Filter Methods */\r\n    function toggleFilter(filter) {\r\n      vm.groupFilters[filter] = !vm.groupFilters[filter];\r\n    }\r\n\r\n    function toggleFilterWithEmpty(filter) {\r\n      if (vm.groupFilters[filter] === '') {\r\n        vm.groupFilters[filter] = true;\r\n      }\r\n      else {\r\n        vm.groupFilters[filter] = '';\r\n      }\r\n    }\r\n\r\n    function resetFilters() {\r\n      vm.showAllGroups = true;\r\n      vm.groupFilters = angular.copy(vm.groupFiltersDefaults);\r\n    }\r\n\r\n    console.log('vm GroupController', vm);\r\n\r\n  }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.file-manager', [])\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($stateProvider, $translatePartialLoaderProvider, msApiProvider, msNavigationServiceProvider)\r\n    {\r\n        // State\r\n        $stateProvider.state('app.file-manager', {\r\n            url      : '/file-manager',\r\n            views    : {\r\n                'content@app': {\r\n                    templateUrl: 'app/main/file-manager/file-manager.html',\r\n                    controller : 'FileManagerController as vm'\r\n                }\r\n            },\r\n            resolve  : {\r\n                Documents: function (msApi)\r\n                {\r\n                    return msApi.resolve('fileManager.documents@get');\r\n                }\r\n            },\r\n            bodyClass: 'file-manager'\r\n        });\r\n\r\n        // Translation\r\n        $translatePartialLoaderProvider.addPart('app/main/file-manager');\r\n\r\n        // Api\r\n        msApiProvider.register('fileManager.documents', ['app/data/file-manager/documents.json']);\r\n\r\n        // Navigation\r\n        msNavigationServiceProvider.saveItem('Checklists.file-manager', {\r\n            title : 'File Manager',\r\n            icon  : 'icon-folder',\r\n            state : 'app.file-manager',\r\n            weight: 6\r\n        });\r\n    }\r\n\r\n})();\n\t(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.file-manager')\r\n        .controller('FileManagerController', FileManagerController);\r\n\r\n    /** @ngInject */\r\n    function FileManagerController($mdSidenav, Documents)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.accounts = {\r\n            'creapond'    : 'johndoe@creapond.com',\r\n            'withinpixels': 'johndoe@withinpixels.com'\r\n        };\r\n        vm.selectedAccount = 'creapond';\r\n        vm.currentView = 'list';\r\n        vm.showDetails = true;\r\n\r\n        vm.path = Documents.data.path;\r\n        vm.folders = Documents.data.folders;\r\n        vm.files = Documents.data.files;\r\n        vm.selected = vm.files[0];\r\n\r\n        vm.ngFlowOptions = {\r\n            // You can configure the ngFlow from here\r\n            /*target                   : 'api/media/image',\r\n             chunkSize                : 15 * 1024 * 1024,\r\n             maxChunkRetries          : 1,\r\n             simultaneousUploads      : 1,\r\n             testChunks               : false,\r\n             progressCallbacksInterval: 1000*/\r\n        };\r\n        \r\n        \t\r\n        vm.ngFlow = {\r\n            // ng-flow will be injected into here through its directive\r\n            flow: {}\r\n        };\r\n\r\n        // Methods\r\n        vm.fileAdded = fileAdded;\r\n        vm.upload = upload;\r\n        vm.fileSuccess = fileSuccess;\r\n\r\n        vm.select = select;\r\n        vm.toggleDetails = toggleDetails;\r\n        vm.toggleSidenav = toggleSidenav;\r\n        vm.toggleView = toggleView;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * File added callback\r\n         * Triggers when files added to the uploader\r\n         *\r\n         * @param file\r\n         */\r\n        function fileAdded(file)\r\n        {\r\n            // Prepare the temp file data for file list\r\n            var uploadingFile = {\r\n                id       : file.uniqueIdentifier,\r\n                file     : file,\r\n                type     : '',\r\n                owner    : 'Emily Bennett',\r\n                size     : '',\r\n                modified : moment().format('MMMM D, YYYY'),\r\n                opened   : '',\r\n                created  : moment().format('MMMM D, YYYY'),\r\n                extention: '',\r\n                location : 'My Files > Documents',\r\n                offline  : false,\r\n                preview  : 'assets/images/etc/sample-file-preview.jpg'\r\n            };\r\n\r\n            // Append it to the file list\r\n            vm.files.push(uploadingFile);\r\n        }\r\n\r\n        /**\r\n         * Upload\r\n         * Automatically triggers when files added to the uploader\r\n         */\r\n        function upload()\r\n        {\r\n            // Set headers\r\n            vm.ngFlow.flow.opts.headers = {\r\n                'X-Requested-With': 'XMLHttpRequest',\r\n                //'X-XSRF-TOKEN'    : $cookies.get('XSRF-TOKEN')\r\n            };\r\n\r\n            vm.ngFlow.flow.upload();\r\n        }\r\n\r\n        /**\r\n         * File upload success callback\r\n         * Triggers when single upload completed\r\n         *\r\n         * @param file\r\n         * @param message\r\n         */\r\n        function fileSuccess(file, message)\r\n        {\r\n            // Iterate through the file list, find the one we\r\n            // are added as a temp and replace its data\r\n            // Normally you would parse the message and extract\r\n            // the uploaded file data from it\r\n            angular.forEach(vm.files, function (item, index)\r\n            {\r\n                if ( item.id && item.id === file.uniqueIdentifier )\r\n                {\r\n                    // Normally you would update the file from\r\n                    // database but we are cheating here!\r\n\r\n                    // Update the file info\r\n                    item.name = file.file.name;\r\n                    item.type = 'document';\r\n\r\n                    // Figure out & upddate the size\r\n                    if ( file.file.size < 1024 )\r\n                    {\r\n                        item.size = parseFloat(file.file.size).toFixed(2) + ' B';\r\n                    }\r\n                    else if ( file.file.size >= 1024 && file.file.size < 1048576 )\r\n                    {\r\n                        item.size = parseFloat(file.file.size / 1024).toFixed(2) + ' Kb';\r\n                    }\r\n                    else if ( file.file.size >= 1048576 && file.file.size < 1073741824 )\r\n                    {\r\n                        item.size = parseFloat(file.file.size / (1024 * 1024)).toFixed(2) + ' Mb';\r\n                    }\r\n                    else\r\n                    {\r\n\t\t\t\t\t\titem.size = parseFloat(file.file.size / (1024 * 1024 * 1024)).toFixed(2) + ' Gb';\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Select an item\r\n         *\r\n         * @param item\r\n         */\r\n        function select(item)\r\n        {\r\n            vm.selected = item;\r\n        }\r\n\r\n        /**\r\n         * Toggle details\r\n         *\r\n         * @param item\r\n         */\r\n        function toggleDetails(item)\r\n        {\r\n            vm.selected = item;\r\n            toggleSidenav('details-sidenav');\r\n        }\r\n\r\n        /**\r\n         * Toggle sidenav\r\n         *\r\n         * @param sidenavId\r\n         */\r\n        function toggleSidenav(sidenavId)\r\n        {\r\n            $mdSidenav(sidenavId).toggle();\r\n        }\r\n\r\n        /**\r\n         * Toggle view\r\n         */\r\n        function toggleView()\r\n        {\r\n            vm.currentView = vm.currentView === 'list' ? 'grid' : 'list';\r\n        }\r\n    }\r\n})();\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.folders', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, msApiProvider, msNavigationServiceProvider, $translatePartialLoaderProvider) {\r\n\r\n    // State\r\n    $stateProvider.state('app.folders', {\r\n      url: '/folders',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/folders/folders.html',\r\n          controller: 'FoldersController as vm'\r\n        }\r\n      }\r\n    });\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/folders');\r\n\r\n    // Navigation\r\n    msNavigationServiceProvider.saveItem('checklists.folders', {\r\n      title: 'My Projects',\r\n      icon: 'icon-folder-multiple',\r\n      state: 'app.folders',\r\n      weight: 2\r\n    });\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.folders')\r\n    .controller('FoldersController', FoldersController);\r\n\r\n  /** @ngInject */\r\n  function FoldersController($rootScope, api, $stateParams, $location, $mdDialog, $mdSidenav, $document, $http, $scope) {\r\n    var vm = this;\r\n\r\n    if ($stateParams.id !== undefined && $stateParams.id != null) {\r\n      if ($stateParams.id == '') {\r\n        $location.path('/folders');\r\n      } else {\r\n        vm.groups = [];\r\n        api.groups.get($stateParams.id).then(function (d) {\r\n          vm.groups = d.data.groups;\r\n        });\r\n      }\r\n\r\n    } else {\r\n      vm.folders = [];\r\n      api.folders.get().then(function (d) {\r\n        vm.folders = d.data.folders;\r\n      });\r\n    }\r\n\r\n\r\n    // Tasks will be filtered against these models\r\n    vm.folderFilters = {\r\n      search: '',\r\n      deleted: false\r\n    };\r\n\r\n    /* Controller Scope */\r\n    vm.folderFiltersDefaults = angular.copy(vm.folderFilters);\r\n    vm.showAllFolders = true;\r\n    vm.folderOrder = '';\r\n    vm.folderOrderDescending = false;\r\n    vm.openFolderDialog = openFolderDialog;\r\n    vm.deleteFolder = deleteFolder;\r\n    vm.toggleSidenav = toggleSidenav;\r\n    vm.toggleFilter = toggleFilter;\r\n    vm.resetFilters = resetFilters;\r\n    vm.toggleFilterWithEmpty = toggleFilterWithEmpty;\r\n    vm.addNewFolder = addNewFolder;\r\n    vm.saveFolder = saveFolder;\r\n    vm.closeDialog = closeDialog;\r\n    vm.sendLinkRequest = sendLinkRequest;\r\n\r\n\r\n    vm.publish = {\r\n      id: null,\r\n      name: null,\r\n      pvt: false,\r\n      submitting: false,\r\n      gatherInfo: function (id, name) {\r\n        vm.publish.id = id;\r\n        vm.publish.name = name;\r\n        $(\"#publishTemplate\").modal('show');\r\n        return true;\r\n      },\r\n      togglePrivate: function () {\r\n        this.pvt = !this.pvt;\r\n        return true;\r\n      },\r\n      publish: function () {\r\n        var ref, ref1;\r\n        if (((ref = $scope.publish.id) != null ? ref.length : void 0) && ((ref1 = $scope.publish.name) != null ? ref1.length : void 0)) {\r\n          $scope.publish.submitting = true;\r\n          return ChecklistService.publish($scope.publish.id, $scope.publish.name, 'group', $scope.publish.pvt).error(function (res) {\r\n            return $rootScope.message('Unknown error publishing Group Template.', 'warning');\r\n          }).success(function (res) {\r\n            if (res.code) {\r\n              return $rootScope.message(\"Error publishing Group Template. (\" + res.code + \": \" + res.message + \")\", 'warning');\r\n            } else {\r\n              $rootScope.message(\"Group Template published successfully.\");\r\n              return $(\"#publishTemplate\").modal('hide');\r\n            }\r\n          })[\"finally\"](function () {\r\n            $scope.publish.submitting = false;\r\n            $scope.publish.id = null;\r\n            return $scope.publish.name = null;\r\n          });\r\n        } else {\r\n          return $rootScope.message('You must specify the Group Template Name.', 'warning');\r\n        }\r\n      }\r\n    };\r\n\r\n    $scope.find = {\r\n      template: null,\r\n      searchCount: 0,\r\n      searching: false,\r\n      creating: false,\r\n      results: [],\r\n      begin: function (parentID, type) {\r\n        $scope.find.template = {\r\n          criteria: {\r\n            name: '',\r\n            organization: '',\r\n            author: '',\r\n            version: '',\r\n            type: type\r\n          },\r\n          parentID: parentID\r\n        };\r\n        $scope.find.searching = false;\r\n        $scope.find.creating = false;\r\n        $scope.find.searchCount = 0;\r\n        $scope.find.results = [];\r\n        $(\"#findTemplate\").modal('show');\r\n        return null;\r\n      },\r\n      search: function () {\r\n        $scope.find.searching = true;\r\n        if ($scope.find.template.criteria.name === '' && $scope.find.template.criteria.organization === '' && $scope.find.template.criteria.author === '' && $scope.find.template.criteria.version === '') {\r\n          $rootScope.message('Please provide Search Criteria', 'warning');\r\n          $scope.find.searching = false;\r\n          return false;\r\n        }\r\n        return ChecklistService.searchForTemplates($scope.find.template.criteria).error(function (res) {\r\n          return $rootScope.message('Unknown error finding Templates.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            res.display = \"Error finding Templates: (\" + res.code + \"): \" + res.message;\r\n          }\r\n          $scope.find.results.push(res);\r\n          return $scope.find.searchCount++;\r\n        })[\"finally\"](function () {\r\n          return $scope.find.searching = false;\r\n        });\r\n      },\r\n      create: function (idCTMPL) {\r\n        $scope.find.creating = true;\r\n        return ChecklistService.createFromTemplate(idCTMPL, $scope.find.template.parentID, $scope.find.template.criteria.type).error(function (res) {\r\n          return $rootScope.message('Unknown error creating Checklist from selected Template.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            return $rootScope.message(\"Error creating Checklist from Template: (\" + res.code + \"): \" + res.message, 'warning');\r\n          } else {\r\n            if ($scope.find.template.criteria.type === 'group') {\r\n              $rootScope.groups.push(res.groups[0]);\r\n            }\r\n            $rootScope.checklists = $rootScope.checklists.concat(res.checklists);\r\n            return $rootScope.organizeData();\r\n          }\r\n        })[\"finally\"](function () {\r\n          return $scope.find.creating = false;\r\n        });\r\n      }\r\n    };\r\n\r\n\r\n    /* Dialog Methods */\r\n    function openFolderDialog(ev, folder) {\r\n\r\n      vm.folder = folder;\r\n      vm.title = 'Edit Project Name';\r\n      vm.newFolder = false;\r\n\r\n      if (!vm.folder) {\r\n        vm.folder = {\r\n          'id': '',\r\n          'name': '',\r\n          'description': '',\r\n          'order': '',\r\n          'deleted': false\r\n        };\r\n        vm.title = 'Create New Project';\r\n        vm.newFolder = true;\r\n      }\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/folders/dialogs/folder/folder-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n    function sendLinkRequest(ev, group) {\r\n      $mdDialog.show({\r\n        controller: 'FolderSendLinkRequestDialogController',\r\n        controllerAs: 'vm',\r\n        templateUrl: 'app/main/folders/dialogs/folder/folder-send-link-request-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n        locals: {\r\n          group: group\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n    function closeDialog() {\r\n      $mdDialog.hide();\r\n    }\r\n\r\n    /* Add New Folder */\r\n    function addNewFolder() {\r\n\r\n      vm.folder.sending = true;\r\n      vm.folder.order = 1;\r\n      vm.folder.order += vm.folders.length;\r\n      \r\n\r\n      api.folders.add(vm.folder.name, vm.folder.description, vm.folder.order).error(function (res) {\r\n        return $rootScope.message(\"Error Creating Project\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error Creating Project\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          /* Reset Folder Object */\r\n          vm.folder.id = res.folder.id;\r\n          vm.folder.name = res.folder.name;\r\n          vm.folder.description = res.folder.description;\r\n          vm.folder.order = res.folder.order;\r\n          vm.folder.id_parent = res.folder.id_parent;\r\n\r\n          //Toaster Notification\r\n          $rootScope.message('Project Created');\r\n\r\n          //Add New Folder to Folders object\r\n          vm.folders.unshift(vm.folder);\r\n\r\n          vm.folder.sending = false;\r\n\r\n          //Close Dialog Window\r\n          vm.closeDialog();\r\n        }\r\n      });\r\n      //Close Left Navigation\r\n      $mdSidenav('folder-sidenav').close();\r\n    }\r\n\r\n    /* Save Folder */\r\n    function saveFolder() {\r\n\r\n      var editPack;\r\n\r\n      editPack = {\r\n        'type': 'folder',\r\n        'text': vm.folder.name,\r\n        'description': vm.folder.description,\r\n        'order': vm.folder.order,\r\n        'id': vm.folder.id,\r\n        'rid': vm.folder.rid\r\n      };\r\n\r\n      api.folders.edit(editPack).error(function (res) {\r\n        return $rootScope.message(\"Error Editing Project\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error Editing Project\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          //Toaster Notification\r\n          $rootScope.message('Project Name Edited');\r\n\r\n          vm.folder.sending = false;\r\n\r\n          //Close Dialog Window\r\n          vm.closeDialog();\r\n        }\r\n      });\r\n      //Close Left Navigation\r\n      $mdSidenav('folder-sidenav').close();\r\n    }\r\n\r\n    /* Delete Folder */\r\n    function deleteFolder(folder, event) {\r\n      vm.folder = folder;\r\n\r\n      var confirm = $mdDialog.confirm()\r\n        .title('Are you sure?')\r\n        .content('The Project will be deleted.')\r\n        .ariaLabel('Delete Project')\r\n        .ok('Delete')\r\n        .cancel('Cancel')\r\n        .targetEvent(event);\r\n\r\n      $mdDialog.show(confirm).then(function () {\r\n        api.folders.destroy(vm.folder.id).error(function (res) {\r\n          return $rootScope.message(\"Error Deleteing Project\", 'warning');\r\n        }).success(function (res) {\r\n          if (res === void 0 || res === null || res === '') {\r\n            return $rootScope.message(\"Error Deleteing Project\", 'warning');\r\n          } else if (res.code) {\r\n            return $rootScope.message(res.message, 'warning');\r\n          } else {\r\n\r\n            /* Remove From Folders Object */\r\n            vm.folders.splice(vm.folders.indexOf(folder), 1);\r\n\r\n            $rootScope.message('Project Deleted');\r\n\r\n            vm.folder.sending = false;\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n    /* Side Navigation Methods */\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n    }\r\n\r\n    /* Filter Methods */\r\n    function toggleFilter(filter) {\r\n      vm.folderFilters[filter] = !vm.folderFilters[filter];\r\n    }\r\n\r\n    function toggleFilterWithEmpty(filter) {\r\n      if (vm.folderFilters[filter] === '') {\r\n        vm.folderFilters[filter] = true;\r\n      }\r\n      else {\r\n        vm.folderFilters[filter] = '';\r\n      }\r\n    }\r\n\r\n    function resetFilters() {\r\n      vm.showAllFolders = true;\r\n      vm.folderFilters = angular.copy(vm.folderFiltersDefaults);\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.dashboard', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, msApiProvider, msNavigationServiceProvider, $translatePartialLoaderProvider) {\r\n\r\n    // State\r\n    $stateProvider.state('app.dashboard', {\r\n      url: '/dashboard',\r\n      views: {\r\n        'content@app': {\r\n          //templateUrl: 'app/main/dashboard/dashboard.html',\r\n          controller: 'DashboardController as vm'\r\n        }\r\n      }\r\n    });\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/dashboard');\r\n\r\n    // Navagation\r\n    msNavigationServiceProvider.saveItem('reports.dashboard', {\r\n      title: 'Dashboard',\r\n      icon: 'icon-poll-box',\r\n      state: 'app.dashboard',\r\n      weight: 2\r\n    });\r\n\r\n  }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.dashboard')\r\n        .controller('DashboardController', DashboardController);\r\n\r\n    /** @ngInject */\r\n    function DashboardController($rootScope, $stateParams, $location, $mdDialog, $mdSidenav, $document, $http, $scope)\r\n    {\r\n        var vm = this;\r\n\r\n      vm.url = 'https://checklinked.com/ajax/dashboard-login.php';\r\n\r\n      window.open(vm.url);\r\n    }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.create', [])\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($stateProvider, $translatePartialLoaderProvider, msNavigationServiceProvider)\r\n    {\r\n        // State\r\n        $stateProvider.state('app.create', {\r\n            url      : '/create',\r\n            views    : {\r\n                'main@'                       : {\r\n                    templateUrl: 'app/core/layouts/content-only.html',\r\n                    controller : 'MainController as vm'\r\n                },\r\n                'content@app.create': {\r\n                    templateUrl: 'app/main/create/create.html',\r\n                    controller : 'CreateController as vm'\r\n                }\r\n            },\r\n            bodyClass: 'create'\r\n        });\r\n        \r\n        // Translation\r\n        $translatePartialLoaderProvider.addPart('app/main/create');\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.create')\r\n        .controller('CreateController', CreateController);\r\n\r\n    /** @ngInject */\r\n    function CreateController($rootScope, $http, $state, api, $location)\r\n    {\r\n\t\tvar vm = this;\r\n\r\n        // Methods\r\n\t\tvm.sendInfo = sendInfo;\r\n    \r\n\t\tvm.create = {\r\n\t\t  sending: false,\r\n\t\t  success: false\r\n\t\t};\r\n    \t\r\n\t    vm.create.reg = {\r\n\t      email: '',\r\n\t      phone: '',\r\n\t      notifications: 1,\r\n\t      baseURL: 'http://checklinked.com',\r\n\t      password: '',\r\n\t      password2: '',\r\n\t      name: {\r\n\t        first: '',\r\n\t        middle: '',\r\n\t        last: ''\r\n\t      }\r\n\t    };\r\n    \r\n\t    function sendInfo() {\r\n\t      vm.create.sending = true;\r\n\t      return api.create.register(vm.create.reg).success(function(res) {\r\n\t        if (+res.code) {\r\n\t          return $rootScope.message(res.message, 'warning');\r\n\t        } else {\r\n\t          \t\t\t\tvm.create = {\r\n\t\t  \t\t\t\t\tsuccess: true\r\n\t\t\t\t\t\t\t};\r\n    \r\n\t        }\r\n\t      })[\"finally\"](function() {\r\n\t        return vm.create.sending = false;\r\n\t      });\r\n\t    };\r\n    \r\n\r\n    }\r\n})();\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.contacts')\r\n    .controller('ContactsController', ContactsController);\r\n\r\n  /** @ngInject */\r\n  function ContactsController($rootScope, $state, $stateParams, $scope, $mdSidenav, msUtils, $mdDialog, $document, api, $http, $filter) {\r\n    var vm = this;\r\n\r\n\r\n    vm.contacts = [];\r\n    vm.LinkList=[];\r\n    \r\n    api.contacts.get().then(function (d) {\r\n      debugger;\r\n      vm.contacts = d.data.friendships;\r\n      var me = $rootScope.user.idCON;\r\n      vm.LinkList = $filter('filter')(vm.contacts, function (invite) {\r\n        return (invite.contacts.originator.id !== me && invite.accepted == '');\r\n      });\r\n       console.log(\"MUser\",$rootScope.user);\r\n      if($stateParams.passID){\r\n        vm.filterChange('invitations');\r\n      }\r\n      console.log('vm.contacts', vm.contacts);\r\n    });\r\n\r\n    vm.user = $rootScope.user;\r\n\r\n    vm.contacts.shift = showWhichInviteContactData(vm.contacts);\r\n\r\n    vm.filterIds = null;\r\n    vm.listType = 'all';\r\n    vm.listOrder = 'name';\r\n    vm.listOrderAsc = false;\r\n    vm.selectedContacts = [];\r\n    vm.newGroupName = '';\r\n    vm.showIDs = [];\r\n\r\n    vm.filterChange = filterChange;\r\n    vm.openContactDialog = openContactDialog;\r\n    vm.openAddContactDialog = openAddContactDialog;\r\n    vm.deleteContactConfirm = deleteContactConfirm;\r\n    vm.toggleSidenav = toggleSidenav;\r\n    vm.setBlank = setBlank;\r\n    vm.updateFriends = updateFriends;\r\n    vm.friendshipStatus = friendshipStatus;\r\n    vm.invitationStatus = invitationStatus;\r\n    vm.deleteConnection = deleteConnection;\r\n    vm.find = find;\r\n    vm.queryContacts = queryContacts;\r\n    vm.acceptConnectionInvitation = acceptConnectionInvitation;\r\n    vm.inviteToConnect = inviteToConnect;\r\n    vm.removeConnectionInvitation = removeConnectionInvitation;\r\n    vm.showWhichInviteContactData = showWhichInviteContactData;\r\n    vm.openDirectMessageDialog = openDirectMessageDialog;\r\n    vm.openConversationDialog = openConversationDialog;\r\n    vm.closeDialog = closeDialog;\r\n\r\n    vm.passID = $stateParams.passID;\r\n\r\n    //console.log('vm.passID', vm.passID);\r\n\r\n    function filterChange(type) {\r\n      debugger;\r\n      vm.listType = type;\r\n\r\n      var me = $rootScope.user.idCON;\r\n\r\n      if (type === 'all') {\r\n        vm.filterIds = null;\r\n        console.log('vm.listType.name', vm.listType.name);\r\n      }\r\n      else if (type === 'invitations') {\r\n        var out = [];\r\n        vm.filterIds = [];\r\n        out = $filter('filter')(vm.contacts, function (invite) {\r\n          return (invite.contacts.originator.id !== me && invite.accepted == '');\r\n        });\r\n        out.forEach(function (invite) {\r\n          vm.filterIds.push(invite.id);\r\n        });\r\n      }\r\n      else if (type === 'requests') {\r\n        var out = [];\r\n        vm.filterIds = [];\r\n        out = $filter('filter')(vm.contacts, function (invite) {\r\n          return (invite.contacts.originator.id == me && invite.accepted == '');\r\n        });\r\n        out.forEach(function (invite) {\r\n          vm.filterIds.push(invite.id);\r\n        });\r\n        console.log('filterIds (requests)', vm.filterIds);\r\n      }\r\n      else if (angular.isObject(type)) {\r\n        vm.filterIds = type.contactIds;\r\n      }\r\n      vm.selectedContacts = [];\r\n    }\r\n\r\n\r\n    function setBlank() {\r\n      vm.contacts = [];\r\n      vm.loading = {\r\n        friends: false,\r\n        invites: false\r\n      };\r\n      return vm.loaded = {\r\n        friends: false,\r\n        invites: false\r\n      };\r\n    };\r\n    vm.setBlank();\r\n\r\n    function updateFriends() {\r\n      vm.loading.friends = true;\r\n      return api.contacts.get().success(function (res) {\r\n        if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          vm.contacts = res.friendships;\r\n          return vm.loaded.friends = true;\r\n        }\r\n      })[\"finally\"](function () {\r\n        return vm.loading.friends = false;\r\n      });\r\n    };\r\n    $scope.$on('event:friendshipInviteCountUpdated', function () {\r\n      return vm.updateFriends();\r\n    });\r\n    $scope.$on('event:userSelected', function () {\r\n      return vm.setBlank();\r\n    });\r\n    $scope.$on('event:userLoaded', function () {\r\n      console.log('event:userLoaded was triigered');\r\n      if (!vm.loading.friends && !vm.loaded.friends) {\r\n        return vm.updateFriends();\r\n      }\r\n    });\r\n    if (!vm.loading.friends && !vm.loaded.friends) {\r\n      vm.updateFriends();\r\n    }\r\n    function friendshipStatus(idCON) {\r\n      var friend, i, key, len, ref;\r\n      ref = vm.contacts;\r\n      for (key = i = 0, len = ref.length; i < len; key = ++i) {\r\n        friend = ref[key];\r\n        if (friend.accepted === '') {\r\n          if (friend.contacts.accepter.id === idCON) {\r\n            return 'Sent';\r\n          } else if (friend.contacts.originator.id === idCON) {\r\n            return 'Received';\r\n          }\r\n        } else {\r\n          if (friend.contacts.accepter.id === idCON) {\r\n            return 'Friend';\r\n          } else if (friend.contacts.originator.id === idCON) {\r\n            return 'Friend';\r\n          }\r\n        }\r\n      }\r\n      return 'Strangers';\r\n    };\r\n    function invitationStatus(idCON, invite) {\r\n      if (invite == null) {\r\n        invite = null;\r\n      }\r\n      if (invite.accepted !== '') {\r\n        return 'Friend';\r\n      }\r\n      if (invite.contacts.accepter.id === idCON) {\r\n        return 'Received';\r\n      }\r\n      if (invite.contacts.originator.id === idCON) {\r\n        return 'Sent';\r\n      } else {\r\n        return 'Strangers';\r\n      }\r\n    };\r\n    function deleteConnection(idCON) {\r\n      if (confirm('Are you sure you wish to delete this connection?')) {\r\n        return vm.removeConnectionInvitation(idCON);\r\n      }\r\n    };\r\n    function find(ev) {\r\n      vm.findContacts = {\r\n        criteria: {\r\n          queryString: ''\r\n        },\r\n        searchCount: 0,\r\n        searching: false,\r\n        results: []\r\n      };\r\n      vm.openAddContactDialog(ev);\r\n      return null;\r\n    };\r\n    function queryContacts() {\r\n      console.log('queryContacts', vm.findContacts.criteria.queryString);\r\n      if (vm.findContacts.criteria.queryString === '') {\r\n        return $rootScope.message('Please provide Search criteria.', 'warning');\r\n      } else {\r\n        vm.findContacts.searching = true;\r\n        return api.contacts.find(vm.findContacts.criteria.queryString).success(function (res) {\r\n          if (res.code) {\r\n            return $rootScope.message(res.message, 'warning');\r\n          } else {\r\n            vm.findContacts.results = res.contacts;\r\n            return vm.findContacts.searchCount += 1;\r\n          }\r\n        })[\"finally\"](function () {\r\n          return vm.findContacts.searching = false;\r\n        });\r\n      }\r\n    };\r\n    function acceptConnectionInvitation(idCON, index) {\r\n      debugger;\r\n      if(vm.LinkList.length>0){\r\n        for(var i=0;i<vm.LinkList.length;i++){\r\n          if(vm.LinkList[i].contacts.originator.id==idCON){\r\n          vm.LinkList.splice(i,1);\r\n          console.log(vm.LinkList);\r\n          break;\r\n          }\r\n          }\r\n      }\r\n\r\n\r\n      var friendship;\r\n\r\n      friendship = vm.contacts[index];\r\n\r\n      console.log('friendship', friendship);\r\n\r\n      return api.contacts.invite.accept(idCON).success(function (res) {\r\n        if (!res.code) {\r\n\r\n          vm.contacts.remove(friendship);\r\n          $state.go($state.current, {}, {reload: true});\r\n          //console.log('res.friendships[0]', res.friendships[0]);\r\n\r\n          return vm.contacts.unshift(res.friendships[0]);\r\n        }\r\n      });\r\n    };\r\n    function inviteToConnect(idCON) {\r\n      return api.contacts.invite.send(idCON).success(function (res) {\r\n        if (!res.code) {\r\n          return vm.contacts.unshift(res.friendships[0]);\r\n        }\r\n      });\r\n    };\r\n    function removeConnectionInvitation(idCON) {\r\n      return api.contacts.invite.remove(idCON).success(function () {\r\n        var i, invite, invites, len, results;\r\n        invites = $filter('filter')(vm.contacts, {\r\n          contacts: {\r\n            accepter: {\r\n              id: idCON\r\n            }\r\n          }\r\n        }, true);\r\n        invites = invites.concat($filter('filter')(vm.contacts, {\r\n          contacts: {\r\n            originator: {\r\n              id: idCON\r\n            }\r\n          }\r\n        }, true));\r\n        console.log('invites from filter', invites);\r\n        results = [];\r\n        for (i = 0, len = invites.length; i < len; i++) {\r\n          invite = invites[i];\r\n          results.push(vm.contacts.splice(vm.contacts.indexOf($filter('filter')(vm.contacts, {id: invite.id}, true)[0]), 1));\r\n          console.log('removed invites[i]', invites, vm.contacts);\r\n        }  $state.go($state.current, {}, {reload: true});\r\n        console.log('vm.contact removed', vm.contacts, results);\r\n\r\n        return results;\r\n      });\r\n    };\r\n    function showWhichInviteContactData(friend) {\r\n      \r\n      var ref, ref1, ref2;\r\n      if (((ref = $rootScope.user) != null ? ref.idCON : void 0) === (friend != null ? (ref1 = friend.contacts) != null ? (ref2 = ref1.accepter) != null ? ref2.id : void 0 : void 0 : void 0)) {\r\n        return 'originator';\r\n      }\r\n      return 'accepter';\r\n    };\r\ndebugger;\r\n    function openContactDialog(ev, contact) {\r\n\r\n      vm.contact = angular.copy(contact);\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/contacts/dialogs/contact/contact-dialog.html',\r\n        parent: angular.element($document.find('#contacts')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n    function openAddContactDialog(ev) {\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/contacts/dialogs/contact/add-contact-dialog.html',\r\n        parent: angular.element($document.find('#contacts')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n    function deleteContactConfirm(ev, contact, idCON) {\r\n      console.log(contact);\r\n      var confirm = $mdDialog.confirm()\r\n        .title('Are you sure want to delete the contact?')\r\n        .htmlContent('<b>' + contact.name.full + '</b>' + ' will be deleted.')\r\n        .ariaLabel('delete contact')\r\n        .targetEvent(ev)\r\n        .ok('OK')\r\n        .cancel('CANCEL');\r\n\r\n      $mdDialog.show(confirm).then(function () {\r\n        vm.removeConnectionInvitation(idCON);\r\n      });\r\n\r\n    }\r\n\r\n\r\n    /*\r\n     function openDirectMessageDialog(contact, ev)\t{\r\n\r\n     var which;\r\n\r\n     which = vm.showWhichInviteContactData(contact)\r\n\r\n     console.log('contact.contacts[which].name.full', contact.contacts[which].name.full);\r\n\r\n     $mdDialog.show({\r\n     scope\t\t\t   : $scope,\r\n     preserveScope\t   : true,\r\n     templateUrl        : 'app/main/contacts/dialogs/contact/direct-message-dialog.html',\r\n     parent             : angular.element($document.find('#content-container')),\r\n     targetEvent        : ev,\r\n     clickOutsideToClose: true,\r\n     locals             : {\r\n     contactId : contact.id,\r\n     contactName : contact.contacts[which].name.full\r\n     }\r\n     });\r\n     }\r\n\r\n     */\r\n    \r\n    function openDirectMessageDialog(contact, ev) {\r\n\r\n      vm.contact = contact;\r\n\r\n      vm.which = vm.showWhichInviteContactData(contact);\r\n\r\n      console.log('vm.which', vm.which);console.log('vm.which', vm.which);\r\n\r\n      $mdDialog.show({\r\n        controller: 'DirectMessageDialogController',\r\n        controllerAs: 'vm',\r\n        templateUrl: 'app/main/contacts/dialogs/contact/direct-message-dialog.html',\r\n        parent: angular.element($document.find('#contacts')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n        locals: {\r\n          contact: vm.contact,\r\n          which: vm.which\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n\r\n    function openConversationDialog(ev, producerType, id, name) {\r\n\r\n      console.log('id', id);\r\n      console.log('name', name);\r\n      console.log('producerType', producerType);\r\n\r\n      $mdDialog.show({\r\n        controller: 'ChecklistConversationDialogController',\r\n        controllerAs: 'vm',\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-conversation-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n        locals: {\r\n          convoId: id,\r\n          convoName: name,\r\n          producerType: producerType\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n    if (vm.passID) {\r\n      vm.filterChange('invitations');\r\n\r\n    }\r\n\r\n\r\n    function closeDialog() {\r\n      $mdDialog.hide();\r\n    }\r\n\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n    }\r\n\r\n  }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.confirm', [])\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($stateProvider, $translatePartialLoaderProvider, msNavigationServiceProvider)\r\n    {\r\n        // State\r\n        $stateProvider.state('app.confirm', {\r\n            url      : '/confirm/:id',\r\n            views    : {\r\n                'main@'                       : {\r\n                    templateUrl: 'app/core/layouts/content-only.html',\r\n                    controller : 'MainController as vm'\r\n                },\r\n                'content@app.confirm': {\r\n                    templateUrl: 'app/main/confirm/confirm.html',\r\n                    controller : 'ConfirmController as vm'\r\n                }\r\n            },\r\n            bodyClass: 'confirm'\r\n        })\r\n        // Translation\r\n        $translatePartialLoaderProvider.addPart('app/main/confirm');\r\n    }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.confirm')\r\n        .controller('ConfirmController', ConfirmController);\r\n\r\n    /** @ngInject */\r\n    function ConfirmController($rootScope, $scope, $http, $state, api, $location, $stateParams) {\r\n\r\n\tvar vm = this;\r\n\r\n\tconsole.log('params', $stateParams);\r\n    if ($stateParams.id === '') {\r\n      vm.sending = false;\r\n      vm.confirmed = false;\r\n      $rootScope.message(\"No confirmation key provided.  Please use the full confirmation link in your confirmation email\", 'warning');\r\n      return vm.message = 'No confirmation key provided.  Please use the full confirmation link in your confirmation email.';\r\n    } else {\r\n      vm.message = 'Confirming...';\r\n      vm.sending = true;\r\n\r\n      return api.confirm.validate($stateParams.id).error(function(res) {\r\n      $rootScope.message('Unknown error conforming New User Account.', 'warning');\r\n        }).success(function(res) {\r\n        \tconsole.log('res', res);\r\n          if (res.code) {\r\n\r\n            if(res.code === 0 || res.code == 0)\r\n            {\r\n              $rootScope.message(res.message, 'success');\r\n              return vm.message = res.message;\r\n            } else {\r\n              $rootScope.message(\"Error creating New User Account: \" + res.message, 'warning');\r\n              return vm.message = res.message;\r\n            }\r\n\r\n          } else {\r\n\r\n        vm.message = res.message;\r\n\r\n          }\r\n        })[\"finally\"](function() {\r\n           return vm.sending = false;\r\n        });\r\n\r\n\r\n\r\n    }\r\n\r\n    }\r\n})();\r\n\nvar indexOf = [].indexOf || function (item) {\r\n    for (var i = 0, l = this.length; i < l; i++) {\r\n      if (i in this && this[i] === item) return i;\r\n    }\r\n    return -1;\r\n  };\r\n\r\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.checklist')\r\n    .controller('checklistController', checklistController);\r\n\r\n  /** @ngInject */\r\n  function checklistController($rootScope, $scope, api,$state, $stateParams, $location, $mdDialog, $mdSidenav, $document, $http, $filter, $window) {\r\n    var vm = this;\r\n    var ref;\r\n\r\n\r\n    vm.setChecklistCtrlBlank = setChecklistCtrlBlank;\r\n    vm.preventDefault = preventDefault;\r\n    vm.deleteConfirm = deleteConfirm;\r\n    vm.deleteItem = deleteItem;\r\n    vm.toggleSidenav = toggleSidenav;\r\n    vm.toggleFilter = toggleFilter;\r\n    vm.resetFilters = resetFilters;\r\n    vm.toggleFilterWithEmpty = toggleFilterWithEmpty;\r\n    vm.completeLoad = completeLoad;\r\n    vm.organizeData = organizeData;\r\n    vm.children = children;\r\n    vm.joinFeeds = joinFeeds;\r\n    vm.toggleComplete = toggleComplete;\r\n    vm.isForm = isForm;\r\n    vm.add = add;\r\n    vm.toggleCheckbox = toggleCheckbox;\r\n    vm.showWhichInviteContactData = showWhichInviteContactData;\r\n    vm.CFC = CFC;\r\n    vm.next = next;\r\n    vm.previous = previous;\r\n    vm.group = group;\r\n    vm.checkIfLinked = checkIfLinked;\r\n    vm.loadChecklist = loadChecklist;\r\n    vm.setSocketStuff = setSocketStuff;\r\n\r\n    vm.showLinkedUsers = showLinkedUsers;\r\n    vm.sendLinkRequest = sendLinkRequest;\r\n    vm.publishTemplate = publishTemplate;\r\n    vm.createSegment = createSegment;\r\n    vm.svc = svc;\r\n    vm.fetchGroups = fetchGroups;\r\n    vm.closeDialog = closeDialog;\r\n    vm.setLabels = setLabels;\r\n    vm.addChecklistDialog = addChecklistDialog;\r\n    vm.addNewFolder = addNewFolder;\r\n    vm.addNewGroup = addNewGroup;\r\n    vm.addNewChecklist = addNewChecklist;\r\n    vm.toggle = toggle;\r\n    vm.openFolderInput = openFolderInput;\r\n    vm.cancelFolderInput = cancelFolderInput;\r\n    vm.openGroupInput = openGroupInput;\r\n    vm.cancelGroupInput = cancelGroupInput;\r\n    vm.cancelChecklistInput = cancelChecklistInput;\r\n    vm.openAddChecklistTemplateDialog = openAddChecklistTemplateDialog;\r\n    vm.openUploadAttachmentDialog = openUploadAttachmentDialog;\r\n    vm.openConflictsDialog = openConflictsDialog;\r\n    vm.viewAttachmentsDialog = viewAttachmentsDialog;\r\n    vm.fetchAttachmentsParent = fetchAttachmentsParent;\r\n    vm.fetchAttachmentsChecklist = fetchAttachmentsChecklist;\r\n    vm.uploadAttachment = uploadAttachment;\r\n    vm.uniqueString = uniqueString;\r\n    vm.getUserKey = getUserKey;\r\n    vm.downloadPDF = downloadPDF;\r\n    vm.downloadXML = downloadXML;\r\n    vm.fetchHeadingBlock = fetchHeadingBlock;\r\n    vm.fetchItemBlock = fetchItemBlock;\r\n    vm.displayUserCheckboxes = displayUserCheckboxes;\r\n    vm.evaluateConflicts = evaluateConflicts;\r\n    vm.appendCheckboxesToItems = appendCheckboxesToItems;\r\n    vm.removeUserCheckboxes = removeUserCheckboxes;\r\n    vm.userCheckboxes = userCheckboxes;\r\n    vm.setBlank = setBlank;\r\n    vm.setError = setError;\r\n    vm.toggleShowCheckboxes = toggleShowCheckboxes;\r\n    vm.loadLinkedUsers = loadLinkedUsers;\r\n\r\n    vm.openChecklistDialog = openChecklistDialog;\r\n    vm.saveChecklist = saveChecklist;\r\n    vm.openSectionDialog = openSectionDialog;\r\n    vm.saveSection = saveSection;\r\n    vm.openHeadingDialog = openHeadingDialog;\r\n    vm.saveHeading = saveHeading;\r\n    vm.openItemDialog = openItemDialog;\r\n    vm.openFormLineDialog = openFormLineDialog;\r\n    vm.saveItem = saveItem;\r\n    vm.openConversationDialog = openConversationDialog;\r\n    vm.children = children;\r\n    vm.isExpandable = isExpandable;\r\n    vm.toggleableChildren = toggleableChildren;\r\n    vm.expand = expand;\r\n    vm.collapse = collapse;\r\n    vm.isExpanded = isExpanded;\r\n    vm.toggle = toggle;\r\n    vm.downloadAttachment = downloadAttachment;\r\n    vm.expanded = {\r\n      sections: [],\r\n      headings: [],\r\n      items: [],\r\n      referencess:[]\r\n    };\r\n    // CONFLICTS\r\n    vm.fetchConflictsHeadingBlock = fetchConflictsHeadingBlock;\r\n    vm.fetchConflictsItemBlock = fetchConflictsItemBlock;\r\n   vm.closeConfilicts=closeConfilicts;\r\n    //vm.loadMore = loadMore;\r\n\r\n    //console.log('$stateParams', $stateParams, $state);\r\n    vm.idCHK = $stateParams.id;\r\n\r\n    vm.folders = [];\r\n\r\n    api.folders.get().then(function (d) {\r\n      vm.folders = d.data.folders;\r\n    });\r\n\r\n    vm.checklist = {\r\n      sending: false\r\n    };\r\n\r\n    vm.wizard = {\r\n      newFolder: false,\r\n      newGroup: false\r\n    };\r\n\r\n    vm.tempGroup = {};\r\n\r\n\r\n    if (!vm.isExpandedCounter) {\r\n      vm.isExpandedCounter = 0;\r\n    }\r\n\r\n    if ($stateParams.id !== undefined && $stateParams.id != null) {\r\n      //console.log('$stateParams.id not null/undefined', $stateParams);\r\n      //console.log('$state', $state);\r\n       debugger;\r\n       console.log('myShowingUser',$rootScope.showingUsers)\r\n      if ($stateParams.id == '') {\r\n        console.log('$stateParams empty', $stateParams);\r\n        console.log('$state', $state);\r\n        $location.path('/checklist');\r\n      } else if ($state.is('app.checklist.detail')) {\r\n        debugger;\r\n        console.log('stateParams', $stateParams);\r\n        console.log('$state', $state);\r\n        vm.passChecklist = [];\r\n        api.checklists.getGroup($stateParams.id).then(function (d) {\r\n        vm.passChecklist = d.data.checklists;\r\n\r\n        });\r\n        vm.setChecklistCtrlBlank();\r\n        vm.loadChecklist($stateParams.id);\r\n\r\n\r\n        if ($stateParams.headings && $stateParams.sections && $stateParams.items) {\r\n\r\n          //console.log('grab conflicts objects');\r\n\r\n\r\n          var section, heading, i;\r\n\r\n          for (i = 0; i < $stateParams.sections.length; i++) {\r\n            section = {\r\n              id: $stateParams.sections[i],\r\n              headings: []\r\n            };\r\n            vm.toggle('section', section);\r\n            vm.fetchConflictsHeadingBlock(section, $stateParams.id);\r\n          }\r\n\r\n          for (z = 0; z < $stateParams.headings.length; z++) {\r\n            heading = {\r\n              id: $stateParams.headings[z],\r\n              items: []\r\n            };\r\n            vm.toggle('heading', heading);\r\n            vm.fetchConflictsItemBlock(heading, $stateParams.id);\r\n          }\r\n\r\n\r\n          for (i = 0; i < $stateParams.headings.length; i++) {\r\n            heading = {\r\n              id: $stateParams.headings[i],\r\n              items: []\r\n            };\r\n            vm.toggle('heading', heading);\r\n            vm.fetchConflictsItemBlock(heading, $stateParams.id);\r\n          }\r\n\r\n\r\n          vm.completeLoad();\r\n        }\r\n\r\n\r\n      } else if ($state.is('app.checklist.conflicts')) {\r\n        //console.log('stateParams', $stateParams);\r\n        //console.log('$state', $state);\r\n        vm.passChecklist = [];\r\n        api.checklists.getGroup($stateParams.id).then(function (d) {\r\n          vm.passChecklist = d.data.checklists;\r\n        });\r\n        //console.log('$stateParams.id here', $stateParams.id);\r\n        vm.setChecklistCtrlBlank();\r\n        vm.loadChecklist($stateParams.id);\r\n\r\n        if ($stateParams.headings && $stateParams.sections) {\r\n\r\n          console.log('$stateParams.sections.length', $stateParams.sections.length);\r\n          console.log('$stateParams.sections.length', $stateParams.headings.length);\r\n\r\n          var section, heading, i, z;\r\n\r\n          for (i = 0; i < $stateParams.sections.length; i++) {\r\n            section = {\r\n              id: $stateParams.sections[i],\r\n              headings: []\r\n            };\r\n            vm.toggle('section', section);\r\n            vm.fetchConflictsHeadingBlock(section, $stateParams.id);\r\n          }\r\n\r\n          for (z = 0; z < $stateParams.headings.length; z++) {\r\n            heading = {\r\n              id: $stateParams.headings[z],\r\n              items: []\r\n            };\r\n            vm.toggle('heading', heading);\r\n            vm.fetchConflictsItemBlock(heading, $stateParams.id);\r\n          }\r\n\r\n          vm.completeLoad();\r\n        }\r\n\r\n      } else if ($state.is('app.checklist.notifications')) {\r\n        console.log('stateParams', $stateParams);\r\n        console.log('$state', $state);\r\n\r\n        vm.passedNotification = {\r\n          id: $stateParams.id,\r\n          idCHK: $stateParams.idCHK,\r\n          sections: $stateParams.sections,\r\n          headings: $stateParams.headings,\r\n          items: $stateParams.items,\r\n          name: $stateParams.name,\r\n          type: $stateParams.type\r\n        };\r\n\r\n\r\n        vm.passChecklist = [];\r\n        api.checklists.getGroup($stateParams.idCHK).then(function (d) {\r\n          vm.passChecklist = d.data.checklists;\r\n        });\r\n\r\n        //console.log('$stateParams.id here', $stateParams.id);\r\n        vm.setChecklistCtrlBlank();\r\n        vm.loadChecklist($stateParams.idCHK);\r\n\r\n        if ($stateParams.headings && $stateParams.sections) {\r\n\r\n          var sections, headings;\r\n\r\n          sections = $stateParams.sections;\r\n\r\n          headings = $stateParams.headings;\r\n\r\n          console.log('vm.passedNotification', vm.passedNotification);\r\n\r\n          var section, heading, i, z;\r\n\r\n          console.log('sections', sections);\r\n          console.log('sections.length', sections.length);\r\n\r\n          for (i = 0; i < sections.length; i++) {\r\n            section = {\r\n              id: sections[i],\r\n              headings: []\r\n            };\r\n            vm.toggle('section', section);\r\n            vm.fetchConflictsHeadingBlock(section, $stateParams.idCHK);\r\n          }\r\n\r\n\r\n          console.log('headings', headings);\r\n          console.log('headings.length', headings.length);\r\n\r\n          for (z = 0; z < $stateParams.headings.length; z++) {\r\n            heading = {\r\n              id: $stateParams.headings[z],\r\n              items: []\r\n            };\r\n            vm.toggle('heading', heading);\r\n            vm.fetchConflictsItemBlock(heading, $stateParams.idCHK);\r\n          }\r\n\r\n          vm.completeLoad();\r\n\r\n          if (vm.passedNotification.type == 'post') {\r\n            vm.openConversationDialog('item', vm.passedNotification.id, vm.passedNotification.name);\r\n          }\r\n        }\r\n\r\n      }\r\n      else {\r\n        debugger;\r\n        vm.checklists = [];\r\n        api.checklists.getGroup($stateParams.id).then(function (d) {\r\n          vm.checklists = d.data.checklists;\r\n          //console.log('vm.checklists', vm.checklists);\r\n        });\r\n      }\r\n\r\n    } else {\r\n      vm.setChecklistCtrlBlank();\r\n      vm.loadChecklist();\r\n    }\r\n\r\n\r\n    //FUSE Methods\r\n    vm.checklistFilters = {\r\n      search: '',\r\n      deleted: false\r\n    };\r\n\r\n    vm.dragControlListenersSections = {\r\n\r\n      accept: function (sourceItemHandleScope, destSortableScope, destItemScope) {\r\n\r\n        //console.log('sourceItemHandleScope', sourceItemHandleScope);\r\n        //console.log('destSortableScope', destSortableScope);\r\n\r\n        if (sourceItemHandleScope.itemScope.section && (!sourceItemHandleScope.itemScope.heading && !sourceItemHandleScope.itemScope.item)) {\r\n          //console.log('truthy');\r\n          //console.log('sourceItemHandleScope', sourceItemHandleScope);\r\n          //console.log('sourceItemHandleScope.itemScope', sourceItemHandleScope.itemScope);\r\n          //console.log('sourceItemHandleScope.itemScope.section', sourceItemHandleScope.itemScope.section);\r\n          //console.log('sourceItemHandleScope.itemScope.heading', sourceItemHandleScope.itemScope.heading);\r\n          //console.log('sourceItemHandleScope.itemScope.item', sourceItemHandleScope.itemScope.item);\r\n          return true\r\n        } else {\r\n          //console.log('falsy');\r\n          //console.log('sourceItemHandleScope', sourceItemHandleScope);\r\n          //console.log('sourceItemHandleScope.itemScope', sourceItemHandleScope.itemScope);\r\n          //console.log('sourceItemHandleScope.itemScope.section', sourceItemHandleScope.itemScope.section);\r\n          //console.log('sourceItemHandleScope.itemScope.heading', sourceItemHandleScope.itemScope.heading);\r\n          //console.log('sourceItemHandleScope.itemScope.item', sourceItemHandleScope.itemScope.item);\r\n          return false\r\n        }\r\n\r\n        //console.log('destItemScope', destItemScope);\r\n        //console.log('source cl.id', sourceItemHandleScope.itemScope.sortableScope.$parent.checklist.id);\r\n        //console.log('destination cl.id', destSortableScope.$parent.checklist.id);\r\n        //return sourceItemHandleScope.itemScope.sortableScope.$parent.checklist.id === destSortableScope.$parent.checklist.id;\r\n      },\r\n      itemMoved: function (event) {\r\n\r\n        var moveSuccess, moveFailure;\r\n        /**\r\n         * Action to perform after move success.\r\n         */\r\n        moveSuccess = function () {\r\n        };\r\n\r\n        /**\r\n         * Action to perform on move failure.\r\n         * remove the item from destination Column.\r\n         * insert the item again in original Column.\r\n         */\r\n        moveFailure = function () {\r\n          eventObj.dest.sortableScope.removeItem(eventObj.dest.index);\r\n          eventObj.source.itemScope.sortableScope.insertItem(eventObj.source.index, eventObj.source.itemScope.item);\r\n        };\r\n\r\n      },\r\n      orderChanged: function (event) {\r\n\r\n        console.log('event', event);\r\n\r\n        // Location where section was dragged to\r\n\r\n\r\n        var arrayKeyNext = (event.dest.index + 1);\r\n        var arrayKeyMoved = (event.dest.index);\r\n        var arrayKeyPrevious = (event.dest.index - 1);\r\n\r\n        console.log('arrayKeyNext', arrayKeyNext);\r\n        console.log('arrayKeyMoved', arrayKeyMoved);\r\n        console.log('arrayKeyPrevious', arrayKeyPrevious);\r\n\r\n        var itemNext = event.dest.sortableScope.modelValue[arrayKeyNext];\r\n        var itemMoved = event.dest.sortableScope.modelValue[arrayKeyMoved];\r\n        var itemPrevious = event.dest.sortableScope.modelValue[arrayKeyPrevious];\r\n\r\n        console.log('itemNext', itemNext);\r\n        console.log('itemMoved', itemMoved);\r\n        console.log('itemPrevious', itemPrevious);\r\n\r\n\r\n        if (arrayKeyPrevious != -1 && typeof itemNext != 'undefined') {\r\n\r\n\r\n          var reorderOrder = (((itemNext.order - itemPrevious.order) / 2) + itemPrevious.order);\r\n        } else if (arrayKeyPrevious == -1 && itemNext.order != 0) {\r\n          var reorderOrder = (((itemNext.order) / 2));\r\n          //console.log('nope');\r\n          //return;\r\n        } else if (itemPrevious.order != 0 && typeof itemNext === 'undefined') {\r\n          var reorderOrder = (itemPrevious.order + 1);\r\n\r\n        }\r\n\r\n        console.log('reorderOrder', reorderOrder);\r\n\r\n        vm.reorder = {\r\n          id: itemMoved.id,\r\n          type: 'section',\r\n          id_parent: itemMoved.id_parent,\r\n          order: reorderOrder\r\n        };\r\n\r\n        console.log('pre API vm.sections', vm.sections);\r\n\r\n\r\n        api.items.reorder(vm.reorder.id, vm.reorder.order, vm.reorder.type, vm.reorder.id_parent).error(function (res) {\r\n          $rootScope.message('Unknown error updating server with reorder info.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            return $rootScope.message(\"Error updating reorder information. (\" + res.code + \": \" + res.message + \")\");\r\n          } else {\r\n\r\n            $rootScope.message(\"Checklist has been modified\");\r\n\r\n            var itemIndex;\r\n\r\n            itemIndex = vm.sections.indexOf(itemMoved);\r\n            console.log('itemIndex', itemIndex);\r\n            vm.sections[itemIndex].order = vm.reorder.order;\r\n\r\n            vm.organizeData();\r\n\r\n            console.log('post vm.sections', vm.sections);\r\n\r\n            var packet;\r\n            packet = {\r\n              catalog: 'sections',\r\n              type: 'reorder',\r\n              user: {\r\n                idCON: $rootScope.user.idCON,\r\n                name: $rootScope.user.name\r\n              },\r\n              record: vm.sections[itemIndex]\r\n            };\r\n            console.log('emitting data', packet);\r\n            $rootScope.socketio.emit('data', packet);\r\n\r\n          }\r\n        });\r\n\r\n      },\r\n      containment: '#sections',\r\n      allowDuplicates: false\r\n    };\r\n\r\n    vm.dragControlListenersHeadings = {\r\n\r\n      accept: function (sourceItemHandleScope, destSortableScope, destItemScope) {\r\n\r\n        if (sourceItemHandleScope.itemScope.heading && (!sourceItemHandleScope.itemScope.item)) {\r\n          //console.log('truthy');\r\n          //console.log('sourceItemHandleScope', sourceItemHandleScope);\r\n          //console.log('sourceItemHandleScope.itemScope', sourceItemHandleScope.itemScope);\r\n          //console.log('sourceItemHandleScope.itemScope.section', sourceItemHandleScope.itemScope.section);\r\n          //console.log('sourceItemHandleScope.itemScope.heading', sourceItemHandleScope.itemScope.heading);\r\n          //console.log('sourceItemHandleScope.itemScope.item', sourceItemHandleScope.itemScope.item);\r\n          return true\r\n        } else {\r\n          //console.log('falsy');\r\n          //console.log('sourceItemHandleScope', sourceItemHandleScope);\r\n          //console.log('sourceItemHandleScope.itemScope', sourceItemHandleScope.itemScope);\r\n          //console.log('sourceItemHandleScope.itemScope.section', sourceItemHandleScope.itemScope.section);\r\n          //console.log('sourceItemHandleScope.itemScope.heading', sourceItemHandleScope.itemScope.heading);\r\n          //console.log('sourceItemHandleScope.itemScope.item', sourceItemHandleScope.itemScope.item);\r\n          return false\r\n        }\r\n\r\n\r\n      },\r\n      itemMoved: function (event) {\r\n        var moveSuccess, moveFailure;\r\n        /**\r\n         * Action to perform after move success.\r\n         */\r\n        moveSuccess = function () {\r\n        };\r\n\r\n        /**\r\n         * Action to perform on move failure.\r\n         * remove the item from destination Column.\r\n         * insert the item again in original Column.\r\n         */\r\n        moveFailure = function () {\r\n          eventObj.dest.sortableScope.removeItem(eventObj.dest.index);\r\n          eventObj.source.itemScope.sortableScope.insertItem(eventObj.source.index, eventObj.source.itemScope.item);\r\n        };\r\n\r\n      },\r\n      orderChanged: function (event) {\r\n\r\n\r\n        console.log('event', event);\r\n\r\n        // Location where heading was dragged to\r\n\r\n\r\n        var arrayKeyNext = (event.dest.index + 1);\r\n        var arrayKeyMoved = (event.dest.index);\r\n        var arrayKeyPrevious = (event.dest.index - 1);\r\n\r\n        console.log('arrayKeyNext', arrayKeyNext);\r\n        console.log('arrayKeyMoved', arrayKeyMoved);\r\n        console.log('arrayKeyPrevious', arrayKeyPrevious);\r\n\r\n        var itemNext = event.dest.sortableScope.modelValue[arrayKeyNext];\r\n        var itemMoved = event.dest.sortableScope.modelValue[arrayKeyMoved];\r\n        var itemPrevious = event.dest.sortableScope.modelValue[arrayKeyPrevious];\r\n\r\n        console.log('itemNext', itemNext);\r\n        console.log('itemMoved', itemMoved);\r\n        console.log('itemPrevious', itemPrevious);\r\n\r\n\r\n        if (arrayKeyPrevious != -1 && typeof itemNext != 'undefined') {\r\n\r\n\r\n          var reorderOrder = (((itemNext.order - itemPrevious.order) / 2) + itemPrevious.order);\r\n        } else if (arrayKeyPrevious == -1 && itemNext.order != 0) {\r\n          var reorderOrder = (((itemNext.order) / 2));\r\n          //console.log('nope');\r\n          //return;\r\n        } else if (itemPrevious.order != 0 && typeof itemNext === 'undefined') {\r\n          var reorderOrder = (itemPrevious.order + 1);\r\n\r\n        }\r\n\r\n        console.log('reorderOrder', reorderOrder);\r\n\r\n        vm.reorder = {\r\n          id: itemMoved.id,\r\n          type: 'heading',\r\n          id_parent: itemMoved.id_parent,\r\n          order: reorderOrder\r\n        };\r\n\r\n        console.log('pre API vm.headings', vm.headings);\r\n\r\n\r\n        api.items.reorder(vm.reorder.id, vm.reorder.order, vm.reorder.type, vm.reorder.id_parent).error(function (res) {\r\n          $rootScope.message('Unknown error updating server with reorder info.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            return $rootScope.message(\"Error updating reorder information. (\" + res.code + \": \" + res.message + \")\");\r\n          } else {\r\n\r\n            $rootScope.message(\"Checklist has been modified\");\r\n\r\n            var itemIndex;\r\n\r\n            itemIndex = vm.headings.indexOf(itemMoved);\r\n            console.log('itemIndex', itemIndex);\r\n            vm.headings[itemIndex].order = vm.reorder.order;\r\n\r\n            vm.organizeData();\r\n\r\n            console.log('post vm.headings', vm.headings);\r\n\r\n            var packet;\r\n            packet = {\r\n              catalog: 'headings',\r\n              type: 'reorder',\r\n              user: {\r\n                idCON: $rootScope.user.idCON,\r\n                name: $rootScope.user.name\r\n              },\r\n              record: vm.headings[itemIndex]\r\n            };\r\n            console.log('emitting data', packet);\r\n            $rootScope.socketio.emit('data', packet);\r\n\r\n          }\r\n        });\r\n\r\n      },\r\n      containment: '#headings',\r\n      allowDuplicates: false\r\n    };\r\n\r\n    vm.dragControlListenersItems = {\r\n      accept: function (sourceItemHandleScope, destSortableScope, destItemScope) {\r\n\r\n        if (sourceItemHandleScope.itemScope.item) {\r\n          //console.log('truthy');\r\n          //console.log('destSortableScope', destSortableScope);\r\n          //console.log('sourceItemHandleScope', sourceItemHandleScope);\r\n          //console.log('sourceItemHandleScope.itemScope', sourceItemHandleScope.itemScope);\r\n          //console.log('sourceItemHandleScope.itemScope.section', sourceItemHandleScope.itemScope.section);\r\n          //console.log('sourceItemHandleScope.itemScope.heading', sourceItemHandleScope.itemScope.heading);\r\n          //console.log('sourceItemHandleScope.itemScope.item', sourceItemHandleScope.itemScope.item);\r\n\r\n          var sourceItemID = sourceItemHandleScope.itemScope.item.id;\r\n\r\n          var modelArray;\r\n\r\n          modelArray = destSortableScope.modelValue;\r\n\r\n          //console.log('sourceItemHandleScope.sortableScope.modelValue', sourceItemHandleScope.sortableScope.modelValue);\r\n\r\n          function findItem(element) {\r\n            return element.id === sourceItemID;\r\n          }\r\n\r\n\r\n          var abc = sourceItemHandleScope.sortableScope.modelValue.findIndex(findItem);\r\n\r\n\r\n          return true\r\n        } else {\r\n          //console.log('falsy');\r\n          //console.log('destSortableScope', destSortableScope);\r\n          //console.log('sourceItemHandleScope', sourceItemHandleScope);\r\n          //console.log('sourceItemHandleScope.itemScope', sourceItemHandleScope.itemScope);\r\n          //console.log('sourceItemHandleScope.itemScope.section', sourceItemHandleScope.itemScope.section);\r\n          //console.log('sourceItemHandleScope.itemScope.heading', sourceItemHandleScope.itemScope.heading);\r\n          //console.log('sourceItemHandleScope.itemScope.item', sourceItemHandleScope.itemScope.item);\r\n\r\n          console.log('sourceItemID', sourceItemID);\r\n\r\n          return false\r\n        }\r\n\r\n\r\n      },\r\n      orderChanged: function (event) {\r\n\r\n        console.log('event', event);\r\n\r\n        // Location where item was dragged to\r\n\r\n\r\n        var arrayKeyNext = (event.dest.index + 1);\r\n        var arrayKeyMoved = (event.dest.index);\r\n        var arrayKeyPrevious = (event.dest.index - 1);\r\n\r\n        console.log('arrayKeyNext', arrayKeyNext);\r\n        console.log('arrayKeyMoved', arrayKeyMoved);\r\n        console.log('arrayKeyPrevious', arrayKeyPrevious);\r\n\r\n        var itemNext = event.dest.sortableScope.modelValue[arrayKeyNext];\r\n        var itemMoved = event.dest.sortableScope.modelValue[arrayKeyMoved];\r\n        var itemPrevious = event.dest.sortableScope.modelValue[arrayKeyPrevious];\r\n\r\n        console.log('itemNext', itemNext);\r\n        console.log('itemMoved', itemMoved);\r\n        console.log('itemPrevious', itemPrevious);\r\n\r\n\r\n        if (arrayKeyPrevious != -1 && typeof itemNext != 'undefined') {\r\n\r\n\r\n          var reorderOrder = (((itemNext.order - itemPrevious.order) / 2) + itemPrevious.order);\r\n        } else if (arrayKeyPrevious == -1 && itemNext.order != 0) {\r\n          var reorderOrder = (((itemNext.order) / 2));\r\n          console.log('reorderOrder', reorderOrder);\r\n          console.log('arrayKeyPrevious == -1 && itemNext.order != 0');\r\n          //return;\r\n        } else if (itemPrevious.order != 0 && typeof itemNext === 'undefined') {\r\n          var reorderOrder = (itemPrevious.order + 1);\r\n          console.log('reorderOrder', reorderOrder);\r\n          console.log('itemPrevious.order != 0 && typeof itemNext === undefined');\r\n          //return;\r\n        }\r\n\r\n        console.log('reorderOrder', reorderOrder);\r\n\r\n        vm.reorder = {\r\n          id: itemMoved.id,\r\n          type: 'item',\r\n          id_parent: itemMoved.id_parent,\r\n          order: reorderOrder\r\n        };\r\n\r\n        console.log('pre API vm.items', vm.items);\r\n\r\n\r\n        api.items.reorder(vm.reorder.id, vm.reorder.order, vm.reorder.type, vm.reorder.id_parent).error(function (res) {\r\n          $rootScope.message('Unknown error updating server with reorder info.', 'warning');\r\n        }).success(function (res) {\r\n          var i, len, old, packet, ref1;\r\n          if (res.code) {\r\n            return $rootScope.message(\"Error updating reorder information. (\" + res.code + \": \" + res.message + \")\");\r\n          } else {\r\n\r\n            $rootScope.message(\"Checklist has been modified\");\r\n\r\n            var itemIndex;\r\n\r\n            itemIndex = vm.items.indexOf(itemMoved);\r\n            console.log('itemIndex', itemIndex);\r\n            vm.items[itemIndex].order = vm.reorder.order;\r\n\r\n            vm.organizeData();\r\n\r\n            console.log('post vm.items', vm.items);\r\n\r\n            var packet;\r\n            packet = {\r\n              catalog: 'items',\r\n              type: 'reorder',\r\n              user: {\r\n                idCON: $rootScope.user.idCON,\r\n                name: $rootScope.user.name\r\n              },\r\n              record: vm.items[itemIndex]\r\n            };\r\n            console.log('emitting data', packet);\r\n            $rootScope.socketio.emit('data', packet);\r\n\r\n          }\r\n        });\r\n\r\n\r\n      },\r\n      containment: '#items',\r\n      allowDuplicates: false\r\n    };\r\n\r\n\r\n    vm.sortableOptions = {\r\n      handle: '.handle',\r\n      forceFallback: true,\r\n      ghostClass: 'checklist-item-placeholder',\r\n      fallbackClass: 'checklist-item-ghost',\r\n      fallbackOnBody: true,\r\n      sort: true\r\n    };\r\n\r\n    vm.msScrollOptions = {\r\n      suppressScrollX: true\r\n    };\r\n\r\n\r\n    //console.log('vm.checklistFilters', vm.checklistFilters);\r\n    vm.checklistFiltersDefaults = angular.copy(vm.checklistFilters);\r\n    vm.showAllChecklists = true;\r\n\r\n    vm.checklistOrder = '';\r\n    vm.checklistOrderDescending = false;\r\n   \r\n\r\n    /*\r\n     LEGACY CONTROLLER\r\n     */\r\n    function setChecklistCtrlBlank() {\r\n      vm.conflicts = 0;\r\n      vm.nonCompliant = [0, 0];\r\n      vm.loading = vm.loaded = {\r\n        checklist: false,\r\n        sections: false,\r\n        headings: false,\r\n        items: false,\r\n        checkboxes: false,\r\n        attachments: false\r\n      };\r\n      vm.checklists = [];\r\n      vm.sections = [];\r\n      vm.headings = [];\r\n      vm.items = [];\r\n      vm.checkboxes = [];\r\n      vm.attachments = [];\r\n      vm.SelectedAttachments=[];\r\n      vm.referencess=[];\r\n      if (!vm.expanded) {\r\n        console.log('set vm.expanded');\r\n        vm.expanded = {\r\n          sections: [],\r\n          headings: [],\r\n          items: [],\r\n          referencess:[]\r\n        };\r\n      } else {\r\n        console.log('vm.expanded is already set', vm.expanded);\r\n      }\r\n      vm.type = [];\r\n      return vm.itemShortLength = 45;\r\n    };\r\n\r\n    vm.setChecklistCtrlBlank();\r\n\r\n\r\n    /*\r\n     NESTED ACCORDION FUNCTIONS\r\n     */\r\n\r\n    function children(whats, parentID) {\r\n      return $filter('orderBy')($filter('filter')(vm[whats], {\r\n        id_parent: parentID\r\n      }, true), 'order');\r\n    };\r\n    function isExpandable(what, which) {\r\n      if (what === !'item') {\r\n        return true;\r\n      }\r\n      if (which.name.length > vm.itemShortLength) {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n    function toggleableChildren(what, parentID) {\r\n      var items, whats;\r\n      if (what === 'section') {\r\n        return vm.sections;\r\n      }\r\n      whats = what + 's';\r\n      if (what !== 'item') {\r\n        return $filter('filter')(vm[whats], {\r\n          id_parent: parentID\r\n        }, true);\r\n      }\r\n      items = vm.items;\r\n      return $filter('filter')(items, function (item, index, items) {\r\n        if (item.id_parent === parentID && vm.isExpandable(what, item)) {\r\n          return true;\r\n        }\r\n      });\r\n    };\r\n    function expand(what, which, parentID) {\r\n      console.log('function expand');\r\n      console.log('what', what);\r\n      console.log('which', which);\r\n      console.log('vm.expanded', vm.expanded);\r\n\r\n\r\n      var catalog, item, items, key, whats;\r\n      if (parentID == null) {\r\n        parentID = null;\r\n      }\r\n      whats = what + 's';\r\n      if (which === 'all') {\r\n        catalog = [];\r\n        if (parentID === null) {\r\n          catalog = vm.sections;\r\n        } else {\r\n          items = vm.toggleableChildren(what, parentID);\r\n          for (key in items) {\r\n            item = items[key];\r\n            if (indexOf.call(vm.expanded[whats], item) < 0) {\r\n              catalog.push(item);\r\n            }\r\n          }\r\n        }\r\n        console.log('vm.expanded', vm.expanded);\r\n        return vm.expanded[whats] = vm.expanded[whats].concat(catalog);\r\n      } else {\r\n        vm.expanded[whats].push(which);\r\n        console.log('vm.expanded after push', vm.expanded);\r\n      }\r\n    };\r\n    function collapse(what, which, parentID) {\r\n      var catalog, item, items, key, ref1, whats;\r\n      if (parentID == null) {\r\n        parentID = null;\r\n      }\r\n      whats = what + 's';\r\n      if (which === 'all') {\r\n        catalog = [];\r\n        if (parentID === !null) {\r\n          items = vm.toggleableChildren(what, parentID);\r\n          ref1 = vm.expanded[whats];\r\n          for (key in ref1) {\r\n            item = ref1[key];\r\n            if (indexOf.call(items, item) < 0) {\r\n              catalog.push(item);\r\n            }\r\n          }\r\n        }\r\n        return vm.expanded[whats] = catalog;\r\n      } else {\r\n        return vm.expanded[whats].remove(which);\r\n      }\r\n    };\r\n    function isExpanded(what, which) {\r\n      var whats, i, x;\r\n      whats = what + 's';\r\n      x = false;\r\n\r\n      vm.isExpandedCounter++;\r\n      console.log('function isExpanded');\r\n      console.log('what', what);\r\n      console.log('which', which);\r\n      console.log('vm.expanded', vm.expanded);\r\n      console.log('vm.expanded[whats]', vm.expanded[whats]);\r\n      console.log(which.id);\r\n      //console.log('indexOf', vm.expanded[whats].indexOf(which.id));\r\n\r\n      for (i = 0; i < vm.expanded[whats].length; i++) {\r\n        if (vm.expanded[whats][i].id == which.id) {\r\n          console.log('found');\r\n          return true;\r\n        }\r\n      }\r\n    };\r\n\r\n    function toggle(what, which, parentID) {\r\n       debugger;\r\n      // vm.attachments=$rootScope.attachments12;\r\n      console.log('function toggle');\r\n      console.log('what', what);\r\n      console.log('which', which);\r\n      //console.log('vm.expanded', vm.expanded);\r\n    //console.log('vm.isExpanded(what, which)', vm.isExpanded(what, which));\r\n\r\n      if (parentID == null) {\r\n        parentID = null;\r\n      }\r\n      if (what === 'item' && which.name.length <= vm.itemShortLength) {\r\n        return false;\r\n      }\r\n      if (what === 'references') {\r\n        which.showReferences = !which.showReferences;\r\n        console.log('which.showReferences', which.showReferences);\r\n        return false;\r\n      }\r\n      if (what === 'na') {\r\n        which.notApplicable = !which.notApplicable;\r\n        return false;\r\n      }\r\n      if (vm.isExpanded(what, which)) {\r\n        console.log('trying to collapse');\r\n        return vm.collapse(what, which, parentID);\r\n      } else {\r\n        console.log('trying to expand');\r\n        return vm.expand(what, which, parentID);\r\n      }\r\n    };\r\n\r\n\r\n    function toggleComplete(checklist) {\r\n      api.checklists.toggleComplete(checklist.id).error(function (res) {\r\n        return $rootScope.message(\"Error toggling Complete. (Communication with Server)\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error toggling Complete. (No response.)\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          return vm.checklists.forEach(function (local) {\r\n            var index, notifyItem;\r\n            if (local.id === res.checklist.id) {\r\n              //console.log('local found', local);\r\n              index = vm.checklists.indexOf(local);\r\n              //console.log('local index is', index);\r\n              vm.checklists[index] = res.checklist;\r\n              vm.organizeData();\r\n              notifyItem = $.extend({}, res.checklist, {\r\n                type: 'complete',\r\n                idFDI: res.checklist.idFDI_latest\r\n              });\r\n              return $rootScope.notify(notifyItem);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    };\r\n\r\n\r\n    /*\r\n     INITIAL DATA LOAD\r\n     */\r\n    vm.feedsJoined = false;\r\n    vm.loadComplete = false;\r\n\r\n    function joinFeeds() {\r\n      var checklist, heading, item, j, k, l, len, len1, len2, len3, m, ref, ref1, ref2, ref3, ref4, section;\r\n      //console.log('joinFeeds()');\r\n      if (vm.feedsJoined) {\r\n        return true;\r\n      }\r\n      if (!vm.loadComplete) {\r\n        return false;\r\n      }\r\n      if (!((ref = $rootScope.socketio) != null ? ref.connected : void 0)) {\r\n        return false;\r\n      }\r\n      //console.log('joining feeds', vm.loadComplete, vm.checklists, vm.sections, vm.headings, vm.items);\r\n      ref1 = vm.items;\r\n      for (j = 0, len = ref1.length; j < len; j++) {\r\n        item = ref1[j];\r\n        //console.log('joining room: ', \"/items/\" + item.id);\r\n        $rootScope.socketio.emit('join', \"/items/\" + item.id);\r\n      }\r\n      ref2 = vm.headings;\r\n      for (k = 0, len1 = ref2.length; k < len1; k++) {\r\n        heading = ref2[k];\r\n        //console.log('joining room: ', \"/headings/\" + heading.id);\r\n        $rootScope.socketio.emit('join', \"/headings/\" + heading.id);\r\n      }\r\n      ref3 = vm.sections;\r\n      for (l = 0, len2 = ref3.length; l < len2; l++) {\r\n        section = ref3[l];\r\n        //console.log('joining room: ', \"/sections/\" + section.id);\r\n        $rootScope.socketio.emit('join', \"/sections/\" + section.id);\r\n      }\r\n      ref4 = vm.checklists;\r\n      for (m = 0, len3 = ref4.length; m < len3; m++) {\r\n        checklist = ref4[m];\r\n        //console.log('joining room: ', \"/checklists/\" + checklist.idCHK);\r\n        $rootScope.socketio.emit('join', \"/checklists/\" + checklist.idCHK);\r\n      }\r\n      return vm.feedsJoined = true;\r\n      //console.log('feedsJoined', true);\r\n    };\r\n\r\n    function completeLoad() {\r\n      if (vm.loading.checklist || vm.loading.sections || vm.loading.headings || vm.loading.items || vm.loading.attachments) {\r\n        return false;\r\n      }\r\n      vm.loadComplete = true;\r\n      vm.loading.checklist = false;\r\n      vm.joinFeeds();\r\n      vm.organizeData();\r\n\r\n      //return $scope.$broadcast('event:dataOrganized');\r\n    };\r\n\r\n    function organizeData() {\r\n      vm.items.forEach(function (item) {\r\n        return item.attachments = vm.children('attachments', item.id);\r\n      });\r\n      vm.headings.forEach(function (heading) {\r\n        heading.items = vm.children('items', heading.id);\r\n        return heading.attachments = vm.children('attachments', heading.id);\r\n      });\r\n      vm.sections.forEach(function (section) {\r\n        section.headings = vm.children('headings', section.id);\r\n        return section.attachments = vm.children('attachments', section.id);\r\n      });\r\n\r\n      vm.checklists.forEach(function (checklist) {\r\n        checklist.sections = vm.children('sections', checklist.idCHK);\r\n        return checklist.attachments = vm.children('attachments', checklist.idCHK);\r\n      });\r\n      //console.log('data organized', vm.checklists);\r\n    };\r\n\r\n    function checkIfLinked(idCHK) {\r\n      //console.log('cfc vm.checklists', $rootScope.checklists);\r\n      var cfc;\r\n      cfc = $filter('filter')($rootScope.checklists, {\r\n        idCHK: idCHK\r\n      });\r\n      //console.log(cfc);\r\n      //console.log('checking if viewAs.user is linked to checklist', idCHK, $rootScope.viewAs.user, $rootScope.checklists);\r\n      return vm.isLinked = cfc.length > 0;\r\n      return console.log('set isLinked', vm.isLinked);\r\n    };\r\n\r\n    function loadChecklist(idCHK) {\r\n      //console.log('idCHK', idCHK);\r\n      vm.setChecklistCtrlBlank();\r\n      vm.checkIfLinked(idCHK);\r\n      if (vm.isLinked) {\r\n        //console.log('is linked');\r\n        if (!vm.loaded.checklist) {\r\n          //console.log('not loaded');\r\n          api.checklists.get(idCHK).success(function (res) {\r\n            console.log('res', res);\r\n            var ref;\r\n            if ((ref = res.checklists) != null ? ref.length : void 0) {\r\n              vm.checklists = res.checklists;\r\n              //console.log('vm.checklists', vm.checklists);\r\n            } else {\r\n              //console.log('problem');\r\n            }\r\n\r\n            console.log('not sure');\r\n            vm.loaded.checklist = true;\r\n            return $scope.$broadcast('event:checklistLoaded');\r\n            console.log('broadcast event:checklistLoaded');\r\n          })[\"finally\"](function () {\r\n            vm.loading.checklist = false;\r\n            return vm.completeLoad();\r\n          });\r\n        }\r\n\r\n        if (!vm.loaded.sections) {\r\n          api.sections.get(idCHK).success(function (res) {\r\n            var ref;\r\n            if ((ref = res.sections) != null ? ref.length : void 0) {\r\n              vm.sections = res.sections;\r\n            }\r\n            return vm.loaded.sections = true;\r\n          })[\"finally\"](function () {\r\n            vm.loading.sections = false;\r\n            return vm.completeLoad();\r\n          });\r\n        }\r\n\r\n        /*\r\n         if(!vm.loaded.headings){\r\n         api.headings.get(idCHK).success(function(res) {\r\n         var ref;\r\n         if ((ref = res.headings) != null ? ref.length : void 0) {\r\n         vm.headings = res.headings;\r\n         }\r\n         return vm.loaded.headings = true;\r\n         })[\"finally\"](function() {\r\n         vm.loading.headings = false;\r\n         return vm.completeLoad();\r\n         });\r\n         }\r\n         if(!vm.loaded.items){\r\n         api.items.get(idCHK).success(function(res) {\r\n         var ref;\r\n         if ((ref = res.items) != null ? ref.length : void 0) {\r\n         vm.items = res.items;\r\n         console.log('res.items', res.items)\r\n         }\r\n         vm.loaded.items = true;\r\n\r\n         return $scope.$emit('event:itemsLoaded');\r\n         //console.log('broadcast event:itemsLoaded');\r\n         })[\"finally\"](function() {\r\n         vm.loading.items = false;\r\n         return vm.completeLoad();\r\n         });\r\n         }\r\n         */\r\n\r\n        if (!vm.loaded.attachments) {\r\n          //console.log('look for attachments');\r\n          api.attachments.checklist(idCHK).success(function (res) {\r\n            var ref;\r\n            if ((ref = res.attachments) != null ? ref.length : void 0) {\r\n              vm.attachments = vm.attachments.concat(res.attachments);\r\n              $rootScope.attachments12=res.attachments;\r\n              console.log(\"attachmentlength\",res.attachments.length);\r\n            }\r\n            vm.loaded.attachments = true;\r\n            return $scope.$broadcast('event:attachmentsLoaded');\r\n            //console.log('broadcast event:attachmentsLoaded');\r\n          })[\"finally\"](function () {\r\n            vm.loading.attachments = false;\r\n            return vm.completeLoad();\r\n          });\r\n        }\r\n\r\n        return true;\r\n      } else {\r\n        console.log('not linked');\r\n        vm.loading = {\r\n          checklist: false,\r\n          sections: false,\r\n          headings: false,\r\n          items: false,\r\n          attachments: false,\r\n          checkboxes: false\r\n        };\r\n\r\n        vm.loaded = {\r\n          checklist: true,\r\n          sections: true,\r\n          headings: true,\r\n          items: true,\r\n          attachments: false,\r\n          checkboxes: true\r\n        };\r\n      }\r\n    };\r\n\r\n    $scope.$on('event:checklistsLoaded', function () {\r\n      if (!vm.loading.checklist) {\r\n        return vm.loadChecklist(vm.idCHK);\r\n      }\r\n    });\r\n\r\n    /*\r\n     SET UP THE SOCKET CONNECTION FOR REALTIME\r\n     */\r\n    function setSocketStuff() {\r\n      //console.log('setting socket stuff for checklist');\r\n      vm.joinFeeds();\r\n      return $rootScope.socketio.on('data', function (update) {\r\n        var catalog, local;\r\n        if (update.user.idCON !== $rootScope.user.idCON) {\r\n          //console.log('section data received', update);\r\n          catalog = update.catalog;\r\n          switch (update.type) {\r\n            case 'add':\r\n              $scope[catalog] = $scope[catalog].concat(update.record);\r\n              $rootScope.socketio.emit('feed_subscribe', {\r\n                idCON: $rootScope.user.idCON,\r\n                ids: [update.record.id]\r\n              });\r\n              break;\r\n            case 'edit':\r\n            case 'reorder':\r\n              $scope[catalog].forEach(function (local) {\r\n                var index;\r\n                if (local.id === update.record.id) {\r\n                  //console.log('local found', local);\r\n                  index = $scope[catalog].indexOf(local);\r\n                  //console.log('local index is', index);\r\n                  return $scope[catalog][index] = update.record;\r\n                }\r\n              });\r\n              break;\r\n            case 'delete':\r\n              local = $filter('filter')($scope[catalog], {\r\n                id: update.record.id\r\n              }, true);\r\n              if (local != null ? local.length : void 0) {\r\n                $scope[catalog].remove(local[0]);\r\n                $rootScope.socketio.emit('feed_unsubscribe', {\r\n                  idCON: $rootScope.user.idCON,\r\n                  ids: [update.record.id]\r\n                });\r\n              }\r\n          }\r\n          vm.organizeData();\r\n          return $scope.$apply();\r\n        }\r\n      });\r\n    };\r\n\r\n    if ((ref = $rootScope.socketio) != null ? ref.connected : void 0) {\r\n      //console.log('socket was already connected (checklist)');\r\n      vm.setSocketStuff();\r\n    }\r\n\r\n    $scope.$on('event:socketConnected', function () {\r\n      console.log('received ng event:socketConnected (checklist)');\r\n      return vm.setSocketStuff();\r\n    });\r\n\r\n    /*\r\n     NESTED ACCORDION FUNCTIONS\r\n     */\r\n    function children(whats, parentID) {\r\n      return $filter('orderBy')($filter('filter')(vm[whats], {\r\n        id_parent: parentID\r\n      }, true), 'order');\r\n    };\r\n\r\n    /*\r\n     DATA FUNCTIONS\r\n     */\r\n    $scope.svc = function (what) {\r\n\r\n      var checklists, sections, items, checkbox, headings;\r\n\r\n      if (what === 'checklist') {\r\n        return api.checklists;\r\n      }\r\n      if (what === 'section') {\r\n        return api.sections;\r\n      }\r\n      if (what === 'heading') {\r\n        return api.headings;\r\n      }\r\n      if (what === 'item') {\r\n        return api.items;\r\n      }\r\n      if (what === 'checkbox') {\r\n        return api.checkbox;\r\n      }\r\n    };\r\n\r\n    function svc(what) {\r\n      var checklist, sections, headings, items, checkbox;\r\n\r\n      if (what === 'checklist') {\r\n        return api.checklists;\r\n      }\r\n      if (what === 'section') {\r\n        return api.sections;\r\n      }\r\n      if (what === 'heading') {\r\n        return api.headings;\r\n      }\r\n      if (what === 'item') {\r\n        return api.items;\r\n      }\r\n      if (what === 'checkbox') {\r\n        return api.checkbox;\r\n      }\r\n    };\r\n\r\n    function createSegment(what, name, to, type, info) {\r\n      debugger;\r\n      console.log('what', what);\r\n      console.log('name', name);\r\n      console.log('to', to);\r\n      console.log('type', type);\r\n      console.log('info', info);\r\n\r\n      var count, order, ref1, svc, whats;\r\n      if (to == null) {\r\n        to = null;\r\n      }\r\n      if (type == null) {\r\n        type = 1;\r\n      }\r\n      if (info == null) {\r\n        info = '';\r\n      }\r\n      whats = what + 's';\r\n\r\n      svc = $scope.svc(what);\r\n\r\n      //console.log('svc', svc);\r\n\r\n      //console.log('what post svc', what);\r\n      vm.newItem.submitting = true;\r\n      order = 1;\r\n      if (what === 'section') {\r\n        order += vm.sections.length;\r\n      } else {\r\n        count = (ref1 = $filter('filter')(vm[whats], {\r\n          id_parent: to\r\n        }, true)) != null ? ref1 : [];\r\n        order += count.length;\r\n      }\r\n\r\n      return svc.add(name, order, to, type, info).success(function (res) {\r\n        var notifyItem, packet;\r\n        if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n\r\n          vm[whats].push(res[what]);\r\n          vm.organizeData();\r\n          packet = {\r\n            catalog: whats,\r\n            type: 'add',\r\n            user: {\r\n              idCON: $rootScope.user.idCON,\r\n              name: $rootScope.user.name\r\n            },\r\n            record: res[what]\r\n          };\r\n          //console.log('emitting data', packet);\r\n          $rootScope.socketio.emit('data', packet);\r\n          notifyItem = $.extend({}, res[what], {\r\n            type: 'data'\r\n          });\r\n          //console.log('about to sent notify event', notifyItem);\r\n          $rootScope.socketio.emit('notify', [notifyItem]);\r\n          $rootScope.message('Success', 'success');\r\n          // //Added by me for manipulating newly created Checkboxes// \r\n        $rootScope.showingUsers.forEach(function (user) {\r\n            vm.displayUserCheckboxes(user);\r\n          });\r\n          vm.closeDialog();\r\n        }\r\n      })[\"finally\"](function () {\r\n        return vm.newItem.submitting = false;\r\n      });\r\n    };\r\n\r\n    function destroy(what, item) {\r\n      console.log('what', what);\r\n      console.log('item', item);\r\n\r\n      var svc, whats;\r\n      svc = vm.svc(what);\r\n      whats = what + 's';\r\n\r\n      console.log('svc', svc);\r\n      console.log('whats', whats);\r\n\r\n      return svc.destroy(item.rid).success(function (res) {\r\n        var notifyItem, packet;\r\n        if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          vm[whats].remove(item);\r\n          vm.expanded[whats].remove(item.id);\r\n          vm.organizeData();\r\n          packet = {\r\n            catalog: whats,\r\n            type: 'delete',\r\n            user: {\r\n              idCON: $rootScope.user.idCON,\r\n              name: $rootScope.user.name\r\n            },\r\n            record: item\r\n          };\r\n          $rootScope.socketio.emit('data', packet);\r\n          notifyItem = $.extend({}, item, {\r\n            type: 'data'\r\n          });\r\n          return $rootScope.socketio.emit('notify', [notifyItem]);\r\n        }\r\n      });\r\n    };\r\n\r\n    function isForm(item) {\r\n      /*\r\n       1= bool, 2= str, 3 =num\r\n       */\r\n      return item.type === 2 || item.type === 3;\r\n    };\r\n\r\n    function add(what, to, ev, option) {\r\n      debugger;\r\n      var option;\r\n      var title;\r\n\r\n      if (option === void 0 || option === null || option === '') {\r\n        option = 1;\r\n      } else {\r\n        option = option;\r\n      }\r\n\r\n\r\n      switch (what) {\r\n        case 'item':\r\n          if (option == '1') {\r\n            vm.type =\r\n              {\r\n                title: 'Checkbox',\r\n                label: 'Checkbox Label'\r\n              }\r\n          } else if (option == '2') {\r\n            vm.type =\r\n              {\r\n                title: 'Text Box',\r\n                label: 'Text Box Label'\r\n              }\r\n          }\r\n          break;\r\n        case 'section':\r\n          vm.type.title = 'Section';\r\n          vm.type.label = 'Section Label'\r\n          break;\r\n        case 'heading':\r\n          vm.type.title = 'Heading';\r\n          vm.type.label = 'Heading Label';\r\n          break;\r\n        default:\r\n          vm.type.title = what;\r\n          vm.type.label = what + 'label';\r\n      }\r\n\r\n\r\n      vm.newItem = {\r\n        type: what,\r\n        to: to,\r\n        option: option,\r\n        name: '',\r\n        submitting: false,\r\n        dataType: option\r\n      };\r\n\r\n      $mdDialog.show({\r\n        controller: function DialogController($scope, $mdDialog) {\r\n          $scope.closeDialog = function () {\r\n            $mdDialog.hide();\r\n          }\r\n        },\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-add-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n\r\n    };\r\n\r\n    function userCheckboxes(userID) {\r\n      return $filter('filter')(vm.checkboxes, {\r\n        id_user: userID\r\n      }, true);\r\n    };\r\n\r\n    vm.item = {\r\n      applies: function (itemID) {\r\n        if ($filter('filter')(vm.checkboxDisplay.userCheckboxes(), {\r\n            id_item: itemID,\r\n            type: 1\r\n          }, true)[0] === !void 0) {\r\n          return true;\r\n        }\r\n      },\r\n      complies: function (itemID) {\r\n        if ($filter('filter')(vm.checkboxDisplay.userCheckboxes(), {\r\n            id_item: itemID,\r\n            type: 2\r\n          }, true)[0] === !void 0) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    function getUserKey(user) {\r\n      var ref1, ref2;\r\n      if (user.idCON === ((ref1 = $rootScope.showingUsers[0]) != null ? ref1.idCON : void 0)) {\r\n        return 0;\r\n      }\r\n      if (user.idCON === ((ref2 = $rootScope.showingUsers[1]) != null ? ref2.idCON : void 0)) {\r\n        return 1;\r\n      }\r\n      return -1;\r\n    };\r\n\r\n    function displayUserCheckboxes(user) {\r\n      debugger;\r\n      var userID, userKey;\r\n      userKey = vm.getUserKey(user);\r\n      console.log('initial userKey check', userKey);\r\n      if (userKey === -1) {\r\n        userKey = $rootScope.showingUsers.length ? 1 : 0;\r\n      }\r\n      console.log('final userKey', userKey);\r\n      $rootScope.showingUsers[userKey] = user;\r\n      userID = user.idCON;\r\n      if (!vm.userCheckboxes(userID).length) {\r\n        vm.loading.checkboxes = true;\r\n        return api.checkbox.get(vm.idCHK, userID).error(function (res) {\r\n          return $rootScope.message('Error talking to server to find user checkboxes.', 'warning');\r\n        }).success(function (res) {\r\n          console.log('vm.checkboxes', vm.checkboxes);\r\n\r\n          vm.checkboxes = vm.checkboxes.concat(res.checkboxes);\r\n          return vm.appendCheckboxesToItems(user);\r\n        })[\"finally\"](function () {\r\n          return vm.loading.checkboxes = false;\r\n        });\r\n      }\r\n    };\r\n\r\n    function evaluateConflicts(item, operation) {\r\n      debugger;\r\n      var addConflicts, leftNonCompliant, ref1, ref2, rightNonCompliant;\r\n      item = api.summary.evaluateItem(item, item.checkbox);\r\n      addConflicts = operation * +item.conflicts;\r\n      vm.conflicts += addConflicts;\r\n      if (((ref1 = item.checkbox) != null ? ref1[0] : void 0) !== void 0) {\r\n        leftNonCompliant = operation * +item.checkbox[0].nonCompliant;\r\n        vm.nonCompliant[0] += leftNonCompliant;\r\n      }\r\n      if (((ref2 = item.checkbox) != null ? ref2[1] : void 0) !== void 0) {\r\n        rightNonCompliant = operation * +item.checkbox[1].nonCompliant;\r\n        vm.nonCompliant[1] += rightNonCompliant;\r\n      }\r\n      return item;\r\n    };\r\n\r\n    function appendCheckboxesToItems(user) {\r\n      debugger;\r\n      var userKey;\r\n      vm.nonCompliant = [0, 0];\r\n      vm.conflicts = 0;\r\n      userKey = vm.getUserKey(user);\r\n      if (userKey === -1) {\r\n        return false;\r\n      }\r\n      return vm.items.forEach(function (item) {\r\n        var checkbox;\r\n        if (item.checkbox === void 0) {\r\n          item.checkbox = [];\r\n        }\r\n        checkbox = $filter('filter')(vm.checkboxes, {\r\n          id_item: item.id,\r\n          id_contact: user.idCON\r\n        }, true);\r\n        if (checkbox != null ? checkbox.length : void 0) {\r\n        item.checkbox[userKey] = checkbox[0];\r\n        }\r\n        return vm.evaluateConflicts(item, +1);\r\n      });\r\n    };\r\n\r\n    function removeUserCheckboxes(user) {\r\n      var action, userKey;\r\n      userKey = vm.getUserKey(user);\r\n      if (userKey === -1) {\r\n        return false;\r\n      }\r\n      action = ['shift', 'pop'][userKey];\r\n      vm.items.forEach(function (item) {\r\n        var checkbox, ref1;\r\n        checkbox = $filter('filter')(vm.checkboxes, {\r\n          id_item: item.id,\r\n          id_contact: user.idCON\r\n        }, true);\r\n        if ((ref1 = item.checkbox) != null) {\r\n          ref1[action]();\r\n        }\r\n        return item.checkbox[1] = [];\r\n      });\r\n      $rootScope.showingUsers[action]();\r\n      vm.conflicts = 0;\r\n      vm.nonCompliant = [0, 0];\r\n      vm.items.forEach(function (item) {\r\n        return vm.evaluateConflicts(item, +1);\r\n      });\r\n      return console.log('user checkboxes removed', user, $rootScope.showingUsers);\r\n    };\r\n\r\n    function showLinkedUsers(ev, item) {\r\n\r\n      vm.item = {\r\n        'name': item.name\r\n      }\r\n      $mdDialog.show({\r\n        controller: function DialogController($scope, $mdDialog) {\r\n          $scope.closeDialog = function () {\r\n            $mdDialog.hide();\r\n          }\r\n        },\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-show-linked-users-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n    $scope.$on('event:itemsLoaded', function () {\r\n      console.log('received event:itemsLoaded', $rootScope.showingUsers);\r\n      return $rootScope.showingUsers.forEach(function (user) {\r\n        vm.displayUserCheckboxes(user);\r\n      });\r\n    });\r\n\r\n    function toggleCheckbox(item, which, userKey) {\r\n      debugger;\r\n      vm.evaluateConflicts(item, -1);\r\n      return api.checkbox.toggle(item.id, $rootScope.showingUsers[userKey].idCON, which).success(function (res) {\r\n        if (item.checkbox === void 0) {\r\n          item.checkbox = [];\r\n        }\r\n        item.checkbox[userKey] = res.checkboxes[0];\r\n        return vm.evaluateConflicts(item, +1);\r\n      });\r\n    };\r\n\r\n    function showWhichInviteContactData(friend) {\r\n      var ref1, ref2, ref3;\r\n      if (((ref1 = $rootScope.user) != null ? ref1.idCON : void 0) === (friend != null ? (ref2 = friend.contacts) != null ? (ref3 = ref2.accepter) != null ? ref3.id : void 0 : void 0 : void 0)) {\r\n        return 'originator';\r\n      }\r\n      return 'accepter';\r\n    };\r\n\r\n    function CFC() {\r\n      var CFCs, checklists, group;\r\n      group = vm.group();\r\n      checklists = $rootScope.children('checklists', group.id);\r\n      CFCs = $filter('filter')(checklists, {\r\n        idCHK: vm.idCHK\r\n      }, true);\r\n      return CFCs[0];\r\n    };\r\n    function group() {\r\n      return $filter('filter')($rootScope.groups, {\r\n        id: vm.checklists[0].id_parent\r\n      }, true)[0];\r\n    };\r\n    function previous() {\r\n      var cfc, checklists, group, previousIndex, thisIndex;\r\n      group = vm.group();\r\n      if (group === void 0) {\r\n        return void 0;\r\n      }\r\n      checklists = $rootScope.children('checklists', group.id);\r\n      cfc = vm.CFC();\r\n      thisIndex = checklists.indexOf(cfc);\r\n      previousIndex = thisIndex - 1;\r\n      return checklists[thisIndex - 1];\r\n    };\r\n    function next() {\r\n      var cfc, checklists, group, nextIndex, thisIndex;\r\n      group = vm.group();\r\n      if (group === void 0) {\r\n        return void 0;\r\n      }\r\n      checklists = $rootScope.children('checklists', group.id);\r\n      cfc = vm.CFC();\r\n      thisIndex = checklists.indexOf(cfc);\r\n      nextIndex = thisIndex + 1;\r\n      return checklists[thisIndex + 1];\r\n    };\r\n\r\n    /*\r\n     PUBLISH\r\n     */\r\n    vm.publish = {\r\n      idCHK: null,\r\n      name: null,\r\n      pvt: true,\r\n      submitting: false,\r\n      gatherInfo: function (idCHK) {\r\n        vm.publish.idCHK = idCHK;\r\n        return true;\r\n      },\r\n      togglePrivate: function () {\r\n        this.pvt = !this.pvt;\r\n        return true;\r\n      },\r\n      publish: function () {\r\n\r\n        console.log('vm.publish.name', vm.publish.name);\r\n\r\n        var ref1, ref2;\r\n        if (((ref1 = vm.publish.idCHK) != null ? ref1.length : void 0) && ((ref2 = vm.publish.name) != null ? ref2.length : void 0)) {\r\n          vm.publish.submitting = true;\r\n          return api.checklists.publish(vm.publish.idCHK, vm.publish.name, 'checklist', vm.publish.pvt).error(function (res) {\r\n            return $rootScope.message('Unknown error publishing Template.', 'warning');\r\n          }).success(function (res) {\r\n            if (res.code) {\r\n              return $rootScope.message(\"Error publishing Template. (\" + res.code + \": \" + res.message + \")\", 'warning');\r\n            } else {\r\n              $rootScope.message(\"Template published successfully.\");\r\n              return $(\"#publishTemplate\").modal('hide');\r\n            }\r\n          })[\"finally\"](function () {\r\n            vm.publish.submitting = false;\r\n            vm.publish.idCHK = null;\r\n            return vm.publish.name = null;\r\n          });\r\n        } else {\r\n          return $rootScope.message('You must specify the Template Name.', 'warning');\r\n        }\r\n      }\r\n    };\r\n\r\n    /*\r\n     UPLOAD EXCEL\r\n     */\r\n    vm.uploaderOpts = {\r\n      url: 'ajax/checklist_details-uploadExcel.php',\r\n      queueLimit: 1,\r\n      filters: [\r\n        {\r\n          name: 'allTrue',\r\n          fn: function (item) {\r\n            return true;\r\n          }\r\n        }\r\n      ],\r\n      formData: [],\r\n      removeAfterUpload: true,\r\n      autoUpload: false,\r\n      onCancelItem: function (item) {\r\n        return item.remove();\r\n      },\r\n      onErrorItem: function (item, res) {\r\n        return $rootScope.message('Unable to upload File.', 'warning');\r\n      },\r\n      onSuccessItem: function (item, res) {\r\n        if (res.code) {\r\n          return $rootScope.message(\"Error adding Checklist details: (\" + res.code + \") \" + res.message, 'warning');\r\n        } else {\r\n          $rootScope.message(\"File uploaded.  Please refresh the page to see the changes.\");\r\n          return $(\"#uploadFile\").modal(\"hide\");\r\n        }\r\n      },\r\n      onAfterAddingFile: function (item) {\r\n        return console.log('File added: ', item);\r\n      },\r\n      onWhenAddingFileFailed: function (item, filter, options) {\r\n        return console.log('File add failed: ', item, filter, options);\r\n      },\r\n      onAfterAddingAll: function (addedItems) {\r\n        console.log('All added: ', addedItems);\r\n        vm.uploader.queue = addedItems;\r\n        return console.log('Queue: ', vm.uploader.queue);\r\n      }\r\n    };\r\n    //vm.uploader = new FileUploader(vm.uploaderOpts);\r\n    vm.upload = function (chkID) {\r\n      vm.uploader.formData = [\r\n        {\r\n          idCHK: chkID\r\n        }\r\n      ];\r\n      console.log('Form Data: ', vm.uploader.formData);\r\n      $(\"#uploadFile\").modal(\"show\");\r\n      return null;\r\n    };\r\n\r\n    /*\r\n     MODE SPECIFIC\r\n     */\r\n    vm.edit = {\r\n      start: function (what, which) {\r\n        var index, whats;\r\n        whats = what + 's';\r\n        index = vm[whats].indexOf(which);\r\n        vm[whats][index].edit = {\r\n          id: what === 'checklist' ? which.idCHK : which.id,\r\n          rid: which.rid,\r\n          index: index,\r\n          type: what,\r\n          text: which.name,\r\n          info: '',\r\n          submitting: false,\r\n          error: null,\r\n          message: ''\r\n        };\r\n        if (what === 'item') {\r\n          vm[whats][index].edit.info = which.info;\r\n        }\r\n        return vm[whats][index].editing = true;\r\n      },\r\n      stop: function (which) {\r\n        var whats;\r\n        whats = which.type + 's';\r\n        vm[whats][which.index].edit = null;\r\n        return vm[whats][which.index].editing = false;\r\n      },\r\n      submit: function (which) {\r\n        var whats;\r\n        whats = which.type + 's';\r\n        if (vm[whats][which.index].edit.text === vm[whats][which.index].name && vm[whats][which.index].edit.info === vm[whats][which.index].info) {\r\n          vm.edit.stop(which);\r\n          return false;\r\n        }\r\n        return api.edit.attemptEdit(which).error(function (res) {\r\n          vm[whats][which.index].edit.error = res.code;\r\n          return vm[whats][which.index].edit.message = res.message;\r\n        }).success(function (res) {\r\n          var notifyItem, packet;\r\n          vm[whats][which.index] = res.updated;\r\n          packet = {\r\n            catalog: whats,\r\n            type: 'edit',\r\n            user: {\r\n              idCON: $rootScope.user.idCON,\r\n              name: $rootScope.user.name\r\n            },\r\n            record: res.updated\r\n          };\r\n          console.log('emitting data', packet);\r\n          $rootScope.socketio.emit('data', packet);\r\n          notifyItem = $.extend({}, res.updated, {\r\n            type: 'data'\r\n          });\r\n          $rootScope.notify(notifyItem);\r\n          vm.organizeData();\r\n          return $rootScope.showingUsers.forEach(function (user) {\r\n            return vm.appendCheckboxesToItems(user);\r\n          });\r\n        })[\"finally\"](function () {\r\n          return vm.edit.stop(which);\r\n        });\r\n      }\r\n    };\r\n\r\n\r\n    /*\r\n     LABELS\r\n     */\r\n    $scope.$on('event:labelsUpdated', function () {\r\n      return vm.labels.selectable = $filter('filter')($rootScope.user.dashboard.labels, {\r\n        type: vm.labels.item.type\r\n      });\r\n    });\r\n    $scope.$on('event:labelSelectionUpdated', function (e, data) {\r\n      var idx, item, itemLocal, showModal, user;\r\n      console.log('labelSelectionUpdated triggered', data);\r\n      user = data.user;\r\n      item = data.item;\r\n      if (user.idCON === $rootScope.user.idCON) {\r\n        return console.log('event triggered by this user; no action');\r\n      } else if (item.idCHK !== vm.idCHK) {\r\n        return console.log('event triggered on other checklist');\r\n      } else {\r\n        console.log('event is relevant; replacing local item');\r\n        itemLocal = $filter('filter')(vm.items, {\r\n          id: item.id\r\n        }, true)[0];\r\n        if (itemLocal === void 0) {\r\n          console.log('could not find local item');\r\n        } else {\r\n          idx = vm.items.indexOf(itemLocal);\r\n          if (idx === -1) {\r\n            console.log('could not index local item');\r\n          } else {\r\n            vm.items[idx] = item;\r\n            console.log('local item replaced', idx, vm.items);\r\n          }\r\n        }\r\n        if (item.id === vm.labels.item.id) {\r\n          console.log('event is about this item!');\r\n          showModal = ($('#select-labels-modal').data('bs.modal') || {\r\n            isShown: false\r\n          }).isShown;\r\n          vm.labels.select(item, showModal);\r\n          $scope.$apply();\r\n          console.log('new item selected', vm.labels.item);\r\n          return $rootScope.message(\"Label selection updated by \" + user.name.full);\r\n        }\r\n      }\r\n    });\r\n\r\n    vm.labels = {\r\n      saving: false,\r\n      item: null,\r\n      selected: [],\r\n      selectable: [],\r\n      select: function (item) {\r\n        var base, base1;\r\n        vm.labels.selected = item.labels;\r\n        vm.labels.item = {\r\n          id: item.id,\r\n          index: vm.items.indexOf(item),\r\n          type: item.type,\r\n          displayType: typeof (base = item.type === 2) === \"function\" ? base({\r\n            'Text': typeof (base1 = item.type === 3) === \"function\" ? base1({\r\n              'Number': 'Apply/Comply'\r\n            }) : void 0\r\n          }) : void 0\r\n        };\r\n        vm.labels.saving = false;\r\n        vm.labels.create.entering = false;\r\n        vm.labels.create.saving = false;\r\n        vm.labels.create.name = '';\r\n        vm.labels.create.explanation = '';\r\n        vm.labels.selectable = $filter('filter')($rootScope.user.dashboard.labels, {\r\n          type: item.type\r\n        });\r\n        //console.log('item selected for label update', item);\r\n        //console.log('labels selectable for item label update', vm.labels);\r\n        vm.setLabels(item);\r\n        return false;\r\n      },\r\n      isSelected: function (label) {\r\n        //console.log('isSelected => label', label);\r\n        var index;\r\n        index = vm.labels.selected.indexOf(label.id);\r\n        if (index < 0) {\r\n          return false;\r\n        }\r\n        return true;\r\n      },\r\n      toggle: function (label) {\r\n        var index, isSelected;\r\n        isSelected = vm.labels.isSelected(label);\r\n        if (isSelected) {\r\n          index = vm.labels.selected.indexOf(label.id);\r\n          return vm.labels.selected.splice(index, 1);\r\n        } else {\r\n          return vm.labels.selected.push(label.id);\r\n        }\r\n      },\r\n      hide: function (lbl) {\r\n        lbl.hiding = true;\r\n        return api.dashboard.labels.hide(lbl.id).success(function (res) {\r\n          var idx;\r\n          if (res === void 0 || res === null || res === \"\") {\r\n            return $rootScope.message(\"Server not responding properly.\", 'warning');\r\n          } else if (res.code) {\r\n            return $rootScope.message(res.message, 'warning');\r\n          } else {\r\n            idx = $rootScope.user.dashboard.labels.indexOf(lbl);\r\n            $rootScope.user.dashboard.labels.splice(idx, 1);\r\n            idx = vm.labels.selectable.indexOf(lbl);\r\n            return vm.labels.selectable.splice(idx, 1);\r\n          }\r\n        }).error(function (res) {\r\n          return $rootScope.message(\"Server not responding.\", 'warning');\r\n        })[\"finally\"](function () {\r\n          return lbl.hiding = false;\r\n        });\r\n      },\r\n      save: function () {\r\n        vm.labels.saving = true;\r\n        return api.dashboard.labels.update(this.item.id, this.selected).success(function (res) {\r\n          var notifyItem, packet;\r\n          if (res === void 0 || res === null || res === \"\") {\r\n            return $rootScope.message(\"Server not responding properly.\", 'warning');\r\n          } else if (res.code) {\r\n            return $rootScope.message(res.message, 'warning');\r\n          } else {\r\n            vm.items[vm.labels.item.index] = res.item;\r\n            packet = {\r\n              catalog: 'items',\r\n              type: 'edit',\r\n              user: {\r\n                idCON: $rootScope.user.idCON,\r\n                name: $rootScope.user.name\r\n              },\r\n              record: res.item\r\n            };\r\n            //console.log('emitting data', packet);\r\n            $rootScope.socketio.emit('data', packet);\r\n            notifyItem = $.extend({}, res.item, {\r\n              type: 'data'\r\n            });\r\n            //console.log('about to sent notify event', notifyItem);\r\n            $rootScope.socketio.emit('notify', [notifyItem]);\r\n            $rootScope.message(\"Labels saved.\", 'success');\r\n            vm.closeDialog();\r\n            return vm.organizeData();\r\n          }\r\n        }).error(function (res) {\r\n          return $rootScope.message(\"Server not responding.\", 'warning');\r\n        })[\"finally\"](function () {\r\n\r\n          return vm.labels.saving = false;\r\n        });\r\n      },\r\n      create: {\r\n        entering: false,\r\n        saving: false,\r\n        name: '',\r\n        explanation: '',\r\n        enter: function () {\r\n          vm.labels.create.entering = true;\r\n          return false;\r\n        },\r\n        save: function () {\r\n          vm.labels.create.saving = true;\r\n          //console.log('adding new label', vm.labels.item, this.name, this.explanation);\r\n          return api.dashboard.labels.add(vm.labels.item.type, this.name, this.explanation).success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              return $rootScope.message(\"Server not responding properly.\", 'warning');\r\n            } else if (res.code) {\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              vm.labels.selectable.push(res.labels[0]);\r\n              vm.labels.create.entering = false;\r\n              $rootScope.user = res.user;\r\n              //console.log('about to propagate labels created', $rootScope.user.organization.idACC, $rootScope.socketio);\r\n              $rootScope.socketio.emit('labels_changed', $rootScope.user.organization.idACC);\r\n              return $rootScope.message(\"New Label added\", 'success');\r\n              //vm.closeDialog();\r\n            }\r\n          }).error(function (res) {\r\n            return $rootScope.message(\"Server not responding.\", 'warning');\r\n          })[\"finally\"](function () {\r\n            return vm.labels.create.saving = false;\r\n\r\n          });\r\n        }\r\n      },\r\n      test: function (label) {\r\n        //console.log(label);\r\n      }\r\n    };\r\n\r\n    vm.find = {\r\n      template: null,\r\n      searchCount: 0,\r\n      searching: false,\r\n      creating: false,\r\n      results: [],\r\n      begin: function (ev, parentID, type) {\r\n\r\n        console.log(ev, parentID, type);\r\n        vm.find.template = {\r\n          criteria: {\r\n            name: '',\r\n            organization: '',\r\n            author: '',\r\n            version: '',\r\n            type: type\r\n          },\r\n          parentID: parentID\r\n        };\r\n        vm.find.searching = false;\r\n        vm.find.creating = false;\r\n        vm.find.searchCount = 0;\r\n        vm.find.results = [];\r\n        vm.openAddChecklistTemplateDialog(ev);\r\n        return null;\r\n      },\r\n      search: function () {\r\n        vm.find.searching = true;\r\n        if (vm.find.template.criteria.name === '' && vm.find.template.criteria.organization === '' && vm.find.template.criteria.author === '' && vm.find.template.criteria.version === '') {\r\n          $rootScope.message('Please provide Search Criteria', 'warning');\r\n          vm.find.searching = false;\r\n          //console.log('died in search');\r\n          return false;\r\n        }\r\n\r\n        //console.log('vm.find', vm.find.template);\r\n        return api.checklists.searchForTemplates(vm.find.template.criteria).error(function (res) {\r\n          return $rootScope.message('Unknown error finding Templates.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            res.display = \"Error finding Templates: (\" + res.code + \"): \" + res.message;\r\n            $rootScope.message(res.display, 'warning');\r\n          }\r\n          vm.find.results = res;\r\n          console.log('vm.find.results', vm.find.results);\r\n          return vm.find.searchCount++;\r\n        })[\"finally\"](function () {\r\n          return vm.find.searching = false;\r\n        });\r\n      },\r\n      create: function (idCTMPL, parentID) {\r\n        console.log('idCTMPL', idCTMPL);\r\n        console.log('parentID', parentID);\r\n\r\n\r\n        vm.find.creating = true;\r\n        return api.checklists.createFromTemplate(idCTMPL, parentID, 'checklist').error(function (res) {\r\n          return $rootScope.message('Unknown error creating Checklist from selected Template.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            return $rootScope.message(\"Error creating Checklist from Template: (\" + res.code + \"): \" + res.message, 'warning');\r\n          } else {\r\n\r\n            $rootScope.$broadcast('event:updateModels');\r\n\r\n            if (!$state.is('app.checklist.detail')) {\r\n              vm.checklists.unshift(res.checklists[0]);\r\n            }\r\n\r\n            $rootScope.message('Template had been applied', 'success');\r\n            $rootScope.organizeData();\r\n            vm.closeDialog();\r\n          }\r\n        })[\"finally\"](function () {\r\n          return vm.find.creating = false;\r\n        });\r\n      }\r\n\r\n    };\r\n\r\n    function preventDefault(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    };\r\n\r\n    function addChecklistDialog(ev) {\r\ndebugger;\r\n      vm.verticalStepper = {\r\n        step1: {},\r\n        step2: {},\r\n        step3: {}\r\n      };\r\n\r\n      $mdDialog.show({\r\n        controller: function DialogController($scope, $mdDialog) {\r\n          $scope.closeDialog = function () {\r\n            debugger\r\n            vm.wizard.newFolder = false;\r\n            vm.wizard.newGroup = false;\r\n            vm.wizard.newChecklist = false;\r\n           vm.wizard.switch = false;\r\n            $mdDialog.hide();\r\n          }\r\n        },\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-new-checklist-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n\r\n    };\r\n\r\n    function openAddChecklistTemplateDialog(ev) {\r\n\r\n      vm.title = 'Determine the place and name your new checklist';\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-add-from-template-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n\r\n    };\r\n\r\n\r\n    function openUploadAttachmentDialog(ev, pType, pID, index, attachments) {\r\n      debugger;\r\n      vm.pType = pType;\r\n      vm.pID = pID;\r\n      vm.title = 'Attachments';\r\n      vm.index = index;\r\n      vm.SelectedAttachments = attachments;\r\n      vm.upload = false;\r\n      console.log('vm.attachments', vm.attachments);\r\n\r\n\r\n      $mdDialog.show({\r\n        controller: function DialogController($scope, $mdDialog) {\r\n          $scope.closeDialog = function () {\r\n          $mdDialog.hide();\r\n          }\r\n        },\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-upload-attachment-dialog.html',\r\n        parent: angular.element($document.find('#todo')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n\r\n    };\r\n    \r\n\r\n\r\n    function openConflictsDialog(ev) {\r\n\r\n      console.log('vm.conflicts', vm.conflicts);\r\n\r\n\r\n      $mdDialog.show({\r\n        controller: function DialogController($scope, $mdDialog) {\r\n          $scope.closeDialog = function () {\r\n            $mdDialog.hide();\r\n          }\r\n        },\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-conflicts-dialog.html',\r\n        parent: angular.element($document.find('#todo')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n\r\n    };\r\n\r\n    function uploadAttachment(what, pID, index) {\r\n\r\n      var whats;\r\n\r\n      whats = what + 's';\r\n\r\n      console.log('what', what);\r\n      console.log('whats', whats);\r\n      console.log('PID', pID);\r\n      console.log('index', index);\r\n\r\n      console.log('AWS.config', AWS.config);\r\n\r\n      AWS.config.update({accessKeyId: vm.creds.access_key, secretAccessKey: vm.creds.secret_key});\r\n      AWS.config.region = 'us-west-1';\r\n      var bucket = new AWS.S3({params: {Bucket: vm.creds.bucket}});\r\n\r\n      vm.file = $('#AWSFileUploadInput')[0].files[0];\r\n\r\n      if (vm.file) {\r\n        vm.file.label = vm.lable;\r\n        console.log('vm.file', vm.file);\r\n        console.log('vm.file.label', vm.label);\r\n        var fileSize = Math.round(parseInt(vm.file.size));\r\n        if (fileSize > vm.sizeLimit) {\r\n          $rootScope.message('Sorry, your attachment is too big. <br/> Maximum ' + vm.fileSizeLabel() + ' file attachment allowed', 'warning');\r\n          return false;\r\n        }\r\n        // Prepend Unique String To Prevent Overwrites\r\n        var uniqueFileName = vm.uniqueString() + '-' + vm.file.name;\r\n        vm.aws = 'https://s3-us-west-1.amazonaws.com/checklinked-attachments-temp/' + uniqueFileName;\r\n\r\n        var params = {Key: uniqueFileName, ContentType: vm.file.type, Body: vm.file, ServerSideEncryption: 'AES256'};\r\n\r\n        bucket.putObject(params, function (err, data) {\r\n\r\n          api.attachments.add(vm.pID, vm.pType, vm.aws, vm.file.name, vm.file.size, vm.label).error(function (res) {\r\n            debugger;\r\n            return $rootScope.message(\"Error Uploading Attachment\", 'warning');\r\n          }).success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              $rootScope.message(\"Error Adding Attachments\", 'warning');\r\n            } else if (res.code) {\r\n              $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              console.log('vm[whats]', vm[whats]);\r\n              console.log('res', res.attachments[0]);\r\n              vm[whats][index].attachments.push(res.attachments[0]);\r\n               console.log(\"hello\", vm[whats])\r\n            }\r\n          });\r\n\r\n          if (err) {\r\n            $rootScope.message(err.message, err.code, 'warning');\r\n            return false;\r\n          }\r\n          else {\r\n\r\n            vm.label=\"\";\r\n            vm.file=\"\";\r\n            //vm[whats][pID].push(res[what]);\r\n            vm.loadChecklist(vm.idCHK);\r\n            // Upload Successfully Finished\r\n            $rootScope.message(\"Attachment Uploaded\", 'success');\r\n            vm.checklist.// Reset The Progress Bar\r\n            setTimeout(function () {\r\n              vm.uploadProgress = 0;\r\n              $scope.$digest();\r\n            }, 4000);\r\n          }\r\n        })\r\n          .on('httpUploadProgress', function (progress) {\r\n            vm.uploadProgress = Math.round(progress.loaded / progress.total * 100);\r\n            $scope.$digest();\r\n          });\r\n      }\r\n      else {\r\n        // No File Selected\r\n        vm.loadChecklist(vm.idCHK);\r\n        $rootScope.message('Please select a file to upload', 'warning');\r\n      }\r\n\r\n      vm.organizeData();\r\n\r\n      vm.closeDialog();\r\n    };\r\n\r\n    function uniqueString() {\r\n      var text = \"\";\r\n      var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n\r\n      for (var i = 0; i < 8; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n      }\r\n      return text;\r\n    };\r\n\r\n    vm.sizeLimit = 10585760; // 10MB in Bytes\r\n    vm.uploadProgress = 0;\r\n    vm.creds = {\r\n      bucket: 'checklinked-attachments-temp',\r\n      access_key: 'AKIAI6XHWIU2YCPG6BPA',\r\n      secret_key: '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'\r\n    };\r\n\r\n    vm.fileSizeLabel = function () {\r\n      // Convert Bytes To MB\r\n      return Math.round(vm.sizeLimit / 1024 / 1024) + 'MB';\r\n    };\r\n\r\n\r\n    function viewAttachmentsDialog(ev, idParent, idCHK, idCNV, s) {\r\n\r\n      vm.title = 'View Attachemnts';\r\n\r\n      $mdDialog.show({\r\n        controller: 'ChecklistViewAttachmentsDialogController',\r\n        controllerAs: 'vm',\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-view-attachments-dialog.html',\r\n        parent: angular.element($document.find('#todo')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n        locals: {\r\n          idParent: idParent,\r\n          idATT: idATT,\r\n          idCHK: idCHK,\r\n          idCNV: idCNV,\r\n          s: s\r\n        }\r\n      });\r\n\r\n    };\r\n\r\n\r\n    function openFolderInput() {\r\n      debugger;\r\n      vm.folder = '';\r\n      vm.group = '';\r\n      vm.wizard.newFolder = true;\r\n      vm.wizard.newGroup = false;\r\n      vm.wizard.newChecklist = false;\r\n      console.log('vm.wizard', vm.wizard);\r\n\r\n    };\r\n\r\n    function cancelFolderInput() {\r\n      return vm.wizard.newFolder = false;\r\n      console.log('vm.wizard', vm.wizard);\r\n    };\r\n\r\n    function cancelGroupInput() {\r\n      console.log('fff');\r\n      return vm.wizard.newGroup = false;\r\n      return vm.wizard.switch = false;\r\n      console.log('vm.wizard', vm.wizard);\r\n    };\r\n\r\n    function cancelChecklistInput() {\r\n      vm.closeDialog();\r\n      console.log('vm.wizard', vm.wizard);\r\n    };\r\n\r\n    function openGroupInput() {\r\n      vm.group = '';\r\n      vm.wizard.newFolder = false;\r\n      vm.wizard.newChecklist = false;\r\n      vm.wizard.newGroup = true;\r\n      vm.wizard.switch = true;\r\n      console.log('vm.wizard', vm.wizard);\r\n    };\r\n\r\n\r\n    function addNewFolder() {\r\n      //console.log('pre insert vm.folders', vm.folders);\r\n      //Set sending variable for buttons\r\n      vm.folder.sending = true;\r\n\r\n      //Set order variable for sql insert\r\n      vm.folder.order = 1;\r\n      vm.folder.order += vm.folders.length;\r\n\r\n      api.folders.add(vm.folder.name, vm.folder.description, vm.folder.order).error(function (res) {\r\n        return $rootScope.message(\"Error Creating Project\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error Creating Project\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          vm.verticalStepper = {\r\n            newFolderID: res.folder.id\r\n          }\r\n\r\n\r\n          $rootScope.$broadcast('event:updateModels');\r\n          vm.folders.push(res.folder);\r\n          $rootScope.organizeData();\r\n\r\n          vm.fetchGroups(res.folder.id);\r\n\r\n\r\n          $rootScope.message('Project Added');\r\n\r\n          //Hide Buttons\r\n          vm.wizard.newFolder = false;\r\n\r\n\r\n        }\r\n      });\r\n\r\n    };\r\n\r\n    function addNewGroup(groupName, folderID) {\r\n\r\n      //Set sending variable for buttons\r\n      vm.group.sending = true;\r\n\r\n      //Set order variable for sql insert\r\n      vm.group.order = 1;\r\n      vm.group.order += vm.groups.length;\r\n      vm.group.text = groupName;\r\n      vm.group.id_parent = folderID;\r\n\r\n      api.groups.add(vm.group.text, vm.group.order, vm.group.id_parent).error(function (res) {\r\n        return $rootScope.message(\"Error Adding Folder\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error Adding Folder\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          console.log('res.groups', res.groups);\r\n          $rootScope.$broadcast('event:updateModels');\r\n          vm.groups.push(res.group);\r\n          $rootScope.organizeData();\r\n\r\n          vm.verticalStepper.newGroupID = res.group.id;\r\n          vm.verticalStepper.newFolderID = res.group.id_parent;\r\n\r\n          vm.wizard.newGroup = false;\r\n          vm.wizard.switch = false;\r\n\r\n\r\n          $rootScope.message('Folder Added');\r\n        }\r\n      });\r\n    };\r\n\r\n    function addNewChecklist(checklistName, groupID, folderID) {\r\n       \r\n      //Set sending variable for buttons\r\n      vm.checklist.sending = true;\r\n\r\n      //Set order variable for sql insert\r\n      vm.checklist.order = 1;\r\n      vm.checklist.order += vm.checklists.length;\r\n\r\n      //name, order, to\r\n      api.checklists.add(checklistName, vm.checklist.order, groupID).error(function (res) {\r\n        return $rootScope.message(\"Error Adding Checklist\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message(\"Error Adding Checklist\", 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          //console.log('res checklist', res);\r\n          //console.log('res.checklist.id', res.checklist.id);\r\n          api.sections.add('sections', 1, res.checklist.id).error(function (res) {\r\n            return $rootScope.message(\"Error Adding Section\", 'warning');\r\n          }).success(function (res) {\r\n            //console.log('res failed', res);\r\n            if (res === void 0 || res === null || res === '') {\r\n              return $rootScope.message(\"Error Adding Section\", 'warning');\r\n            } else if (res.code) {\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              //console.log('res success', res);\r\n              vm.sections.push(res.section);\r\n            }\r\n          });\r\n          //console.log('vm.checklists pre', vm.checklists);\r\n\r\n          $rootScope.$broadcast('event:updateModels');\r\n          console.log('$stateParams.id', $stateParams.id);\r\n          //console.log('$state', $state);\r\n          console.log('$state.is', $state.is);\r\n\r\n\r\n          //vm.checklists = $rootScope.checklists;\r\n          if (!$state.is('app.checklist.detail')) {\r\n            console.log('pre unshift vm.checklists', vm.checklists);\r\n            vm.checklists.unshift(res.checklist);\r\n            console.log('post unshift vm.checklists', vm.checklists);\r\n          }\r\n\r\n          $rootScope.organizeData();\r\n          $rootScope.message('Checklist Added');\r\n\r\n        }\r\n      });\r\n\r\n      vm.closeDialog();\r\n    };\r\n\r\n    function setLabels(item, ev) {\r\n      $mdDialog.show({\r\n        controller: function DialogController($scope, $mdDialog) {\r\n          $scope.closeDialog = function () {\r\n            $mdDialog.hide();\r\n          }\r\n        },\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-set-labels-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    };\r\n\r\n    function sendLinkRequest(ev, idCHK) {\r\n\r\n      $mdDialog.show({\r\n        controller: 'ChecklistSendLinkRequestDialogController',\r\n        controllerAs: 'vm',\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-send-link-request-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n        locals: {\r\n          idCHK: idCHK\r\n        }\r\n      });\r\n\r\n    };\r\n\r\n    function publishTemplate(ev, idCHK) {\r\n      $mdDialog.show({\r\n        controller: 'ChecklistPublishTemplateDialogController',\r\n        controllerAs: 'vm',\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-publish-template-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n        locals: {\r\n          idCHK: idCHK\r\n        }\r\n      });\r\n\r\n    };\r\n\r\n    function deleteConfirm(what, item, ev) {\r\n      console.log('what', what);\r\n      console.log('item', item);\r\n      var confirm = $mdDialog.confirm()\r\n        .title('Please confirm you want to delete ' + item.name + '?')\r\n        .htmlContent('This action cannot be undone.')\r\n        .ariaLabel('delete' + what)\r\n        .targetEvent(ev)\r\n        .ok('OK')\r\n        .cancel('CANCEL');\r\n\r\n      $mdDialog.show(confirm).then(function () {\r\n        vm.deleteItem(what, item, ev);\r\n      });\r\n    };\r\n\r\n    function deleteItem(what, item, ev) {\r\n\r\n      var svc, whats;\r\n      whats = what + 's';\r\n\r\n      svc = vm.svc(what);\r\n\r\n      console.log()\r\n\r\n      return svc.destroy(item.id).success(function (res) {\r\n        var notifyItem, packet;\r\n        if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          vm[whats].remove(item);\r\n          vm.organizeData();\r\n          packet = {\r\n            catalog: whats,\r\n            type: 'delete',\r\n            user: {\r\n              idCON: $rootScope.user.idCON,\r\n              name: $rootScope.user.name\r\n            },\r\n            record: item\r\n          };\r\n          //console.log('emitting data', packet);\r\n          $rootScope.socketio.emit('data', packet);\r\n          notifyItem = $.extend({}, item, {\r\n            type: 'data'\r\n          });\r\n          //console.log('about to sent notify event', notifyItem);\r\n          $rootScope.message(item.name + ' successfully deleted', 'success');\r\n          return $rootScope.socketio.emit('notify', [notifyItem]);\r\n        }\r\n      });\r\n\r\n    };\r\n\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n      //console.log('sidenavId', sidenavId);\r\n    };\r\n\r\n    function toggleFilter(filter) {\r\n      vm.checklistFilters[filter] = !vm.checklistFilters[filter];\r\n\r\n      checkFilters();\r\n    };\r\n\r\n    function toggleFilterWithEmpty(filter) {\r\n      if (vm.checklistFilters[filter] === '') {\r\n        vm.checklistFilters[filter] = true;\r\n      }\r\n      else {\r\n        vm.checklistFilters[filter] = '';\r\n      }\r\n      checkFilters();\r\n    };\r\n\r\n    function resetFilters() {\r\n      vm.showAllChecklists = true;\r\n      vm.checklistFilters = angular.copy(vm.checklistFiltersDefaults);\r\n    };\r\n\r\n    function checkFilters() {\r\n      vm.showAllChecklists = !!angular.equals(vm.checklistFiltersDefaults, vm.checklistFilters);\r\n    };\r\n\r\n    function fetchGroups(id) {\r\n\r\n      vm.groups = $rootScope.children('groups', id);\r\n      console.log('vm.groups pre organizeData id / vm.groups', id, vm.groups)\r\n      $rootScope.organizeData();\r\n      console.log('fetching', id, vm.groups);\r\n\r\n      if (!vm.groups.length > 0) {\r\n        vm.wizard.switch = true;\r\n      } else {\r\n        vm.wizard.switch = false;\r\n      }\r\n    };\r\n\r\n    vm.loading = {\r\n      checklist: false,\r\n      sections: false,\r\n      headings: false,\r\n      items: false,\r\n      checkboxes: false\r\n    };\r\n\r\n    vm.loaded = {\r\n      checklist: false,\r\n      sections: false,\r\n      headings: false,\r\n      items: false,\r\n      checkboxes: false\r\n    };\r\n\r\n    //console.log('initial loading & loaded set', vm.loading, vm.loaded);\r\n\r\n    function setBlank() {\r\n      vm.loadingLinked = false;\r\n      vm.error = 0;\r\n      vm.message = '';\r\n      vm.users = [];\r\n      return vm.usersLoaded = false;\r\n    };\r\n\r\n    vm.setBlank();\r\n\r\n    function setError(err, msg) {\r\n      vm.error = err;\r\n      return vm.message = msg;\r\n    };\r\n\r\n    function toggleShowCheckboxes(user) {\r\n      var show;\r\n      show = {\r\n        idCON: user.idCON,\r\n        name: user.name.first\r\n      };\r\n      user.isShowing = !$rootScope.userCheckboxesAreShowing(show);\r\n      if (user.isShowing) {\r\n        vm.displayUserCheckboxes(show);\r\n        console.log('displayed user', user, show);\r\n        console.log('showingUsers', $rootScope.showingUsers);\r\n      } else {\r\n        vm.removeUserCheckboxes(show);\r\n        console.log('undisplayed user', user, show);\r\n      }\r\n      return true;\r\n    };\r\n\r\n    function loadLinkedUsers() {\r\n      console.log('loading users', $scope);\r\n      vm.setBlank();\r\n      vm.loadingLinked = true;\r\n      return api.checklists.getLinkedUsers(vm.idCHK).then(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return vm.setError(-1, 'Server not responding properly.');\r\n        } else if (res.code) {\r\n          return vm.setError(res.code, res.message);\r\n        } else {\r\n          res.checklists.forEach(function (cfc) {\r\n            var show, usr;\r\n            usr = cfc.ownerDetails;\r\n            usr.isShowing = $rootScope.userCheckboxesAreShowing(usr);\r\n            if (cfc.complete) {\r\n              usr.complete = true;\r\n            } else {\r\n              usr.complete = false;\r\n            }\r\n            vm.users.push(usr);\r\n            console.log('pushed cfc to users', cfc, usr, vm.users);\r\n            if (usr.isShowing) {\r\n              show = {\r\n                idCON: usr.idCON,\r\n                name: usr.name.first\r\n              };\r\n              return vm.displayUserCheckboxes(show);\r\n            }\r\n          });\r\n          return vm.usersLoaded = true;\r\n        }\r\n      }, function (err) {\r\n        return vm.setError(-1, 'Unable to load linked user list.');\r\n      }).then(function () {\r\n        return vm.loadingLinked = false;\r\n      });\r\n    };\r\n\r\n\r\n///////////////figure a way to make this work/////////////////\r\n\r\n    $scope.$on('event:checklistLoaded', function () {\r\n      console.log('$on');\r\n      if (!vm.usersLoaded && !vm.loadingLinked) {\r\n        console.log('loading users by event');\r\n        vm.loadLinkedUsers();\r\n      }\r\n    });\r\n\r\n    if (!vm.usersLoaded && !vm.loadingLinked) {\r\n      console.log('loading users by default');\r\n      vm.loadLinkedUsers();\r\n    }\r\n\r\n    /*\r\n     function createHeading(what, name, to, type, info) {\r\n     var count, order, ref1, svc, whats;\r\n     if (to == null) {\r\n     to = null;\r\n     }\r\n     if (type == null) {\r\n     type = 1;\r\n     }\r\n     if (info == null) {\r\n     info = '';\r\n     }\r\n     whats = what + 's';\r\n     svc = vm.svc(what);\r\n     vm.newItem.submitting = true;\r\n     order = 1;\r\n     if (what === 'section') {\r\n     order += vm.sections.length;\r\n\r\n     } else {\r\n     count = (ref1 = $filter('filter')($scope[whats], {\r\n     id_parent: to\r\n     }, true)) != null ? ref1 : [];\r\n     order += count.length;\r\n     }\r\n     console.log('calling create:add service', name, order, to, type, info);\r\n     return svc.add(name, order, to, type, info).success(function(res) {\r\n     var notifyItem, packet;\r\n     if (res.code) {\r\n     return $rootScope.message(res.message, 'warning');\r\n     } else {\r\n     vm.sections.push(res[what]);\r\n     vm.organizeData();\r\n     packet = {\r\n     catalog: whats,\r\n     type: 'add',\r\n     user: {\r\n     idCON: $rootScope.user.idCON,\r\n     name: $rootScope.user.name\r\n     },\r\n     record: res[what]\r\n     };\r\n     console.log('emitting data', packet);\r\n     $rootScope.socketio.emit('data', packet);\r\n     notifyItem = $.extend({}, res[what], {\r\n     type: 'data'\r\n     });\r\n     console.log('about to sent notify event', notifyItem);\r\n     $rootScope.socketio.emit('notify', [notifyItem]);\r\n     return $(\"#newItem\").modal(\"hide\");\r\n     }\r\n     })[\"finally\"](function() {\r\n     return vm.newItem.submitting = false;\r\n     });\r\n     };\r\n     */\r\n\r\n    function openChecklistDialog(ev, checklist) {\r\n\r\n      vm.checklist = checklist;\r\n      vm.title = 'Edit Checklist';\r\n\r\n      console.log('vm.checklist', vm.checklist);\r\n\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-edit-checklist-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n    function saveChecklist() {\r\n\r\n      var editPack;\r\n\r\n      editPack = {\r\n        'id': vm.checklist.idCHK,\r\n        'rid': vm.checklist.rid,\r\n        'index': 0,\r\n        'type': 'checklist',\r\n        'text': vm.checklist.name\r\n      };\r\n\r\n      console.log('vm.vars.message', vm.checklist.name);\r\n\r\n      api.checklists.edit(editPack).error(function (res) {\r\n        $rootScope.message(\"Error Editing Checklist\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          $rootScope.message(\"Error Editing Checklist\", 'warning');\r\n        } else if (res.code) {\r\n          $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          //Toaster Notification\r\n          $rootScope.message('Checklist Edited', 'success');\r\n\r\n          vm.checklist.sending = false;\r\n\r\n          //Close Dialog Window\r\n          vm.closeDialog();\r\n        }\r\n      });\r\n    }\r\n\r\n    function openSectionDialog(ev, section) {\r\n\r\n      vm.section = section;\r\n      vm.title = 'Edit Section';\r\n\r\n      console.log('vm.section', vm.section);\r\n\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-edit-section-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n    function saveSection() {\r\n\r\n      var editPack;\r\n\r\n      editPack = {\r\n        'id': vm.section.id,\r\n        'rid': vm.section.rid,\r\n        'index': 0,\r\n        'type': 'section',\r\n        'text': vm.section.name\r\n      };\r\n\r\n      api.checklists.edit(editPack).error(function (res) {\r\n        $rootScope.message(\"Error Editing Section\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          $rootScope.message(\"Error Editing Section\", 'warning');\r\n        } else if (res.code) {\r\n          $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          $rootScope.message('Section Edited', 'success');\r\n\r\n          vm.section.sending = false;\r\n\r\n          vm.closeDialog();\r\n        }\r\n      });\r\n    }\r\n\r\n    function openHeadingDialog(ev, heading) {\r\n\r\n      vm.heading = heading;\r\n      vm.title = 'Edit Heading';\r\n\r\n      console.log('vm.heading', vm.heading);\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-edit-heading-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n    function saveHeading() {\r\n\r\n      var editPack;\r\n\r\n      editPack = {\r\n        'id': vm.heading.id,\r\n        'rid': vm.heading.rid,\r\n        'index': 0,\r\n        'type': 'heading',\r\n        'text': vm.heading.name\r\n      };\r\n\r\n      api.checklists.edit(editPack).error(function (res) {\r\n        $rootScope.message(\"Error Editing Heading\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          $rootScope.message(\"Error Editing Heading\", 'warning');\r\n        } else if (res.code) {\r\n          $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          $rootScope.message('Section Heading', 'success');\r\n\r\n          vm.heading.sending = false;\r\n\r\n          vm.closeDialog();\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n    function closeConfilicts(){\r\n      debugger;\r\n     if($rootScope.showingUsers.length>1) {\r\n      $rootScope.showingUsers.splice(1, 1); \r\n      $state.go('app.summary');\r\n     }\r\n         \r\n    \r\n    }\r\n\r\n    function openItemDialog(ev, item) {\r\n debugger;\r\n      vm.item = item;\r\n      vm.title = 'Edit Checkbox Item';\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-edit-item-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n    function openFormLineDialog(ev, item) {\r\n      debugger;\r\n      vm.item = item;\r\n      vm.title = 'Edit Item';\r\n\r\n      console.log('vm.item', vm.item);\r\n\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-edit-form-line-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n  \r\n    function saveItem() {\r\n\r\n      var editPack;\r\n\r\n      editPack = {\r\n        'id': vm.item.id,\r\n        'rid': vm.item.rid,\r\n        'index': 0,\r\n        'type': 'item',\r\n        'info': vm.item.info,\r\n        'text': vm.item.name\r\n      };\r\n\r\n      api.checklists.edit(editPack).error(function (res) {\r\n        $rootScope.message(\"Error Editing Item\", 'warning');\r\n      }).success(function (res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          $rootScope.message(\"Error Editing Item\", 'warning');\r\n        } else if (res.code) {\r\n          $rootScope.message(res.message, 'warning');\r\n        } else {\r\n\r\n          $rootScope.message('Section Item', 'success');\r\n\r\n          vm.item.sending = false;\r\n\r\n          vm.closeDialog();\r\n        }\r\n      });\r\n    }\r\n\r\n    function openConversationDialog(producerType, id, name, $event) {\r\n       debugger;\r\n      console.log('id', id);\r\n      console.log('name', name);\r\n      console.log('producerType', producerType);\r\n\r\n      $mdDialog.show({\r\n        controller: 'ChecklistConversationDialogController',\r\n        controllerAs: 'vm',\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-conversation-dialog.html',\r\n        parent: angular.element($document.find('#checklist')),\r\n        targetEvent: $event,\r\n        clickOutsideToClose: true,\r\n        locals: {\r\n          convoId: id,\r\n          convoName: name,\r\n          producerType: producerType\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n    /*\r\n     MODE SPECIFIC\r\n     */\r\n    $scope.edit = {\r\n      start: function (what, which, ev, checklists) {\r\n        console.log('what', what);\r\n        console.log('which', which);\r\n        console.log('checklists', checklists);\r\n\r\n        var index, whats;\r\n        whats = what + 's';\r\n        index = vm[whats].indexOf(which);\r\n\r\n        $rootScope[whats][index].edit = {\r\n          id: what === 'checklist' ? which.idCHK : which.id,\r\n          rid: which.rid,\r\n          index: index,\r\n          type: what,\r\n          text: which.name,\r\n          info: '',\r\n          submitting: false,\r\n          error: null,\r\n          message: ''\r\n        };\r\n\r\n\r\n        console.log('vm[whats][index].edit', vm[whats][index].edit);\r\n\r\n        if (what === 'item') {\r\n          $rootScope[whats][index].edit.info = which.info;\r\n        }\r\n\r\n        $mdDialog.show({\r\n          controller: function DialogController($scope, $mdDialog) {\r\n            $scope.closeDialog = function () {\r\n              $mdDialog.hide();\r\n            }\r\n          },\r\n          scope: $scope,\r\n          preserveScope: true,\r\n          templateUrl: 'app/main/checklist/dialogs/checklist/checklist-edit-checklist-dialog.html',\r\n          parent: angular.element($document.find('#checklist')),\r\n          targetEvent: ev,\r\n          clickOutsideToClose: true\r\n        });\r\n\r\n        return vm[whats][index].editing = true;\r\n      },\r\n      stop: function (which) {\r\n        var whats;\r\n        whats = which.type + 's';\r\n        vm[whats][which.index].edit = null;\r\n        return vm[whats][which.index].editing = false;\r\n      },\r\n      submit: function (which) {\r\n\r\n        //console.log('which', which);\r\n        var whats;\r\n        whats = which.type + 's';\r\n        if (vm[whats][which.index].edit.text === vm[whats][which.index].name && vm[whats][which.index].edit.info === vm[whats][which.index].info) {\r\n          $scope.edit.stop(which);\r\n          return false;\r\n        }\r\n        return api.checklists.edit(which).error(function (res) {\r\n          vm[whats][which.index].edit.error = res.code;\r\n          return vm[whats][which.index].edit.message = res.message;\r\n        }).success(function (res) {\r\n          var notifyItem, packet;\r\n          vm[whats][which.index] = res.updated;\r\n          packet = {\r\n            catalog: whats,\r\n            type: 'edit',\r\n            user: {\r\n              idCON: $rootScope.user.idCON,\r\n              name: $rootScope.user.name\r\n            },\r\n            record: res.updated\r\n          };\r\n          //console.log('emitting data', packet);\r\n          $rootScope.socketio.emit('data', packet);\r\n          notifyItem = $.extend({}, res.updated, {\r\n            type: 'data'\r\n          });\r\n          //console.log('about to sent notify event', notifyItem);\r\n          $rootScope.socketio.emit('notify', [notifyItem]);\r\n          vm.organizeData();\r\n          return $rootScope.message(\"Checklist Updated Successfully\", 'success');\r\n        })[\"finally\"](function () {\r\n          vm.closeDialog();\r\n          return vm.edit.stop(which);\r\n        });\r\n      }\r\n    };\r\n\r\n    function fetchAttachmentsChecklist(idCHK) {\r\n      var attme;\r\n      api.attachments.checklist(idCHK).then(function (d) {\r\n        attme = d;\r\n      });\r\n\r\n    }\r\n\r\n\r\n    function fetchAttachmentsParent(idPARENT) {\r\n\r\n      api.attachments.parent(idPARENT).success(function (res) {\r\n        if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          return res;\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n\r\n    $scope.pdf = {\r\n      submit: function (data) {\r\n\r\n        console.log('data', data);\r\n      }\r\n    };\r\n\r\n    function downloadPDF(ev, idCHK, chkName) {\r\n     debugger;\r\n      vm.title = 'Download ' + chkName + ' To PDF';\r\n\r\n\r\n      $mdDialog.show({\r\n        scope: $scope,\r\n        preserveScope: true,\r\n        templateUrl: 'app/main/checklist/dialogs/checklist/checklist-dialog-pdf.html',\r\n        parent: angular.element($document.find('#todo')),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true,\r\n        locals: {\r\n          idCHK: idCHK,\r\n          chkName: chkName\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n\r\n    function downloadXML(ev, idCHK, chkName) {\r\n\r\n      $window.location.href = ('https://checklinked.com/archive.php?idCHK=' + idCHK);\r\n    }\r\n\r\n\r\n    function downloadAttachment(ev, location) {\r\n      //$window.location.href = (location);\r\n      $window.open(location, '_blank');\r\n    }\r\n\r\n\r\n    function fetchHeadingBlock(section, idCHK) {\r\n\r\n      console.log('section', section);\r\n\r\n      var id_parent = section.id;\r\n      var i;\r\n      var x;\r\n\r\n      console.log('id_parent', id_parent);\r\n\r\n\r\n      if (!section.headings.length && id_parent) {\r\n\r\n        console.log('say hello');\r\n\r\n        api.headings.getParent(id_parent).success(function (res) {\r\n\r\n          console.log('res on getParent', res);\r\n          console.log('id_parent', id_parent);\r\n\r\n          var ref;\r\n          if ((ref = res.headings) != null ? ref.length : void 0) {\r\n\r\n            console.log('pre result', vm.headings);\r\n\r\n            if ((ref = vm.headings) != null ? vm.headings.length : void 0) {\r\n              console.log('about to loop');\r\n              for (i = 0; i < res.headings.length; i++) {\r\n\r\n                console.log('looping', i);\r\n                vm.headings.push(res.headings[i]);\r\n              }\r\n\r\n            } else {\r\n              console.log('first heading');\r\n              vm.headings = res.headings;\r\n            }\r\n\r\n            console.log('heading data', vm.headings);\r\n\r\n          }\r\n          return vm.loaded.headings = true;\r\n        })[\"finally\"](function () {\r\n          vm.loading.headings = false;\r\n          return vm.completeLoad();\r\n        });\r\n\r\n\r\n        api.attachments.checklist(idCHK).success(function (res) {\r\n          var ref;\r\n          if ((ref = res.attachments) != null ? ref.length : void 0) {\r\n            vm.attachments = vm.attachments.concat(res.attachments);\r\n          }\r\n          vm.loaded.attachments = true;\r\n          return $scope.$broadcast('event:attachmentsLoaded');\r\n          //console.log('broadcast event:attachmentsLoaded');\r\n        })[\"finally\"](function () {\r\n          vm.loading.attachments = false;\r\n          return vm.completeLoad();\r\n        });\r\n\r\n\r\n      }\r\n\r\n    }\r\n\r\n\r\n    function fetchConflictsHeadingBlock(section, idCHK) {\r\n\r\n      console.log('section', section);\r\n\r\n      var id_parent = section.id;\r\n      var i;\r\n      var x;\r\n\r\n      console.log('id_parent', id_parent);\r\n\r\n\r\n      if (id_parent) {\r\n\r\n        console.log('Try to fetch Headings for Conflicts');\r\n\r\n        api.headings.getParent(id_parent).success(function (res) {\r\n\r\n          console.log('api results api.headings.getParent', res);\r\n\r\n          var ref;\r\n          if ((ref = res.headings) != null ? ref.length : void 0) {\r\n\r\n            console.log('existing vm.headings array', vm.headings);\r\n\r\n            if ((ref = vm.headings) != null ? vm.headings.length : void 0) {\r\n\r\n              for (i = 0; i < res.headings.length; i++) {\r\n                console.log('looping', i);\r\n                vm.headings.push(res.headings[i]);\r\n              }\r\n\r\n            } else {\r\n              console.log('first heading');\r\n              vm.headings = res.headings;\r\n            }\r\n\r\n            console.log('post process vm.headings array', vm.headings);\r\n\r\n          }\r\n          return vm.loaded.headings = true;\r\n        })[\"finally\"](function () {\r\n          vm.loading.headings = false;\r\n          return vm.completeLoad();\r\n        });\r\n\r\n\r\n        // Worry about attachments later, do not want to fuck upi the bullshit here.\r\n        api.attachments.checklist(idCHK).success(function (res) {\r\n          var ref;\r\n          if ((ref = res.attachments) != null ? ref.length : void 0) {\r\n            vm.attachments = vm.attachments.concat(res.attachments);\r\n          }\r\n          vm.loaded.attachments = true;\r\n          return $scope.$broadcast('event:attachmentsLoaded');\r\n          //console.log('broadcast event:attachmentsLoaded');\r\n        })[\"finally\"](function () {\r\n          vm.loading.attachments = false;\r\n          return vm.completeLoad();\r\n        });\r\n\r\n\r\n      }\r\n\r\n    }\r\n\r\n    function fetchItemBlock(heading, idCHK) {\r\n\r\n      var id_parent = heading.id;\r\n      var i;\r\n      var x;\r\n\r\n      console.log('heading', heading);\r\n      console.log('id_parent', id_parent);\r\n\r\n      if (!heading.items.length && id_parent) {\r\n\r\n        api.items.getParent(id_parent).success(function (res) {\r\n          //console.log('api.item.get');\r\n          var ref;\r\n          if ((ref = res.items) != null ? ref.length : void 0) {\r\n\r\n\r\n            console.log('pre result', vm.headings);\r\n\r\n            if ((ref = vm.items) != null ? vm.items.length : void 0) {\r\n              console.log('about to loop');\r\n              for (i = 0; i < res.items.length; i++) {\r\n\r\n                console.log('looping', i);\r\n                vm.items.push(res.items[i]);\r\n              }\r\n\r\n            } else {\r\n              console.log('first heading');\r\n              vm.items = res.items;\r\n            }\r\n\r\n            console.log('post result', vm.items);\r\n\r\n\r\n            //vm.items = res.items;\r\n          }\r\n          vm.loaded.items = true;\r\n\r\n          return $scope.$emit('event:itemsLoaded');\r\n          //console.log('broadcast event:itemsLoaded');\r\n        })[\"finally\"](function () {\r\n          vm.loading.items = false;\r\n          return vm.completeLoad();\r\n        });\r\n\r\n        api.attachments.checklist(idCHK).success(function (res) {\r\n          var ref;\r\n          if ((ref = res.attachments) != null ? ref.length : void 0) {\r\n            vm.attachments = vm.attachments.concat(res.attachments);\r\n          }\r\n          vm.loaded.attachments = true;\r\n          return $scope.$broadcast('event:attachmentsLoaded');\r\n          //console.log('broadcast event:attachmentsLoaded');\r\n        })[\"finally\"](function () {\r\n          vm.loading.attachments = false;\r\n          return vm.completeLoad();\r\n        });\r\n      }\r\n\r\n    }\r\n\r\n    function fetchConflictsItemBlock(heading, idCHK) {\r\n\r\n      var id_parent = heading.id;\r\n      var i;\r\n      var x;\r\n\r\n      console.log('heading', heading);\r\n      console.log('id_parent', id_parent);\r\n\r\n      if (!heading.items.length && id_parent) {\r\n\r\n        api.items.getParent(id_parent).success(function (res) {\r\n          //console.log('api.item.get');\r\n          var ref;\r\n          if ((ref = res.items) != null ? ref.length : void 0) {\r\n\r\n\r\n            console.log('pre result', vm.headings);\r\n\r\n            if ((ref = vm.items) != null ? vm.items.length : void 0) {\r\n              console.log('about to loop');\r\n              for (i = 0; i < res.items.length; i++) {\r\n\r\n                console.log('looping', i);\r\n                vm.items.push(res.items[i]);\r\n              }\r\n\r\n            } else {\r\n              console.log('first heading');\r\n              vm.items = res.items;\r\n            }\r\n\r\n            console.log('post result', vm.items);\r\n\r\n\r\n            //vm.items = res.items;\r\n          }\r\n          vm.loaded.items = true;\r\n\r\n          return $scope.$emit('event:itemsLoaded');\r\n          //console.log('broadcast event:itemsLoaded');\r\n        })[\"finally\"](function () {\r\n          vm.loading.items = false;\r\n\r\n        });\r\n\r\n        api.attachments.checklist(idCHK).success(function (res) {\r\n          var ref;\r\n          if ((ref = res.attachments) != null ? ref.length : void 0) {\r\n            vm.attachments = vm.attachments.concat(res.attachments);\r\n          }\r\n          vm.loaded.attachments = true;\r\n          return $scope.$broadcast('event:attachmentsLoaded');\r\n          //console.log('broadcast event:attachmentsLoaded');\r\n        })[\"finally\"](function () {\r\n          vm.loading.attachments = false;\r\n          return vm.completeLoad();\r\n        });\r\n      }\r\n\r\n    }\r\n\r\n    console.log('vm.expanded end of controller', vm.expanded);\r\n    console.log('vm.checklist', vm.checklist);\r\n\r\n    function closeDialog() {\r\n      vm.wizard.newFolder = false;\r\n      vm.wizard.newGroup = false;\r\n      vm.wizard.newChecklist = false;\r\n     vm.wizard.switch = false;     \r\n      $mdDialog.hide();\r\n    }\r\n  }\r\n\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.chat', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, $translatePartialLoaderProvider, msNavigationServiceProvider) {\r\n\r\n    // State\r\n    $stateProvider.state('app.chat', {\r\n      url: '/chat',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/chat/chat.html',\r\n          controller: 'ChatController as vm'\r\n        }\r\n      }\r\n    })\r\n      .state('app.chat.user', {\r\n      url: '/:id',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/chat/chat.html',\r\n          controller: 'ChatController as vm'\r\n        }\r\n      }\r\n    }).state('app.chat.pass', {\r\n      url: '/chat/:passID',\r\n      views: {\r\n        'content@app': {\r\n          templateUrl: 'app/main/chat/chat.html',\r\n          controller: 'ChatController as vm'\r\n        }\r\n      }\r\n    });\r\n\r\n    // Translation\r\n    $translatePartialLoaderProvider.addPart('app/main/chat');\r\n\r\n    // Navigation\r\n    msNavigationServiceProvider.saveItem('conversations.chat', {\r\n      title: 'Messages',\r\n      icon: 'icon-hangouts',\r\n      state: 'app.chat' ,\r\n      weight: 2\r\n    });\r\n\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.chat')\r\n    .controller('ChatController', ChatController);\r\n\r\n  /** @ngInject */\r\n  function ChatController($rootScope, $state, $stateParams, $scope, $filter, $mdSidenav, $timeout, $document, $mdMedia, api) {\r\n\r\n    var vm = this;\r\n\r\n    var id;\r\n    var type;\r\n    vm.contacts = [];\r\n    vm.user = $rootScope.user;\r\n    var array_test = [];\r\n    vm.leftSidenavView = false;\r\n    vm.chat = undefined;\r\n    vm.newPost = {\r\n      text: '',\r\n      submitting: false\r\n    };\r\n    var ref;\r\n\r\n    vm.viewingConversation = {\r\n      id: id,\r\n      type: type\r\n    };\r\n\r\n    // Methods\r\n    vm.getChat = getChat;\r\n    vm.toggleSidenav = toggleSidenav;\r\n    vm.toggleLeftSidenavView = toggleLeftSidenavView;\r\n    vm.reply = reply;\r\n    vm.setUserStatus = setUserStatus;\r\n    vm.clearMessages = clearMessages;\r\n    vm.showWhichInviteContactData = showWhichInviteContactData;\r\n    vm.openConversation = openConversation;\r\n    vm.setSocketStuff = setSocketStuff;\r\n    vm.submitPost = submitPost;\r\n    vm.old = old;\r\n    vm.closeConversation = closeConversation;\r\n    vm.pushPosts = pushPosts;\r\n    vm.postProcessPosts = postProcessPosts;\r\n    vm.getLatestPosts = getLatestPosts;\r\n\r\n    vm.passID = $stateParams.passID;\r\n\r\n    console.log('vm.passID', vm.passID);\r\n\r\n    //Build Fetch contactsTest\r\n    var i = '';\r\n    var contacts = [];\r\n    var switchUser;\r\n    var contactsTest = [];\r\n    //var vm.contactsTest = [];\r\n\r\n    api.contacts.get().then(function (d) {\r\n      contacts = d.data.friendships;\r\n\r\n      for (i = 0; i < contacts.length; i++) {\r\n        switchUser = showWhichInviteContactData(contacts[i]);\r\n        //console.log('contacts[i].accepted', i, contacts[i].accepted);\r\n        //Switch array\r\n        if ((contacts[i].accepted != '') && (contacts[i].accepted != '') && (contacts[i].accepted !== void 0) && (switchUser == 'accepter')) {\r\n          console.log('contacts[i].accepted', contacts[i].accepted);\r\n          vm.contacts[i] = contacts[i].contacts.accepter;\r\n          vm.contacts[i].accepted = contacts[i].accepted;\r\n          vm.contacts[i].contact_id = contacts[i].id;\r\n          vm.contacts[i].rid = contacts[i].rid;\r\n        }\r\n\r\n        if ((contacts[i].accepted != '') && (contacts[i].accepted != '') && (contacts[i].accepted !== void 0) && (switchUser == 'originator')) {\r\n          console.log('contacts[i].accepted', i, contacts[i].accepted);\r\n          vm.contacts[i] = contacts[i].contacts.originator;\r\n          vm.contacts[i].accepted = contacts[i].accepted;\r\n          vm.contacts[i].contact_id = contacts[i].id;\r\n          vm.contacts[i].rid = contacts[i].rid;\r\n        }\r\n      }\r\n      console.log('contacts processed', vm.contacts);\r\n\r\n      if(vm.passID){\r\n\r\n        console.log('we are here', vm.contacts.length);\r\n\r\n          for (var i = 0; i < vm.contacts.length; i++) {\r\n            if (vm.contacts[i].id === vm.passID) {\r\n              //vm.open(vm.threads[i]);\r\n\r\n              console.log('hello charlie', vm.contacts[i]);\r\n\r\n              vm.openConversation(vm.contacts[i].contact_id, 'message', vm.contacts[i].name, vm.contacts[i]);\r\n\r\n              break;\r\n            }\r\n          }\r\n\r\n\r\n      }\r\n\r\n    });\r\n\r\n    vm.contacts.shift = showWhichInviteContactData(vm.contacts);\r\n\r\n    function showWhichInviteContactData(friend) {\r\n      var ref2, ref3, ref4;\r\n      if (((ref2 = $rootScope.user) != null ? ref2.idCON : void 0) === (friend != null ? (ref3 = friend.contacts) != null ? (ref4 = ref3.accepter) != null ? ref4.id : void 0 : void 0 : void 0)) {\r\n        return 'originator';\r\n      } else {\r\n        return 'accepter';\r\n      }\r\n    }\r\n\r\n\r\n    /**\r\n     * Get Chat by Contact id\r\n     * @param contactId\r\n     */\r\n    function getChat(contactId) {\r\n\r\n\r\n      vm.chatContactId = contactId;\r\n\r\n\r\n      for (i = 0; i < $rootScope.feed.items; i++) {\r\n        switchUser = showWhichInviteContactData(contacts[i]);\r\n        //Switch array\r\n        if (switchUser == 'accepter') {\r\n          vm.contacts[i] = contacts[i].contacts.accepter;\r\n        } else {\r\n          vm.contacts[i] = contacts[i].contacts.originator;\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n    /**\r\n     * Reply\r\n     */\r\n\r\n    function reply($event) {\r\n\r\n      console.log(vm.viewingConversation);\r\n\r\n      // If \"shift + enter\" pressed, grow the reply textarea\r\n      if ($event && $event.keyCode === 13 && $event.shiftKey) {\r\n        vm.textareaGrow = true;\r\n        return;\r\n      }\r\n\r\n      // Prevent the reply() for key presses rather than the\"enter\" key.\r\n      if ($event && $event.keyCode !== 13) {\r\n        return;\r\n      }\r\n\r\n      // Check for empty messages\r\n      if (vm.replyMessage === '') {\r\n        resetReplyTextarea();\r\n        return;\r\n      }\r\n\r\n      // Message\r\n      var message = {\r\n        who: 'user',\r\n        text: vm.replyMessage,\r\n        timestamp: Date.now()\r\n      };\r\n\r\n      // Scroll to the new message\r\n      scrollToBottomOfChat();\r\n\r\n      console.log('submitting convo entry', vm.viewingConversation.id, vm.replyMessage, 'message');\r\n\r\n      api.conversations.add(vm.viewingConversation.id, vm.replyMessage, 'message').error(function (res) {\r\n        $rootScope.message('Error posting.', 'warning');\r\n      }).success(function (res) {\r\n        if (res.code) {\r\n          $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          $rootScope.socketio.emit('message', res.posts[0]);\r\n        }\r\n      })[\"finally\"](function () {\r\n        // Reset the reply textarea\r\n        resetReplyTextarea();\r\n      });\r\n\r\n    }\r\n\r\n    /**^\r\n     * Clear Chat Messages\r\n     */\r\n    function clearMessages() {\r\n      vm.chats[vm.chatContactId] = vm.chat = [];\r\n      vm.contacts.getById(vm.chatContactId).lastMessage = null;\r\n    }\r\n\r\n    /**\r\n     * Reset reply textarea\r\n     */\r\n    function resetReplyTextarea() {\r\n      vm.replyMessage = '';\r\n      vm.textareaGrow = false;\r\n    }\r\n\r\n    /**\r\n     * Scroll Chat Content to the bottom\r\n     * @param speed\r\n     */\r\n    function scrollToBottomOfChat() {\r\n      $timeout(function () {\r\n        var chatContent = angular.element($document.find('#chat-content'));\r\n\r\n        chatContent.animate({\r\n          scrollTop: chatContent[0].scrollHeight\r\n        }, 400);\r\n      }, 0);\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * Set User Status\r\n     */\r\n    function setUserStatus(status) {\r\n      vm.user.status = status;\r\n    }\r\n\r\n\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n    }\r\n\r\n    /**\r\n     * Toggle Left Sidenav View\r\n     *\r\n     * @param view id\r\n     */\r\n    function toggleLeftSidenavView(id) {\r\n      vm.leftSidenavView = id;\r\n    }\r\n\r\n    /**\r\n     * Array prototype\r\n     *\r\n     * Get by id\r\n     *\r\n     * @param value\r\n     * @returns {T}\r\n     */\r\n    Array.prototype.getById = function (value) {\r\n      return this.filter(function (x) {\r\n        return x.id === value;\r\n      })[0];\r\n    };\r\n\r\n\r\n    function openConversation(id, type, name, contact) {\r\n\r\n      console.log('id', id);\r\n      console.log('type', type);\r\n      console.log('name', name);\r\n      console.log('contact', contact);\r\n\r\n      if (type == null) {\r\n        type = 'post';\r\n      }\r\n\r\n      vm.viewingConversation = {\r\n        id: id,\r\n        type: type,\r\n        nameFirst: name.first,\r\n        nameLast: name.last,\r\n        nameFull: name.full,\r\n        organization: contact.organization,\r\n        phone: contact.phone,\r\n        email: contact.email\r\n      };\r\n\r\n      console.log('vm.viewingConversation', vm.viewingConversation);\r\n\r\n      console.log('opening conversation', vm.viewingConversation);\r\n     \r\n\r\n      $rootScope.socketio.emit('join', \"/conversation/\" + vm.viewingConversation.id);\r\n      vm.getLatestPosts(vm.viewingConversation.id, vm.viewingConversation.type);\r\n\r\n      // Reset the reply textarea\r\n      resetReplyTextarea();\r\n\r\n      // Scroll to the last message\r\n      scrollToBottomOfChat();\r\n\r\n      if (!$mdMedia('gt-md')) {\r\n        $mdSidenav('left-sidenav').close();\r\n      }\r\n\r\n      // Reset Left Sidenav View\r\n      vm.toggleLeftSidenavView(false);\r\n    };\r\n\r\n\r\n    vm.loading = {\r\n      posts: true\r\n    };\r\n\r\n    function old(ts) {\r\n      var now, old, post;\r\n      if (typeof ts.getTime() !== 'function') {\r\n        return false;\r\n      }\r\n      now = Math.round(new Date().getTime() / 1000);\r\n      old = now - (12 * 3600);\r\n      post = Math.round(ts.getTime() / 1000);\r\n      console.log('calculating age', ts, now, old, post, post < old);\r\n      return post < old;\r\n    };\r\n\r\n    vm.conversation = {\r\n      id: vm.viewingConversation.id,\r\n      posts: [],\r\n      name: '',\r\n      currentSkip: 0\r\n    };\r\n\r\n    console.log('vm.conversation', vm.conversation);\r\n\r\n    ///////SET UP THE SOCKET CONNECTION FOR REALTIME\r\n\r\n    function setSocketStuff() {\r\n      console.log('setting socket stuff (convo)');\r\n      //$rootScope.socketio.emit('join', \"/conversation/\" + vm.viewingConversation.id);\r\n      return $rootScope.socketio.on('message', function (post) {\r\n        var notifyItem;\r\n        console.log('message received', post);\r\n        if (post.idFDI && post.id_contact === $rootScope.user.idCON) {\r\n          notifyItem = $.extend({}, post, {\r\n            type: 'post'\r\n          });\r\n          console.log('about to sent notify event', notifyItem);\r\n          $rootScope.socketio.emit('notify', [notifyItem]);\r\n        }\r\n\r\n        return vm.pushPosts(vm.postProcessPosts([post]));\r\n      });\r\n    };\r\n    if ((ref = $rootScope.socketio) != null ? ref.connected : void 0) {\r\n      console.log('socket was already connected (convo)');\r\n      vm.setSocketStuff();\r\n    }\r\n    $scope.$on('event:socketConnected', function () {\r\n      console.log('received ng event:socketConnected (convo)');\r\n      return vm.setSocketStuff();\r\n    });\r\n\r\n    function postProcessPosts(posts) {\r\n      console.log('post processing posts', posts);\r\n      for (i = 0; i < posts.length; i++) {\r\n\r\n        if ($rootScope.user.idCON == posts[i].id_contact) {\r\n          posts[i].who = 'user';\r\n        } else {\r\n          posts[i].who = 'contact';\r\n          //\tvm.chat.name = vm.chat[i].user\r\n        }\r\n\r\n      }\r\n      console.log('posts postprocessed', posts);\r\n      return posts;\r\n    }\r\n\r\n    function getLatestPosts(id) {\r\n\r\n      //console.log('$rootScope.feed.items.length', $rootScope.feed.items.length);\r\n\r\n      /*for(i = 0; i < $rootScope.feed.items.length; i++) {\r\n\r\n       if($rootScope.feed.items[i].user.id  == id)\r\n       {\r\n       vm.conversation.id = $rootScope.feed.items[i].item.id;\r\n       vm.contactname = $rootScope.feed.items[i].user.name;\r\n       break;\r\n       }\r\n       vm.conversation.id = 0;\r\n       }*/\r\n      api.conversations.get(vm.viewingConversation.id, vm.viewingConversation.currentSkip).success(function (res) {\r\n\r\n        vm.chat = [];\r\n        if (res !== undefined && res != null && res != '' && !res.code) {\r\n          vm.chat = vm.postProcessPosts(res.posts);\r\n        }\r\n\r\n\r\n        console.log('vm.chat', vm.chat);\r\n\r\n      })[\"finally\"](function () {\r\n        return vm.loading.posts = false;\r\n\r\n      });\r\n      scrollToBottomOfChat();\r\n    };\r\n\r\n\r\n    function pushPosts(posts, filter) {\r\n      console.log('checking received message(s)', posts, filter);\r\n      var i, len, post, ref1, results;\r\n      if (filter == null) {\r\n        filter = $filter;\r\n      }\r\n      if (posts != null ? posts.length : void 0) {\r\n        for (i = 0, len = posts.length; i < len; i++) {\r\n          post = posts[i];\r\n          if (post.id_parent === vm.viewingConversation.id) {\r\n            if (!((ref1 = $filter('filter')(vm.chat, {\r\n                rid: post.rid\r\n              }, true)) != null ? ref1.length : void 0)) {\r\n              vm.chat.push(post);\r\n              vm.conversation.currentSkip++;\r\n              scrollToBottomOfChat();\r\n              console.log('post accepted', post);\r\n            } else {\r\n              console.log('post rejected: already added', post);\r\n            }\r\n          } else {\r\n            console.log('post rejected: not this convo', post);\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    function submitPost() {\r\n      $scope.newPost.submitting = true;\r\n      console.log('submitting convo entry', vm.viewingConversation, vm.replyMessage, vm.newPost.text);\r\n      return ConversationService.add(vm.viewingConversation.id, vm.replyMessage, 'post').error(function (res) {\r\n        return $rootScope.message('Error posting.', 'warning');\r\n      }).success(function (res) {\r\n        if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          return $rootScope.socketio.emit('message', res.posts[0]);\r\n        }\r\n      })[\"finally\"](function () {\r\n        return vm.newPost = {\r\n          text: '',\r\n          submitting: false\r\n        };\r\n      });\r\n    };\r\n\r\n\r\n\r\n    if ($stateParams.id !== undefined && $stateParams.id != null) {\r\n\r\n      console.log('user id', $stateParams.id);\r\n\r\n      //vm.openConversation(contact.contact_id, 'message', contact.name, contact)\r\n    }\r\n\r\n\r\n    function closeConversation() {\r\n      return $uibModalInstance.dismiss('cancel');\r\n    };\r\n\r\n  }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.account', [])\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($stateProvider, $translatePartialLoaderProvider, msNavigationServiceProvider)\r\n    {\r\n        // State\r\n        $stateProvider.state('app.account', {\r\n            url      : '/account',\r\n             views  : {\r\n             \t'main@': {\r\n                    templateUrl: 'app/core/layouts/content-only.html',\r\n                    controller : 'MainController as vm'\r\n                },\r\n                'content@app': {\r\n                    templateUrl: 'app/main/account/',\r\n                    controller : 'AccountController as vm'\r\n                }\r\n            }\r\n        })\r\n        .state('app.account.confirm', {\r\n            url      : '/create/confirm/:key',\r\n            views    : {\r\n                'main@': {\r\n                    templateUrl: 'app/core/layouts/content-only.html',\r\n                    controller : 'MainController as vm'\r\n                },\r\n                'content@app.account.confirm': {\r\n                    templateUrl: 'app/main/account/confirm.html',\r\n                    controller : 'AccountController as vm'\r\n                }\r\n            },\r\n            bodyClass: 'account'\r\n        })\r\n        .state('app.account.invite', {\r\n            url      : '/invite/accept/:idSUI',\r\n            views    : {\r\n                'main@': {\r\n                    templateUrl: 'app/core/layouts/content-only.html',\r\n                    controller : 'MainController as vm'\r\n                },\r\n                'content@app.account.invite': {\r\n                    templateUrl: 'app/main/account/invite.html',\r\n                    controller : 'AccountController as vm'\r\n                }\r\n            },\r\n            bodyClass: 'account'\r\n        });\r\n        // Translation\r\n        $translatePartialLoaderProvider.addPart('app/main/account');\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.account')\r\n        .controller('AccountController', AccountController);\r\n\r\n    /** @ngInject */\r\n    function AccountController($rootScope, $http, $state, api, $location, $stateParams, $scope) {\r\n    \t\r\n\tvar vm = this;\r\n\t\r\n\tconsole.log('$stateParams.key', $stateParams.key);\r\n\tconsole.log('$stateParams', $stateParams);\r\n\t\r\n\t/* confirmAccount START */\r\n\t\r\n\t\r\n\tif ($stateParams.key !== void 0 && $stateParams.key !== null && $stateParams.key  !== '') {\r\n\t\t\r\n\tif ($stateParams.key === '') {\r\n      vm.sending = false;\r\n      vm.confirmed = false;\r\n      return vm.message = 'No confirmation key provided.  Please use the full confirmation link in your confirmation email.';\r\n    } else {\r\n      vm.message = 'Accounting...';\r\n      vm.sending = true;\r\n      \r\n      return api.confirm.validate($stateParams.key).error(function(res) {\r\n      $rootScope.message('Unknown error conforming New User Account.', 'warning');\r\n        }).success(function(res) {\r\n        \tconsole.log('res', res);\r\n          if (res.type==='success') {\r\n            $rootScope.message(res.message, 'success');\r\n            return vm.message = res.message;\r\n          } else {\r\n        $rootScope.message(res.message, 'warning');\r\n        return vm.message = res.message;\r\n        \r\n        console.log('res.message', res.message);\r\n\t\t\t\t\r\n\t\t\t\t\r\n          }\r\n        })[\"finally\"](function() {\r\n           return vm.sending = false;\r\n        });\r\n    }\r\n    \r\n    }\r\n    /* confirmAccount END */\r\n   \r\n   \r\n   \r\n   /* invites\tAccount START */\r\n  if ($stateParams.idSUI !== void 0 && $stateParams.idSUI !== null && $stateParams.idSUI  !== '') {\r\n  \t\r\n \tvar idSUI;\r\n    vm.loading = false;\r\n    vm.inviting = false;\r\n    vm.makingSubActive = false;\r\n    vm.withdrawing = [];\r\n    vm.invite = null;\r\n    vm.offers = [];\r\n    \r\n    vm.makeSubscriptionActive = makeSubscriptionActive;\r\n    \r\n    api.subscriptions.getCurrentOffers().success(function(res) {\r\n      var ref;\r\n      if ((ref = res.plans) != null ? ref.length : void 0) {\r\n        return vm.offers = vm.offers.concat(res.plans);\r\n      }\r\n    })[\"finally\"](function() {\r\n      return vm.loading = false;\r\n    });\r\n    \r\n    function makeSubscriptionActive() {\r\n      vm.makingSubActive = true;\r\n      return api.subscriptions.makeSubscriptionActive($rootScope.subscriptions.selected.id).error(function(res) {\r\n        return $rootScope.message('Error inviting.', 'warning');\r\n      }).success(function(res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n          return $rootScope.message('Invalid response.', 'warning');\r\n        } else if (res.code) {\r\n          return $rootScope.message(res.message, 'warning');\r\n        } else {\r\n          $rootScope.user = res.user;\r\n          return $rootScope.subscriptions.selected.users = res.contacts;\r\n        }\r\n      })[\"finally\"](function() {\r\n        return vm.makingSubActive = false;\r\n      });\r\n    };\r\n    \r\n    idSUI = $stateParams.idSUI;\r\n    \r\n    if (idSUI !== void 0 && idSUI !== null && idSUI !== '') {\r\n    \tconsole.log('checking idSUI');\r\n    \t\r\n      vm.acceptInvite = {\r\n        accepting: false,\r\n        signin: {\r\n          username: '',\r\n          password: ''\r\n        },\r\n        reg: {\r\n          contact: {\r\n            name: {\r\n              first: '',\r\n              middle: '',\r\n              last: ''\r\n            },\r\n            phone: '',\r\n            email: ''\r\n          },\r\n          password: '',\r\n          password2: ''\r\n        },\r\n        login: function() {\r\n          vm.acceptInvite.accepting = true;\r\n          return api.subscriptions.acceptInvite(idSUI, 'login', vm.acceptInvite.signin).error(function(res) {\r\n            console.log('invite accept error', idSUI, res);\r\n            $rootScope.message('Error accepting invitation.', 'warning');\r\n          }).success(function(res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              console.log('invite accept error', idSUI, res);\r\n            $rootScope.message('Invalid response.', 'warning');\r\n            } else if (res.code) {\r\n              console.log('invite accept error', idSUI, res);\r\n            $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              return vm.acceptInvite.succeeded(res.user.token);\r\n            }\r\n          })[\"finally\"](function() {\r\n            vm.acceptInvite.accepting = false;\r\n          });\r\n        },\r\n        signup: function() {\r\n          vm.acceptInvite.accepting = true;\r\n          return api.subscriptions.acceptInvite(idSUI, 'signup', vm.acceptInvite.reg).error(function(res) {\r\n            console.log('invite accept error', idSUI, res);\r\n            return $rootScope.message('Error accepting invitation.', 'warning');\r\n          }).success(function(res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n              console.log('invite accept error', idSUI, res);\r\n              return $rootScope.message('Invalid response.', 'warning');\r\n            } else if (res.code) {\r\n              console.log('invite accept error', idSUI, res);\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              return vm.acceptInvite.succeeded(res.user.token);\r\n            }\r\n          })[\"finally\"](function() {\r\n            return vm.acceptInvite.accepting = false;\r\n          });\r\n        },\r\n        succeeded: function(token) {\r\n          return api.login.doAuth({\r\n            m: 't',\r\n            t: token\r\n          });\r\n        }\r\n      };\r\n      \r\n      vm.invite = api.subscriptions.getInvite(idSUI).success(function(res) {\r\n        if (res === void 0 || res === null || res === '') {\r\n\t\tconsole.log('res void');\r\n        } else if (res.code) {\r\n\t\tconsole.log('res.code', res.code);\r\n        } else {\r\n        \tconsole.log('res', res);\r\n          vm.invite = res.invite;\r\n          vm.acceptInvite.signin.username = res.invite.email;\r\n          vm.acceptInvite.reg.contact.email = res.invite.email;\r\n        }\r\n      });\r\n      \r\n     \r\n    }   \r\n     console.log('vm.invite', vm.invite);\r\n    }\r\n\t/* inviteAccount END */\r\n\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .service('fuseTheming', fuseThemingService);\r\n\r\n    /** @ngInject */\r\n    function fuseThemingService($cookies, $log, $mdTheming)\r\n    {\r\n        var service = {\r\n            getRegisteredPalettes: getRegisteredPalettes,\r\n            getRegisteredThemes  : getRegisteredThemes,\r\n            setActiveTheme       : setActiveTheme,\r\n            setThemesList        : setThemesList,\r\n            themes               : {\r\n                list  : {},\r\n                active: {\r\n                    'name' : '',\r\n                    'theme': {}\r\n                }\r\n            }\r\n        };\r\n\r\n        return service;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Get registered palettes\r\n         *\r\n         * @returns {*}\r\n         */\r\n        function getRegisteredPalettes()\r\n        {\r\n            return $mdTheming.PALETTES;\r\n        }\r\n\r\n        /**\r\n         * Get registered themes\r\n         *\r\n         * @returns {*}\r\n         */\r\n        function getRegisteredThemes()\r\n        {\r\n            return $mdTheming.THEMES;\r\n        }\r\n\r\n        /**\r\n         * Set active theme\r\n         *\r\n         * @param themeName\r\n         */\r\n        function setActiveTheme(themeName)\r\n        {\r\n            // If theme does not exist, fallback to the default theme\r\n            if ( angular.isUndefined(service.themes.list[themeName]) )\r\n            {\r\n                // If there is no theme called \"default\"...\r\n                if ( angular.isUndefined(service.themes.list.default) )\r\n                {\r\n                    $log.error('You must have at least one theme named \"default\"');\r\n                    return;\r\n                }\r\n\r\n                $log.warn('The theme \"' + themeName + '\" does not exist! Falling back to the \"default\" theme.');\r\n\r\n                // Otherwise set theme to default theme\r\n                service.themes.active.name = 'default';\r\n                service.themes.active.theme = service.themes.list.default;\r\n                $cookies.put('selectedTheme', service.themes.active.name);\r\n                return;\r\n            }\r\n\r\n            service.themes.active.name = themeName;\r\n            service.themes.active.theme = service.themes.list[themeName];\r\n            $cookies.put('selectedTheme', themeName);\r\n        }\r\n\r\n        /**\r\n         * Set available themes list\r\n         *\r\n         * @param themeList\r\n         */\r\n        function setThemesList(themeList)\r\n        {\r\n            service.themes.list = themeList;\r\n        }\r\n    }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($mdThemingProvider, fusePalettes, fuseThemes)\r\n    {\r\n        // Inject Cookies Service\r\n        var $cookies;\r\n        angular.injector(['ngCookies']).invoke([\r\n            '$cookies', function (_$cookies)\r\n            {\r\n                $cookies = _$cookies;\r\n            }\r\n        ]);\r\n\r\n        // Check if custom theme exist in cookies\r\n        var customTheme = $cookies.getObject('customTheme');\r\n        if ( customTheme )\r\n        {\r\n            fuseThemes['custom'] = customTheme;\r\n        }\r\n\r\n        $mdThemingProvider.alwaysWatchTheme(true);\r\n\r\n        // Define custom palettes\r\n        angular.forEach(fusePalettes, function (palette)\r\n        {\r\n            $mdThemingProvider.definePalette(palette.name, palette.options);\r\n        });\r\n\r\n        // Register custom themes\r\n        angular.forEach(fuseThemes, function (theme, themeName)\r\n        {\r\n            $mdThemingProvider.theme(themeName)\r\n                .primaryPalette(theme.primary.name, theme.primary.hues)\r\n                .accentPalette(theme.accent.name, theme.accent.hues)\r\n                .warnPalette(theme.warn.name, theme.warn.hues)\r\n                .backgroundPalette(theme.background.name, theme.background.hues);\r\n        });\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    var fuseThemes = {\r\n        default  : {\r\n            primary   : {\r\n                name: 'fuse-paleblue',\r\n                hues: {\r\n                    'default': '700',\r\n                    'hue-1'  : '500',\r\n                    'hue-2'  : '600',\r\n                    'hue-3'  : '400'\r\n                }\r\n            },\r\n            accent    : {\r\n                name: 'custom',\r\n                hues: {\r\n                    'default': '800',\r\n                    'hue-1'  : '800',\r\n                    'hue-2'  : '800',\r\n                    'hue-3'  : 'A100'\r\n                }\r\n            },\r\n            warn      : {\r\n                name: 'red'\r\n            },\r\n            background: {\r\n                name: 'grey',\r\n                hues: {\r\n                    'default': 'A100',\r\n                    'hue-1'  : 'A100',\r\n                    'hue-2'  : '100',\r\n                    'hue-3'  : '300'\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    angular\r\n        .module('app.core')\r\n        .constant('fuseThemes', fuseThemes);\r\n})();\r\n\n(function () {\r\n    'use strict';\r\n\r\n    var fusePalettes = [\r\n        {\r\n            name: 'fuse-blue',\r\n            options: {\r\n                '50': '#ebf1fa',\r\n                '100': '#c2d4ef',\r\n                '200': '#9ab8e5',\r\n                '300': '#78a0dc',\r\n                '400': '#5688d3',\r\n                '500': '#3470ca',\r\n                '600': '#2e62b1',\r\n                '700': '#275498',\r\n                '800': '#21467e',\r\n                '900': '#1a3865',\r\n                'A100': '#c2d4ef',\r\n                'A200': '#9ab8e5',\r\n                'A400': '#5688d3',\r\n                'A700': '#275498',\r\n                'contrastDefaultColor': 'light',\r\n                'contrastDarkColors': '50 100 200 A100',\r\n                'contrastStrongLightColors': '300 400'\r\n            }\r\n        },\r\n      {\r\n        name: 'fuse-paleblue',\r\n        options: {\r\n          '50': '#ececee',\r\n          '100': '#c5c6cb',\r\n          '200': '#9ea1a9',\r\n          '300': '#7d818c',\r\n          '400': '#5c616f',\r\n          '500': '#3c4252',\r\n          '600': '#353a48',\r\n          '700': '#2d323e',\r\n          '800': '#262933',\r\n          '900': '#1e2129',\r\n          'A100': '#c5c6cb',\r\n          'A200': '#9ea1a9',\r\n          'A400': '#5c616f',\r\n          'A700': '#2d323e',\r\n          'contrastDefaultColor': 'light',\r\n          'contrastDarkColors': '50 100 200 A100',\r\n          'contrastStrongLightColors': '300 400'\r\n        }\r\n      },{\r\n        name: 'custom',\r\n        options: {\r\n          '50': '#ececee',\r\n          '100': '#c5c6cb',\r\n          '200': '#9ea1a9',\r\n          '300': '#7d818c',\r\n          '400': '#5c616f',\r\n          '500': '#3c4252',\r\n          '600': '#353a48',\r\n          '700': '#2d323e',\r\n          '800': '#416ea3',\r\n          '900': '#1e2129',\r\n          'A100': '#c5c6cb',\r\n          'A200': '#9ea1a9',\r\n          'A400': '#5c616f',\r\n          'A700': '#2d323e',\r\n          'contrastDefaultColor': 'light',\r\n          'contrastDarkColors': '50 100 200 A100',\r\n          'contrastStrongLightColors': '300 400'\r\n        }\r\n      }\r\n      ];\r\n\r\n    angular\r\n        .module('app.core')\r\n        .constant('fusePalettes', fusePalettes);\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .factory('fuseGenerator', fuseGeneratorService);\r\n\r\n    /** @ngInject */\r\n    function fuseGeneratorService($cookies, $log, fuseTheming)\r\n    {\r\n        // Storage for simplified themes object\r\n        var themes = {};\r\n\r\n        var service = {\r\n            generate: generate,\r\n            rgba    : rgba\r\n        };\r\n\r\n        return service;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Generate less variables for each theme from theme's\r\n         * palette by using material color naming conventions\r\n         */\r\n        function generate()\r\n        {\r\n            // Get registered themes and palettes and copy\r\n            // them so we don't modify the original objects\r\n            var registeredThemes = angular.copy(fuseTheming.getRegisteredThemes());\r\n            var registeredPalettes = angular.copy(fuseTheming.getRegisteredPalettes());\r\n\r\n            // First, create a simplified object that stores\r\n            // all registered themes and their colors\r\n\r\n            // Iterate through registered themes\r\n            angular.forEach(registeredThemes, function (registeredTheme)\r\n            {\r\n                themes[registeredTheme.name] = {};\r\n\r\n                // Iterate through color types (primary, accent, warn & background)\r\n                angular.forEach(registeredTheme.colors, function (colorType, colorTypeName)\r\n                {\r\n                    themes[registeredTheme.name][colorTypeName] = {\r\n                        'name'  : colorType.name,\r\n                        'levels': {\r\n                            'default': {\r\n                                'color'    : rgba(registeredPalettes[colorType.name][colorType.hues.default].value),\r\n                                'contrast1': rgba(registeredPalettes[colorType.name][colorType.hues.default].contrast, 1),\r\n                                'contrast2': rgba(registeredPalettes[colorType.name][colorType.hues.default].contrast, 2),\r\n                                'contrast3': rgba(registeredPalettes[colorType.name][colorType.hues.default].contrast, 3),\r\n                                'contrast4': rgba(registeredPalettes[colorType.name][colorType.hues.default].contrast, 4)\r\n                            },\r\n                            'hue1'   : {\r\n                                'color'    : rgba(registeredPalettes[colorType.name][colorType.hues['hue-1']].value),\r\n                                'contrast1': rgba(registeredPalettes[colorType.name][colorType.hues['hue-1']].contrast, 1),\r\n                                'contrast2': rgba(registeredPalettes[colorType.name][colorType.hues['hue-1']].contrast, 2),\r\n                                'contrast3': rgba(registeredPalettes[colorType.name][colorType.hues['hue-1']].contrast, 3),\r\n                                'contrast4': rgba(registeredPalettes[colorType.name][colorType.hues['hue-1']].contrast, 4)\r\n                            },\r\n                            'hue2'   : {\r\n                                'color'    : rgba(registeredPalettes[colorType.name][colorType.hues['hue-2']].value),\r\n                                'contrast1': rgba(registeredPalettes[colorType.name][colorType.hues['hue-2']].contrast, 1),\r\n                                'contrast2': rgba(registeredPalettes[colorType.name][colorType.hues['hue-2']].contrast, 2),\r\n                                'contrast3': rgba(registeredPalettes[colorType.name][colorType.hues['hue-2']].contrast, 3),\r\n                                'contrast4': rgba(registeredPalettes[colorType.name][colorType.hues['hue-2']].contrast, 4)\r\n                            },\r\n                            'hue3'   : {\r\n                                'color'    : rgba(registeredPalettes[colorType.name][colorType.hues['hue-3']].value),\r\n                                'contrast1': rgba(registeredPalettes[colorType.name][colorType.hues['hue-3']].contrast, 1),\r\n                                'contrast2': rgba(registeredPalettes[colorType.name][colorType.hues['hue-3']].contrast, 2),\r\n                                'contrast3': rgba(registeredPalettes[colorType.name][colorType.hues['hue-3']].contrast, 3),\r\n                                'contrast4': rgba(registeredPalettes[colorType.name][colorType.hues['hue-3']].contrast, 4)\r\n                            }\r\n                        }\r\n                    };\r\n                });\r\n            });\r\n\r\n            // Process themes one more time and then store them in the service for external use\r\n            processAndStoreThemes(themes);\r\n\r\n            // Iterate through simplified themes\r\n            // object and create style variables\r\n            var styleVars = {};\r\n\r\n            // Iterate through registered themes\r\n            angular.forEach(themes, function (theme, themeName)\r\n            {\r\n                styleVars = {};\r\n                styleVars['@themeName'] = themeName;\r\n\r\n                // Iterate through color types (primary, accent, warn & background)\r\n                angular.forEach(theme, function (colorTypes, colorTypeName)\r\n                {\r\n                    // Iterate through color levels (default, hue1, hue2 & hue3)\r\n                    angular.forEach(colorTypes.levels, function (colors, colorLevelName)\r\n                    {\r\n                        // Iterate through color name (color, contrast1, contrast2, contrast3 & contrast4)\r\n                        angular.forEach(colors, function (color, colorName)\r\n                        {\r\n                            styleVars['@' + colorTypeName + ucfirst(colorLevelName) + ucfirst(colorName)] = color;\r\n                        });\r\n                    });\r\n                });\r\n\r\n                // Render styles\r\n                render(styleVars);\r\n            });\r\n        }\r\n\r\n        // ---------------------------\r\n        //  INTERNAL HELPER FUNCTIONS\r\n        // ---------------------------\r\n\r\n        /**\r\n         * Process and store themes for global use\r\n         *\r\n         * @param _themes\r\n         */\r\n        function processAndStoreThemes(_themes)\r\n        {\r\n            // Here we will go through every registered theme one more time\r\n            // and try to simplify their objects as much as possible for\r\n            // easier access to their properties.\r\n            var themes = angular.copy(_themes);\r\n\r\n            // Iterate through themes\r\n            angular.forEach(themes, function (theme)\r\n            {\r\n                // Iterate through color types (primary, accent, warn & background)\r\n                angular.forEach(theme, function (colorType, colorTypeName)\r\n                {\r\n                    theme[colorTypeName] = colorType.levels;\r\n                    theme[colorTypeName].color = colorType.levels.default.color;\r\n                    theme[colorTypeName].contrast1 = colorType.levels.default.contrast1;\r\n                    theme[colorTypeName].contrast2 = colorType.levels.default.contrast2;\r\n                    theme[colorTypeName].contrast3 = colorType.levels.default.contrast3;\r\n                    theme[colorTypeName].contrast4 = colorType.levels.default.contrast4;\r\n                    delete theme[colorTypeName].default;\r\n                });\r\n            });\r\n\r\n            // Store themes and set selected theme for the first time\r\n            fuseTheming.setThemesList(themes);\r\n\r\n            // Remember selected theme.\r\n            var selectedTheme = $cookies.get('selectedTheme');\r\n\r\n            if ( selectedTheme )\r\n            {\r\n                fuseTheming.setActiveTheme(selectedTheme);\r\n            }\r\n            else\r\n            {\r\n                fuseTheming.setActiveTheme('default');\r\n            }\r\n        }\r\n\r\n\r\n        /**\r\n         * Render css files\r\n         *\r\n         * @param styleVars\r\n         */\r\n        function render(styleVars)\r\n        {\r\n            var cssTemplate = '/* Content hack because they wont fix */\\n/* https://github.com/angular/material/pull/8067 */\\n[md-theme=\"@themeName\"] md-content.md-hue-1,\\nmd-content.md-@themeName-theme.md-hue-1 {\\n    color: @backgroundHue1Contrast1;\\n    background-color: @backgroundHue1Color;\\n}\\n\\n[md-theme=\"@themeName\"] md-content.md-hue-2,\\nmd-content.md-@themeName-theme.md-hue-2 {\\n    color: @backgroundHue2Contrast1;\\n    background-color: @backgroundHue2Color;\\n}\\n\\n[md-theme=\"@themeName\"] md-content.md-hue-3,\\n md-content.md-@themeName-theme.md-hue-3 {\\n    color: @backgroundHue3Contrast1;\\n    background-color: @backgroundHue3Color;\\n}\\n\\n/* Text Colors */\\n[md-theme=\"@themeName\"] a {\\n    color: @accentDefaultColor;\\n}\\n\\n[md-theme=\"@themeName\"] .secondary-text,\\n[md-theme=\"@themeName\"] .icon {\\n    color: @backgroundDefaultContrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .hint-text,\\n[md-theme=\"@themeName\"] .disabled-text {\\n    color: @backgroundDefaultContrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .fade-text,\\n[md-theme=\"@themeName\"] .divider {\\n    color: @backgroundDefaultContrast4;\\n}\\n\\n/* Primary */\\n[md-theme=\"@themeName\"] .md-primary-bg {\\n    background-color: @primaryDefaultColor;\\n    color: @primaryDefaultContrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg .secondary-text,\\n[md-theme=\"@themeName\"] .md-primary-bg .icon {\\n    color: @primaryDefaultContrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg .hint-text,\\n[md-theme=\"@themeName\"] .md-primary-bg .disabled-text {\\n    color: @primaryDefaultContrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg .fade-text,\\n[md-theme=\"@themeName\"] .md-primary-bg .divider {\\n    color: @primaryDefaultContrast4;\\n}\\n\\n/* Primary, Hue-1 */\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-1 {\\n    background-color: @primaryHue1Color;\\n    color: @primaryHue1Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-1 .secondary-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-1 .icon {\\n    color: @primaryHue1Contrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-1 .hint-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-1 .disabled-text {\\n    color: @primaryHue1Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-1 .fade-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-1 .divider {\\n    color: @primaryHue1Contrast4;\\n}\\n\\n/* Primary, Hue-2 */\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-2 {\\n    background-color: @primaryHue2Color;\\n    color: @primaryHue2Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-2 .secondary-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-2 .icon {\\n    color: @primaryHue2Contrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-2 .hint-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-2 .disabled-text {\\n    color: @primaryHue2Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-2 .fade-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-2 .divider {\\n    color: @primaryHue2Contrast4;\\n}\\n\\n/* Primary, Hue-3 */\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-3 {\\n    background-color: @primaryHue3Color;\\n    color: @primaryHue3Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-3 .secondary-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-3 .icon {\\n    color: @primaryHue3Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-3 .hint-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-3 .disabled-text {\\n    color: @primaryHue3Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-3 .fade-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-3 .divider {\\n    color: @primaryHue3Contrast4;\\n}\\n\\n/* Primary foreground */\\n[md-theme=\"@themeName\"] .md-primary-fg {\\n    color: @primaryDefaultColor !important;\\n}\\n\\n/* Primary foreground, Hue-1 */\\n[md-theme=\"@themeName\"] .md-primary-fg.md-hue-1 {\\n    color: @primaryHue1Color !important;\\n}\\n\\n/* Primary foreground, Hue-2 */\\n[md-theme=\"@themeName\"] .md-primary-fg.md-hue-2 {\\n    color: @primaryHue2Color !important;\\n}\\n\\n/* Primary foreground, Hue-3 */\\n[md-theme=\"@themeName\"] .md-primary-fg.md-hue-3 {\\n    color: @primaryHue3Color !important;\\n}\\n\\n/* Accent */\\n[md-theme=\"@themeName\"] .md-accent-bg {\\n    background-color: @accentDefaultColor;\\n    color: @accentDefaultContrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg .secondary-text,\\n[md-theme=\"@themeName\"] .md-accent-bg .icon {\\n    color: @accentDefaultContrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg .hint-text,\\n[md-theme=\"@themeName\"] .md-accent-bg .disabled-text {\\n    color: @accentDefaultContrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg .fade-text,\\n[md-theme=\"@themeName\"] .md-accent-bg .divider {\\n    color: @accentDefaultContrast4;\\n}\\n\\n/* Accent, Hue-1 */\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-1 {\\n    background-color: @accentHue1Color;\\n    color: @accentHue1Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-1 .secondary-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-1 .icon {\\n    color: @accentHue1Contrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-1 .hint-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-1 .disabled-text {\\n    color: @accentHue1Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-1 .fade-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-1 .divider {\\n    color: @accentHue1Contrast4;\\n}\\n\\n/* Accent, Hue-2 */\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-2 {\\n    background-color: @accentHue2Color;\\n    color: @accentHue2Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-2 .secondary-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-2 .icon {\\n    color: @accentHue2Contrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-2 .hint-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-2 .disabled-text {\\n    color: @accentHue2Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-2 .fade-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-2 .divider {\\n    color: @accentHue2Contrast4;\\n}\\n\\n/* Accent, Hue-3 */\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-3 {\\n    background-color: @accentHue3Color;\\n    color: @accentHue3Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-3 .secondary-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-3 .icon {\\n    color: @accentHue3Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-3 .hint-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-3 .disabled-text {\\n    color: @accentHue3Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-3 .fade-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-3 .divider {\\n    color: @accentHue3Contrast4;\\n}\\n\\n/* Accent foreground */\\n[md-theme=\"@themeName\"] .md-accent-fg {\\n    color: @accentDefaultColor !important;\\n}\\n\\n/* Accent foreground, Hue-1 */\\n[md-theme=\"@themeName\"] .md-accent-fg.md-hue-1 {\\n    color: @accentHue1Color !important;\\n}\\n\\n/* Accent foreground, Hue-2 */\\n[md-theme=\"@themeName\"] .md-accent-fg.md-hue-2 {\\n    color: @accentHue2Color !important;\\n}\\n\\n/* Accent foreground, Hue-3 */\\n[md-theme=\"@themeName\"] .md-accent-fg.md-hue-3 {\\n    color: @accentHue3Color !important;\\n}\\n\\n/* Warn */\\n[md-theme=\"@themeName\"] .md-warn-bg {\\n    background-color: @warnDefaultColor;\\n    color: @warnDefaultContrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg .secondary-text,\\n[md-theme=\"@themeName\"] .md-warn-bg .icon {\\n    color: @warnDefaultContrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg .hint-text,\\n[md-theme=\"@themeName\"] .md-warn-bg .disabled-text {\\n    color: @warnDefaultContrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg .fade-text,\\n[md-theme=\"@themeName\"] .md-warn-bg .divider {\\n    color: @warnDefaultContrast4;\\n}\\n\\n/* Warn, Hue-1 */\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-1 {\\n    background-color: @warnHue1Color;\\n    color: @warnHue1Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-1 .secondary-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-1 .icon {\\n    color: @warnHue1Contrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-1 .hint-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-1 .disabled-text {\\n    color: @warnHue1Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-1 .fade-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-1 .divider {\\n    color: @warnHue1Contrast4;\\n}\\n\\n/* Warn, Hue-2 */\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-2 {\\n    background-color: @warnHue2Color;\\n    color: @warnHue2Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-2 .secondary-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-2 .icon {\\n    color: @warnHue2Contrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-2 .hint-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-2 .disabled-text {\\n    color: @warnHue2Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-2 .fade-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-2 .divider {\\n    color: @warnHue2Contrast4;\\n}\\n\\n/* Warn, Hue-3 */\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-3 {\\n    background-color: @warnHue3Color;\\n    color: @warnHue3Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-3 .secondary-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-3 .icon {\\n    color: @warnHue3Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-3 .hint-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-3 .disabled-text {\\n    color: @warnHue3Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-3 .fade-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-3 .divider {\\n    color: @warnHue3Contrast4;\\n}\\n\\n/* Warn foreground */\\n[md-theme=\"@themeName\"] .md-warn-fg {\\n    color: @warnDefaultColor !important;\\n}\\n\\n/* Warn foreground, Hue-1 */\\n[md-theme=\"@themeName\"] .md-warn-fg.md-hue-1 {\\n    color: @warnHue1Color !important;\\n}\\n\\n/* Warn foreground, Hue-2 */\\n[md-theme=\"@themeName\"] .md-warn-fg.md-hue-2 {\\n    color: @warnHue2Color !important;\\n}\\n\\n/* Warn foreground, Hue-3 */\\n[md-theme=\"@themeName\"] .md-warn-fg.md-hue-3 {\\n    color: @warnHue3Color !important;\\n}\\n\\n/* Background */\\n[md-theme=\"@themeName\"] .md-background-bg {\\n    background-color: @backgroundDefaultColor;\\n    color: @backgroundDefaultContrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg .secondary-text,\\n[md-theme=\"@themeName\"] .md-background-bg .icon {\\n    color: @backgroundDefaultContrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg .hint-text,\\n[md-theme=\"@themeName\"] .md-background-bg .disabled-text {\\n    color: @backgroundDefaultContrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg .fade-text,\\n[md-theme=\"@themeName\"] .md-background-bg .divider {\\n    color: @backgroundDefaultContrast4;\\n}\\n\\n/* Background, Hue-1 */\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-1 {\\n    background-color: @backgroundHue1Color;\\n    color: @backgroundHue1Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-1 .secondary-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-1 .icon {\\n    color: @backgroundHue1Contrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-1 .hint-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-1 .disabled-text {\\n    color: @backgroundHue1Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-1 .fade-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-1 .divider {\\n    color: @backgroundHue1Contrast4;\\n}\\n\\n/* Background, Hue-2 */\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-2 {\\n    background-color: @backgroundHue2Color;\\n    color: @backgroundHue2Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-2 .secondary-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-2 .icon {\\n    color: @backgroundHue2Contrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-2 .hint-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-2 .disabled-text {\\n    color: @backgroundHue2Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-2 .fade-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-2 .divider {\\n    color: @backgroundHue2Contrast4;\\n}\\n\\n/* Background, Hue-3 */\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-3 {\\n    background-color: @backgroundHue3Color;\\n    color: @backgroundHue3Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-3 .secondary-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-3 .icon {\\n    color: @backgroundHue3Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-3 .hint-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-3 .disabled-text {\\n    color: @backgroundHue3Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-3 .fade-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-3 .divider {\\n    color: @backgroundHue3Contrast4;\\n}\\n\\n/* Background foreground */\\n[md-theme=\"@themeName\"] .md-background-fg {\\n    color: @backgroundDefaultColor !important;\\n}\\n\\n/* Background foreground, Hue-1 */\\n[md-theme=\"@themeName\"] .md-background-fg.md-hue-1 {\\n    color: @backgroundHue1Color !important;\\n}\\n\\n/* Background foreground, Hue-2 */\\n[md-theme=\"@themeName\"] .md-background-fg.md-hue-2 {\\n    color: @backgroundHue2Color !important;\\n}\\n\\n/* Background foreground, Hue-3 */\\n[md-theme=\"@themeName\"] .md-background-fg.md-hue-3 {\\n    color: @backgroundHue3Color !important;\\n}';\r\n\r\n            var regex = new RegExp(Object.keys(styleVars).join('|'), 'gi');\r\n            var css = cssTemplate.replace(regex, function (matched)\r\n            {\r\n                return styleVars[matched];\r\n            });\r\n\r\n            var headEl = angular.element('head');\r\n            var styleEl = angular.element('<style type=\"text/css\"></style>');\r\n            styleEl.html(css);\r\n            headEl.append(styleEl);\r\n        }\r\n\r\n        /**\r\n         * Convert color array to rgb/rgba\r\n         * Also apply contrasts if needed\r\n         *\r\n         * @param color\r\n         * @param _contrastLevel\r\n         * @returns {string}\r\n         */\r\n        function rgba(color, _contrastLevel)\r\n        {\r\n            var contrastLevel = _contrastLevel || false;\r\n\r\n            // Convert 255,255,255,0.XX to 255,255,255\r\n            // According to Google's Material design specs, white primary\r\n            // text must have opacity of 1 and we will fix that here\r\n            // because Angular Material doesn't care about that spec\r\n            if ( color.length === 4 && color[0] === 255 && color[1] === 255 && color[2] === 255 )\r\n            {\r\n                color.splice(3, 4);\r\n            }\r\n\r\n            // If contrast level provided, apply it to the current color\r\n            if ( contrastLevel )\r\n            {\r\n                color = applyContrast(color, contrastLevel);\r\n            }\r\n\r\n            // Convert color array to color string (rgb/rgba)\r\n            if ( color.length === 3 )\r\n            {\r\n                return 'rgb(' + color.join(',') + ')';\r\n            }\r\n            else if ( color.length === 4 )\r\n            {\r\n                return 'rgba(' + color.join(',') + ')';\r\n            }\r\n            else\r\n            {\r\n                $log.error('Invalid number of arguments supplied in the color array: ' + color.length + '\\n' + 'The array must have 3 or 4 colors.');\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Apply given contrast level to the given color\r\n         *\r\n         * @param color\r\n         * @param contrastLevel\r\n         */\r\n        function applyContrast(color, contrastLevel)\r\n        {\r\n            var contrastLevels = {\r\n                'white': {\r\n                    '1': '1',\r\n                    '2': '0.7',\r\n                    '3': '0.3',\r\n                    '4': '0.12'\r\n                },\r\n                'black': {\r\n                    '1': '0.87',\r\n                    '2': '0.54',\r\n                    '3': '0.26',\r\n                    '4': '0.12'\r\n                }\r\n            };\r\n\r\n            // If white\r\n            if ( color[0] === 255 && color[1] === 255 && color[2] === 255 )\r\n            {\r\n                color[3] = contrastLevels.white[contrastLevel];\r\n            }\r\n            // If black\r\n            else if ( color[0] === 0 && color[1] === 0 && color[2] === 0 )\r\n            {\r\n                color[3] = contrastLevels.black[contrastLevel];\r\n            }\r\n\r\n            return color;\r\n        }\r\n\r\n        /**\r\n         * Uppercase first\r\n         */\r\n        function ucfirst(string)\r\n        {\r\n            return string.charAt(0).toUpperCase() + string.slice(1);\r\n        }\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('MsThemeOptionsController', MsThemeOptionsController)\r\n        .directive('msThemeOptions', msThemeOptions);\r\n\r\n    /** @ngInject */\r\n    function MsThemeOptionsController($cookies, fuseTheming)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.themes = fuseTheming.themes;\r\n\r\n        vm.layoutModes = [\r\n            {\r\n                label: 'Boxed',\r\n                value: 'boxed'\r\n            },\r\n            {\r\n                label: 'Wide',\r\n                value: 'wide'\r\n            }\r\n        ];\r\n        vm.layoutStyles = [\r\n            {\r\n                label : 'Vertical Navigation',\r\n                value : 'verticalNavigation',\r\n                figure: '/assets/images/theme-options/vertical-nav.jpg'\r\n            },\r\n            {\r\n                label : 'Vertical Navigation with Fullwidth Toolbar',\r\n                value : 'verticalNavigationFullwidthToolbar',\r\n                figure: '/assets/images/theme-options/vertical-nav-with-full-toolbar.jpg'\r\n            },\r\n            {\r\n                label : 'Vertical Navigation with Fullwidth Toolbar 2',\r\n                value : 'verticalNavigationFullwidthToolbar2',\r\n                figure: '/assets/images/theme-options/vertical-nav-with-full-toolbar-2.jpg'\r\n            },\r\n            {\r\n                label : 'Horizontal Navigation',\r\n                value : 'horizontalNavigation',\r\n                figure: '/assets/images/theme-options/horizontal-nav.jpg'\r\n            },\r\n            {\r\n                label : 'Content with Toolbar',\r\n                value : 'contentWithToolbar',\r\n                figure: '/assets/images/theme-options/content-with-toolbar.jpg'\r\n            },\r\n            {\r\n                label : 'Content Only',\r\n                value : 'contentOnly',\r\n                figure: '/assets/images/theme-options/content-only.jpg'\r\n            },\r\n        ];\r\n\r\n        vm.layoutMode = 'wide';\r\n        vm.layoutStyle = $cookies.get('layoutStyle') || 'verticalNavigation';\r\n\r\n        // Methods\r\n        vm.setActiveTheme = setActiveTheme;\r\n        vm.getActiveTheme = getActiveTheme;\r\n        vm.updateLayoutMode = updateLayoutMode;\r\n        vm.updateLayoutStyle = updateLayoutStyle;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Set active theme\r\n         *\r\n         * @param themeName\r\n         */\r\n        function setActiveTheme(themeName)\r\n        {\r\n            fuseTheming.setActiveTheme(themeName);\r\n        }\r\n\r\n        /**\r\n         * Get active theme\r\n         *\r\n         * @returns {service.themes.active|{name, theme}}\r\n         */\r\n        function getActiveTheme()\r\n        {\r\n            return fuseTheming.themes.active;\r\n        }\r\n\r\n        /**\r\n         * Update layout mode\r\n         */\r\n        function updateLayoutMode()\r\n        {\r\n            var bodyEl = angular.element('body');\r\n\r\n            // Update class on body element\r\n            bodyEl.toggleClass('boxed', (vm.layoutMode === 'boxed'));\r\n        }\r\n\r\n        /**\r\n         * Update layout style\r\n         */\r\n        function updateLayoutStyle()\r\n        {\r\n            // Update the cookie\r\n            $cookies.put('layoutStyle', vm.layoutStyle);\r\n\r\n            // Reload the page to apply the changes\r\n            location.reload();\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msThemeOptions($mdSidenav)\r\n    {\r\n        return {\r\n            restrict   : 'E',\r\n            scope      : {},\r\n            controller : 'MsThemeOptionsController as vm',\r\n            templateUrl: 'app/core/theme-options/theme-options.html',\r\n            compile    : function (tElement)\r\n            {\r\n                tElement.addClass('ms-theme-options');\r\n\r\n                return function postLink(scope)\r\n                {\r\n                    /**\r\n                     * Toggle options sidenav\r\n                     */\r\n                    function toggleOptionsSidenav()\r\n                    {\r\n                        // Toggle the fuse theme options panel\r\n                        $mdSidenav('fuse-theme-options').toggle();\r\n                    }\r\n\r\n                    // Expose the toggle function\r\n                    scope.toggleOptionsSidenav = toggleOptionsSidenav;\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .factory('msUtils', msUtils);\r\n\r\n    /** @ngInject */\r\n    function msUtils($window)\r\n    {\r\n        // Private variables\r\n        var mobileDetect = new MobileDetect($window.navigator.userAgent),\r\n            browserInfo = null;\r\n\r\n        var service = {\r\n            exists       : exists,\r\n            detectBrowser: detectBrowser,\r\n            guidGenerator: guidGenerator,\r\n            isMobile     : isMobile,\r\n            toggleInArray: toggleInArray\r\n        };\r\n\r\n        return service;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Check if item exists in a list\r\n         *\r\n         * @param item\r\n         * @param list\r\n         * @returns {boolean}\r\n         */\r\n        function exists(item, list)\r\n        {\r\n            return list.indexOf(item) > -1;\r\n        }\r\n\r\n        /**\r\n         * Returns browser information\r\n         * from user agent data\r\n         *\r\n         * Found at http://www.quirksmode.org/js/detect.html\r\n         * but modified and updated to fit for our needs\r\n         */\r\n        function detectBrowser()\r\n        {\r\n            // If we already tested, do not test again\r\n            if ( browserInfo )\r\n            {\r\n                return browserInfo;\r\n            }\r\n\r\n            var browserData = [\r\n                {\r\n                    string       : $window.navigator.userAgent,\r\n                    subString    : 'Edge',\r\n                    versionSearch: 'Edge',\r\n                    identity     : 'Edge'\r\n                },\r\n                {\r\n                    string   : $window.navigator.userAgent,\r\n                    subString: 'Chrome',\r\n                    identity : 'Chrome'\r\n                },\r\n                {\r\n                    string       : $window.navigator.userAgent,\r\n                    subString    : 'OmniWeb',\r\n                    versionSearch: 'OmniWeb/',\r\n                    identity     : 'OmniWeb'\r\n                },\r\n                {\r\n                    string       : $window.navigator.vendor,\r\n                    subString    : 'Apple',\r\n                    versionSearch: 'Version',\r\n                    identity     : 'Safari'\r\n                },\r\n                {\r\n                    prop    : $window.opera,\r\n                    identity: 'Opera'\r\n                },\r\n                {\r\n                    string   : $window.navigator.vendor,\r\n                    subString: 'iCab',\r\n                    identity : 'iCab'\r\n                },\r\n                {\r\n                    string   : $window.navigator.vendor,\r\n                    subString: 'KDE',\r\n                    identity : 'Konqueror'\r\n                },\r\n                {\r\n                    string   : $window.navigator.userAgent,\r\n                    subString: 'Firefox',\r\n                    identity : 'Firefox'\r\n                },\r\n                {\r\n                    string   : $window.navigator.vendor,\r\n                    subString: 'Camino',\r\n                    identity : 'Camino'\r\n                },\r\n                {\r\n                    string   : $window.navigator.userAgent,\r\n                    subString: 'Netscape',\r\n                    identity : 'Netscape'\r\n                },\r\n                {\r\n                    string       : $window.navigator.userAgent,\r\n                    subString    : 'MSIE',\r\n                    identity     : 'Explorer',\r\n                    versionSearch: 'MSIE'\r\n                },\r\n                {\r\n                    string       : $window.navigator.userAgent,\r\n                    subString    : 'Trident/7',\r\n                    identity     : 'Explorer',\r\n                    versionSearch: 'rv'\r\n                },\r\n                {\r\n                    string       : $window.navigator.userAgent,\r\n                    subString    : 'Gecko',\r\n                    identity     : 'Mozilla',\r\n                    versionSearch: 'rv'\r\n                },\r\n                {\r\n                    string       : $window.navigator.userAgent,\r\n                    subString    : 'Mozilla',\r\n                    identity     : 'Netscape',\r\n                    versionSearch: 'Mozilla'\r\n                }\r\n            ];\r\n\r\n            var osData = [\r\n                {\r\n                    string   : $window.navigator.platform,\r\n                    subString: 'Win',\r\n                    identity : 'Windows'\r\n                },\r\n                {\r\n                    string   : $window.navigator.platform,\r\n                    subString: 'Mac',\r\n                    identity : 'Mac'\r\n                },\r\n                {\r\n                    string   : $window.navigator.platform,\r\n                    subString: 'Linux',\r\n                    identity : 'Linux'\r\n                },\r\n                {\r\n                    string   : $window.navigator.platform,\r\n                    subString: 'iPhone',\r\n                    identity : 'iPhone'\r\n                },\r\n                {\r\n                    string   : $window.navigator.platform,\r\n                    subString: 'iPod',\r\n                    identity : 'iPod'\r\n                },\r\n                {\r\n                    string   : $window.navigator.platform,\r\n                    subString: 'iPad',\r\n                    identity : 'iPad'\r\n                },\r\n                {\r\n                    string   : $window.navigator.platform,\r\n                    subString: 'Android',\r\n                    identity : 'Android'\r\n                }\r\n            ];\r\n\r\n            var versionSearchString = '';\r\n\r\n            function searchString(data)\r\n            {\r\n                for ( var i = 0; i < data.length; i++ )\r\n                {\r\n                    var dataString = data[i].string;\r\n                    var dataProp = data[i].prop;\r\n\r\n                    versionSearchString = data[i].versionSearch || data[i].identity;\r\n\r\n                    if ( dataString )\r\n                    {\r\n                        if ( dataString.indexOf(data[i].subString) !== -1 )\r\n                        {\r\n                            return data[i].identity;\r\n\r\n                        }\r\n                    }\r\n                    else if ( dataProp )\r\n                    {\r\n                        return data[i].identity;\r\n                    }\r\n                }\r\n            }\r\n\r\n            function searchVersion(dataString)\r\n            {\r\n                var index = dataString.indexOf(versionSearchString);\r\n\r\n                if ( index === -1 )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                return parseInt(dataString.substring(index + versionSearchString.length + 1));\r\n            }\r\n\r\n            var browser = searchString(browserData) || 'unknown-browser';\r\n            var version = searchVersion($window.navigator.userAgent) || searchVersion($window.navigator.appVersion) || 'unknown-version';\r\n            var os = searchString(osData) || 'unknown-os';\r\n\r\n            // Prepare and store the object\r\n            browser = browser.toLowerCase();\r\n            version = browser + '-' + version;\r\n            os = os.toLowerCase();\r\n\r\n            browserInfo = {\r\n                browser: browser,\r\n                version: version,\r\n                os     : os\r\n            };\r\n\r\n            return browserInfo;\r\n        }\r\n\r\n        /**\r\n         * Generates a globally unique id\r\n         *\r\n         * @returns {*}\r\n         */\r\n        function guidGenerator()\r\n        {\r\n            var S4 = function ()\r\n            {\r\n                return (((1 + Math.random()) * 0x10000) || 0).toString(16).substring(1);\r\n            };\r\n            return (S4() + S4() + S4() + S4() + S4() + S4());\r\n        }\r\n\r\n        /**\r\n         * Return if current device is a\r\n         * mobile device or not\r\n         */\r\n        function isMobile()\r\n        {\r\n            return mobileDetect.mobile();\r\n        }\r\n\r\n        /**\r\n         * Toggle in array (push or splice)\r\n         *\r\n         * @param item\r\n         * @param array\r\n         */\r\n        function toggleInArray(item, array)\r\n        {\r\n            if ( array.indexOf(item) === -1 )\r\n            {\r\n                array.push(item);\r\n            }\r\n            else\r\n            {\r\n                array.splice(array.indexOf(item), 1);\r\n            }\r\n        }\r\n    }\r\n}());\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .provider('msApi', msApiProvider);\r\n\r\n    /** @ngInject **/\r\n    function msApiProvider()\r\n    {\r\n        /* ----------------- */\r\n        /* Provider          */\r\n        /* ----------------- */\r\n        var provider = this;\r\n\r\n        // Inject the $log service\r\n        var $log = angular.injector(['ng']).get('$log');\r\n\r\n        // Data\r\n        var baseUrl = '';\r\n        var api = [];\r\n\r\n        // Methods\r\n        provider.setBaseUrl = setBaseUrl;\r\n        provider.getBaseUrl = getBaseUrl;\r\n        provider.getApiObject = getApiObject;\r\n        provider.register = register;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Set base url for API endpoints\r\n         *\r\n         * @param url {string}\r\n         */\r\n        function setBaseUrl(url)\r\n        {\r\n            baseUrl = url;\r\n        }\r\n\r\n        /**\r\n         * Return the base url\r\n         *\r\n         * @returns {string}\r\n         */\r\n        function getBaseUrl()\r\n        {\r\n            return baseUrl;\r\n        }\r\n\r\n        /**\r\n         * Return the api object\r\n         *\r\n         * @returns {object}\r\n         */\r\n        function getApiObject()\r\n        {\r\n            return api;\r\n        }\r\n\r\n        /**\r\n         * Register API endpoint\r\n         *\r\n         * @param key\r\n         * @param resource\r\n         */\r\n        function register(key, resource)\r\n        {\r\n            if ( !angular.isString(key) )\r\n            {\r\n                $log.error('\"path\" must be a string (eg. `dashboard.project`)');\r\n                return;\r\n            }\r\n\r\n            if ( !angular.isArray(resource) )\r\n            {\r\n                $log.error('\"resource\" must be an array and it must follow $resource definition');\r\n                return;\r\n            }\r\n\r\n            // Store the API object\r\n            api[key] = {\r\n                url          : baseUrl + (resource[0] || ''),\r\n                paramDefaults: resource[1] || [],\r\n                actions      : resource[2] || [],\r\n                options      : resource[3] || {}\r\n            };\r\n        }\r\n\r\n        /* ----------------- */\r\n        /* Service           */\r\n        /* ----------------- */\r\n        this.$get = function ($log, $q, $resource, $rootScope)\r\n        {\r\n            // Data\r\n\r\n            // Methods\r\n            var service = {\r\n                setBaseUrl: setBaseUrl,\r\n                getBaseUrl: getBaseUrl,\r\n                register  : register,\r\n                resolve   : resolve,\r\n                request   : request\r\n            };\r\n\r\n            return service;\r\n\r\n            //////////\r\n\r\n            /**\r\n             * Resolve an API endpoint\r\n             *\r\n             * @param action {string}\r\n             * @param parameters {object}\r\n             * @returns {promise|boolean}\r\n             */\r\n            function resolve(action, parameters)\r\n            {\r\n                // Emit an event\r\n                $rootScope.$broadcast('msApi::resolveStart');\r\n                \r\n                var actionParts = action.split('@'),\r\n                    resource = actionParts[0],\r\n                    method = actionParts[1],\r\n                    params = parameters || {};\r\n\r\n                if ( !resource || !method )\r\n                {\r\n                    $log.error('msApi.resolve requires correct action parameter (resourceName@methodName)');\r\n                    return false;\r\n                }\r\n\r\n                // Create a new deferred object\r\n                var deferred = $q.defer();\r\n\r\n                // Get the correct resource definition from api object\r\n                var apiObject = api[resource];\r\n\r\n                if ( !apiObject )\r\n                {\r\n                    $log.error('Resource \"' + resource + '\" is not defined in the api service!');\r\n                    deferred.reject('Resource \"' + resource + '\" is not defined in the api service!');\r\n                }\r\n                else\r\n                {\r\n                    // Generate the $resource object based on the stored API object\r\n                    var resourceObject = $resource(apiObject.url, apiObject.paramDefaults, apiObject.actions, apiObject.options);\r\n\r\n                    // Make the call...\r\n                    resourceObject[method](params,\r\n\r\n                        // Success\r\n                        function (response)\r\n                        {\r\n                            deferred.resolve(response);\r\n\r\n                            // Emit an event\r\n                            $rootScope.$broadcast('msApi::resolveSuccess');\r\n                        },\r\n\r\n                        // Error\r\n                        function (response)\r\n                        {\r\n                            deferred.reject(response);\r\n\r\n                            // Emit an event\r\n                            $rootScope.$broadcast('msApi::resolveError');\r\n                        }\r\n                    );\r\n                }\r\n\r\n                // Return the promise\r\n                return deferred.promise;\r\n            }\r\n\r\n            /**\r\n             * Make a request to an API endpoint\r\n             *\r\n             * @param action {string}\r\n             * @param [parameters] {object}\r\n             * @param [success] {function}\r\n             * @param [error] {function}\r\n             *\r\n             * @returns {promise|boolean}\r\n             */\r\n            function request(action, parameters, success, error)\r\n            {\r\n                // Emit an event\r\n                $rootScope.$broadcast('msApi::requestStart');\r\n                \r\n                var actionParts = action.split('@'),\r\n                    resource = actionParts[0],\r\n                    method = actionParts[1],\r\n                    params = parameters || {};\r\n\r\n                if ( !resource || !method )\r\n                {\r\n                    $log.error('msApi.resolve requires correct action parameter (resourceName@methodName)');\r\n                    return false;\r\n                }\r\n\r\n                // Create a new deferred object\r\n                var deferred = $q.defer();\r\n\r\n                // Get the correct resource definition from api object\r\n                var apiObject = api[resource];\r\n\r\n                if ( !apiObject )\r\n                {\r\n                    $log.error('Resource \"' + resource + '\" is not defined in the api service!');\r\n                    deferred.reject('Resource \"' + resource + '\" is not defined in the api service!');\r\n                }\r\n                else\r\n                {\r\n                    // Generate the $resource object based on the stored API object\r\n                    var resourceObject = $resource(apiObject.url, apiObject.paramDefaults, apiObject.actions, apiObject.options);\r\n\r\n                    // Make the call...\r\n                    resourceObject[method](params,\r\n\r\n                        // SUCCESS\r\n                        function (response)\r\n                        {\r\n                            // Emit an event\r\n                            $rootScope.$broadcast('msApi::requestSuccess');\r\n                            \r\n                            // Resolve the promise\r\n                            deferred.resolve(response);\r\n\r\n                            // Call the success function if there is one\r\n                            if ( angular.isDefined(success) && angular.isFunction(success) )\r\n                            {\r\n                                success(response);\r\n                            }\r\n                        },\r\n\r\n                        // ERROR\r\n                        function (response)\r\n                        {\r\n                            // Emit an event\r\n                            $rootScope.$broadcast('msApi::requestError');\r\n                            \r\n                            // Reject the promise\r\n                            deferred.reject(response);\r\n\r\n                            // Call the error function if there is one\r\n                            if ( angular.isDefined(error) && angular.isFunction(error) )\r\n                            {\r\n                                error(response);\r\n                            }\r\n                        }\r\n                    );\r\n                }\r\n\r\n                // Return the promise\r\n                return deferred.promise;\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .factory('apiResolver', apiResolverService);\r\n\r\n    /** @ngInject */\r\n    function apiResolverService($q, $log, api)\r\n    {\r\n        var service = {\r\n            resolve: resolve\r\n        };\r\n\r\n        return service;\r\n//console.log(service);\r\n        //////////\r\n        /**\r\n         * Resolve api\r\n         * @param action\r\n         * @param parameters\r\n         */\r\n        function resolve(action, parameters)\r\n        {\r\n            var actionParts = action.split('@'),\r\n                resource = actionParts[0],\r\n                method = actionParts[1],\r\n                params = parameters || {};\r\n\r\n            if ( !resource || !method )\r\n            {\r\n                $log.error('apiResolver.resolve requires correct action parameter (ResourceName@methodName)');\r\n                return false;\r\n            }\r\n\r\n            // Create a new deferred object\r\n            var deferred = $q.defer();\r\n\r\n            // Get the correct api object from api service\r\n            var apiObject = getApiObject(resource);\r\n\r\n            if ( !apiObject )\r\n            {\r\n                $log.error('Resource \"' + resource + '\" is not defined in the api service!');\r\n                deferred.reject('Resource \"' + resource + '\" is not defined in the api service!');\r\n            }\r\n            else\r\n            {\r\n                apiObject[method](params,\r\n\r\n                    // Success\r\n                    function (response)\r\n                    {\r\n                        deferred.resolve(response);\r\n                    },\r\n\r\n                    // Error\r\n                    function (response)\r\n                    {\r\n                        deferred.reject(response);\r\n                    }\r\n                );\r\n            }\r\n\r\n            // Return the promise\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * Get correct api object\r\n         *\r\n         * @param resource\r\n         * @returns {*}\r\n         */\r\n        function getApiObject(resource)\r\n        {\r\n            // Split the resource in case if we have a dot notated object\r\n            var resourceParts = resource.split('.'),\r\n                apiObject = api;\r\n\r\n            // Loop through the resource parts and go all the way through\r\n            // the api object and return the correct one\r\n            for ( var l = 0; l < resourceParts.length; l++ )\r\n            {\r\n                if ( angular.isUndefined(apiObject[resourceParts[l]]) )\r\n                {\r\n                    $log.error('Resource part \"' + resourceParts[l] + '\" is not defined!');\r\n                    apiObject = false;\r\n                    break;\r\n                }\r\n\r\n                apiObject = apiObject[resourceParts[l]];\r\n            }\r\n\r\n            if ( !apiObject )\r\n            {\r\n                return false;\r\n            }\r\n\r\n            return apiObject;\r\n        }\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .filter('filterByTags', filterByTags)\r\n        .filter('filterSingleByTags', filterSingleByTags);\r\n\r\n    /** @ngInject */\r\n    function filterByTags()\r\n    {\r\n        return function (items, tags)\r\n        {\r\n            if ( items.length === 0 || tags.length === 0 )\r\n            {\r\n                return items;\r\n            }\r\n\r\n            var filtered = [];\r\n\r\n            items.forEach(function (item)\r\n            {\r\n                var match = tags.every(function (tag)\r\n                {\r\n                    var tagExists = false;\r\n\r\n                    item.tags.forEach(function (itemTag)\r\n                    {\r\n                        if ( itemTag.name === tag.name )\r\n                        {\r\n                            tagExists = true;\r\n                            return;\r\n                        }\r\n                    });\r\n\r\n                    return tagExists;\r\n                });\r\n\r\n                if ( match )\r\n                {\r\n                    filtered.push(item);\r\n                }\r\n            });\r\n\r\n            return filtered;\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function filterSingleByTags()\r\n    {\r\n        return function (itemTags, tags)\r\n        {\r\n            if ( itemTags.length === 0 || tags.length === 0 )\r\n            {\r\n                return;\r\n            }\r\n\r\n            if ( itemTags.length < tags.length )\r\n            {\r\n                return [];\r\n            }\r\n\r\n            var filtered = [];\r\n\r\n            var match = tags.every(function (tag)\r\n            {\r\n                var tagExists = false;\r\n\r\n                itemTags.forEach(function (itemTag)\r\n                {\r\n                    if ( itemTag.name === tag.name )\r\n                    {\r\n                        tagExists = true;\r\n                        return;\r\n                    }\r\n                });\r\n\r\n                return tagExists;\r\n            });\r\n\r\n            if ( match )\r\n            {\r\n                filtered.push(itemTags);\r\n            }\r\n\r\n            return filtered;\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .filter('filterByPropIds', filterByPropIds);\r\n\r\n    /** @ngInject */\r\n    function filterByPropIds()\r\n    {\r\n        return function (items, parameter, ids)\r\n        {\r\n            if ( items.length === 0 || !ids || ids.length === 0 )\r\n            {\r\n                return items;\r\n            }\r\n\r\n            var filtered = [];\r\n\r\n            for ( var i = 0; i < items.length; i++ )\r\n            {\r\n                var item = items[i];\r\n                var match = false;\r\n\r\n                for ( var j = 0; j < ids.length; j++ )\r\n                {\r\n                    var id = ids[j];\r\n                    if ( item[parameter].indexOf(id) > -1 )\r\n                    {\r\n                        match = true;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if ( match )\r\n                {\r\n                    filtered.push(item);\r\n                }\r\n\r\n            }\r\n\r\n            return filtered;\r\n\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .filter('filterByIds', filterByIds);\r\n\r\n    /** @ngInject */\r\n    function filterByIds()\r\n    {\r\n        return function (items, ids)\r\n        {\r\n\r\n            if ( items.length === 0 || !ids )\r\n            {\r\n                return items;\r\n            }\r\n\r\n            if ( ids.length === 0 )\r\n            {\r\n                return [];\r\n            }\r\n\r\n            var filtered = [];\r\n\r\n            for ( var i = 0; i < items.length; i++ )\r\n            {\r\n                var item = items[i];\r\n                var match = false;\r\n\r\n                for ( var j = 0; j < ids.length; j++ )\r\n                {\r\n                    var id = ids[j];\r\n                    if ( item.id === id )\r\n                    {\r\n                        match = true;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if ( match )\r\n                {\r\n                    filtered.push(item);\r\n                }\r\n\r\n            }\r\n\r\n            return filtered;\r\n\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .filter('toTrusted', toTrustedFilter)\r\n        .filter('htmlToPlaintext', htmlToPlainTextFilter)\r\n        .filter('nospace', nospaceFilter)\r\n        .filter('humanizeDoc', humanizeDocFilter);\r\n\r\n    /** @ngInject */\r\n    function toTrustedFilter($sce)\r\n    {\r\n        return function (value)\r\n        {\r\n            return $sce.trustAsHtml(value);\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function htmlToPlainTextFilter()\r\n    {\r\n        return function (text)\r\n        {\r\n            return String(text).replace(/<[^>]+>/gm, '');\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function nospaceFilter()\r\n    {\r\n        return function (value)\r\n        {\r\n            return (!value) ? '' : value.replace(/ /g, '');\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function humanizeDocFilter()\r\n    {\r\n        return function (doc)\r\n        {\r\n            if ( !doc )\r\n            {\r\n                return;\r\n            }\r\n            if ( doc.type === 'directive' )\r\n            {\r\n                return doc.name.replace(/([A-Z])/g, function ($1)\r\n                {\r\n                    return '-' + $1.toLowerCase();\r\n                });\r\n            }\r\n            return doc.label || doc.name;\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .filter('altDate', altDate);\r\n\r\n    /** @ngInject */\r\n    function altDate()\r\n    {\r\n        return function (value)\r\n        {\r\n            var diff = Date.now() - new Date(value);\r\n\r\n            /**\r\n             * If in a hour\r\n             * e.g. \"2 minutes ago\"\r\n             */\r\n            if ( diff < (60 * 60 * 1000) )\r\n            {\r\n                return moment(value).fromNow();\r\n            }\r\n            /*\r\n             * If in the day\r\n             * e.g. \"11:23\"\r\n             */\r\n            else if ( diff < (60 * 60 * 24 * 1000) )\r\n            {\r\n                return moment(value).format('HH:mm');\r\n            }\r\n            /*\r\n             * If in week\r\n             * e.g \"Tuesday\"\r\n             */\r\n            else if ( diff < (60 * 60 * 24 * 7 * 1000) )\r\n            {\r\n                return moment(value).format('dddd');\r\n            }\r\n            /*\r\n             * If more than a week\r\n             * e.g. 03/29/2016\r\n             */\r\n            else\r\n            {\r\n                return moment(value).calendar();\r\n            }\r\n\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .directive('hljs', hljsDirective);\r\n\r\n    /** @ngInject */\r\n    function hljsDirective($timeout, $q, $interpolate)\r\n    {\r\n        return {\r\n            restrict: 'E',\r\n            compile : function (element, attr)\r\n            {\r\n                var code;\r\n                //No attribute? code is the content\r\n                if ( !attr.code )\r\n                {\r\n                    code = element.html();\r\n                    element.empty();\r\n                }\r\n\r\n                return function (scope, element, attr)\r\n                {\r\n\r\n                    if ( attr.code )\r\n                    {\r\n                        // Attribute? code is the evaluation\r\n                        code = scope.$eval(attr.code);\r\n                    }\r\n                    var shouldInterpolate = scope.$eval(attr.shouldInterpolate);\r\n\r\n                    $q.when(code).then(function (code)\r\n                    {\r\n                        if ( code )\r\n                        {\r\n                            if ( shouldInterpolate )\r\n                            {\r\n                                code = $interpolate(code)(scope);\r\n                            }\r\n                            var contentParent = angular.element(\r\n                                '<pre><code class=\"highlight\" ng-non-bindable></code></pre>'\r\n                            );\r\n                            element.append(contentParent);\r\n                            // Defer highlighting 1-frame to prevent GA interference...\r\n                            $timeout(function ()\r\n                            {\r\n                                render(code, contentParent);\r\n                            }, 34, false);\r\n                        }\r\n                    });\r\n\r\n                    function render(contents, parent)\r\n                    {\r\n\r\n                        var codeElement = parent.find('code');\r\n                        var lines = contents.split('\\n');\r\n\r\n                        // Remove empty lines\r\n                        lines = lines.filter(function (line)\r\n                        {\r\n                            return line.trim().length;\r\n                        });\r\n\r\n                        // Make it so each line starts at 0 whitespace\r\n                        var firstLineWhitespace = lines[0].match(/^\\s*/)[0];\r\n                        var startingWhitespaceRegex = new RegExp('^' + firstLineWhitespace);\r\n                        lines = lines.map(function (line)\r\n                        {\r\n                            return line\r\n                                .replace(startingWhitespaceRegex, '')\r\n                                .replace(/\\s+$/, '');\r\n                        });\r\n\r\n                        var highlightedCode = hljs.highlight(attr.language || attr.lang, lines.join('\\n'), true);\r\n                        highlightedCode.value = highlightedCode.value\r\n                            .replace(/=<span class=\"hljs-value\">\"\"<\\/span>/gi, '')\r\n                            .replace('<head>', '')\r\n                            .replace('<head/>', '');\r\n                        codeElement.append(highlightedCode.value).addClass('highlight');\r\n                    }\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .provider('fuseConfig', fuseConfigProvider);\r\n\r\n    /** @ngInject */\r\n    function fuseConfigProvider()\r\n    {\r\n        // Default configuration\r\n        var fuseConfiguration = {\r\n            'disableCustomScrollbars'        : false,\r\n            'disableMdInkRippleOnMobile'     : true,\r\n            'disableCustomScrollbarsOnMobile': true\r\n        };\r\n\r\n        // Methods\r\n        this.config = config;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Extend default configuration with the given one\r\n         *\r\n         * @param configuration\r\n         */\r\n        function config(configuration)\r\n        {\r\n            fuseConfiguration = angular.extend({}, fuseConfiguration, configuration);\r\n        }\r\n\r\n        /**\r\n         * Service\r\n         */\r\n        this.$get = function ()\r\n        {\r\n            var service = {\r\n                getConfig: getConfig,\r\n                setConfig: setConfig\r\n            };\r\n\r\n            return service;\r\n\r\n            //////////\r\n\r\n            /**\r\n             * Returns a config value\r\n             */\r\n            function getConfig(configName)\r\n            {\r\n                if ( angular.isUndefined(fuseConfiguration[configName]) )\r\n                {\r\n                    return false;\r\n                }\r\n\r\n                return fuseConfiguration[configName];\r\n            }\r\n\r\n            /**\r\n             * Creates or updates config object\r\n             *\r\n             * @param configName\r\n             * @param configValue\r\n             */\r\n            function setConfig(configName, configValue)\r\n            {\r\n                fuseConfiguration[configName] = configValue;\r\n            }\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.toolbar', [])\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($translatePartialLoaderProvider)\r\n    {\r\n        $translatePartialLoaderProvider.addPart('app/toolbar');\r\n    }\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.toolbar')\r\n    .controller('ToolbarController', ToolbarController);\r\n\r\n  /** @ngInject */\r\n  function ToolbarController($rootScope, $scope, $q, $state, $location, $timeout, $http, $mdSidenav, $translate, $mdToast, msNavigationService, toastr) {\r\n    var vm = this;\r\n\r\n    // Data\r\n    $rootScope.global = {\r\n      search: ''\r\n    };\r\n\r\n\r\n    vm.bodyEl = angular.element('body');\r\n    vm.userStatusOptions = [\r\n      {\r\n        'title': 'Online',\r\n        'icon' : 'icon-checkbox-marked-circle',\r\n        'color': '#4CAF50'\r\n      },\r\n      {\r\n        'title': 'Away',\r\n        'icon' : 'icon-clock',\r\n        'color': '#FFC107'\r\n      },\r\n      {\r\n        'title': 'Do not Disturb',\r\n        'icon' : 'icon-minus-circle',\r\n        'color': '#F44336'\r\n      },\r\n      {\r\n        'title': 'Invisible',\r\n        'icon' : 'icon-checkbox-blank-circle-outline',\r\n        'color': '#BDBDBD'\r\n      },\r\n      {\r\n        'title': 'Offline',\r\n        'icon' : 'icon-checkbox-blank-circle-outline',\r\n        'color': '#616161'\r\n      }\r\n    ];\r\n\r\n    // Methods\r\n    vm.toggleSidenav = toggleSidenav;\r\n    vm.toggleHorizontalMobileMenu = toggleHorizontalMobileMenu;\r\n    vm.toggleMsNavigationFolded = toggleMsNavigationFolded;\r\n    vm.setUserStatus = setUserStatus;\r\n\r\n    vm.badgeData = $rootScope.inviteCounts;\r\n\r\n    console.log('badge data friendships', vm.badgeData.friendships);\r\n\r\n    // Select the first status as a default\r\n    vm.userStatus = vm.userStatusOptions[0];\r\n\r\n\r\n    /**\r\n     * Toggle sidenav\r\n     *\r\n     * @param sidenavId\r\n     */\r\n    function toggleSidenav(sidenavId) {\r\n      $mdSidenav(sidenavId).toggle();\r\n    }\r\n\r\n\r\n    /**\r\n     * Toggle horizontal mobile menu\r\n     */\r\n    function toggleHorizontalMobileMenu() {\r\n      vm.bodyEl.toggleClass('ms-navigation-horizontal-mobile-menu-active');\r\n    }\r\n\r\n    /**\r\n     * Toggle msNavigation folded\r\n     */\r\n    function toggleMsNavigationFolded() {\r\n      msNavigationService.toggleFolded();\r\n    }\r\n\r\n\r\n    function setUserStatus(status)\r\n    {\r\n      vm.userStatus = status;\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.navigation', [])\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config()\r\n    {\r\n        \r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.navigation')\r\n        .controller('NavigationController', NavigationController);\r\n\r\n    /** @ngInject */\r\n    function NavigationController($scope, $rootScope)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.bodyEl = angular.element('body');\r\n        vm.folded = false;\r\n        vm.msScrollOptions = {\r\n            suppressScrollX: true\r\n        };\r\n\r\n        // Methods\r\n        vm.toggleMsNavigationFolded = toggleMsNavigationFolded;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Toggle folded status\r\n         */\r\n        function toggleMsNavigationFolded()\r\n        {\r\n            vm.folded = !vm.folded;\r\n        }\r\n\r\n        // Close the mobile menu on $stateChangeSuccess\r\n        $scope.$on('$stateChangeSuccess', function ()\r\n        {\r\n            vm.bodyEl.removeClass('ms-navigation-horizontal-mobile-menu-active');\r\n        });\r\n    }\r\n\r\n})();\n(function () {\r\n  'use strict';\r\n\r\n\r\n  angular\r\n    .module('checklinked', [\r\n\r\n      // Common 3rd Party Dependencies\r\n      'textAngular',\r\n\r\n      // Toastr\r\n      'toastr',\r\n\r\n      // Core\r\n      'app.core',\r\n\r\n      // Navigation\r\n      'app.navigation',\r\n\r\n      // Toolbar\r\n      'app.toolbar',\r\n\r\n      // Logout\r\n      'app.logout',\r\n\r\n      // User\r\n      'app.user',\r\n\r\n      // Checklist\r\n      'app.checklist',\r\n\r\n      // Chat\r\n      'app.chat',\r\n\r\n      // Mailbox\r\n      'app.mail',\r\n\r\n      // Invitations\r\n      'app.invitations',\r\n\r\n      // Organization\r\n      'app.organization',\r\n\r\n      // Subscriptions\r\n      'app.subscriptions',\r\n\r\n      // Folders\r\n      'app.folders',\r\n\r\n      // Groups\r\n      'app.groups',\r\n\r\n      // Teammembers\r\n      'app.teammembers',\r\n\r\n      // Queue\r\n      'app.queue',\r\n\r\n      // Templates\r\n      'app.templates',\r\n\r\n      // Contacts\r\n      'app.contacts',\r\n\r\n      // Create Account\r\n      'app.create',\r\n\r\n      // Account Account\r\n      'app.account',\r\n\r\n      // Confirm Account\r\n      'app.confirm',\r\n\r\n      // Invite Account\r\n      'app.invite',\r\n\r\n      // Conflicts Module\r\n      'app.summary',\r\n\r\n      // Dassboard Module\r\n      'app.dashboard',\r\n\r\n      // Dassboard Module\r\n      //'app.todo',\r\n\r\n      // Login\r\n      'app.login'\r\n\r\n    ]);\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('checklinked')\r\n        .controller('MainController', MainController);\r\n\r\n    /** @ngInject */\r\n    function MainController($scope, $rootScope)\r\n    {\r\n        // Data\r\n\r\n\r\n\r\n        // Remove the splash screen\r\n        $scope.$on('$viewContentAnimationEnded', function (event)\r\n        {\r\n            if ( event.targetScope.$id === $scope.$id )\r\n            {\r\n                $rootScope.$broadcast('msSplashScreen::remove');\r\n            }\r\n        });\r\n    }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .run(runBlock);\r\n\r\n    /** @ngInject */\r\n    function runBlock(msUtils, fuseGenerator, fuseConfig)\r\n    {\r\n        /**\r\n         * Generate extra classes based on registered themes so we\r\n         * can use same colors with non-angular-material elements\r\n         */\r\n        fuseGenerator.generate();\r\n\r\n        /**\r\n         * Disable md-ink-ripple effects on mobile\r\n         * if 'disableMdInkRippleOnMobile' config enabled\r\n         */\r\n        if ( fuseConfig.getConfig('disableMdInkRippleOnMobile') && msUtils.isMobile() )\r\n        {\r\n            var bodyEl = angular.element('body');\r\n            bodyEl.attr('md-no-ink', true);\r\n        }\r\n\r\n        /**\r\n         * Put isMobile() to the html as a class\r\n         */\r\n        if ( msUtils.isMobile() )\r\n        {\r\n            angular.element('html').addClass('is-mobile');\r\n        }\r\n\r\n        /**\r\n         * Put browser information to the html as a class\r\n         */\r\n        var browserInfo = msUtils.detectBrowser();\r\n        if ( browserInfo )\r\n        {\r\n            var htmlClass = browserInfo.browser + ' ' + browserInfo.version + ' ' + browserInfo.os;\r\n            angular.element('html').addClass(htmlClass);\r\n        }\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($ariaProvider, $logProvider, msScrollConfigProvider, $translateProvider, fuseConfigProvider)\r\n    {\r\n        // Enable debug logging\r\n        $logProvider.debugEnabled(true);\r\n        \r\n        // angular-translate configuration\r\n        $translateProvider.useLoader('$translatePartialLoader', {\r\n            urlTemplate: '{part}/i18n/{lang}.json'\r\n        });\r\n        $translateProvider.preferredLanguage('en');\r\n        $translateProvider.useSanitizeValueStrategy('sanitize');\r\n\r\n        /*eslint-disable */\r\n\r\n        // ng-aria configuration\r\n        $ariaProvider.config({\r\n            tabindex: false\r\n        });\r\n\r\n        // Fuse theme configurations\r\n        fuseConfigProvider.config({\r\n            'disableCustomScrollbars'        : false,\r\n            'disableCustomScrollbarsOnMobile': true,\r\n            'disableMdInkRippleOnMobile'     : true\r\n        });\r\n\r\n        // msScroll configuration\r\n        msScrollConfigProvider.config({\r\n            wheelPropagation: true\r\n        });\r\n\r\n        /*eslint-enable */\r\n    }\r\n})();\nArray.prototype.remove = function (e) {\r\n  var ref, t;\r\n  if ((t = this.indexOf(e)) > -1) {\r\n    return ([].splice.apply(this, [t, t - t + 1].concat(ref = [])), ref);\r\n  }\r\n};\r\n\r\n\r\nArray.prototype.diff = function (a) {\r\n  return this.filter(function (i) {\r\n    return a.indexOf(i) < 0;\r\n  });\r\n};\r\n\r\n\r\n(function () {\r\n  'use strict';\r\n  angular\r\n    .module('checklinked')\r\n    .run(runBlock);\r\n  /** @ngInject */\r\n  function runBlock($rootScope, $timeout, $state, $stateParams, $location, $http, toastr, api, $filter) {\r\n\r\n    // Activate loading indicator\r\n    var silent;\r\n\r\n\r\n\r\n\r\n    // Authinication\r\n    $rootScope.checkLogin = function (event, toState) {\r\n      //console.log('checkLogin', toState);\r\n      var check, module, path;\r\n\r\n      path = toState.url;\r\n\r\n      module = toState.name.split('.');\r\n\r\n      check = function (path) {\r\n        //Bad Session => redirect to login\r\n        if (!$rootScope.userAuthenticated() || $rootScope.user === null || $rootScope.user === '') {\r\n          console.log('checking 1');\r\n          if (path != null) {\r\n            api.cache.local.put('navTo', toState.name);\r\n          }\r\n          $state.go('app.login');\r\n        } else if (!$rootScope.userSignupComplete() && module[1] !== 'user') {\r\n          console.log('attempted to navigate to', module, path);\r\n          if (path != null) {\r\n            api.cache.local.put('navTo', toState.name);\r\n          }\r\n          console.log('success');\r\n          return $state.go(module.path);\r\n        }\r\n        /*\r\n         else if (!$rootScope.userSubscribed() && module[1] !== 'user' && module[1] !== 'organization' && module[1] !== 'subscriptions' && module[1] !== 'teammembers') {\r\n         console.log('WTF');\r\n         if (path != null) {\r\n         api.cache.local.put('navTo', toState.name);\r\n         }\r\n         $state.go('app.login');\r\n         //return $state.go('app.user');\r\n         }\r\n         */\r\n\r\n        else {\r\n          api.cache.local.remove('navTo');\r\n          return true;\r\n        }\r\n      }\r\n\r\n\r\n      //console.log('module[1]', module[1]);\r\n      switch (module[1]) {\r\n        case 'login':\r\n          console.log('navigating to login.  return true');\r\n          return true;\r\n          break;\r\n        case 'account':\r\n          console.log('navigating to account for confirm.  return true');\r\n          return true;\r\n          break;\r\n        case 'create':\r\n          console.log('navigating to create.  return true');\r\n          return true;\r\n          break;\r\n        case 'confirm':\r\n          console.log('navigating to confirm.  return true');\r\n          return true;\r\n          break;\r\n        case 'invite':\r\n          console.log('navigating to invite.  return true');\r\n          return true;\r\n          break;\r\n        case 'feed':\r\n        case 'user':\r\n        case 'checklist':\r\n        case 'invitations':\r\n        case 'organization':\r\n        case 'subscriptions':\r\n        case 'folders':\r\n        case 'groups':\r\n        case 'teammembers':\r\n        case 'templates':\r\n        case 'contacts':\r\n        case 'chat':\r\n        case 'mail':\r\n        case 'queue':\r\n        case 'summary':\r\n        case 'dashboard':\r\n        case 'checkout':\r\n        case 'to-do':\r\n        case 'revoke':\r\n          //case 'file-manager':\r\n\r\n          if (module[1] === 'organization' && module[2] === 'invite' && module[3] === 'accept') {\r\n            console.log('organization invite accept does not require login');\r\n            return true;\r\n          } else if ($rootScope.user === void 0) {\r\n            console.log('user not defined, pulling now');\r\n            return $http.get('https://checklinked.com/ajax/login-authCheck.php', {\r\n              cache: false\r\n            }).then(\r\n              function (d) { //success\r\n                var res;\r\n                console.log('success on user pull', d);\r\n                if (d === void 0 || d == null || d == '') {\r\n                  //console.log('server did not send response');\r\n                } else {\r\n                  res = d.data;\r\n\r\n                  if (typeof res == 'string') {\r\n                    res = JSON.parse(d.data, 1);\r\n                  }\r\n                }\r\n                if (res === void 0 || res == null || res == '') {\r\n                  console.log('not logged in (no res)');\r\n                  $rootScope.user = void 0;\r\n                  return check(path);\r\n                } else {\r\n                  console.log('res has content', typeof res, res);\r\n\r\n                  $rootScope.user = res.user;\r\n                  if ($rootScope.user !== void 0 && $rootScope.user != null && res.viewAs !== void 0 && res.viewAs != null) {\r\n                    //console.log('WTF', viewAs);\r\n                    $rootScope.viewAs.set(res.viewAs);\r\n                  }\r\n                  console.log('about to check path again after user load successful');\r\n                  return check(path);\r\n                }\r\n\r\n              },\r\n              function (err) { //error\r\n                console.log('error on user pull', err);\r\n                var ref;\r\n                if (!((ref = $rootScope.user) != null ? ref.authenticated : void 0)) {\r\n                  console.log('user not authenticated already after error on user pull, checking path now');\r\n                  return check(path);\r\n                }\r\n              }\r\n            );\r\n          } else {\r\n            console.log('user already loaded, checking path');\r\n            return check(path);\r\n          }\r\n          break;\r\n        case 'logout':\r\n          return check();\r\n      }\r\n    };\r\n\r\n    $rootScope.userAuthenticated = function () {\r\n      var ref;\r\n      if ((ref = $rootScope.user) != null ? ref.authenticated : void 0) {\r\n        return true;\r\n      }\r\n    };\r\n\r\n    $rootScope.userSignupComplete = function () {\r\n      if ($rootScope.user === void 0) {\r\n        return false;\r\n      }\r\n      if ($rootScope.user.organizationError === null) {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    $rootScope.userSubscribed = function () {\r\n      var ref, ref1;\r\n      if (((ref = $rootScope.user) != null ? (ref1 = ref.roles) != null ? ref1.indexOf('basic') : void 0 : void 0) !== -1) {\r\n        return true;\r\n      }\r\n    };\r\n\r\n    $rootScope.showReturnToLogin = function () {\r\n      if (!$rootScope.userAuthenticated() && $location.path() !== '/login') {\r\n        return false;\r\n      }\r\n    };\r\n\r\n    $rootScope.loading = {\r\n      folders: true,\r\n      groups: true,\r\n      checklists: true,\r\n      invites: false\r\n    };\r\n\r\n    $rootScope.loaded = {\r\n      folders: false,\r\n      groups: false,\r\n      checklists: false,\r\n      invites: false\r\n    };\r\n\r\n    $rootScope.folders = [];\r\n    $rootScope.groups = [];\r\n    $rootScope.checklists = [];\r\n\r\n    $rootScope.expanded = {\r\n      folders: [],\r\n      groups: []\r\n    };\r\n\r\n    $rootScope.inviteCounts = {\r\n      checklists: 0,\r\n      friendships: 0\r\n    };\r\n\r\n    $rootScope.showingUsers = [];\r\n\r\n    $rootScope.userCheckboxesAreShowing = function (usr) {\r\n      var usrShowing;\r\n      usrShowing = $filter('filter')($rootScope.showingUsers, {\r\n        idCON: usr.idCON\r\n      }, true);\r\n      if (usrShowing[0] !== void 0) {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    $rootScope.children = function (whats, parentID) {\r\n\r\n      //console.log('whats', whats);\r\n      //console.log('parentID', parentID);\r\n\r\n      //console.log('$rootScope[whats]', $rootScope[whats]);\r\n      return $filter('orderBy')($filter('filter')($rootScope[whats], {\r\n        id_parent: parentID\r\n      }, true), 'order');\r\n    };\r\n\r\n    $rootScope.organizeData = function () {\r\n      console.log('$rootScope.organizeData');\r\n      var folder, group, j, k, len, len1, ref, ref1;\r\n\r\n      //Check to see if checklists/folders/groups are loading into models\r\n      if ($rootScope.loading.folders || $rootScope.loading.groups || $rootScope.loading.checklists) {\r\n        return false;\r\n      }\r\n\r\n      ref = $rootScope.groups;\r\n      //console.log('$rootScope.groups', $rootScope.groups);\r\n      for (j = 0, len = ref.length; j < len; j++) {\r\n        group = ref[j];\r\n        group.checklists = $rootScope.children('checklists', group.id);\r\n        //console.log('group.checklists', group.checklists);\r\n      }\r\n      ref1 = $rootScope.folders;\r\n      //console.log('$rootScope.folders', $rootScope.folders);\r\n      for (k = 0, len1 = ref1.length; k < len1; k++) {\r\n        folder = ref1[k];\r\n        folder.groups = $rootScope.children('groups', folder.id);\r\n      }\r\n      console.log('event:dataOrganized');\r\n      return $rootScope.$broadcast('event:dataOrganized');\r\n    };\r\n\r\n    silent = true;\r\n\r\n    $rootScope.$on('coe:pleaseCache', function () {\r\n      return CacheLocalUser.put('coe', JSON.stringify($rootScope.items));\r\n    });\r\n\r\n    //activate toastr for $rootScope\r\n    $rootScope.message = function (text, type, duration) {\r\n      if (type == null) {\r\n        type = 'success';\r\n      }\r\n      if (duration == null) {\r\n        duration = 4000;\r\n      }\r\n      return toastr[type](text, {\r\n        timeOut: duration\r\n      });\r\n    };\r\n\r\n    $rootScope.notify = function (notifications) {\r\n      console.log('about to sent notify event', notifications);\r\n      if (!Array.isArray(notifications)) {\r\n        notifications = [notifications];\r\n      }\r\n      return $rootScope.socketio.emit('notify', notifications);\r\n    };\r\n\r\n    $rootScope.showSection = function (section) {\r\n      if ($rootScope.section === section) {\r\n        return true;\r\n      }\r\n    };\r\n\r\n    $rootScope.showSectionImg = function (section) {\r\n      if (section === 'login') {\r\n        return true;\r\n      }\r\n    };\r\n\r\n    // Cleanup\r\n    $rootScope.$on('$destroy', function () {\r\n      stateChangeStartEvent();\r\n      stateChangeSuccessEvent();\r\n    });\r\n\r\n    //SEARCH BAR\r\n    $rootScope.globalSearch = {\r\n      active: false,\r\n      toggle: function () {\r\n        $rootScope.globalSearch.active = !$rootScope.globalSearch.active;\r\n        if (!$rootScope.globalSearch.active) {\r\n          $rootScope.globalSearch.searchTerm = '';\r\n        }\r\n        return false;\r\n      },\r\n      searchTerm: ''\r\n    };\r\n\r\n    $rootScope.globalSearchCollapse = true;\r\n\r\n    $rootScope.viewAs = {\r\n      loading: false,\r\n      user: {},\r\n      allowed: false,\r\n      available: [],\r\n      notMe: false,\r\n      getAvailable: function () {\r\n        var self;\r\n        self = this;\r\n        return $http.get('https://checklinked.com/ajax/organization_members-get.php').then(function (d) {\r\n          var res;\r\n          if (typeof d !== 'object') {\r\n            return false;\r\n          }\r\n          res = d.data;\r\n          if (typeof res !== 'object') {\r\n            return false;\r\n          }\r\n          if (res.code) {\r\n            return false;\r\n          }\r\n          self.available = res.members;\r\n          //return console.log('loaded available members for view as', res.members);\r\n        });\r\n      },\r\n      change: function () {\r\n        return true;\r\n      },\r\n      restore: function () {\r\n        console.log('restoring view to logged in user');\r\n        this.select($rootScope.user);\r\n        return true;\r\n      },\r\n      set: function (user) {\r\n        var ref;\r\n        $rootScope.folders = [];\r\n        $rootScope.groups = [];\r\n        $rootScope.checklists = [];\r\n        $rootScope.$broadcast('event:userSelected');\r\n        console.log('broadcast event:userSelected');\r\n        this.user = user;\r\n        console.log('viewAs.user set', user);\r\n        this.notMe = (user != null ? user.idCON : void 0) !== ((ref = $rootScope.user) != null ? ref.idCON : void 0) ? true : false;\r\n        console.log('viewAs.notMe set', this.notMe);\r\n        $rootScope.$broadcast('event:userLoaded');\r\n        console.log('broadcast event:userLoaded');\r\n        this.loading = false;\r\n        return true;\r\n      },\r\n      select: function (contact) {\r\n        var self;\r\n        if (contact.idCON === this.user.idCON) {\r\n          return false;\r\n        }\r\n        this.loading = contact.idCON;\r\n        self = this;\r\n        return $http.get(\"https://checklinked.com/ajax/userByID-get.php?idCON=\" + contact.idCON + \"&viewAs=1\").then(function (d) {\r\n          var res;\r\n          if (typeof d !== 'object') {\r\n            return $rootScope.message(\"Server not responding properly.\", 'warning');\r\n          } else {\r\n            res = d.data;\r\n            if (typeof res !== 'object') {\r\n              return $rootScope.message(\"Server not responding properly.\", 'warning');\r\n            } else if (res.code) {\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              return self.set(res.user);\r\n            }\r\n          }\r\n        }, function (err) {\r\n          return $rootScope.message(\"Server not responding.\", 'warning');\r\n        }).then(function () {\r\n          return self.loading = false;\r\n        });\r\n      }\r\n    };\r\n\r\n    $rootScope.resetFeed = function () {\r\n\r\n      return $rootScope.feed = {\r\n        modal: {\r\n          eventsSet: false,\r\n          showing: false\r\n        },\r\n        loading: true,\r\n        items: [],\r\n        show: [],\r\n        next: {\r\n          start: 0,\r\n          qty: 20\r\n        },\r\n        unread: [],\r\n        marking: [],\r\n        unmarking: [],\r\n        marked: [],\r\n        mark: function (itemIDs) {\r\n          console.log('mark:', itemIDs);\r\n          $rootScope.feed.marking.concat(itemIDs);\r\n          $rootScope.feed.unread = $rootScope.feed.unread.diff(itemIDs);\r\n          console.log('$rootScope.feed.unread', $rootScope.feed.unread);\r\n          $rootScope.socketio.emit('mark_feed_items_read', $rootScope.user.idCON, itemIDs);\r\n        },\r\n        unmark: function (itemIDs) {\r\n          $rootScope.feed.unmarking.concat(itemIDs);\r\n          return $rootScope.socketio.emit('mark_feed_items_unread', $rootScope.user.idCON, itemIDs);\r\n        },\r\n        isUnread: function (item) {\r\n          var f, id;\r\n          f = $rootScope.feed;\r\n          id = item.id;\r\n          if (!item.unread) {\r\n            return false;\r\n          }\r\n          if (!f.marked.indexOf(id) < 0) {\r\n            return false;\r\n          }\r\n          if (!f.marking.indexOf(id) < 0) {\r\n            return false;\r\n          }\r\n          return true;\r\n        }\r\n      };\r\n    };\r\n\r\n    $rootScope.resetFeed();\r\n\r\n    $rootScope.addUserData = function (type, data) {\r\n      return $http.post('https://checklinked.com/ajax/realtime-adjustUser-post.php', {\r\n        w: type,\r\n        d: data\r\n      }, {\r\n        headers: {\r\n          'Content-Type': 'application/x-www-form-urlencoded'\r\n        },\r\n        cache: false\r\n      });\r\n    };\r\n\r\n\r\n    $rootScope.permissions = {\r\n      canChange: false,\r\n      hasAny: function (features, data) {\r\n        var has;\r\n        if (data == null) {\r\n          data = null;\r\n        }\r\n        has = false;\r\n        features.forEach(function (feature) {\r\n          return has = has || $rootScope.permissions.has(feature, data);\r\n        });\r\n        return has;\r\n      },\r\n      has: function (feature, data) {\r\n        var basic;\r\n        if (data == null) {\r\n          data = null;\r\n        }\r\n        switch (feature) {\r\n          case 'viewTeamMembers':\r\n          case 'viewTemplates':\r\n            if ($rootScope.userSubscribed()) {\r\n              return true;\r\n            }\r\n            break;\r\n          case 'viewFolders':\r\n          case 'viewChecklist':\r\n            if ($rootScope.userSignupComplete()) {\r\n              return true;\r\n            }\r\n            break;\r\n          case 'viewAs':\r\n            if ($rootScope.user.roles.indexOf('manager') !== -1) {\r\n              return true;\r\n            }\r\n            break;\r\n          case 'deleteTemplate':\r\n          case 'offboardMember':\r\n            if (+data.idCON === +$rootScope.user.idCON) {\r\n              return true;\r\n            }\r\n            if ($rootScope.user.roles.indexOf('corporate') !== -1) {\r\n              return true;\r\n            }\r\n            if ($rootScope.user.roles.indexOf('leader') !== -1) {\r\n              return true;\r\n            }\r\n            if ($rootScope.user.roles.indexOf('manager') !== -1) {\r\n              return true;\r\n            }\r\n            break;\r\n          case 'linkToChecklist':\r\n            if ($rootScope.userSubscribed() && $rootScope.user.roles.indexOf('manager') !== -1) {\r\n              return true;\r\n            }\r\n            break;\r\n          case 'changePermissions':\r\n            if ($rootScope.user.roles.indexOf('leader') !== -1) {\r\n              return true;\r\n            }\r\n            break;\r\n          case 'subscriptionManagement':\r\n            if ($rootScope.viewAs.user.organization.colleagueCount === 0) {\r\n              return true;\r\n            }\r\n            if ($rootScope.viewAs.user.roles.indexOf('financial') !== -1) {\r\n              return true;\r\n            }\r\n            break;\r\n          case 'incomingChecklists':\r\n            if ($rootScope.viewAs.user.roles.indexOf('queue') !== -1) {\r\n              return true;\r\n            }\r\n            break;\r\n          case 'editOrgInfo':\r\n            if ($rootScope.user.roles.indexOf('leader') !== -1) {\r\n              return true;\r\n            }\r\n            if ($rootScope.user.roles.indexOf('financial') !== -1) {\r\n              return true;\r\n            }\r\n            break;\r\n          case 'saveChecklist':\r\n          case 'restoreChecklist':\r\n          case 'downloadTemplate':\r\n          case 'publishTemplate':\r\n          case 'inviteToChecklist':\r\n            if ($rootScope.user.roles.indexOf('basic') !== -1) {\r\n              return true;\r\n            }\r\n            break;\r\n          case 'modifyChecklist':\r\n            if ($rootScope.user.roles.indexOf('basic') !== -1) {\r\n              return true;\r\n            }\r\n            if (data.CHK.inviterDetails.idCON === $rootScope.user.idCON) {\r\n              return true;\r\n            }\r\n            break;\r\n          case 'inviteToOrg':\r\n            basic = $filter('filter')($rootScope.user.organization.rolePool, {\r\n              web_name: 'basic'\r\n            }, true);\r\n            if (typeof basic[0] === 'object') {\r\n              if (+basic[0].available) {\r\n                return true;\r\n              }\r\n            }\r\n            break;\r\n          default:\r\n            return false;\r\n        }\r\n      },\r\n      set: function () {\r\n        var has;\r\n        has = this.has('viewAs');\r\n        $rootScope.viewAs.allowed = has;\r\n        has = this.has('changePermissions');\r\n        return $rootScope.permissions.canChange = has;\r\n      }\r\n    };\r\n\r\n    $rootScope.socketio = false;\r\n\r\n\r\n    //USER LOADED\r\n\r\n    $rootScope.$on('event:userLoaded', function (e, data) {\r\n      var realtime, show;\r\n      $rootScope.resetFeed();\r\n      $rootScope.viewAs.getAvailable();\r\n      $rootScope.permissions.set();\r\n      show = {\r\n        idCON: $rootScope.viewAs.user.idCON,\r\n        name: $rootScope.viewAs.user.name.first\r\n      };\r\n      $rootScope.showingUsers = [show];\r\n      console.log('set showing users', $rootScope.showingUsers);\r\n      api.folders.get().success(function (res) {\r\n        var ref;\r\n        if ((ref = res.folders) != null ? ref.length : void 0) {\r\n          return $rootScope.folders = res.folders;\r\n        }\r\n      })[\"finally\"](function () {\r\n        $rootScope.loading.folders = false;\r\n        return $rootScope.organizeData();\r\n      });\r\n      api.groups.get().success(function (res) {\r\n        var ref;\r\n        if ((ref = res.groups) != null ? ref.length : void 0) {\r\n          return $rootScope.groups = res.groups;\r\n        }\r\n      })[\"finally\"](function () {\r\n        $rootScope.loading.groups = false;\r\n        return $rootScope.organizeData();\r\n      });\r\n      api.checklists.get().success(function (res) {\r\n        var ref;\r\n        if ((ref = res.checklists) != null ? ref.length : void 0) {\r\n          $rootScope.checklists = res.checklists;\r\n        }\r\n        $rootScope.loaded.checklists = true;\r\n        return $rootScope.$broadcast('event:checklistsLoaded');\r\n      })[\"finally\"](function () {\r\n        $rootScope.loading.checklists = false;\r\n\r\n        console.log('rootScopeChecklists', $rootScope.checklists);\r\n\r\n        return $rootScope.organizeData();\r\n      });\r\n      //console.log('received event:userLoaded', $rootScope.user);\r\n      if ($location.search().devMode === true) {\r\n        realtime = 'http://localhost:3000';\r\n      } else {\r\n        realtime = 'https://realtime.checklinked.co:3000';\r\n      }\r\n      $rootScope.socketio = io(realtime, {\r\n        transports: ['websocket', 'polling', 'flashsocket'],\r\n        secure: true\r\n      });\r\n      return $rootScope.socketio.on('connect', function () {\r\n        var ids, sock, subs, subscriptionDetails, u;\r\n        sock = $rootScope.socketio;\r\n        u = $rootScope.user;\r\n        subs = u.subscriptions;\r\n        //console.log('broadcasted event:socketConnected');\r\n        $rootScope.$broadcast('event:socketConnected');\r\n        //console.log('subscriptions', subs);\r\n        ids = subs.contacts || [];\r\n        ids = ids.concat(subs.checklists || []);\r\n        ids = ids.concat(subs.sections || []);\r\n        ids = ids.concat(subs.headings || []);\r\n        ids = ids.concat(subs.items || []);\r\n        //console.log('ids', ids);\r\n        subscriptionDetails = {\r\n          idCON: u.idCON,\r\n          ids: ids\r\n        };\r\n\r\n        sock.emit('join', \"/feed/\" + $rootScope.user.idCON);\r\n\r\n        //console.log('sending total subscription', subscriptionDetails);\r\n        sock.emit('feed_total_subscription_update', subscriptionDetails);\r\n\r\n        sock.on('notification', function (notes) {\r\n          console.log('received notes: ', notes);\r\n          notes.forEach(function (note) {\r\n            //console.log('note', note);\r\n            var existing, f;\r\n            if (note.user.id !== u.idCON || note.type === 'invite_answered') {\r\n              f = $rootScope.feed;\r\n              note.timestamp = new Date(note.timestamp);\r\n\r\n              switch (note.type) {\r\n                case 'invited':\r\n                  note.labels = [3];\r\n                  break;\r\n                case 'notification':\r\n                  note.labels = [5];\r\n                  break;\r\n                case 'invite':\r\n                  note.labels = [2];\r\n                  break;\r\n                case 'accepted':\r\n                  note.labels = [2];\r\n                  break;\r\n                case 'message':\r\n                  note.labels = [4];\r\n                  break;\r\n                case 'post':\r\n                  note.labels = [6];\r\n                  break;\r\n                default:\r\n                  note.labels = [0];\r\n                  break;\r\n              }\r\n              switch (note.item.type) {\r\n                case 'checklist':\r\n                  note.labels.push(7);\r\n                  break;\r\n                case 'group':\r\n                  note.labels.push(9);\r\n                  break;\r\n                case 'section':\r\n                  note.labels.push(11);\r\n                  break;\r\n                case 'heading':\r\n                  note.labels.push(10);\r\n                  break;\r\n                case 'item':\r\n                  note.labels.push(12);\r\n                  break;\r\n                case 'post':\r\n                  note.labels.push(6);\r\n                  break;\r\n                default:\r\n                  note.labels.push(0);\r\n                  break;\r\n              }\r\n\r\n              existing = {\r\n                unread: $filter('filter')(f.unread, {\r\n                  id: note.id\r\n                }).length > 0,\r\n                items: $filter('filter')(f.items, {\r\n                  id: note.id\r\n                }).length > 0,\r\n                show: $filter('filter')(f.show, {\r\n                  id: note.id\r\n                }).length > 0\r\n              };\r\n              console.log('existing.unread', existing.unread);\r\n              if (f.isUnread(note) && !existing.unread) {\r\n                f.unread.push(note.id);\r\n              }\r\n              if (!existing.items) {\r\n                f.items.push(note);\r\n              }\r\n              if (f.modal.showing && !existing.show) {\r\n                f.show.push(note);\r\n                return f.mark([note.id]);\r\n              }\r\n            }\r\n\r\n          });\r\n          $rootScope.feed.loading = false;\r\n          $rootScope.$broadcast('event:feedNotificationsReceived');\r\n          return $rootScope.$apply();\r\n        });\r\n\r\n\r\n        if ($rootScope.socketio._callbacks['$checklist_invite_count'] === void 0) {\r\n          //console.log('socket checklist_invite_count callback is not defined; defining now');\r\n          $rootScope.socketio.on('checklist_invite_count', function (count) {\r\n            //console.log('received checklist invite count', count);\r\n            if ($rootScope.inviteCounts.checklists !== count) {\r\n              //console.log('broadcasting event:checklistInviteCountChanged');\r\n              $rootScope.$broadcast('event:checklistInviteCountChanged');\r\n            }\r\n            $rootScope.inviteCounts.checklists = count;\r\n            return $rootScope.$apply();\r\n          });\r\n        }\r\n\r\n        if ($rootScope.socketio._callbacks['$labels_changed'] === void 0) {\r\n          //console.log('socket labels_changed callback is not defined; defining now');\r\n          $rootScope.socketio.on('labels_changed', function () {\r\n            //console.log('received labels_changed');\r\n            return $rootScope.addUserData('labels-reset').then(function (d) {\r\n              var res;\r\n              if (typeof d !== 'object') {\r\n                return false;\r\n              }\r\n              res = d.data;\r\n              if (typeof res !== 'object') {\r\n                return false;\r\n              }\r\n              if (res.code) {\r\n                return false;\r\n              }\r\n              $rootScope.user = res.user;\r\n              return $rootScope.$broadcast('event:labelsUpdated');\r\n            });\r\n          });\r\n        }\r\n\r\n        if ($rootScope.socketio._callbacks['$friendship_invite_count'] === void 0) {\r\n          //console.log('socket friendship_invite_count callback is not defined; defining now');\r\n          $rootScope.socketio.on('friendship_invite_count', function (count) {\r\n            var update;\r\n            //console.log('received friendship invite count', count);\r\n            if (count !== $rootScope.inviteCounts.friendships) {\r\n              update = true;\r\n            }\r\n            $rootScope.inviteCounts.friendships = count;\r\n            $rootScope.$apply();\r\n            if (update) {\r\n              return $rootScope.$broadcast('event:friendshipInviteCountUpdated');\r\n            }\r\n          });\r\n        }\r\n\r\n        if ($rootScope.socketio._callbacks['$error_marking_feed_items_read'] === void 0) {\r\n          //console.log('socket error_marking_feed_items_read callback is not defined; defining now');\r\n          $rootScope.socketio.on('error_marking_feed_items_read', function (itemIDs) {\r\n            //console.log('received error marking feed items read', itemIDs, err);\r\n            $rootScope.feed.marking = $rootScope.feed.marking.diff(itemIDs);\r\n            return $rootScope.feed.unread = $rootScope.feed.unread.concat(itemIDs);\r\n          });\r\n        }\r\n\r\n        if ($rootScope.socketio._callbacks['$feed_items_marked_read'] === void 0) {\r\n          console.log('socket feed_items_marked_read callback is not defined; defining now');\r\n          $rootScope.socketio.on('feed_items_marked_read', function (itemIDs) {\r\n            console.log('received feed items marked read', itemIDs);\r\n\r\n\r\n            $rootScope.feed.marking = $rootScope.feed.marking.diff(itemIDs);\r\n            $rootScope.feed.marked = $rootScope.feed.marked.concat(itemIDs);\r\n\r\n            /*\r\n             $rootScope.feed.items.forEach(function (item) {\r\n             if ($rootScope.feed.unread.indexOf(item.id) < 0) {\r\n\r\n             return item.unread = false;\r\n             }\r\n             });\r\n             */\r\n            return $rootScope.$apply();\r\n          });\r\n        }\r\n\r\n        if ($rootScope.socketio._callbacks['$invite_count_update_ping'] === void 0) {\r\n          //console.log('socket invite_count_update_ping callback is not defined; defining now');\r\n          $rootScope.socketio.on('invite_count_update_ping', function (type) {\r\n            return $rootScope.socketio.emit('get_' + type + '_invite_count', $rootScope.user.idCON);\r\n          });\r\n        }\r\n\r\n        sock.emit('join', \"/feed/\" + $rootScope.user.idCON);\r\n        var ref;\r\n\r\n        if ((ref = $rootScope.user.organization) != null ? ref.idACC : void 0) {\r\n          sock.emit('join', \"/organization/\" + $rootScope.user.organization.idACC);\r\n        }\r\n\r\n        //console.log('sending total subscription', subscriptionDetails);\r\n        sock.emit('feed_total_subscription_update', subscriptionDetails);\r\n        sock.emit('feed_load', u.idCON);\r\n        sock.emit('get_checklist_invite_count', u.idCON);\r\n        sock.emit('get_friendship_invite_count', u.idCON);\r\n\r\n        return $rootScope.sendInviteCountUpdatePing = function (idCON, type) {\r\n          //console.log('sending invite count update ping', idCON, type);\r\n          sock.emit('ping_invite_count', idCON, type);\r\n          return true;\r\n        };\r\n\r\n      });\r\n    });\r\n\r\n\r\n    $rootScope.sendInviteCountUpdatePing = function (idCON, type) {\r\n    };\r\n\r\n    $rootScope.currentPaymentMethod = null;\r\n    $rootScope.enterPaymentMethodValues = {};\r\n\r\n    $rootScope.subscriptions = {\r\n      agreeToTerms: false,\r\n      finalizing: false,\r\n      selected: null,\r\n      doSelect: function (sub) {\r\n        $rootScope.subscriptions.selected = sub;\r\n        return api.subscriptions.getInvites($rootScope.subscriptions.selected.idSUB).success(function (res) {\r\n          var ref;\r\n          if (res != null ? (ref = res.invites) != null ? ref.length : void 0 : void 0) {\r\n            return $rootScope.subscriptions.selected.invites = res.invites;\r\n          } else {\r\n            return $rootScope.subscriptions.selected.invites = [];\r\n          }\r\n        });\r\n      },\r\n      select: function (offer) {\r\n        console.log('select', offer);\r\n        $rootScope.subscriptions.doSelect(offer);\r\n        $rootScope.enterPaymentMethodValues = {\r\n          submit: function () {\r\n            console.log('method form submitted');\r\n            return false;\r\n          },\r\n          submitText: 'Enter Method'\r\n        };\r\n        return false;\r\n      },\r\n      finalize: function () {\r\n        $rootScope.subscriptions.finalizing = true;\r\n        console.log('finalizing with values', $rootScope.subscriptions, $rootScope.currentPaymentMethod);\r\n        if (!$rootScope.subscriptions.agreeToTerms) {\r\n          $rootScope.message('You cannot subscribe if you do not agree to Checklink\\'s Terms and Conditions!', 'warning');\r\n          return false;\r\n        }\r\n        api.subscriptions.finalize($rootScope.subscriptions.selected, $rootScope.currentPaymentMethod).error(function (res) {\r\n          return $rootScope.message('Error talking to server.', 'warning');\r\n        }).success(function (res) {\r\n          if (res === void 0 || res === null || res === '') {\r\n            return $rootScope.message('No response from server.', 'warning');\r\n          } else if (res.code) {\r\n            $rootScope.currentPaymentMethod = null;\r\n            $rootScope.subscriptions.agreeToTerms = false;\r\n            return $rootScope.message(res.message, 'warning');\r\n          } else {\r\n            $rootScope.subscriptions.selected = null;\r\n            $rootScope.subscriptions.success = true;\r\n            $rootScope.message('Subscription Success.', 'success');\r\n            $rootScope.user = res.user;\r\n            return $rootScope.$broadcast('event:membersUpdated');\r\n          }\r\n        })[\"finally\"](function () {\r\n          return $rootScope.subscriptions.finalizing = false;\r\n        });\r\n        return false;\r\n      }\r\n    };\r\n\r\n\r\n    var stateChangeStartEvent = $rootScope.$on('$stateChangeStart', function (event, toState, toParams, fromState, fromParams, options) {\r\n\r\n      $rootScope.loadingProgress = true;\r\n      //console.log('checking route for permissions');\r\n\r\n      var mod, loginCheck;\r\n      $rootScope.module = mod = toState.name.split('.');\r\n\r\n      $rootScope.section = '';\r\n      $rootScope.section = mod[1] === 'login' && !mod[2] ? 'login' : mod[1];\r\n      if ($rootScope.section !== 'feed') {\r\n        //console.log('is not the feed');\r\n        $rootScope.backTo = '#' + toState.url;\r\n      }\r\n      if (mod[1] === 'login') {\r\n        //console.log('is the login');\r\n      } else if (mod[1] === 'logout') {\r\n\r\n        $http.post('https://checklinked.com/ajax/logout.php').then(\r\n          function (d) { //success\r\n            //$rootScope.socketio.disconnect();\r\n            $rootScope.user = void 0;\r\n            var loginTime = '';\r\n            loginCheck = $rootScope.checkLogin(event, toState);\r\n            if (!loginCheck) {\r\n              console.log('preventing logout', toState);\r\n              event.preventDefault();\r\n              $state.go('app.login');\r\n            } else {\r\n              //console.log('logout good');\r\n            }\r\n          }\r\n          , function (err) {\r\n            $rootScope.message('Error logging out.', 'warning');\r\n            event.preventDefault();\r\n          }\r\n        );\r\n      } else {\r\n        //console.log('no special condition');\r\n        loginCheck = $rootScope.checkLogin(event, toState);\r\n        //console.log('login check result:',loginCheck);\r\n        if (!loginCheck) {\r\n          //console.log('preventing navigation',toState);\r\n          event.preventDefault();\r\n          $state.go('app.login');\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n    // Update Checklists Load\r\n\r\n    $rootScope.$on('event:updateModels', function (e, data) {\r\n      console.log('e', e);\r\n      console.log('data', data);\r\n\r\n      $rootScope.folders = [];\r\n      $rootScope.groups = [];\r\n      $rootScope.checklists = [];\r\n\r\n      //console.log('set showing users', $rootScope.showingUsers);\r\n      api.folders.get().success(function (res) {\r\n        var ref;\r\n        if ((ref = res.folders) != null ? ref.length : void 0) {\r\n          return $rootScope.folders = res.folders;\r\n        }\r\n      })[\"finally\"](function () {\r\n        $rootScope.loading.folders = false;\r\n        return $rootScope.organizeData();\r\n      });\r\n      api.groups.get().success(function (res) {\r\n        var ref;\r\n        if ((ref = res.groups) != null ? ref.length : void 0) {\r\n          return $rootScope.groups = res.groups;\r\n        }\r\n      })[\"finally\"](function () {\r\n        $rootScope.loading.groups = false;\r\n        return $rootScope.organizeData();\r\n      });\r\n      api.checklists.get().success(function (res) {\r\n        var ref;\r\n        if ((ref = res.checklists) != null ? ref.length : void 0) {\r\n          $rootScope.checklists = res.checklists;\r\n        }\r\n        $rootScope.loaded.checklists = true;\r\n      })[\"finally\"](function () {\r\n        $rootScope.loading.checklists = false;\r\n      });\r\n\r\n    });\r\n\r\n\r\n    // De-activate loading indicator\r\n    var stateChangeSuccessEvent = $rootScope.$on('$stateChangeSuccess', function () {\r\n      $timeout(function () {\r\n        $rootScope.loadingProgress = false;\r\n      });\r\n    });\r\n\r\n    // Store state in the root scope for easy access\r\n    $rootScope.state = $state;\r\n\r\n\r\n    $rootScope.$broadcast('event:startDoomsDayDevice', $rootScope);\r\n\r\n    //console.log('$rootScope.feed', $rootScope.feed);\r\n  }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('checklinked')\r\n        .config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider, $locationProvider)\r\n    {\r\n        $locationProvider.html5Mode(true);\r\n\r\n        $urlRouterProvider.otherwise('/user');\r\n\r\n        /**\r\n         * Layout Style Switcher\r\n         *\r\n         * This code is here for demonstration purposes.\r\n         * If you don't need to switch between the layout\r\n         * styles like in the demo, you can set one manually by\r\n         * typing the template urls into the `State definitions`\r\n         * area and remove this code\r\n         */\r\n\r\n        // Inject $cookies\r\n        var $cookies;\r\n\r\n        angular.injector(['ngCookies']).invoke([\r\n            '$cookies', function (_$cookies)\r\n            {\r\n                //$cookies = _$cookies;\r\n            }\r\n        ]);\r\n\r\n        // Get active layout\r\n        var layoutStyle = 'verticalNavigation';\r\n\r\n        var layouts = {\r\n            verticalNavigation  : {\r\n                main      : 'app/core/layouts/vertical-navigation.html',\r\n                toolbar   : 'app/toolbar/layouts/vertical-navigation/toolbar.html',\r\n                navigation: 'app/navigation/layouts/vertical-navigation/navigation.html'\r\n          }\r\n        };\r\n        // END - Layout Style Switcher\r\n\r\n        // State definitions\r\n        $stateProvider\r\n            .state('app', {\r\n                abstract: true,\r\n                views   : {\r\n                    'main@'         : {\r\n                        templateUrl: layouts[layoutStyle].main,\r\n                        controller : 'MainController as vm'\r\n                    },\r\n                    'toolbar@app'   : {\r\n                        templateUrl: layouts[layoutStyle].toolbar,\r\n                        controller : 'ToolbarController as vm'\r\n                    },\r\n                    'navigation@app': {\r\n                        templateUrl: layouts[layoutStyle].navigation,\r\n                        controller : 'NavigationController as vm'\r\n                    }\r\n\r\n                }\r\n            });\r\n    }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('checklinked')\r\n        .controller('IndexController', IndexController);\r\n\r\n    /** @ngInject */\r\n    function IndexController(fuseTheming)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.themes = fuseTheming.themes;\r\n\r\n        //////////\r\n    }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('checklinked');\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n\t.module('checklinked')\r\n\t.config(config, ['provide', 'httpProvider']);\r\n\r\n    /** @ngInject */\r\n\tfunction config($provide, $httpProvider)\r\n\t{\r\n\r\n\t\t$provide.factory('httpRequestInterceptor', function ($q, $rootScope) {\r\n\t\t\treturn {\r\n\t\t\t\trequest: function (config) {\r\n\t\t\t\t\tif ($rootScope.userAuthenticated()) {\r\n\t\t\t\t\t\tconfig.headers['X-AntiCSRF-Token'] = $rootScope.user.token;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn config;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\t$httpProvider.defaults.withCredentials = true;\r\n\t\t$httpProvider.defaults.useXDomain = true;\r\n\t\t$httpProvider.defaults.headers.common = {\r\n\t\t\tAccept: \"application/json, text/plain, */*\"\r\n\t\t};\r\n\t\t$httpProvider.defaults.headers.post = {\r\n\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\"\r\n\t\t};\r\n\t\t$httpProvider.interceptors.push('httpRequestInterceptor');\r\n\t}\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('checklinked')\r\n    .factory('api', apiService);\r\n\r\n  /** @ngInject */\r\n  function apiService($rootScope, $cacheFactory, $resource, $http, $location) {\r\n\r\n    var api = {};\r\n\r\n    // Base Url\r\n    api.baseUrl = 'app/data/';\r\n\r\n    // api.sample = $resource(api.baseUrl + 'sample/sample.json');\r\n    api.generateCacheLocal = function () {\r\n\r\n      var PREFIX, USERNAME, cache;\r\n\r\n      cache = $cacheFactory('someCache', {});\r\n\r\n      PREFIX = 'Cacher::';\r\n\r\n      cache.get = function (key) {\r\n        var lruEntry;\r\n        lruEntry = localStorage.getItem(PREFIX + key);\r\n        if (!lruEntry) {\r\n          return;\r\n        }\r\n        lruEntry = JSON.parse(lruEntry);\r\n        if (lruEntry.data === void 0) {\r\n          return lruEntry;\r\n        }\r\n        return lruEntry.data;\r\n      };\r\n      cache.put = function (key, value) {\r\n        if (typeof value.then === 'function') {\r\n          return value.then(function (value) {\r\n            return localStorage.setItem(PREFIX + key, JSON.stringify(value));\r\n          });\r\n        } else {\r\n          return localStorage.setItem(PREFIX + key, JSON.stringify(value));\r\n        }\r\n      };\r\n      cache.remove = function (key) {\r\n        return localStorage.removeItem(PREFIX + key);\r\n      };\r\n      cache.removeAll = function () {\r\n        var i, j, key, len, results;\r\n        results = [];\r\n        for (key = j = 0, len = localStorage.length; j < len; key = ++j) {\r\n          i = localStorage[key];\r\n          if (key.indexOf(PREFIX === 0)) {\r\n            results.push(localStorage.removeItem(key));\r\n          } else {\r\n            results.push(void 0);\r\n          }\r\n        }\r\n        return results;\r\n      };\r\n      cache.nuke = function () {\r\n        return localStorage.clear();\r\n      };\r\n      return cache;\r\n    };\r\n\r\n    api.cache = {\r\n      local: api.generateCacheLocal()\r\n    };\r\n\r\n    ////////////////////// USER (rootScope.user)\r\n    api.user = {\r\n\r\n      get: function ($rootScope) {\r\n        return {\r\n          user: function () {\r\n            return $rootScope.user;\r\n          }\r\n        };\r\n      }\r\n    };\r\n\r\n\r\n    ////////////////////// LOGIN\r\n    api.login = {\r\n\r\n      doAuth: function (creds) {\r\n       \r\n        return $http.post('https://checklinked.com/ajax/login-doAuth.php', creds, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        }).error(function (resp) {\r\n          console.log('doAuth resp', resp);\r\n          return $rootScope.message(\"Unknown error communicating with server. \" + resp, 'warning');\r\n        }).success(function (resp) {\r\n      \r\n          var loginTime, path;\r\n          if (resp.code || resp.type === 'error') {\r\n            return $rootScope.message(resp.message, 'warning');\r\n          } else {\r\n            $rootScope.user = resp.user;\r\n            \r\n            $rootScope.viewAs.set(resp.viewAs);\r\n            $rootScope.orderThanksData = '';\r\n            //path = CacheLocal.get('navTo');\r\n            console.log('path', path);\r\n            loginTime = new Date();\r\n            if (path) {\r\n              console.log('path 1');\r\n              return $location.path(path);\r\n            } else {\r\n              console.log('path 2');\r\n              return $location.path('/user');\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    ////////////////////// CREATE\r\n    api.create = {\r\n\r\n      register: function (reg) {\r\n        return $http.post('https://checklinked.com/ajax/account-create.php', {\r\n          email: reg.email,\r\n          phone: reg.phone,\r\n          notifications: reg.notifications,\r\n          password: reg.password,\r\n          password2: reg.password2,\r\n          name_first: reg.name.first,\r\n          name_last: reg.name.last,\r\n          baseURL: reg.baseURL\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      }\r\n    };\r\n\r\n\r\n    ////////////////////// CONFIRM\r\n    api.confirm = {\r\n\r\n      validate: function (validateId) {\r\n        console.log('validateId', validateId);\r\n        return $http.post('https://checklinked.com/ajax/account-create-confirm.php', {\r\n          key: validateId\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      }\r\n    };\r\n\r\n    ////////////////////// ACCOUNT\r\n    api.account = {\r\n\r\n      update: function (info) {\r\n        return $http.post(\"https://checklinked.com/ajax/account-update-post.php\", {\r\n          info: info\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        }).error(function (res) {\r\n          return res;\r\n        }).success(function (res) {\r\n          return res;\r\n        });\r\n      }\r\n    };\r\n\r\n\r\n    ////////////////////// FOLDERS\r\n    api.folders = {\r\n\r\n      get: function () {\r\n        return $http.get('https://checklinked.com/ajax/coe-get.php?t=folder');\r\n      },\r\n      add: function (name, description, order) {\r\n        return $http.post('https://checklinked.com/ajax/coe-post.php', {\r\n          type: 'folder',\r\n          name: name,\r\n          description: description,\r\n          order: order\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      edit: function (editPack) {\r\n        return $http.post('https://checklinked.com/ajax/coe-edit.php', {\r\n          pack: editPack\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      destroy: function (id) {\r\n        return $http.post('https://checklinked.com/ajax/coe-destroy.php', {\r\n          type: 'folder',\r\n          id: id\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      }\r\n    };\r\n\r\n\r\n    ////////////////////// GROUPS\r\n    api.groups = {\r\n\r\n      get: function (idCFC) {\r\n        return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=group&p=\" + idCFC, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res.groups;\r\n        });\r\n      },\r\n      add: function (name, order, to) {\r\n        return $http.post('https://checklinked.com/ajax/coe-post.php', {\r\n          type: 'group',\r\n          name: name,\r\n          order: order,\r\n          parentID: to\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      edit: function (editPack) {\r\n        return $http.post('https://checklinked.com/ajax/coe-edit.php', {\r\n          pack: editPack\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      destroy: function (id) {\r\n        return $http.post('https://checklinked.com/ajax/coe-destroy.php', {\r\n          type: 'group',\r\n          id: id\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      }\r\n\r\n    };\r\n\r\n    ////////////////////// CHECKLISTS\r\n    api.checklists = {\r\n\r\n      get: function (idCHK) {\r\n        if (idCHK == null) {\r\n          idCHK = '';\r\n        }\r\n        return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=checklist&idCHK=\" + idCHK, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res.checklists;\r\n        });\r\n      },\r\n      getGroup: function (idGROUP) {\r\n        if (idGROUP == null) {\r\n          idGROUP = '';\r\n        }\r\n        return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=checklist&p=\" + idGROUP, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res.checklists;\r\n        });\r\n      },\r\n      add: function (name, order, to) {\r\n        return $http.post('https://checklinked.com/ajax/coe-post.php', {\r\n          type: 'checklist',\r\n          name: name,\r\n          order: order,\r\n          parentID: to\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      edit: function (editPack) {\r\n        return $http.post(\"https://checklinked.com/ajax/coe-edit.php\", {\r\n          pack: editPack\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      destroy: function (id) {\r\n        console.log('item', id);\r\n        return $http.post('https://checklinked.com/ajax/coe-destroy.php', {\r\n          type: 'checklist',\r\n          id: id\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      publish: function (id, name, type, pvt) {\r\n        console.log('id', id);\r\n        console.log('name', name);\r\n        console.log('type', type);\r\n\r\n        if (pvt == null) {\r\n          pvt = false;\r\n        }\r\n        console.log('pvt', pvt);\r\n        return $http.post('https://checklinked.com/ajax/checklist-publish.php', {\r\n          id: id,\r\n          name: name,\r\n          type: type,\r\n          pvt: pvt\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      searchForTemplates: function (criteria) {\r\n        console.log('criteria', criteria);\r\n        return $http.get(\"https://checklinked.com/ajax/templates-get.php?n=\" + criteria.name + \"&o=\" + criteria.organization + \"&a=\" + criteria.author + \"&v=\" + criteria.version + \"&t=\" + criteria.type, {\r\n          cache: false\r\n        });\r\n      },\r\n      createFromTemplate: function (idCTMPL, idGRP, type) {\r\n        return $http.post('https://checklinked.com/ajax/checklist-post-fromTemplate.php', {\r\n          idPARENT: idGRP,\r\n          idCTMPL: idCTMPL,\r\n          type: type\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      toggleComplete: function (idCFC, complete) {\r\n        if (complete == null) {\r\n          complete = 'toggle';\r\n        }\r\n        console.log('toggling checklist complete', idCFC, complete);\r\n        return $http.post('https://checklinked.com/ajax/checklist-toggle_complete-post.php', {\r\n          idCFC: idCFC,\r\n          complete: complete\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      getOrgChecklists: function () {\r\n        return $http.get('https://checklinked.com/ajax/checklists_org-get.php').then(function (d) {\r\n          var res;\r\n          if (d === void 0 || d === null || d === '') {\r\n            res = {\r\n              code: -1,\r\n              message: \"Server not responding properly.\"\r\n            };\r\n          } else {\r\n            res = d.data;\r\n          }\r\n          return res;\r\n        });\r\n      },\r\n      getLinkedUsers: function (idCHK) {\r\n        return $http.get(\"https://checklinked.com/ajax/checklist_linkedUsers-get.php?idCHK=\" + idCHK).then(function (d) {\r\n          var res;\r\n          if (d === void 0 || d === null || d === '') {\r\n            res = {\r\n              code: -1,\r\n              message: \"Server not responding properly.\"\r\n            };\r\n          } else {\r\n            res = d.data;\r\n          }\r\n          return res;\r\n        });\r\n      },\r\n      invite: {\r\n        send: function (idCON, idCHK, findLink, idACC, type) {\r\n          console.log('send');\r\n          var pack;\r\n          if (findLink == null) {\r\n            findLink = false;\r\n          }\r\n          if (idACC == null) {\r\n            idACC = '';\r\n          }\r\n          if (type == null) {\r\n            type = '';\r\n          }\r\n          if (type === 'group') {\r\n            pack = {\r\n              type: type,\r\n              group: idCHK,\r\n              idCON: idCON,\r\n              idACC: idACC,\r\n              findLink: true\r\n            };\r\n          } else {\r\n            pack = {\r\n              idCON: idCON,\r\n              idACC: idACC,\r\n              idCHK: idCHK,\r\n              findLink: findLink,\r\n              type: type\r\n            };\r\n          }\r\n          return $http.post('https://checklinked.com/ajax/checklist_invite-post.php', pack, {\r\n            headers: {\r\n              'Content-Type': 'application/x-www-form-urlencoded'\r\n            },\r\n            cache: false\r\n          }).success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n\r\n            } else if (res.code) {\r\n\r\n            } else {\r\n              $rootScope.sendInviteCountUpdatePing(idCON, 'checklist');\r\n              return res;\r\n            }\r\n          });\r\n        },\r\n        accept: function (invite, idPARENT, name, order) {\r\n          var id;\r\n          id = invite.type === 'group' ? invite.id : invite.checklist.id;\r\n          return $http.post('https://checklinked.com/ajax/checklist_accept-post.php', {\r\n            id: id,\r\n            idPARENT: idPARENT,\r\n            name: name,\r\n            order: order,\r\n            type: invite.type\r\n          }, {\r\n            headers: {\r\n              'Content-Type': 'application/x-www-form-urlencoded'\r\n            },\r\n            cache: false\r\n          }).success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n\r\n            } else if (res.code) {\r\n\r\n            } else {\r\n              $rootScope.sendInviteCountUpdatePing($rootScope.user.idCON, invite.type);\r\n              return res;\r\n            }\r\n          });\r\n        },\r\n        get: function (idCHK) {\r\n          if (idCHK == null) {\r\n            idCHK = '';\r\n          }\r\n          return $http.get(\"https://checklinked.com/ajax/checklist_invites-get.php?idCHK=\" + idCHK, {\r\n            cache: false\r\n          }).success(function (res) {\r\n            return res;\r\n          });\r\n        },\r\n        destroy: function (invite) {\r\n          return $http.post(\"https://checklinked.com/ajax/checklist_invite-destroy.php\", {\r\n            idINVITE: invite.id,\r\n            type: invite.type,\r\n            rid: invite.rid\r\n          }, {\r\n            headers: {\r\n              'Content-Type': 'application/x-www-form-urlencoded'\r\n            },\r\n            cache: false\r\n          }).success(function (res) {\r\n            if (res === void 0 || res === null || res === '') {\r\n\r\n            } else if (res.code) {\r\n\r\n            } else {\r\n              $rootScope.sendInviteCountUpdatePing(invite.users.recipient.id, 'checklist');\r\n              return res;\r\n            }\r\n          });\r\n        }\r\n      }\r\n    };\r\n\r\n    ////////////////////// SECTIONS\r\n    api.sections = {\r\n\r\n      get: function (idCHK) {\r\n        return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=section&idCHK=\" + idCHK, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res.sections;\r\n        });\r\n      },\r\n      add: function (name, order, to) {\r\n        return $http.post('https://checklinked.com/ajax/coe-post.php', {\r\n          type: 'section',\r\n          name: name,\r\n          order: order,\r\n          parentID: to\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      destroy: function (id) {\r\n        return $http.post('https://checklinked.com/ajax/coe-destroy.php', {\r\n          type: 'section',\r\n          id: id\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      }\r\n\r\n    };\r\n\r\n    ////////////////////// HEADINGS\r\n    api.headings = {\r\n\r\n      get: function (idCHK) {\r\n        return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=heading&idCHK=\" + idCHK, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res.headings;\r\n        });\r\n      },\r\n      getParent: function (id_parent) {\r\n        return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=heading&p=\" + id_parent, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res.headings;\r\n        });\r\n      },\r\n      add: function (name, order, to) {\r\n        return $http.post('https://checklinked.com/ajax/coe-post.php', {\r\n          type: 'heading',\r\n          name: name,\r\n          order: order,\r\n          parentID: to\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      destroy: function (id) {\r\n        return $http.post('https://checklinked.com/ajax/coe-destroy.php', {\r\n          type: 'heading',\r\n          id: id\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      }\r\n    };\r\n\r\n\r\n    ////////////////////// ITEMS\r\n    api.items = {\r\n\r\n      get: function (idCHK) {\r\n        return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=item&idCHK=\" + idCHK, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          var i, item, items, key, len, ref, results;\r\n          //console.log('res', res);\r\n          items = [];\r\n          ref = res.items;\r\n          results = [];\r\n          for (item = i = 0, len = ref.length; i < len; item = ++i) {\r\n            key = ref[item];\r\n            results.push(items.push($.extend({}, item, {\r\n              checkbox: {\r\n                applies: 0,\r\n                complies: 0,\r\n                conflicts: 0\r\n              }\r\n            })));\r\n          }\r\n          return results;\r\n        });\r\n      },\r\n      getParent: function (id_parent) {\r\n        return $http.get(\"https://checklinked.com/ajax/coe-get.php?t=item&p=\" + id_parent, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          var i, item, items, key, len, ref, results;\r\n          items = [];\r\n          ref = res.items;\r\n          results = [];\r\n          for (item = i = 0, len = ref.length; i < len; item = ++i) {\r\n            key = ref[item];\r\n            results.push(items.push($.extend({}, item, {\r\n              checkbox: {\r\n                applies: 0,\r\n                complies: 0,\r\n                conflicts: 0\r\n              }\r\n            })));\r\n          }\r\n          return results;\r\n        });\r\n      },\r\n      add: function (name, order, to, type, info) {\r\n        if (type == null) {\r\n          type = 1;\r\n        }\r\n        if (info == null) {\r\n          info = '';\r\n        }\r\n        return $http.post('https://checklinked.com/ajax/coe-post.php', {\r\n          type: 'item',\r\n          name: name,\r\n          info: info,\r\n          order: order,\r\n          dataType: type,\r\n          parentID: to\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      destroy: function (id) {\r\n        return $http.post('https://checklinked.com/ajax/coe-destroy.php', {\r\n          type: 'item',\r\n          id: id\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      hasConflict: function (applies, complies) {\r\n        if (applies === true && complies === !true) {\r\n          return true;\r\n        }\r\n      },\r\n      reorder: function (id, dropPosition, type, parentID) {\r\n        return $http.post('https://checklinked.com/ajax/coe-reorder.php', {\r\n          id: id,\r\n          dropPosition: dropPosition,\r\n          type: type,\r\n          parentID: parentID\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      }\r\n\r\n    };\r\n\r\n\r\n    ////////////////////// CHECKBOX\r\n    api.checkbox = {\r\n\r\n      get: function (idCHK, idCON) {\r\n        if (idCON == null) {\r\n          idCON = '';\r\n        }\r\n        return $http.get(\"https://checklinked.com/ajax/checkboxes-get.php?idCHK=\" + idCHK + \"&u=\" + idCON, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res.checkboxes;\r\n        });\r\n      },\r\n      toggle: function (idCLI, idCON, which) {\r\n        return $http.post('https://checklinked.com/ajax/checkbox-toggle.php', {\r\n          idCLI: idCLI,\r\n          idCON: idCON,\r\n          which: which\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'applicatio/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        }).error(function (res) {\r\n          return $rootScope.message(\"Couldn't update checkbox. Unknown error\", 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            $rootScope.message(\"Couldn't update checkbox. Error: (\" + code + \"): \" + message, 'warning');\r\n          }\r\n          return res;\r\n        });\r\n      }\r\n\r\n    };\r\n\r\n    ////////////////////// CONTACTS\r\n    api.contacts = {\r\n\r\n      get: function () {\r\n        return $http.get('https://checklinked.com/ajax/friendships-get.php', {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res.contacts;\r\n        });\r\n      },\r\n      find: function (q) {\r\n        if (q == null) {\r\n          q = '';\r\n        }\r\n        return $http.get(\"https://checklinked.com/ajax/contacts-find.php?q=\" + q, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res;\r\n        });\r\n      },\r\n      add: function (name, order, to) {\r\n        return $http.post('https://checklinked.com/ajax/', {\r\n          type: 'group',\r\n          name: name,\r\n          order: order,\r\n          parentID: to\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      destroy: function (idCON) {\r\n        return $http.post('https://checklinked.com/ajax/friendship_invite-destroy.php', {\r\n          idCON: idCON\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        }).error(function (res) {\r\n          return $rootScope.message('Error removiong contact.  Unknown.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            return $rootScope.message(res.message, 'warning');\r\n          } else {\r\n            return $rootScope.message('Contact Deleted');\r\n            return res;\r\n          }\r\n        });\r\n      },\r\n      invite: {\r\n        accept: function (idCON) {\r\n          return $http.post('https://checklinked.com/ajax/friendship_accept-post.php', {\r\n            idCON: idCON\r\n          }, {\r\n            headers: {\r\n              'Content-Type': 'applicatio/x-www-form-urlencoded'\r\n            },\r\n            cache: false\r\n          }).error(function (res) {\r\n            return $rootScope.message('Error accepting invite.  Unknown.', 'warning');\r\n          }).success(function (res) {\r\n            if (res.code) {\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              console.log('api.invite.accept = $rootScope.user.idCON', $rootScope.user.idCON);\r\n              $rootScope.sendInviteCountUpdatePing($rootScope.user.idCON, 'friendship');\r\n              $rootScope.message('Contact Invitation Accepted');\r\n              return res;\r\n            }\r\n          });\r\n        },\r\n        send: function (idCON) {\r\n          return $http.post('https://checklinked.com/ajax/friendship_invite-post.php', {\r\n            idCON: idCON\r\n          }, {\r\n            headers: {\r\n              'Content-Type': 'applicatio/x-www-form-urlencoded'\r\n            },\r\n            cache: false\r\n          }).error(function (res) {\r\n            return $rootScope.message('Error sending invite.  Unknown.', 'warning');\r\n          }).success(function (res) {\r\n            if (res.code) {\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              $rootScope.message('Contact Invitation Sent');\r\n              return res;\r\n            }\r\n          });\r\n        },\r\n        remove: function (idCON) {\r\n          return $http.post('https://checklinked.com/ajax/friendship_invite-destroy.php', {\r\n            idCON: idCON\r\n          }, {\r\n            headers: {\r\n              'Content-Type': 'applicatio/x-www-form-urlencoded'\r\n            },\r\n            cache: false\r\n          }).error(function (res) {\r\n            return $rootScope.message('Error removing invite.  Unknown.', 'warning');\r\n          }).success(function (res) {\r\n            if (res.code) {\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              $rootScope.sendInviteCountUpdatePing($rootScope.user.idCON, 'friendship');\r\n              $rootScope.message('Invitation Withdrawn');\r\n              return res;\r\n            }\r\n          });\r\n        },\r\n        reject: function (idCON) {\r\n          return $http.post('https://checklinked.com/ajax/friendship_invite-destroy.php', {\r\n            idCON: idCON\r\n          }, {\r\n            headers: {\r\n              'Content-Type': 'applicatio/x-www-form-urlencoded'\r\n            },\r\n            cache: false\r\n          }).error(function (res) {\r\n            return $rootScope.message('Error removing invite.  Unknown.', 'warning');\r\n          }).success(function (res) {\r\n            if (res.code) {\r\n              return $rootScope.message(res.message, 'warning');\r\n            } else {\r\n              console.log('later gator');\r\n              $rootScope.sendInviteCountUpdatePing($rootScope.user.idCON, 'friendship');\r\n              return $rootScope.message('Invitation Rejected');\r\n              return res;\r\n            }\r\n          });\r\n\r\n        }\r\n      }\r\n\r\n    };\r\n\r\n    ////////////////////// FEEDS\r\n    api.feed = {\r\n\r\n      get: function (chunk) {\r\n        if (chunk == null) {\r\n          chunk = null;\r\n        }\r\n        return $http.get(\"https://checklinked.com/ajax/feed-get.php\", {\r\n          cache: false\r\n        }).success(function (res) {\r\n          return res;\r\n        });\r\n      },\r\n      destroy: function (idFDI) {\r\n          return $http.post('https://checklinked.com/ajax/fdi-destroy.php', {\r\n          idFDI: idFDI\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        }).error(function (res) {\r\n          return $rootScope.message('Error removing notification.  Unknown.', 'warning');\r\n        }).success(function (res) {\r\n          if (res.code) {\r\n            return $rootScope.message(res.message, 'warning');\r\n          } else {\r\n            return $rootScope.message('Notification Deleted');\r\n            return res;\r\n          }\r\n        });\r\n      }\r\n\r\n    }\r\n\r\n    ////////////////////// CONVERSATIONS\r\n    api.conversations = {\r\n\r\n      getMocks: function () {\r\n        return $http.get(\"https://checklinked.com/mocks/conversationPosts.json\", {\r\n          cache: false\r\n        }).success(function (res) {\r\n          return res;\r\n        });\r\n      },\r\n      get: function (id, skip) {\r\n        if (skip == null) {\r\n          skip = 0;\r\n        }\r\n        return $http.get(\"https://checklinked.com/ajax/posts-get.php?id=\" + id + \"&s=\" + skip, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          return $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res;\r\n        });\r\n      },\r\n      add: function (id, text, itemType, producerType) {\r\n        return $http.post('https://checklinked.com/ajax/posts-post.php', {\r\n          id: id,\r\n          text: text,\r\n          itemType: itemType,\r\n          producerType: producerType\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'applicatio/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        }).error(function (res) {\r\n          return $rootScope.message('Could not send message. Unknown error.', 'warning');\r\n        }).success(function (res) {\r\n          $rootScope.message('Message Sent.', 'success');\r\n          return res;\r\n        });\r\n      },\r\n      reply: function (idVIEW, text, producerType, itemType) {\r\n        console.log('adding convo entry', text, producerType, itemType, idVIEW);\r\n        return $http.post('https://checklinked.com/ajax/posts-post.php', {\r\n          id: idVIEW,\r\n          text: text,\r\n          itemType: itemType,\r\n          producerType: producerType\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'applicatio/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        }).error(function (res) {\r\n          return $rootScope.message('Could not send message. Unknown error.', 'warning');\r\n        }).success(function (res) {\r\n          $rootScope.message('Message Sent.', 'success');\r\n          return res;\r\n        });\r\n      },\r\n      sent: function (id, skip) {\r\n        if (skip == null) {\r\n          skip = 0;\r\n        }\r\n        return $http.get(\"https://checklinked.com/ajax/posts-sent-get.php?id=\" + id + \"&s=\" + skip, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          return $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res;\r\n        });\r\n      }\r\n    }\r\n\r\n    ////////////////////////DASHBOARD\r\n    api.dashboard = {\r\n\r\n      labels: {\r\n        hide: function (idLBL) {\r\n          return $http.post('https://checklinked.com/ajax/dashboard_label_hide-post.php', {\r\n            idLBL: idLBL\r\n          }, {\r\n            headers: {\r\n              'Content-Type': 'application/x-www-form-urlencoded'\r\n            },\r\n            cache: false\r\n          });\r\n        },\r\n        add: function (type, name, explanation) {\r\n          console.log('type', type);\r\n          console.log('name', name);\r\n          console.log('explanation', explanation);\r\n          return $http.post('https://checklinked.com/ajax/dashboard_label-post.php', {\r\n            type: type,\r\n            name: name,\r\n            explanation: explanation\r\n          }, {\r\n            headers: {\r\n              'Content-Type': 'application/x-www-form-urlencoded'\r\n            },\r\n            cache: false\r\n          });\r\n        },\r\n        update: function (idITEM, selected) {\r\n          console.log('updating item labels', idITEM, selected);\r\n          return $http.post('https://checklinked.com/ajax/dashboard_updateItemLabels-post.php', {\r\n            idITEM: idITEM,\r\n            selected: selected\r\n          }, {\r\n            headers: {\r\n              'Content-Type': 'application/x-www-form-urlencoded'\r\n            },\r\n            cache: false\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    //////////////////////SUBSCRIPTIONS\r\n    api.subscriptions = {\r\n\r\n      getCurrentOffers: function () {\r\n        return $http.get(\"https://checklinked.com/ajax/subscription_offers-get.php\", {\r\n          cache: false\r\n        }).error(function (res) {\r\n          return $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res;\r\n        });\r\n      },\r\n      getInvites: function (idSUB) {\r\n        return $http.get(\"https://checklinked.com/ajax/subscription_invites-get.php?idSUB=\" + idSUB, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          return $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res;\r\n        });\r\n      },\r\n      getInvite: function (idSUI) {\r\n        return $http.get(\"https://checklinked.com/ajax/subscription_invite-get.php?idSUI=\" + idSUI, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          return $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res;\r\n        });\r\n      },\r\n      finalize: function (offer, pmtMethod) {\r\n        return $http.post('https://checklinked.com/ajax/subscription_finalize-post.php', {\r\n          offer: offer,\r\n          pmtMethod: pmtMethod\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      makeSubscriptionActive: function (idSUB) {\r\n        return $http.post('https://checklinked.com/ajax/subscription_makeActive-post.php', {\r\n          idSUB: idSUB\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      invite: function (email) {\r\n        console.log('inviting', email);\r\n        return $http.post('https://checklinked.com/ajax/subscription_invite_send-post.php', {\r\n          email: email\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      withdrawInvite: function (invite) {\r\n        return $http.post('https://checklinked.com/ajax/subscription_invite_withdraw-post.php', {\r\n          suiRID: invite.rid\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      offboardMember: function (member) {\r\n        return $http.post('https://checklinked.com/ajax/organization_member_offboard-post.php', {\r\n          idCON: member.idCON\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      acceptInvite: function (idSUI, option, details) {\r\n        var pack;\r\n        if (option === 'login') {\r\n          pack = {\r\n            idSUI: idSUI,\r\n            option: option,\r\n            username: details.username,\r\n            password: details.password\r\n          };\r\n        } else if (option === 'signup') {\r\n          pack = {\r\n            idSUI: idSUI,\r\n            option: option,\r\n            contact: details.contact,\r\n            password: details.password\r\n          };\r\n        }\r\n        return $http.post('https://checklinked.com/ajax/subscription_invite_accept-post.php', pack, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      }\r\n    }\r\n\r\n\r\n    ////////////////////// ATTACHMENTS\r\n    api.attachments = {\r\n\r\n      add: function (pID, pType, aws, name, size, label) {\r\n        return $http.post('https://checklinked.com/ajax/attachments-finish_upload-post.php', {\r\n          pID: pID,\r\n          pType: pType,\r\n          aws: aws,\r\n          name: name,\r\n          size: size,\r\n          label: label\r\n        }, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          cache: false\r\n        });\r\n      },\r\n      parent: function (idPARENT) {\r\n        return $http.get(\"https://checklinked.com/ajax/attachments-get.php?t=group&p=\" + idPARENT, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res.attachments;\r\n        });\r\n      },\r\n      checklist: function (idCHK) {\r\n        return $http.get('https://checklinked.com/ajax/attachments-get.php?idCHK=' + idCHK, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          console.log('res.attachments', res.attachments);\r\n          return res.attachments;\r\n        });\r\n      },\r\n      attachment: function (idATT) {\r\n        console.log('idATT', idATT);\r\n        return $http.get('https://checklinked.com/ajax/attachments-get.php?idATT=' + idATT, {\r\n          cache: false\r\n        }).error(function (res) {\r\n          $rootScope.message('Error talking to server', 'warning');\r\n        }).success(function (res) {\r\n          return res.attacments;\r\n        });\r\n      }\r\n\r\n    }\r\n\r\n    ////////////////////// SUMMARY\r\n    api.summary = {\r\n\r\n      evaluateItem: function (item, checkboxes) {\r\n\r\n        //console.log('item', item);\r\n        //console.log('checkboxes', checkboxes);\r\n\r\n        var left, right;\r\n        item.conflicts = false;\r\n        item.nonCompliant = false;\r\n        left = this.evaluateCheckbox(checkboxes[0]);\r\n        right = this.evaluateCheckbox(checkboxes[1]);\r\n        if (checkboxes[1] !== void 0) {\r\n          if (left !== right) {\r\n            item.conflicts = true;\r\n          }\r\n        }\r\n        if (left === 'non-compliant') {\r\n          checkboxes[0].nonCompliant = true;\r\n        } else if (checkboxes[0] !== void 0) {\r\n          checkboxes[0].nonCompliant = false;\r\n        }\r\n        if (right === 'non-compliant') {\r\n          checkboxes[1].nonCompliant = true;\r\n        } else if (checkboxes[1] !== void 0) {\r\n          checkboxes[1].nonCompliant = false;\r\n        }\r\n        item.checkbox = checkboxes;\r\n        if (left === 'non-compliant' || right === 'non-compliant') {\r\n          item.nonCompliant = true;\r\n        }\r\n        return item;\r\n      },\r\n      evaluateCheckbox: function (checkbox) {\r\n        var condition;\r\n        condition = 'blank';\r\n        if (checkbox === void 0 || checkbox === []) {\r\n\r\n        } else if (checkbox.applies && checkbox.complies) {\r\n          condition = 'compliant';\r\n        } else if (checkbox.applies) {\r\n          condition = 'non-compliant';\r\n        } else if (checkbox.complies) {\r\n          condition = 'irrelevant';\r\n        }\r\n        return condition;\r\n      },\r\n      reports: {\r\n        get: function () {\r\n          return $http.get('https://checklinked.com/ajax/conflictReports-get.php', {\r\n            cache: false\r\n          }).success(function (res) {\r\n            return res;\r\n          });\r\n        },\r\n        request: function () {\r\n          return $http.post('https://checklinked.com/ajax/conflictReports-request-post.php', {\r\n            idsCHK: [],\r\n            requestedAt: ''\r\n          }, {\r\n            headers: {\r\n              'Content-Type': 'application/x-www-form-urlencoded'\r\n            },\r\n            cache: false\r\n          });\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n\r\n    //////////////////////TEAMMEBERS\r\n    api.teammembers = {\r\n\r\n      get: function () {\r\n        return $http.get('https://checklinked.com/ajax/organization_members-get.php');\r\n      }\r\n\r\n    }\r\n\r\n\r\n    api.mail = {\r\n      inbox: $resource(api.baseUrl + 'mail/inbox.json')\r\n    };\r\n\r\n\r\n    return api;\r\n  }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.logout', [])\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($stateProvider)\r\n    {\r\n        $stateProvider.state('app.logout', {\r\n            url    : '/logout'\r\n        });\r\n    }\r\n})();\nangular.module(\"checklinked\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/core/layouts/content-only.html\",\"<div id=\\\"layout-content-only\\\" class=\\\"template-layout\\\" layout=\\\"column\\\" flex><md-content id=\\\"content\\\" \\nclass=\\\"animate-slide-up md-hue-2\\\" ui-view=\\\"content\\\" flex></md-content></div>\");\n$templateCache.put(\"app/core/layouts/content-with-toolbar.html\",\"<div id=\\\"layout-content-with-toolbar\\\" class=\\\"template-layout\\\" layout=\\\"column\\\" flex><md-toolbar id=\\\"toolbar\\\" \\nclass=\\\"md-menu-toolbar md-whiteframe-1dp\\\" ui-view=\\\"toolbar\\\"></md-toolbar><md-content id=\\\"content\\\" \\nclass=\\\"animate-slide-up md-hue-2\\\" ui-view=\\\"content\\\" flex></md-content><md-sidenav id=\\\"quick-panel\\\" \\nclass=\\\"md-sidenav-right md-whiteframe-4dp\\\" md-component-id=\\\"quick-panel\\\" ms-scroll ui-view=\\\"quickPanel\\\"></md-sidenav>\\n</div>\");\n$templateCache.put(\"app/core/layouts/horizontal-navigation.html\",\"<div id=\\\"layout-horizontal-navigation\\\" class=\\\"template-layout\\\" layout=\\\"column\\\" flex><md-toolbar id=\\\"toolbar\\\" \\nclass=\\\"md-menu-toolbar md-whiteframe-1dp\\\" ui-view=\\\"toolbar\\\"></md-toolbar><div id=\\\"content-container\\\" flex \\nlayout=\\\"column\\\"><md-content id=\\\"content\\\" class=\\\"animate-slide-up md-hue-2\\\" ms-scroll ui-view=\\\"content\\\" flex>\\n</md-content></div><md-sidenav id=\\\"quick-panel\\\" class=\\\"md-sidenav-right md-whiteframe-4dp\\\" \\nmd-component-id=\\\"quick-panel\\\" ms-scroll ui-view=\\\"quickPanel\\\"></md-sidenav></div>\");\n$templateCache.put(\"app/core/layouts/vertical-navigation-fullwidth-toolbar-2.html\",\"<div id=\\\"layout-vertical-navigation-fullwidth-toolbar-2\\\" class=\\\"template-layout\\\" layout=\\\"column\\\" flex><md-toolbar \\nid=\\\"toolbar\\\" class=\\\"md-menu-toolbar md-whiteframe-1dp md-accent\\\" ui-view=\\\"toolbar\\\"></md-toolbar><div \\nid=\\\"main-container\\\" layout=\\\"row\\\" flex><md-sidenav id=\\\"vertical-navigation\\\" class=\\\"md-primary-bg\\\" \\nmd-is-locked-open=\\\"$mdMedia(\\'gt-sm\\')\\\" md-component-id=\\\"navigation\\\" ms-scroll ui-view=\\\"navigation\\\"></md-sidenav><div \\nid=\\\"content-container\\\" flex layout=\\\"column\\\"><md-content id=\\\"content\\\" class=\\\"animate-slide-up md-hue-2\\\" ms-scroll \\nui-view=\\\"content\\\" flex></md-content></div><md-sidenav id=\\\"quick-panel\\\" class=\\\"md-sidenav-right md-whiteframe-4dp\\\" \\nmd-component-id=\\\"quick-panel\\\" ms-scroll ui-view=\\\"quickPanel\\\"></md-sidenav></div></div>\");\n$templateCache.put(\"app/core/layouts/vertical-navigation-fullwidth-toolbar.html\",\"<div id=\\\"layout-vertical-navigation-fullwidth-toolbar\\\" class=\\\"template-layout\\\" layout=\\\"column\\\" flex><md-toolbar \\nid=\\\"toolbar\\\" class=\\\"md-menu-toolbar md-whiteframe-1dp md-accent\\\" ui-view=\\\"toolbar\\\"></md-toolbar><div \\nid=\\\"main-container\\\" layout=\\\"row\\\" flex><md-sidenav id=\\\"vertical-navigation\\\" class=\\\"md-primary-bg\\\" \\nmd-is-locked-open=\\\"$mdMedia(\\'gt-sm\\')\\\" md-component-id=\\\"navigation\\\" ms-scroll ui-view=\\\"navigation\\\"></md-sidenav><div \\nid=\\\"content-container\\\" flex layout=\\\"column\\\"><md-content id=\\\"content\\\" class=\\\"animate-slide-up md-hue-2\\\" ms-scroll \\nui-view=\\\"content\\\" flex></md-content></div><md-sidenav id=\\\"quick-panel\\\" class=\\\"md-sidenav-right md-whiteframe-4dp\\\" \\nmd-component-id=\\\"quick-panel\\\" ms-scroll ui-view=\\\"quickPanel\\\"></md-sidenav></div></div>\");\n$templateCache.put(\"app/core/layouts/vertical-navigation.html\",\"<div id=\\\"layout-vertical-navigation\\\" class=\\\"template-layout\\\" layout=\\\"row\\\" flex><md-sidenav id=\\\"vertical-navigation\\\" \\nclass=\\\"md-primary-bg\\\" md-is-locked-open=\\\"$mdMedia(\\'gt-sm\\')\\\" md-component-id=\\\"navigation\\\" ms-scroll \\nui-view=\\\"navigation\\\" ng-show=\\\"userSignupComplete()\\\"></md-sidenav><div id=\\\"content-container\\\" flex layout=\\\"column\\\">\\n<md-toolbar id=\\\"toolbar\\\" class=\\\"md-menu-toolbar md-whiteframe-1dp\\\" ui-view=\\\"toolbar\\\"></md-toolbar><md-content \\nid=\\\"content\\\" class=\\\"animate-slide-up md-hue-2\\\" ms-scroll ui-view=\\\"content\\\" flex></md-content></div></div>\");\n$templateCache.put(\"app/core/theme-options/theme-options.html\",\"<div class=\\\"ms-theme-options-button md-primary-bg\\\" ng-click=\\\"toggleOptionsSidenav()\\\"><md-icon md-font-icon=\\\"icon-cog\\\" \\nclass=\\\"white-text\\\"></md-icon></div><md-sidenav md-component-id=\\\"fuse-theme-options\\\" class=\\\"md-sidenav-right\\\"><div \\nclass=\\\"ms-theme-options-list\\\" layout=\\\"column\\\"><div class=\\\"theme-option layout-options\\\"><div class=\\\"option-title\\\">\\nLayout Style:</div><md-radio-group layout=\\\"row\\\" layout-align=\\\"start start\\\" layout-wrap ng-model=\\\"vm.layoutStyle\\\" \\nng-change=\\\"vm.updateLayoutStyle()\\\"><md-radio-button ng-repeat=\\\"layoutStyle in vm.layoutStyles\\\" \\nng-value=\\\"layoutStyle.value\\\"><div layout=\\\"column\\\" layout-align=\\\"center center\\\"><img ng-src=\\\"{{layoutStyle.figure}}\\\"> \\n<span class=\\\"text-center font-size-12 mt-8\\\">{{layoutStyle.label}}</span></div></md-radio-button></md-radio-group></div>\\n<md-divider></md-divider><div class=\\\"theme-option\\\"><div class=\\\"option-title\\\">Layout Mode:</div><md-radio-group \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\" ng-model=\\\"vm.layoutMode\\\" ng-change=\\\"vm.updateLayoutMode()\\\"><md-radio-button \\nng-repeat=\\\"layoutMode in vm.layoutModes\\\" ng-value=\\\"layoutMode.value\\\">{{layoutMode.label}}</md-radio-button>\\n</md-radio-group></div><md-divider></md-divider><div class=\\\"theme-option color-palettes\\\"><div class=\\\"option-title\\\">\\nColor Palette:</div><div layout=\\\"row\\\" layout-align=\\\"start start\\\" layout-wrap><md-button \\nng-repeat=\\\"(themeName, theme) in vm.themes.list\\\" class=\\\"md-raised theme-button\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\" aria-label=\\\"{{themeName}}\\\" ng-click=\\\"vm.setActiveTheme(themeName)\\\" \\nng-style=\\\"{\\'background-color\\': theme.primary.color,\\'border-color\\': theme.accent.color,\\'color\\': theme.primary.contrast1}\\\" \\nng-class=\\\"{active: vm.getActiveTheme().name === themeName}\\\"><md-icon ng-style=\\\"{\\'color\\': theme.primary.contrast1}\\\" \\nmd-font-icon=\\\"icon-palette\\\" class=\\\"icon s32\\\"></md-icon></md-button></div></div></div></md-sidenav>\");\n$templateCache.put(\"app/main/account/confirm.html\",\"<div id=\\\"register\\\" class=\\\"flex-scrollable\\\" layout=\\\"column\\\" ms-scroll><div id=\\\"register-form-wrapper\\\" layout=\\\"column\\\" \\nlayout-align=\\\"center center\\\"><div id=\\\"register-form\\\" class=\\\"md-whiteframe-8dp\\\"><div class=\\\"logo md-accent-bg\\\"><span>CL\\n</span></div><div class=\\\"title\\\">{{vm.message}}</div><form name=\\\"loginForm\\\" action=\\\"/login/\\\"><md-button type=\\\"submit\\\" \\nclass=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"LOG IN\\\">LOG IN</md-button></form></div></div></div>\");\n$templateCache.put(\"app/main/account/invite.html\",\"<div id=\\\"login\\\" class=\\\"flex-scrollable\\\" layout=\\\"column\\\" ms-scroll><div id=\\\"login-form-wrapper\\\" layout=\\\"column\\\" \\nlayout-align=\\\"center center\\\"><div id=\\\"login-form\\\" class=\\\"md-whiteframe-8dp\\\"><div class=\\\"logo md-accent-bg\\\"><span>CL\\n</span></div><div class=\\\"title\\\">Invitation From: {{vm.invite.organization.name}}</div><div class=\\\"title\\\">\\nChoose this option to:</div><div><ul><li>Keep existing username/password</li><li>Leave current Org</li><li>\\nLose access to current Org info</li><li>Keep only Contacts &amp; Direct Messages</li></ul></div><form name=\\\"loginForm\\\" \\nnovalidate ng-submit=\\\"vm.acceptInvite.login()\\\"><md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"email\\\" \\nname=\\\"email\\\" ng-model=\\\"vm.acceptInvite.signin.username\\\" placeholder=\\\"Email\\\" ng-pattern=\\\"/^.+@.+\\\\..+$/\\\" required><div \\nng-messages=\\\"loginForm.email.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\"><span>\\nEmail field is required</span></div><div ng-message=\\\"pattern\\\"><span>Email must be a valid e-mail address</span></div>\\n</div></md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"password\\\" name=\\\"password\\\" \\nng-model=\\\"vm.acceptInvite.signin.password\\\" placeholder=\\\"Password\\\" required><div \\nng-messages=\\\"loginForm.password.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Password field is required</span>\\n</div></div></md-input-container><md-button type=\\\"submit\\\" class=\\\"md-raised md-accent submit-button\\\" \\naria-label=\\\"Accept Invitation\\\" ng-disabled=\\\"loginForm.$invalid || loginForm.$pristine\\\">ACCEPT INVITATION</md-button>\\n</form></div></div></div><div id=\\\"register\\\" class=\\\"flex-scrollable\\\" layout=\\\"column\\\" ms-scroll><div \\nid=\\\"register-form-wrapper\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\"><div id=\\\"register-form\\\" \\nclass=\\\"md-whiteframe-8dp\\\"><div class=\\\"logo md-accent-bg\\\"><span>CL</span></div><div class=\\\"title\\\" \\ntranslate=\\\"ACCOUNT.TITLE\\\">Create New Account</div><div ng-if=\\\"!vm.create.success\\\"><form name=\\\"registerForm\\\" novalidate \\nng-submit=\\\"vm.acceptInvite.signup()\\\"><md-input-container class=\\\"md-block\\\" md-no-float><input name=\\\"first\\\" \\nng-model=\\\"vm.acceptInvite.reg.contact.name.first\\\" placeholder=\\\"First Name\\\" translate \\ntranslate-attr-placeholder=\\\"ACCOUNT.FIRST\\\" required><div ng-messages=\\\"registerForm.first.$error\\\" role=\\\"alert\\\"><div \\nng-message=\\\"required\\\"><span translate=\\\"ACCOUNT.ERRORS.FIRSTNAME_REQUIRED\\\">First Name field is required</span></div>\\n</div></md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input name=\\\"last\\\" \\nng-model=\\\"vm.acceptInvite.reg.contact.name.last\\\" placeholder=\\\"Last Name\\\" translate \\ntranslate-attr-placeholder=\\\"ACCOUNT.LAST\\\" required><div ng-messages=\\\"registerForm.last.$error\\\" role=\\\"alert\\\"><div \\nng-message=\\\"required\\\"><span translate=\\\"ACCOUNT.ERRORS.LASTNAME_REQUIRED\\\">Last Name field is required</span></div></div>\\n</md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"email\\\" name=\\\"email\\\" \\nng-model=\\\"vm.acceptInvite.reg.contact.email\\\" placeholder=\\\"Email\\\" translate translate-attr-placeholder=\\\"ACCOUNT.EMAIL\\\" \\nng-pattern=\\\"/^.+@.+\\\\..+$/\\\" required><div ng-messages=\\\"registerForm.email.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div \\nng-message=\\\"required\\\"><span translate=\\\"ACCOUNT.ERRORS.EMAIL_REQUIRED\\\">Email field is required</span></div><div \\nng-message=\\\"pattern\\\"><span translate=\\\"ACCOUNT.ERRORS.EMAIL_MUST_VALID\\\">Email must be a valid e-mail address</span>\\n</div></div></md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"password\\\" \\nname=\\\"password\\\" ng-model=\\\"vm.acceptInvite.reg.password\\\" placeholder=\\\"Password\\\" translate \\ntranslate-attr-placeholder=\\\"ACCOUNT.PASSWORD\\\" required><div ng-messages=\\\"registerForm.password.$error\\\" role=\\\"alert\\\">\\n<div ng-message=\\\"required\\\"><span translate=\\\"ACCOUNT.ERRORS.PASSWORD_REQUIRED\\\">Password field is required</span></div>\\n</div></md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"password\\\" name=\\\"password2\\\" \\nng-model=\\\"vm.acceptInvite.reg.password2\\\" placeholder=\\\"Password (Confirm)\\\" translate \\ntranslate-attr-placeholder=\\\"ACCOUNT.PASSWORD_CONFIRM\\\" required><div ng-messages=\\\"registerForm.password2.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span translate=\\\"ACCOUNT.ERRORS.PASSWORD_CONFIRM_REQUIRED\\\">\\nPassword (Confirm) field is required</span></div></div></md-input-container><md-button type=\\\"submit\\\" \\nclass=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"ACCEPT INVITATION\\\" \\nng-disabled=\\\"registerForm.$invalid || registerForm.$pristine\\\" translate=\\\"ACCOUNT.ACCEPT_INVITATION\\\" \\ntranslate-attr-aria-label=\\\"ACCOUNT.ACCEPT_INVITATION\\\">ACCEPT INVITATION</md-button></form></div></div></div></div>\");\n$templateCache.put(\"app/main/chat/chat.html\",\"<div id=\\\"chat-app\\\" class=\\\"page-layout carded fullwidth\\\"><div class=\\\"top-bg md-accent-bg\\\"></div><div class=\\\"center\\\"><div\\n class=\\\"content-card\\\" layout=\\\"row\\\" flex><md-sidenav class=\\\"sidenav left-sidenav md-sidenav-left\\\" \\nmd-is-locked-open=\\\"$mdMedia(\\'gt-md\\')\\\" md-component-id=\\\"left-sidenav\\\" ms-sidenav-helper \\ndata-ng-include=\\\"\\'app/main/chat/sidenavs/left/left-sidenav.html\\'\\\" layout=\\\"column\\\"></md-sidenav><div \\nclass=\\\"start-point\\\" data-ng-if=\\\"!vm.chat\\\" flex layout=\\\"column\\\" flex layout-align=\\\"center center\\\"><md-button \\nclass=\\\"md-raised hide-gt-md\\\" data-ng-click=\\\"vm.toggleSidenav(\\'left-sidenav\\')\\\" translate=\\\"CHAT.START_MESSAGE\\\">\\nSelect contact to start the chat!..</md-button></div><div data-ng-if=\\\"vm.chat\\\" class=\\\"chat\\\" layout=\\\"column\\\" flex>\\n<md-toolbar class=\\\"chat-toolbar\\\"><div class=\\\"md-toolbar-tools\\\"><md-button \\nclass=\\\"hide-gt-md responsive-chats-button md-icon-button\\\" \\ndata-ng-click=\\\"vm.toggleLeftSidenavView(false);vm.toggleSidenav(\\'left-sidenav\\')\\\" aria-label=\\\"chats button\\\"><md-icon \\nmd-font-icon=\\\"icon-hangouts s36\\\"></md-icon></md-button><div class=\\\"chat-contact\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" data-ng-click=\\\"vm.toggleSidenav(\\'right-sidenav\\')\\\"><div class=\\\"avatar-wrapper\\\"><i \\nclass=\\\"icon icon- s16 status\\\" data-ng-class=\\\"online\\\"></i></div><div class=\\\"chat-contact-name\\\">\\n{{vm.viewingConversation.nameFull}}</div></div><md-menu md-position-mode=\\\"target-right target\\\"><md-button \\nclass=\\\"md-icon-button\\\" data-ng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"more\\\"><md-icon md-font-icon=\\\"icon-dots-vertical\\\">\\n</md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button \\ndata-ng-click=\\\"vm.toggleSidenav(\\'right-sidenav\\')\\\" translate=\\\"CHAT.CONTACT_INFO\\\">Contact Info</md-button></md-menu-item>\\n<md-menu-item><md-button data-ng-click=\\\"vm.clearMessages()\\\" translate=\\\"CHAT.CLEAR_MESSAGES\\\">Clear Messages</md-button>\\n</md-menu-item></md-menu-content></md-menu></div></md-toolbar><md-content id=\\\"chat-content\\\" flex ms-scroll><div \\nclass=\\\"chat-messages\\\" data-ng-if=\\\"vm.chat\\\"><div layout=\\\"row\\\" \\ndata-ng-repeat=\\\"dialog in vm.chat | orderBy:\\'timestamp\\':true\\\" class=\\\"md-padding message-row\\\" \\ndata-ng-class=\\\"dialog.who\\\"><div class=\\\"bubble\\\"><div class=\\\"message\\\">{{dialog.text}}</div><div \\nclass=\\\"time secondary-text\\\">{{dialog.timestamp | date:\\'medium\\'}}</div></div></div></div></md-content><div \\nclass=\\\"chat-footer flex-noshrink\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\"><form data-ng-submit=\\\"vm.reply()\\\" flex \\nclass=\\\"reply-form\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-input-container flex md-no-float><textarea \\ndata-ng-keyup=\\\"vm.reply($event)\\\" md-no-autogrow data-ng-model=\\\"vm.replyMessage\\\" \\ndata-ng-class=\\\"{\\'grow\\': vm.textareaGrow}\\\" placeholder=\\\"Type and hit enter to send message\\\" translate \\ntranslate-attr-placeholder=\\\"CHAT.REPLY_PLACEHOLDER\\\">\\r\\n                            </textarea></md-input-container>\\n<md-button class=\\\"md-fab\\\" type=\\\"submit\\\" aria-label=\\\"Send message\\\" translate \\ntranslate-attr-aria-label=\\\"CHAT.SEND_MESSAGE\\\"><md-icon md-font-icon=\\\"icon-send\\\"></md-icon></md-button></form></div>\\n</div><md-sidenav class=\\\"sidenav right-sidenav md-sidenav-right\\\" layout=\\\"column\\\" md-component-id=\\\"right-sidenav\\\" \\nms-sidenav-helper data-ng-include=\\\"\\'app/main/chat/sidenavs/right/right-sidenav.html\\'\\\"></md-sidenav></div></div></div>\");\n$templateCache.put(\"app/main/checklist/checklist.html\",\"<div id=\\\"checklist\\\" class=\\\"page-layout carded left-sidenav\\\" layout=\\\"row\\\" style=\\\"margin-top:20px\\\"><div \\nclass=\\\"top-bg md-accent-bg\\\"></div><div class=\\\"center\\\" layout=\\\"column\\\" flex><div class=\\\"content-card\\\" layout=\\\"column\\\" \\nflex><div class=\\\"toolbar-list\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\" ng-if=\\\"vm.checklists.length\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><md-select class=\\\"simplified\\\" ng-model=\\\"vm.checklistOrder\\\" \\nplaceholder=\\\"Order\\\" \\nng-change=\\\"vm.checklistOrderDescending = vm.checklistOrder === \\'\\' ? false : vm.checklistOrderDescending\\\"><md-option \\nvalue=\\\"name\\\" translate=\\\"CHECKLIST.NAME\\\">Checklist Title</md-option></md-select><md-button class=\\\"md-icon-button\\\" \\nng-disabled=\\\"vm.checklistOrder === \\'\\'\\\" ng-click=\\\"vm.checklistOrderDescending = !vm.checklistOrderDescending\\\" \\naria-label=\\\"Sort Direction\\\" translate translate-attr-aria-label=\\\"GROUP.SORT_DIRECTION\\\"><md-icon \\nmd-font-icon=\\\"icon-sort-ascending\\\" ng-if=\\\"vm.checklistOrderDescending === false\\\" class=\\\"s18\\\"></md-icon><md-icon \\nmd-font-icon=\\\"icon-sort-descending\\\" ng-if=\\\"vm.checklistOrderDescending === true\\\" class=\\\"s18\\\"></md-icon></md-button>\\n</div><div class=\\\"text-right\\\" layout=\\\"row\\\" layout-align=\\\"end center\\\"><md-icon md-font-icon=\\\"icon-alert-circle\\\" \\nclass=\\\"is-important red-600-fg\\\" ng-if=\\\"checklist.important\\\"></md-icon><md-menu><md-button \\nng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button\\\" aria-label=\\\"More\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical\\\" class=\\\"s18\\\"></md-icon>\\n</md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button class=\\\"item\\\" ng-click=\\\"vm.addChecklistDialog($event)\\\" \\naria-label=\\\"Create New Checklist\\\"><md-icon class=\\\"md-accent s18\\\" md-font-icon=\\\"icon-pencil\\\"></md-icon><span \\ntranslate-attr-aria-label=\\\"CHECKLIST.CREATE_NEW_CHECKLIST\\\">Create New Checklist</span></md-button></md-menu-item>\\n<md-menu-item><md-button class=\\\"item\\\" ng-click=\\\"vm.find.begin($event, vm.folder_id, \\'checklist\\')\\\" \\naria-label=\\\"Download Templates\\\"><md-icon class=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-cloud-download\\\"></md-icon><span \\ntranslate-attr-aria-label=\\\"CHECKLIST.DOWNLOAD_TEMPLATES\\\">Download Templates</span></md-button></md-menu-item>\\n</md-menu-content></md-menu></div></div><div class=\\\"content\\\" layout=\\\"row\\\" flex><md-content class=\\\"todo-list-pane\\\" flex \\nng-include=\\\"\\'app/main/checklist/views/list/checklists.html\\'\\\" ms-scroll=\\\"vm.msScrollOptions\\\"></md-content></div></div>\\n</div></div>\");\n$templateCache.put(\"app/main/confirm/confirm.html\",\"<div id=\\\"register\\\" class=\\\"flex-scrollable\\\" layout=\\\"column\\\" ms-scroll><div id=\\\"register-form-wrapper\\\" layout=\\\"column\\\" \\nlayout-align=\\\"center center\\\"><div id=\\\"register-form\\\" class=\\\"md-whiteframe-8dp\\\"><div class=\\\"logo md-accent-bg\\\"><span>CL\\n</span></div><div class=\\\"title\\\" translate=\\\"CONFIRM.TITLE\\\">Confirm Account</div><div ng-if=\\\"vm.message\\\"><p>\\n{{vm.message}}</p></div><form name=\\\"registerForm\\\" novalidate action=\\\"/logout/\\\"><md-button type=\\\"submit\\\" \\nclass=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"CREATE MY ACCOUNT\\\" translate=\\\"CONFIRM.LOGIN\\\" \\ntranslate-attr-aria-label=\\\"CONFIRM.LOGIN\\\">LOGIN</md-button></form></div></div></div>\");\n$templateCache.put(\"app/main/confirm/org.html\",\"\");\n$templateCache.put(\"app/main/contacts/contacts.html\",\"<div id=\\\"contacts\\\" class=\\\"page-layout simple tabbed pad-0\\\" layout=\\\"column\\\"><div class=\\\"header md-accent-bg\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"white-fg\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div \\nlayout=\\\"column\\\" layout-align=\\\"start start\\\"><div class=\\\"h2\\\"><span>Contacts</span></div></div></div></div><div \\nclass=\\\"content\\\"><md-tabs md-dynamic-height class=\\\"\\\"><md-tab><md-tab-label><span translate=\\\"\\\">Contacts</span>\\n</md-tab-label><md-tab-body class=\\\"pad-0\\\"><div ng-include=\\\"\\'app/main/contacts/partials/contacts.html\\'\\\"></div>\\n</md-tab-body></md-tab></md-tabs></div></div>\");\n$templateCache.put(\"app/main/create/create.html\",\"<div id=\\\"register\\\" class=\\\"flex-scrollable\\\" layout=\\\"column\\\" ms-scroll><div id=\\\"register-form-wrapper\\\" layout=\\\"column\\\" \\nlayout-align=\\\"center center\\\"><div id=\\\"register-form\\\" class=\\\"md-whiteframe-8dp\\\"><div class=\\\"logo md-accent-bg\\\"><span>CL\\n</span></div><div class=\\\"title\\\" translate=\\\"REGISTER.TITLE\\\">Create an account</div><div ng-if=\\\"!vm.create.success\\\"><p>\\nTo create your Account, enter your first and last name, email (which acts as your Login ID), and desired password. When you submit, you will be sent a confirmation.\\n</p></div><div ng-if=\\\"!vm.create.success\\\"><form name=\\\"registerForm\\\" novalidate ng-submit=\\\"vm.sendInfo()\\\">\\n<md-input-container class=\\\"md-block\\\" md-no-float><input name=\\\"first\\\" ng-model=\\\"vm.create.reg.name.first\\\" \\nplaceholder=\\\"First Name\\\" translate translate-attr-placeholder=\\\"REGISTER.FIRST\\\" required><div \\nng-messages=\\\"registerForm.first.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"REGISTER.ERRORS.FIRSTNAME_REQUIRED\\\">First Name field is required</span></div></div></md-input-container>\\n<md-input-container class=\\\"md-block\\\" md-no-float><input name=\\\"last\\\" ng-model=\\\"vm.create.reg.name.last\\\" \\nplaceholder=\\\"Last Name\\\" translate translate-attr-placeholder=\\\"REGISTER.LAST\\\" required><div \\nng-messages=\\\"registerForm.last.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"REGISTER.ERRORS.LASTNAME_REQUIRED\\\">Last Name field is required</span></div></div></md-input-container>\\n<md-input-container class=\\\"md-block\\\" md-no-float><input name=\\\"phone\\\" ng-model=\\\"vm.create.reg.phone\\\" \\nplaceholder=\\\"Phone Number\\\" translate translate-attr-placeholder=\\\"REGISTER.PHONE\\\" required><div \\nng-messages=\\\"registerForm.phone.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"REGISTER.ERRORS.PHONE_REQUIRED\\\">Phone Number field is required</span></div></div></md-input-container>\\n<md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"email\\\" name=\\\"email\\\" ng-model=\\\"vm.create.reg.email\\\" \\nplaceholder=\\\"Email\\\" translate translate-attr-placeholder=\\\"REGISTER.EMAIL\\\" ng-pattern=\\\"/^.+@.+\\\\..+$/\\\" required><div \\nng-messages=\\\"registerForm.email.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"REGISTER.ERRORS.EMAIL_REQUIRED\\\">Email field is required</span></div><div ng-message=\\\"pattern\\\"><span \\ntranslate=\\\"REGISTER.ERRORS.EMAIL_MUST_VALID\\\">Email must be a valid e-mail address</span></div></div>\\n</md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"password\\\" name=\\\"password\\\" \\nng-model=\\\"vm.create.reg.password\\\" placeholder=\\\"Password\\\" translate translate-attr-placeholder=\\\"REGISTER.PASSWORD\\\" \\nrequired><div ng-messages=\\\"registerForm.password.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"REGISTER.ERRORS.PASSWORD_REQUIRED\\\">Password field is required</span></div></div></md-input-container>\\n<md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"password\\\" name=\\\"password2\\\" \\nng-model=\\\"vm.create.reg.password2\\\" placeholder=\\\"Password (Confirm)\\\" translate \\ntranslate-attr-placeholder=\\\"REGISTER.PASSWORD_CONFIRM\\\" required><div ng-messages=\\\"registerForm.password2.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span translate=\\\"REGISTER.ERRORS.PASSWORD_CONFIRM_REQUIRED\\\">\\nPassword (Confirm) field is required</span></div></div></md-input-container><div class=\\\"terms\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\"><md-checkbox name=\\\"terms\\\" ng-model=\\\"data.cb1\\\" aria-label=\\\"I read and accept\\\" required>\\n</md-checkbox><div layout=\\\"row\\\" layout-sm=\\\"column\\\" layout-align=\\\"start center\\\"><span translate=\\\"REGISTER.READ_ACCEPT\\\">\\nI read and accept</span> <a href=\\\"#\\\" class=\\\"md-accent-color\\\" translate=\\\"REGISTER.TERMS_COND\\\">terms and conditions</a>\\n</div></div><md-button type=\\\"submit\\\" class=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"CREATE MY ACCOUNT\\\" \\nng-disabled=\\\"registerForm.$invalid || registerForm.$pristine\\\" translate=\\\"REGISTER.CREATE_ACCOUNT\\\" \\ntranslate-attr-aria-label=\\\"REGISTER.CREATE_ACCOUNT\\\">CREATE MY ACCOUNT</md-button></form><div class=\\\"login\\\" \\nlayout=\\\"row\\\" layout-xs=\\\"column\\\" layout-align=\\\"center center\\\"><span class=\\\"text\\\" translate=\\\"REGISTER.ALREADY_HAVE\\\">\\nAlready have an account?</span> <a class=\\\"link\\\" ui-sref=\\\"app.login\\\" translate=\\\"REGISTER.LOGIN\\\">Log in</a></div></div>\\n<div ng-if=\\\"vm.create.success\\\"><p>\\nYour registration has been received, and is pending; we have sent a confirmation email to the email address you provided.\\n</p><p>To complete your registration, please click the confirmation link in the email we sent.</p></div></div></div>\\n</div>\");\n$templateCache.put(\"app/main/dashboard/dashboard.html\",\"<div class=\\\"page-layout carded fullwidth\\\" layout=\\\"row\\\"><div class=\\\"top-bg md-accent-bg\\\"></div><div class=\\\"center\\\" \\nlayout=\\\"column\\\" flex><div class=\\\"header\\\"><span class=\\\"h2 white-fg\\\">Dashboard</span></div><div class=\\\"content-card\\\" \\nlayout=\\\"column\\\" flex><div class=\\\"toolbar\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><span>Metrics</span></div>\\n<md-content class=\\\"content\\\" flex ms-scroll><div class=\\\"demo-content\\\"><md-button type=\\\"button\\\" \\nhref=\\\"https://checklinked.com/ajax/dashboard-login.php\\\" target=\\\"_blank\\\" \\nclass=\\\"md-accent md-raised md-button ng-scope md-ink-ripple md-default-theme pull-right\\\">Label Metrics</md-button>\\n</div></md-content></div></div></div>\");\n$templateCache.put(\"app/main/file-manager/file-manager.html\",\"<div id=\\\"file-manager\\\" class=\\\"page-layout simple right-sidenav\\\" layout=\\\"row\\\"><md-sidenav class=\\\"main-sidenav\\\" \\nmd-component-id=\\\"main-sidenav\\\" ng-include=\\\"\\'app/main/file-manager/sidenavs/main/main-sidenav.html\\'\\\" ms-scroll \\nms-sidenav-helper></md-sidenav><div class=\\\"center\\\" layout=\\\"column\\\" flex><div class=\\\"header md-accent-bg\\\"><div \\nclass=\\\"header-content\\\" layout=\\\"column\\\" layout-align=\\\"space-between\\\"><div class=\\\"toolbar\\\" layout=\\\"row\\\" \\nlayout-align=\\\"space-between\\\"><md-button class=\\\"md-icon-button main-sidenav-toggle\\\" \\nng-click=\\\"vm.toggleSidenav(\\'main-sidenav\\')\\\" aria-label=\\\"Toggle Main Sidenav\\\" translate \\ntranslate-attr-aria-label=\\\"FILE.TOOGLE_MAIN_SIDENAV\\\"><md-icon md-font-icon=\\\"icon-menu\\\" class=\\\"icon\\\"></md-icon>\\n</md-button><div class=\\\"right-side\\\" layout=\\\"row\\\"><md-button class=\\\"md-icon-button\\\" aria-label=\\\"Search\\\" translate \\ntranslate-attr-aria-label=\\\"FM.SEARCH\\\"><md-icon md-font-icon=\\\"icon-magnify\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"FM.SEARCH\\\">Search</span></md-tooltip></md-button><md-button ng-if=\\\"vm.currentView === \\'list\\'\\\" \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.toggleView()\\\" aria-label=\\\"view type\\\" translate \\ntranslate-attr-aria-label=\\\"FM.GRID_VIEW\\\"><md-icon md-font-icon=\\\"icon-view-module\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"FM.GRID_VIEW\\\">Grid View</span></md-tooltip></md-button><md-button ng-if=\\\"vm.currentView === \\'grid\\'\\\" \\nclass=\\\"md-icon-button\\\" aria-label=\\\"view type\\\" ng-click=\\\"vm.toggleView()\\\" translate \\ntranslate-attr-aria-label=\\\"FM.LIST_VIEW\\\"><md-icon md-font-icon=\\\"icon-view-headline\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"FM.LIST_VIEW\\\">List View</span></md-tooltip></md-button></div></div><div class=\\\"breadcrumb text-truncate\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><span data-ng-repeat=\\\"path in vm.path\\\">{{path}}<md-icon \\nmd-font-icon=\\\"icon-chevron-right\\\" class=\\\"icon separator\\\"></md-icon></span></div></div><div id=\\\"file-uploader\\\" \\nflow-init=\\\"vm.ngFlowOptions\\\" flow-name=\\\"vm.ngFlow.flow\\\" flow-files-submitted=\\\"vm.upload()\\\" \\nflow-file-added=\\\"vm.fileAdded($file)\\\" flow-file-success=\\\"vm.fileSuccess($file, $message)\\\" \\nflow-complete=\\\"vm.uploadComplete()\\\"><md-button flow-btn class=\\\"add-file-button md-fab md-warn\\\" \\nng-click=\\\"vm.addFile($event)\\\" aria-label=\\\"Add file\\\" translate translate-attr-aria-label=\\\"FM.ADD_FILE\\\"><md-icon \\nmd-font-icon=\\\"icon-plus\\\"></md-icon></md-button></div></div><md-content class=\\\"content\\\" flex ms-scroll><div \\nng-if=\\\"vm.currentView === \\'grid\\'\\\" ng-include=\\\"\\'app/main/file-manager/views/grid/grid-view.html\\'\\\"></div><div \\nng-if=\\\"vm.currentView === \\'list\\'\\\" ng-include=\\\"\\'app/main/file-manager/views/list/list-view.html\\'\\\"></div></md-content>\\n</div><md-sidenav class=\\\"sidenav details-sidenav md-sidenav-right\\\" md-is-locked-open=\\\"$mdMedia(\\'gt-md\\')\\\" \\nmd-component-id=\\\"details-sidenav\\\" ng-include=\\\"\\'app/main/file-manager/sidenavs/details/details-sidenav.html\\'\\\" ms-scroll \\nms-sidenav-helper></md-sidenav></div>\");\n$templateCache.put(\"app/main/folders/folders.html\",\"<div id=\\\"contacts\\\" class=\\\"page-layout simple tabbed pad-0\\\" layout=\\\"column\\\"><div class=\\\"header md-accent-bg\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"white-fg\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div \\nlayout=\\\"column\\\" layout-align=\\\"start start\\\"><div class=\\\"h2\\\"><span>Checklists</span></div></div></div></div><div \\nclass=\\\"content\\\"><md-tabs md-dynamic-height class=\\\"\\\"><md-tab><md-tab-label><span translate=\\\"\\\">My Projects</span>\\n</md-tab-label><md-tab-body class=\\\"pad-0\\\"><div ng-include=\\\"\\'app/main/folders/partials/folders.html\\'\\\"></div>\\n</md-tab-body></md-tab></md-tabs></div></div>\");\n$templateCache.put(\"app/main/folders/foldersBAK.html\",\"<div id=\\\"checklist\\\" class=\\\"page-layout carded left-sidenav\\\" layout=\\\"row\\\"><div class=\\\"top-bg md-accent-bg\\\"></div>\\n<md-sidenav class=\\\"sidenav\\\" md-is-locked-open=\\\"$mdMedia(\\'gt-md\\')\\\" md-component-id=\\\"folder-sidenav\\\" \\nng-include=\\\"\\'app/main/folders/sidenavs/main/main-sidenav.html\\'\\\" ms-scroll ms-sidenav-helper></md-sidenav><div \\nclass=\\\"center\\\" layout=\\\"column\\\" flex><div class=\\\"header\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" hide-xs><div \\nclass=\\\"search-wrapper md-whiteframe-4dp\\\" flex layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button \\nclass=\\\"md-icon-button sidenav-toggle\\\" ng-click=\\\"vm.toggleSidenav(\\'folder-sidenav\\')\\\" hide-gt-md \\naria-label=\\\"Toggle sidenav\\\" translate translate-attr-aria-label=\\\"FOLDER.TOGGLE_SIDENAV\\\"><md-icon \\nmd-font-icon=\\\"icon-menu\\\" class=\\\"icon\\\"></md-icon></md-button><div class=\\\"search\\\" flex layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-icon md-font-icon=\\\"icon-magnify\\\" class=\\\"icon s24\\\"></md-icon><input flex \\nng-model=\\\"vm.folderFilters.search\\\" type=\\\"text\\\" placeholder=\\\"Search Folders\\\" translate \\ntranslate-attr-placeholder=\\\"FOLDER.SEARCH\\\"></div></div></div><div class=\\\"content-card\\\" layout=\\\"column\\\" flex><div \\nclass=\\\"toolbar-list\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\" ng-if=\\\"vm.folders.length\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-select class=\\\"simplified\\\" ng-model=\\\"vm.folderOrder\\\" placeholder=\\\"Order\\\" \\nng-change=\\\"vm.folderOrderDescending = vm.folderOrder === \\'\\' ? false : vm.folderOrderDescending\\\"><md-option \\nvalue=\\\"name\\\" translate=\\\"FOLDER.NAME\\\">Folder Title</md-option><md-option value=\\\"description\\\" \\ntranslate=\\\"FOLDER.DESCRIPTION\\\">Folder Description</md-option></md-select><md-button class=\\\"md-icon-button\\\" \\nng-disabled=\\\"vm.folderOrder === \\'\\'\\\" ng-click=\\\"vm.folderOrderDescending = !vm.folderOrderDescending\\\" \\naria-label=\\\"Sort Direction\\\" translate translate-attr-aria-label=\\\"FOLDER.SORT_DIRECTION\\\"><md-icon \\nmd-font-icon=\\\"icon-sort-ascending\\\" ng-if=\\\"vm.folderOrderDescending === false\\\" class=\\\"s18\\\"></md-icon><md-icon \\nmd-font-icon=\\\"icon-sort-descending\\\" ng-if=\\\"vm.folderOrderDescending === true\\\" class=\\\"s18\\\"></md-icon></md-button></div>\\n</div><div class=\\\"content\\\" layout=\\\"row\\\" flex><md-content class=\\\"todo-list-pane\\\" flex \\nng-include=\\\"\\'app/main/folders/views/list/folders.html\\'\\\" ms-scroll=\\\"vm.msScrollOptions\\\"></md-content></div></div></div>\\n</div>\");\n$templateCache.put(\"app/main/groups/groups.html\",\"<div id=\\\"contacts\\\" class=\\\"page-layout simple tabbed pad-0\\\" layout=\\\"column\\\"><div class=\\\"header md-accent-bg\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"white-fg\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div \\nlayout=\\\"column\\\" layout-align=\\\"start start\\\"><div class=\\\"h2\\\"><span>Checklists</span></div></div></div></div><div \\nclass=\\\"content\\\"><md-tabs md-dynamic-height class=\\\"\\\"><md-tab><md-tab-label><span translate=\\\"\\\">My Folders</span>\\n</md-tab-label><md-tab-body class=\\\"pad-0\\\"><div ng-include=\\\"\\'app/main/groups/partials/groups.html\\'\\\"></div></md-tab-body>\\n</md-tab></md-tabs></div></div>\");\n$templateCache.put(\"app/main/groups/groupsBAK.html\",\"<div id=\\\"checklist\\\" class=\\\"page-layout carded left-sidenav\\\" layout=\\\"row\\\"><div class=\\\"top-bg md-accent-bg\\\"></div>\\n<md-sidenav class=\\\"sidenav\\\" md-is-locked-open=\\\"$mdMedia(\\'gt-md\\')\\\" md-component-id=\\\"group-sidenav\\\" \\nng-include=\\\"\\'app/main/groups/sidenavs/main/main-sidenav.html\\'\\\" ms-scroll ms-sidenav-helper></md-sidenav><div \\nclass=\\\"center\\\" layout=\\\"column\\\" flex><div class=\\\"header\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" hide-xs><div \\nclass=\\\"search-wrapper md-whiteframe-4dp\\\" flex layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button \\nclass=\\\"md-icon-button sidenav-toggle\\\" ng-click=\\\"vm.toggleSidenav(\\'group-sidenav\\')\\\" hide-gt-md \\naria-label=\\\"Toggle sidenav\\\" translate translate-attr-aria-label=\\\"GROUP.TOGGLE_SIDENAV\\\"><md-icon \\nmd-font-icon=\\\"icon-menu\\\" class=\\\"icon\\\"></md-icon></md-button><div class=\\\"search\\\" flex layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-icon md-font-icon=\\\"icon-magnify\\\" class=\\\"icon s24\\\"></md-icon><input flex \\nng-model=\\\"vm.groupFilters.search\\\" type=\\\"text\\\" placeholder=\\\"Search Groups\\\" translate \\ntranslate-attr-placeholder=\\\"GROUP.SEARCHS\\\"></div></div></div><div class=\\\"content-card\\\" layout=\\\"column\\\" flex><div \\nclass=\\\"toolbar-list\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\" ng-if=\\\"vm.groups.length\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-select class=\\\"simplified\\\" ng-model=\\\"vm.groupOrder\\\" placeholder=\\\"Order\\\" \\nng-change=\\\"vm.groupOrderDescending = vm.groupOrder === \\'\\' ? false : vm.groupOrderDescending\\\"><md-option value=\\\"name\\\" \\ntranslate=\\\"GROUP.NAME\\\">Group Title</md-option></md-select><md-button class=\\\"md-icon-button\\\" \\nng-disabled=\\\"vm.groupOrder === \\'\\'\\\" ng-click=\\\"vm.groupOrderDescending = !vm.groupOrderDescending\\\" \\naria-label=\\\"Sort Direction\\\" translate translate-attr-aria-label=\\\"GROUP.SORT_DIRECTION\\\"><md-icon \\nmd-font-icon=\\\"icon-sort-ascending\\\" ng-if=\\\"vm.groupOrderDescending === false\\\" class=\\\"s18\\\"></md-icon><md-icon \\nmd-font-icon=\\\"icon-sort-descending\\\" ng-if=\\\"vm.groupOrderDescending === true\\\" class=\\\"s18\\\"></md-icon></md-button></div>\\n</div><div class=\\\"content\\\" layout=\\\"row\\\" flex><md-content class=\\\"todo-list-pane\\\" flex \\nng-include=\\\"\\'app/main/groups/views/list/groups.html\\'\\\" ms-scroll=\\\"vm.msScrollOptions\\\"></md-content></div></div></div>\\n</div>\");\n$templateCache.put(\"app/main/invitations/invitations.html\",\"<div id=\\\"team-members\\\" class=\\\"page-layout simple tabbed pad-0\\\" layout=\\\"column\\\"><div class=\\\"header md-accent-bg\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"white-fg\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div \\nlayout=\\\"column\\\" layout-align=\\\"start start\\\"><div class=\\\"h2\\\"><span>Linking</span></div></div></div></div><div \\nclass=\\\"content\\\"><md-tabs md-dynamic-height class=\\\"\\\"><md-tab><md-tab-label><span translate=\\\"\\\">Received</span>\\n</md-tab-label><md-tab-body class=\\\"pad-0\\\"><div ng-include=\\\"\\'app/main/invitations/partials/received.html\\'\\\"></div>\\n</md-tab-body></md-tab><md-tab><md-tab-label><span translate=\\\"\\\">Awaiting Acceptance</span></md-tab-label><md-tab-body \\nclass=\\\"pad-0\\\"><div ng-include=\\\"\\'app/main/invitations/partials/sent.html\\'\\\"></div></md-tab-body></md-tab></md-tabs></div>\\n</div>\");\n$templateCache.put(\"app/main/login/login.html\",\"<div id=\\\"login\\\" class=\\\"flex-scrollable\\\" layout=\\\"column\\\" ms-scroll><div id=\\\"login-form-wrapper\\\" layout=\\\"column\\\" \\nlayout-align=\\\"center center\\\"><div id=\\\"login-form\\\" class=\\\"md-whiteframe-8dp\\\"><div class=\\\"logo md-accent-bg\\\"><span>CL\\n</span></div><div class=\\\"title\\\">Log in to your account</div><form name=\\\"loginForm\\\" novalidate ng-submit=\\\"vm.login()\\\">\\n<md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"email\\\" name=\\\"email\\\" ng-model=\\\"vm.email\\\" \\nplaceholder=\\\"Email\\\" ng-pattern=\\\"/^.+@.+\\\\..+$/\\\" required><div ng-messages=\\\"loginForm.email.$error\\\" role=\\\"alert\\\" \\nmultiple=\\\"multiple\\\"><div ng-message=\\\"required\\\"><span>Email field is required</span></div><div ng-message=\\\"pattern\\\">\\n<span>Email must be a valid e-mail address</span></div></div></md-input-container><md-input-container class=\\\"md-block\\\" \\nmd-no-float><input type=\\\"password\\\" name=\\\"password\\\" ng-model=\\\"vm.form.password\\\" placeholder=\\\"Password\\\" required><div \\nng-messages=\\\"loginForm.password.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Password field is required</span>\\n</div></div></md-input-container><md-button type=\\\"submit\\\" class=\\\"md-raised md-accent submit-button\\\" \\naria-label=\\\"LOG IN\\\" ng-disabled=\\\"loginForm.$invalid || loginForm.$pristine\\\">LOG IN</md-button></form><div \\nclass=\\\"register\\\" layout=\\\"row\\\" layout-sm=\\\"column\\\" layout-align=\\\"center center\\\"><span class=\\\"text\\\">Don\\'t have an account?\\n</span> <a class=\\\"link\\\" ui-sref=\\\"app.create\\\">Create an account</a></div></div></div></div>\");\n$templateCache.put(\"app/main/invite/invite.html\",\"<div id=\\\"invite\\\" class=\\\"flex-scrollable\\\" layout=\\\"column\\\" ms-scroll><div id=\\\"invite-form-wrapper\\\" layout=\\\"column\\\" \\nlayout-align=\\\"center center\\\"><div ng-show=\\\"!vm.view.legacy && !vm.view.create\\\" \\nng-include=\\\"\\'app/main/invite/partials/switchboard.html\\'\\\"></div><div ng-show=\\\"vm.view.legacy\\\" \\nng-include=\\\"\\'app/main/invite/partials/legacy.html\\'\\\"></div><div ng-show=\\\"vm.view.create\\\" \\nng-include=\\\"\\'app/main/invite/partials/create.html\\'\\\"></div></div></div>\");\n$templateCache.put(\"app/main/mail/mail.html\",\"<div id=\\\"mail\\\" class=\\\"page-layout carded left-sidenav\\\" layout=\\\"row\\\"><div class=\\\"top-bg md-accent-bg\\\"></div><md-sidenav \\nclass=\\\"sidenav\\\" md-is-locked-open=\\\"$mdMedia(\\'gt-md\\')\\\" md-component-id=\\\"main-sidenav\\\" \\nng-include=\\\"\\'app/main/mail/sidenavs/main/main-sidenav.html\\'\\\" ms-scroll ms-sidenav-helper></md-sidenav><div \\nclass=\\\"center\\\" layout=\\\"column\\\" flex><div class=\\\"header\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><div \\nclass=\\\"search-wrapper md-whiteframe-4dp\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><md-button \\nclass=\\\"md-icon-button sidenav-toggle\\\" ng-click=\\\"vm.toggleSidenav(\\'main-sidenav\\')\\\" hide-gt-md \\naria-label=\\\"Toggle Sidenav\\\" translate translate-attr-aria-label=\\\"MAIL.TOGGLE_SIDENAV\\\"><md-icon class=\\\"icon\\\" \\nmd-font-icon=\\\"icon-menu\\\"></md-icon></md-button><div class=\\\"search\\\" flex layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-icon md-font-icon=\\\"icon-magnify\\\" class=\\\"icon s24\\\"></md-icon><input flex ng-model=\\\"vm.search\\\" type=\\\"text\\\" \\nplaceholder=\\\"Search\\\" translate translate-attr-placeholder=\\\"MAIL.SEARCH_PLACEHOLDER\\\"></div></div></div><div \\nclass=\\\"content-card\\\" ng-class=\\\"vm.currentView\\\" layout=\\\"column\\\" flex ng-include=\\\"vm.views[vm.currentView]\\\"></div></div>\\n</div>\");\n$templateCache.put(\"app/main/organization/organization.html\",\"<div id=\\\"organization\\\" class=\\\"page-layout simple tabbed\\\" layout=\\\"column\\\"><div class=\\\"header md-accent-bg\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><div class=\\\"white-fg\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div layout=\\\"column\\\" \\nlayout-align=\\\"start start\\\"><div class=\\\"h2\\\"><span>Account Details</span></div></div></div></div><div class=\\\"content\\\">\\n<md-tabs md-dynamic-height class=\\\"\\\" ng-show=\\\"vm.createOrganization\\\"><md-tab><md-tab-label><span translate=\\\"\\\">\\nOrganization Details</span></md-tab-label><md-tab-body><div \\nng-include=\\\"\\'app/main/organization/partials/organization.html\\'\\\"></div></md-tab-body></md-tab></md-tabs><md-tabs \\nmd-dynamic-height class=\\\"\\\" ng-hide=\\\"vm.createOrganization\\\"><md-tab><md-tab-label><span translate=\\\"\\\">\\nAdd Organization Details</span></md-tab-label><md-tab-body ng-hide=\\\"vm.createOrganization\\\"><div \\nng-include=\\\"\\'app/main/organization/partials/create-organization.html\\'\\\"></div></md-tab-body></md-tab></md-tabs></div>\\n</div>\");\n$templateCache.put(\"app/main/queue/queue.html\",\"<div id=\\\"queue\\\" class=\\\"page-layout simple tabbed\\\" layout=\\\"column\\\"><div class=\\\"header md-accent-bg\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><div class=\\\"white-fg\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div layout=\\\"column\\\" \\nlayout-align=\\\"start start\\\"><div class=\\\"h2\\\"><span>Assign Checklists</span></div><div class=\\\"subtitle secondary-text\\\">\\n<span translate=\\\"\\\"></span> <span>{{vm.order.customer.firstName}} {{vm.order.customer.lastName}}</span></div></div>\\n</div></div><div class=\\\"content\\\"><md-tabs md-dynamic-height><md-tab><md-tab-label><span translate=\\\"\\\">Checklist Queue\\n</span></md-tab-label><md-tab-body><div ng-include=\\\"\\'app/main/queue/partials/queue.html\\'\\\"></div></md-tab-body></md-tab>\\n</md-tabs></div></div>\");\n$templateCache.put(\"app/main/subscriptions/subscriptions.html\",\"<div id=\\\"subscriptions\\\" class=\\\"page-layout simple tabbed\\\" layout=\\\"column\\\"><div class=\\\"header md-accent-bg\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"white-fg\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div \\nlayout=\\\"column\\\" layout-align=\\\"start start\\\"><div class=\\\"h2\\\"><span>Subscriptions</span></div></div></div></div><div \\nclass=\\\"content\\\"><md-tabs md-dynamic-height><md-tab ng-click=\\\"vm.clearcheck($event)\\\"><md-tab-label><span translate=\\\"\\\" \\nng-click=\\\"subscriptions.selected = null\\\">License Pool</span></md-tab-label><md-tab-body><div \\nng-include=\\\"\\'app/main/subscriptions/partials/license-pool.html\\'\\\"></div></md-tab-body></md-tab><md-tab><md-tab-label>\\n<span translate=\\\"\\\">Add Subscription</span></md-tab-label><md-tab-body><div \\nng-include=\\\"\\'app/main/subscriptions/partials/add-subscription.html\\'\\\"></div></md-tab-body></md-tab><md-tab \\nng-click=\\\"vm.clearSelectSubscription($event)\\\"><md-tab-label><span translate=\\\"\\\">Subscriptions</span></md-tab-label>\\n<md-tab-body><div ng-include=\\\"\\'app/main/subscriptions/partials/subscriptions.html\\'\\\"></div></md-tab-body></md-tab>\\n</md-tabs></div></div>\");\n$templateCache.put(\"app/main/summary/summary.html\",\"<div id=\\\"summary\\\" class=\\\"page-layout simple tabbed\\\" layout=\\\"column\\\"><div class=\\\"header md-accent-bg\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><div class=\\\"white-fg\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div layout=\\\"column\\\" \\nlayout-align=\\\"start start\\\"><div class=\\\"h2\\\"><span>Checklist Summary</span></div></div></div></div><div class=\\\"content\\\">\\n<md-tabs md-dynamic-height><md-tab><md-tab-label><span translate=\\\"\\\">View Reports</span></md-tab-label><md-tab-body><div\\n ng-include=\\\"\\'app/main/summary/partials/summary.html\\'\\\"></div></md-tab-body></md-tab></md-tabs></div></div>\");\n$templateCache.put(\"app/main/teammembers/teammembers.html\",\"<div id=\\\"team-members\\\" class=\\\"page-layout simple tabbed pad-0\\\" layout=\\\"column\\\"><div class=\\\"header md-accent-bg\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"white-fg\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div \\nlayout=\\\"column\\\" layout-align=\\\"start start\\\"><div class=\\\"h2\\\"><span>Team Members</span></div></div></div></div><div \\nclass=\\\"content\\\"><md-tabs md-dynamic-height class=\\\"\\\"><md-tab><md-tab-label><span translate=\\\"\\\">Onboard</span>\\n</md-tab-label><md-tab-body class=\\\"pad-0\\\"><div ng-include=\\\"\\'app/main/teammembers/partials/teammembers.html\\'\\\"></div>\\n</md-tab-body></md-tab><md-tab><md-tab-label><span translate=\\\"\\\">Invitations</span></md-tab-label><md-tab-body \\nclass=\\\"pad-0\\\"><div ng-include=\\\"\\'app/main/teammembers/partials/invitations.html\\'\\\"></div></md-tab-body></md-tab>\\n</md-tabs></div></div>\");\n$templateCache.put(\"app/main/templates/templates.html\",\"<div id=\\\"templates\\\" class=\\\"page-layout simple tabbed\\\" layout=\\\"column\\\"><div class=\\\"header md-accent-bg\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><div class=\\\"white-fg\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div layout=\\\"column\\\" \\nlayout-align=\\\"start start\\\"><div class=\\\"h2\\\"><span>Templates</span></div></div></div></div><div class=\\\"content\\\"><md-tabs \\nmd-dynamic-height><md-tab><md-tab-label><span translate=\\\"\\\">Internal Templates</span></md-tab-label><md-tab-body><div \\nng-include=\\\"\\'app/main/templates/partials/internal-templates.html\\'\\\"></div></md-tab-body></md-tab><md-tab><md-tab-label>\\n<span translate=\\\"\\\">Public Templates</span></md-tab-label><md-tab-body><div \\nng-include=\\\"\\'app/main/templates/partials/public-templates.html\\'\\\"></div></md-tab-body></md-tab></md-tabs></div></div>\");\n$templateCache.put(\"app/main/todo/todo.html\",\"<div id=\\\"todo\\\" class=\\\"page-layout carded left-sidenav\\\" layout=\\\"row\\\"><div class=\\\"top-bg md-accent-bg\\\"></div><md-sidenav \\nclass=\\\"sidenav\\\" md-is-locked-open=\\\"$mdMedia(\\'gt-md\\')\\\" md-component-id=\\\"main-sidenav\\\" \\nng-include=\\\"\\'app/main/todo/sidenavs/main/main-sidenav.html\\'\\\" ms-scroll ms-sidenav-helper></md-sidenav><div \\nclass=\\\"center\\\" layout=\\\"column\\\" flex><div class=\\\"header\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><div \\nclass=\\\"search-wrapper md-whiteframe-4dp\\\" flex layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button \\nclass=\\\"md-icon-button sidenav-toggle\\\" ng-click=\\\"vm.toggleSidenav(\\'main-sidenav\\')\\\" hide-gt-md \\naria-label=\\\"Toggle sidenav\\\" translate translate-attr-aria-label=\\\"TODO.TOGGLE_SIDENAV\\\"><md-icon \\nmd-font-icon=\\\"icon-menu\\\" class=\\\"icon\\\"></md-icon></md-button><div class=\\\"search\\\" flex layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-icon md-font-icon=\\\"icon-magnify\\\" class=\\\"icon s24\\\"></md-icon><input flex \\nng-model=\\\"vm.taskFilters.search\\\" type=\\\"text\\\" placeholder=\\\"Search for a task or tag\\\" translate \\ntranslate-attr-placeholder=\\\"TODO.SEARCH\\\"></div></div></div><div class=\\\"content-card\\\" layout=\\\"column\\\" flex><div \\nclass=\\\"toolbar\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><md-select class=\\\"simplified\\\" \\nng-model=\\\"vm.selectedFilter.dueDate\\\" placeholder=\\\"Due Date\\\"><md-option value=\\\"Next 3 days\\\" \\ntranslate=\\\"TODO.NEXT_3_DAYS\\\">Next 3 days</md-option><md-option value=\\\"Next 7 days\\\" translate=\\\"TODO.NEXT_7_DAYS\\\">\\nNext 7 days</md-option><md-option value=\\\"Next 2 weeks\\\" translate=\\\"TODO.NEXT_2_WEEKS\\\">Next 2 weeks</md-option><md-option\\n value=\\\"Next month\\\" translate=\\\"TODO.NEXT_MONTH\\\">Next month</md-option></md-select><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-select class=\\\"simplified\\\" ng-model=\\\"vm.taskOrder\\\" placeholder=\\\"Order\\\" \\nng-change=\\\"vm.taskOrderDescending = vm.taskOrder === \\'\\' ? false : vm.taskOrderDescending\\\"><md-option \\nvalue=\\\"startDateTimestamp\\\" translate=\\\"TODO.START_DATE\\\">Start Date</md-option><md-option value=\\\"dueDateTimestamp\\\" \\ntranslate=\\\"TODO.DUE_DATE\\\">Due Date</md-option><md-option ng-value=\\\"\\'\\'\\\" translate=\\\"TODO.MANUAL\\\">Manual</md-option>\\n<md-option value=\\\"title\\\" translate=\\\"TODO.TITLE\\\">Title</md-option></md-select><md-button class=\\\"md-icon-button\\\" \\nng-disabled=\\\"vm.taskOrder === \\'\\'\\\" ng-click=\\\"vm.taskOrderDescending = !vm.taskOrderDescending\\\" \\naria-label=\\\"Sort Direction\\\" translate translate-attr-aria-label=\\\"TODO.SORT_DIRECTION\\\"><md-icon \\nmd-font-icon=\\\"icon-sort-ascending\\\" ng-if=\\\"vm.taskOrderDescending === false\\\"></md-icon><md-icon \\nmd-font-icon=\\\"icon-sort-descending\\\" ng-if=\\\"vm.taskOrderDescending === true\\\"></md-icon></md-button></div></div><div \\nclass=\\\"content\\\" layout=\\\"row\\\" flex><md-content class=\\\"todo-list-pane\\\" flex \\nng-include=\\\"\\'app/main/todo/views/list/list-view.html\\'\\\" ms-scroll=\\\"vm.msScrollOptions\\\"></md-content></div></div></div>\\n</div>\");\n$templateCache.put(\"app/main/user/user.html\",\"<div id=\\\"user\\\" class=\\\"page-layout simple tabbed\\\" layout=\\\"column\\\"><div class=\\\"header md-accent-bg\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><div class=\\\"white-fg\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div layout=\\\"column\\\" \\nlayout-align=\\\"start start\\\"><div class=\\\"h2\\\"><span>Account Details</span></div></div></div></div><div class=\\\"content\\\">\\n<md-tabs md-dynamic-height><md-tab><md-tab-label><span translate=\\\"\\\">User Profile</span></md-tab-label><md-tab-body><div\\n ng-include=\\\"\\'app/main/user/partials/user.html\\'\\\"></div></md-tab-body></md-tab></md-tabs></div></div>\");\n$templateCache.put(\"app/navigation/subnav/sidenav.html\",\"<div class=\\\"demo-sidenav\\\"><md-list><md-list-item><a href=\\\"/user\\\">Account Information</a></md-list-item><md-divider>\\n</md-divider><md-list-item><a href=\\\"/organization\\\">Organization</a></md-list-item><md-divider></md-divider>\\n<md-list-item><a href=\\\"/teammembers\\\">Team Members</a></md-list-item><md-divider></md-divider><md-list-item><a \\nhref=\\\"/templates\\\">Templates</a></md-list-item><md-divider></md-divider><md-list-item><a href=\\\"/subscriptions\\\">\\nSubscriptions</a></md-list-item></md-list></div>\");\n$templateCache.put(\"app/core/directives/ms-info-bar/ms-info-bar.html\",\"<div id=\\\"ms-info-bar\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div id=\\\"ms-info-bar-message\\\" ng-transclude flex>\\n</div><md-button id=\\\"ms-info-bar-close\\\" class=\\\"md-icon-button\\\" aria-label=\\\"Close\\\" ng-click=\\\"removeInfoBar()\\\"><md-icon \\nmd-font-icon=\\\"icon-close s24\\\"></md-icon></md-button></div>\");\n$templateCache.put(\"app/core/directives/ms-material-color-picker/ms-material-color-picker.html\",\"<md-menu md-position-mode=\\\"target-right target\\\"><div ng-click=\\\"$mdOpenMenu($event)\\\"><ms-color-picker-button><md-button \\naria-label=\\\"Row Color\\\" md-menu-origin ng-click=\\\"$mdOpenMenu($event)\\\" ng-class=\\\"vm.selectedColor.class\\\"><span \\nng-show=\\\"vm.selectedColor.palette\\\">{{vm.selectedColor.palette}} {{vm.selectedColor.hue}} </span><span \\nng-show=\\\"!vm.selectedColor.palette\\\">Select Color</span></md-button></ms-color-picker-button></div><md-menu-content \\nclass=\\\"ms-material-color-picker-menu-content\\\" layout-column><header \\nng-class=\\\"vm.selectedColor.class || \\'md-accent-bg\\'\\\" class=\\\"md-whiteframe-4dp\\\" layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\"><md-button md-prevent-menu-close ng-click=\\\"vm.activateHueSelection(false,false)\\\" \\nclass=\\\"md-icon-button\\\" ng-class=\\\"{\\'hidden\\':!vm.selectedPalette}\\\" aria-label=\\\"Palette\\\"><md-icon \\nmd-font-icon=\\\"icon-arrow-left\\\" class=\\\"s20\\\"></md-icon></md-button><span ng-if=\\\"vm.selectedColor.palette\\\">\\n{{vm.selectedColor.palette}} {{vm.selectedColor.hue}} </span><span ng-if=\\\"!vm.selectedColor.palette\\\">Select Color\\n</span><md-button class=\\\"remove-color-button md-icon-button\\\" ng-click=\\\"vm.removeColor()\\\" aria-label=\\\"Remove Color\\\">\\n<md-icon md-font-icon=\\\"icon-delete\\\" class=\\\"s20\\\"></md-icon></md-button></header><div class=\\\"colors\\\" ms-scroll><div \\nng-show=\\\"!vm.selectedPalette\\\" layout=\\\"row\\\" layout-wrap><div class=\\\"color\\\" ng-class=\\\"\\'md-\\'+palette+\\'-500-bg\\'\\\" \\nng-repeat=\\\"(palette, hues) in vm.palettes\\\" ng-click=\\\"vm.activateHueSelection(palette,hues)\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start end\\\" md-prevent-menu-close md-ink-ripple><span class=\\\"label\\\">{{palette}}</span></div></div><div \\nng-show=\\\"vm.selectedPalette\\\" layout=\\\"row\\\" layout-wrap><div class=\\\"color\\\" \\nng-class=\\\"\\'md-\\'+vm.selectedPalette+\\'-\\'+hue+\\'-bg\\'\\\" ng-repeat=\\\"(hue, values) in vm.selectedHues\\\" \\nng-click=\\\"vm.selectColor(vm.selectedPalette,hue)\\\" layout=\\\"row\\\" layout-align=\\\"start end\\\" md-ink-ripple><span \\nclass=\\\"label\\\">{{hue}} </span><i ng-if=\\\"vm.selectedPalette == vm.selectedColor.palette && hue == vm.selectedColor.hue\\\" \\nclass=\\\"s16 icon-check\\\"></i></div></div></div></md-menu-content></md-menu>\");\n$templateCache.put(\"app/core/directives/ms-search-bar/ms-search-bar.html\",\"<div flex layout=\\\"row\\\" layout-align=\\\"start center\\\"><label for=\\\"ms-search-bar-input\\\"><md-button \\nclass=\\\"ms-search-bar-expander md-icon-button\\\" aria-label=\\\"Expand Search Bar\\\" ng-click=\\\"MsSearchBar.expand()\\\" \\nng-if=\\\"!MsSearchBar.resultsLoading || MsSearchBar.collapsed\\\"><md-icon md-font-icon=\\\"icon-magnify\\\" class=\\\"icon s24\\\">\\n</md-icon></md-button><div class=\\\"ms-search-bar-loader\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\" \\nng-if=\\\"MsSearchBar.resultsLoading && !MsSearchBar.collapsed\\\"><md-progress-circular class=\\\"md-accent\\\" md-diameter=\\\"32\\\" \\nmd-mode=\\\"indeterminate\\\"></md-progress-circular></div></label><input id=\\\"ms-search-bar-input\\\" type=\\\"text\\\" \\nplaceholder=\\\"Search\\\" flex ng-model=\\\"MsSearchBar.query\\\" ng-model-options=\\\"MsSearchBar.queryOptions\\\" \\nng-keydown=\\\"MsSearchBar.handleKeydown($event)\\\"><md-button class=\\\"ms-search-bar-collapser md-icon-button\\\" \\nng-click=\\\"MsSearchBar.collapse()\\\" aria-label=\\\"Collapse Search Bar\\\"><md-icon md-font-icon=\\\"icon-close\\\" class=\\\"icon s24\\\">\\n</md-icon></md-button><div class=\\\"ms-search-bar-results\\\" ng-if=\\\"MsSearchBar.results\\\" ms-scroll><div class=\\\"no-results\\\" \\nng-if=\\\"MsSearchBar.results.length === 0\\\">No Results!</div><div class=\\\"result\\\" \\nng-repeat=\\\"result in MsSearchBar.results\\\" ng-click=\\\"MsSearchBar.handleResultClick(result)\\\" \\nng-mouseenter=\\\"MsSearchBar.handleMouseenter($index)\\\" ng-mousedown=\\\"MsSearchBar.absorbEvent($event)\\\" \\nng-class=\\\"{\\'selected\\': $index == MsSearchBar.selectedResultIndex}\\\" md-ink-ripple><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><div class=\\\"icon-container\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\"><i \\nng-if=\\\"result.icon\\\" class=\\\"icon {{result.icon}}\\\"></i><div ng-if=\\\"!result.icon\\\" class=\\\"square md-accent-bg\\\"></div></div>\\n<div><div class=\\\"title\\\">{{result.title}}</div><div class=\\\"description\\\" ng-if=\\\"result.description\\\">\\n{{result.description}}</div></div></div></div></div></div>\");\n$templateCache.put(\"app/core/directives/ms-shortcuts/ms-shortcuts.html\",\"<div class=\\\"shortcuts-container\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\" flex \\nng-class=\\\"{\\'mobile-bar-active\\': MsShortcuts.mobileBarActive}\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div \\nclass=\\\"shortcuts hide show-gt-xs\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" ms-scroll \\nng-if=\\\"MsShortcuts.shortcuts.length > 0\\\" ng-sortable=\\\"MsShortcuts.sortableOptions\\\"><div \\nng-repeat=\\\"shortcut in MsShortcuts.shortcuts\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\"><md-button \\nclass=\\\"md-icon-button shortcut\\\" aria-label=\\\"{{shortcut.title}}\\\" ui-sref=\\\"{{shortcut.uisref}}\\\"><md-icon \\nng-if=\\\"shortcut.icon\\\" md-font-icon=\\\"{{shortcut.icon}}\\\" class=\\\"icon s24\\\"></md-icon><div ng-if=\\\"!shortcut.icon\\\" \\nclass=\\\"first-letter\\\">{{shortcut.title.charAt(0)}}</div><md-tooltip md-direction=\\\"bottom\\\">{{shortcut.title}}\\n</md-tooltip></md-button></div></div><md-menu md-offset=\\\"8 56\\\" class=\\\"shortcut-menu hide show-gt-xs\\\"><md-button \\nclass=\\\"md-icon-button add-shortcut-button\\\" aria-label=\\\"Add shortcut\\\" ng-click=\\\"$mdOpenMenu($event)\\\"><md-icon \\nmd-menu-origin md-font-icon=\\\"icon-star\\\" class=\\\"icon amber-600-fg s24\\\"></md-icon><md-tooltip md-direction=\\\"bottom\\\">\\nClick to add/remove shortcut</md-tooltip></md-button><md-menu-content><div id=\\\"ms-shortcut-add-menu\\\"><div \\nclass=\\\"shortcut-search\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"search-icon\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\" ng-if=\\\"!MsShortcuts.resultsLoading\\\"><md-icon md-menu-align-target \\nmd-font-icon=\\\"icon-magnify\\\" class=\\\"icon s24\\\"></md-icon></div><div class=\\\"shortcut-loader\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\" ng-if=\\\"MsShortcuts.resultsLoading\\\"><md-progress-circular class=\\\"md-accent\\\" \\nmd-diameter=\\\"20\\\" md-mode=\\\"indeterminate\\\"></md-progress-circular></div><input type=\\\"text\\\" placeholder=\\\"Search\\\" flex \\nng-model=\\\"MsShortcuts.query\\\" ng-model-options=\\\"MsShortcuts.queryOptions\\\" \\nng-keydown=\\\"MsShortcuts.handleKeydown($event)\\\"></div><div class=\\\"results\\\" ng-if=\\\"MsShortcuts.results\\\" ms-scroll><div \\nclass=\\\"no-results\\\" ng-if=\\\"MsShortcuts.results.length === 0\\\">No Results!</div><div class=\\\"result\\\" \\nng-repeat=\\\"result in MsShortcuts.results\\\" ng-click=\\\"MsShortcuts.handleResultClick(result)\\\" \\nng-mouseenter=\\\"MsShortcuts.handleMouseenter($index)\\\" ng-mousedown=\\\"MsShortcuts.absorbEvent($event)\\\" \\nng-class=\\\"{\\'selected\\': $index == MsShortcuts.selectedResultIndex}\\\" md-prevent-menu-close=\\\"md-prevent-menu-close\\\" \\nmd-ink-ripple><div layout=\\\"row\\\" layout-align=\\\"start space-between\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n<div class=\\\"icon icon-container\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\"><i ng-if=\\\"result.icon\\\" \\nclass=\\\"{{result.icon}}\\\"></i><div ng-if=\\\"!result.icon\\\" class=\\\"square md-accent-bg\\\"></div></div><div><div class=\\\"title\\\">\\n{{result.title}}</div></div></div><md-icon md-font-icon=\\\"icon-pin\\\" class=\\\"icon s18\\\" \\nng-class=\\\"{\\'fade-text\\': !result.hasShortcut}\\\"></md-icon></div></div></div></div></md-menu-content></md-menu></div>\\n<md-button class=\\\"md-icon-button toggle-mobile-menu hide-gt-xs\\\" aria-label=\\\"Add shortcut\\\" \\nng-click=\\\"MsShortcuts.toggleMobileBar()\\\"><md-icon md-menu-origin md-font-icon=\\\"icon-star\\\" \\nclass=\\\"icon amber-600-fg s24\\\" ng-hide=\\\"MsShortcuts.mobileBarActive\\\"></md-icon><md-icon md-menu-origin \\nmd-font-icon=\\\"icon-close\\\" class=\\\"icon s24\\\" ng-hide=\\\"!MsShortcuts.mobileBarActive\\\"></md-icon></md-button></div>\");\n$templateCache.put(\"app/main/contacts/partials/contacts.html\",\"<div id=\\\"\\\" class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\"><table class=\\\"simple row-border hover\\\">\\n<thead><tr><th colspan=\\\"3\\\" class=\\\"hide-xs\\\"><span ng-if=\\\"vm.listType === \\'all\\'\\\" translate=\\\"\\\">All contacts</span> <span \\nng-if=\\\"vm.listType === \\'invitations\\'\\\" translate=\\\"CONTACTS.PENDING_INVITATIONS\\\">Pending contact invitations</span> <span\\n ng-if=\\\"vm.listType === \\'requests\\'\\\" translate=\\\"CONTACTS.PENDING_REQUESTS\\\">Pending contact requests</span> <span \\nng-if=\\\"vm.listType.name\\\">{{vm.listType.name}}</span> <span ng-if=\\\"filteredContacts.length\\\" \\nclass=\\\"secondary-text contacts-count\\\">({{filteredContacts.length}}) </span><span ng-if=\\\"filteredContacts.length==0\\\" \\nclass=\\\"secondary-text contacts-count\\\">(0)</span> <span \\nng-if=\\\"vm.listType !=\\'requests\\' && vm.listType != \\'invitations\\' && vm.LinkList.length>0\\\">{{vm.LinkList.length}}</span>\\n</th><th colspan=\\\"2\\\" class=\\\"show-xs hide-gt-xs\\\"><span ng-if=\\\"vm.listType === \\'all\\'\\\" translate=\\\"CONTACTS.ALL_CONTACTS\\\">\\nAll contacts</span> <span ng-if=\\\"vm.listType === \\'invitations\\'\\\" translate=\\\"CONTACTS.PENDING_INVITATIONS\\\">\\nPending contact invitations</span> <span ng-if=\\\"vm.listType === \\'requests\\'\\\" translate=\\\"CONTACTS.PENDING_REQUESTS\\\">\\nPending contact requests</span> <span ng-if=\\\"vm.listType.name\\\">{{vm.listType.name}}</span> <span \\nng-if=\\\"filteredContacts.length\\\" class=\\\"secondary-text contacts-count\\\">({{filteredContacts.length}}) </span><span \\nng-if=\\\"filteredContacts.length==0\\\" class=\\\"secondary-text contacts-count\\\">(0)</span></th><th class=\\\"text-right\\\">\\n<md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"Sort\\\" \\ntranslate translate-attr-aria-label=\\\"CONTACTS.SORT\\\"><md-icon md-font-icon=\\\"icon-dots-horizontal s18\\\"></md-icon>\\n</md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"vm.find($event)\\\"><md-icon \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-account-plus\\\"></md-icon><span translate=\\\"\\\">Add Contact</span></md-button>\\n</md-menu-item><md-menu-item><md-button ng-click=\\\"vm.filterChange(\\'all\\')\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-account-multiple\\\"></md-icon><span translate=\\\"CONTACTS.ALL_CONTACTS\\\">All Contacts</span></md-button>\\n</md-menu-item><md-menu-item><md-button ng-click=\\\"vm.filterChange(\\'invitations\\')\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-google-circles\\\"></md-icon><span>Pending Link Invitations</span></md-button></md-menu-item>\\n<md-menu-item><md-button ng-click=\\\"vm.filterChange(\\'requests\\')\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-google-circles-invite\\\"></md-icon><span>Pending Link Requests</span></md-button></md-menu-item>\\n</md-menu-content></md-menu></th></tr><tr ng-if=\\\"filteredContacts.length>0\\\"><th class=\\\"secondary-text\\\"><div \\nclass=\\\"table-header\\\"><span class=\\\"column-title\\\">Name</span></div></th><th class=\\\"secondary-text hide-xs\\\"><div \\nclass=\\\"table-header\\\"><span class=\\\"column-title\\\">Email</span></div></th><th class=\\\"secondary-text\\\"><div \\nclass=\\\"table-header\\\"><span class=\\\"column-title\\\">Organization</span></div></th><th></th></tr></thead><tbody><tr \\nng-repeat=\\\"contact in vm.contacts | filter: vm.search | filter: globalSearch.searchTerm | filterByIds:vm.filterIds |  orderBy: vm.listOrder :vm.listOrderAsc | filter:query as filteredContacts track by contact.id \\\" \\nng-switch=\\\"(which = vm.showWhichInviteContactData(contact))\\\" ng-click=\\\"vm.openContactDialog($event, contact)\\\" \\nng-class=\\\"{\\'md-green-100-bg\\':vm.passID==contact.id}\\\"><td>{{contact.contacts[which].name.full}}</td><td class=\\\"hide-xs\\\">\\n{{contact.contacts[which].email}}</td><td>{{contact.contacts[which].organization}}</td><td \\nng-switch=\\\"(withdrawing = (vm.memberInvites.invite.withdraw.inProgress.indexOf(invite.id) > -1))\\\" class=\\\"text-right\\\">\\n<md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"More\\\" \\ntranslate translate-attr-aria-label=\\\"\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item ng-if=\\\"contact.accepted!==\\'\\'\\\"><md-button \\nng-click=\\\"vm.deleteContactConfirm($event, contact.contacts[which], contact.contacts[which].id)\\\"><md-icon \\nclass=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\"></md-icon><span translate=\\\"CONTACTS.DELETE_CONTACT\\\">Delete Contact\\n</span></md-button></md-menu-item><md-menu-item ng-if=\\\"contact.accepted!==\\'\\'\\\"><md-button \\nng-click=\\\"vm.openDirectMessageDialog(contact, contact.name.full, $event)\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-comment-multipe-outline\\\"></md-icon><span translate=\\\"CONTACTS.DIRECT_MESSAGING\\\">Direct Message</span>\\n</md-button></md-menu-item><md-menu-item ng-if=\\\"contact.accepted==\\'\\' && which==\\'originator\\'\\\"><md-button \\nng-click=\\\"vm.acceptConnectionInvitation(contact.contacts.originator.id, $index)\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-plus-circle-outline\\\"></md-icon><span translate=\\\"CONTACTS.ACCEPT_INVITE\\\">Accept Invitation</span>\\n</md-button></md-menu-item><md-menu-item ng-if=\\\"contact.accepted==\\'\\' && which==\\'originator\\'\\\"><md-button \\nng-click=\\\"vm.removeConnectionInvitation(contact.contacts.originator.id)\\\"><md-icon class=\\\"red-600-fg s18\\\" \\nmd-font-icon=\\\"icon-minus-circle-outline\\\"></md-icon><span translate=\\\"CONTACTS.REJECT_INVITE\\\">Reject Invitation</span>\\n</md-button></md-menu-item><md-menu-item ng-if=\\\"contact.accepted==\\'\\' && which==\\'accepter\\'\\\"><md-button \\nng-click=\\\"vm.removeConnectionInvitation(contact.contacts.accepter.id)\\\"><md-icon class=\\\"red-600-fg s18\\\" \\nmd-font-icon=\\\"icon-minus-circle-outline\\\"></md-icon><span translate=\\\"CONTACTS.WITHDRAW_INVITE\\\">Withdraw Invitation\\n</span></md-button></md-menu-item></md-menu-content></md-menu></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/main/folders/partials/folders.html\",\"<div id=\\\"\\\" class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\"><table class=\\\"simple row-border hover\\\">\\n<thead><tr><th><span ng-if=\\\"!vm.folders.length\\\">You do not have any projects</span></th><th class=\\\"text-right\\\">\\n<md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"Sort\\\" \\ntranslate translate-attr-aria-label=\\\"CONTACTS.SORT\\\"><md-icon md-font-icon=\\\"icon-dots-horizontal s18\\\"></md-icon>\\n</md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"vm.openFolderDialog($event)\\\"><md-icon \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-plus-circle-outline\\\"></md-icon><span translate=\\\"\\\">Add New Project</span>\\n</md-button></md-menu-item></md-menu-content></md-menu></th></tr></thead><tbody><tr \\nng-repeat=\\\"folder in vm.folders | orderBy:vm.folderOrder:vm.folderOrderDescending | filter: globalSearch.searchTerm | filter:vm.folderFilters.search track by $index\\\">\\n<td><a ng-href=\\\"/groups/{{folder.id}}\\\">{{folder.name}}</a></td><td \\nng-switch=\\\"(withdrawing = (vm.memberInvites.invite.withdraw.inProgress.indexOf(invite.id) > -1))\\\" class=\\\"text-right\\\">\\n<md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"More\\\" \\ntranslate translate-attr-aria-label=\\\"FOLDER.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"vm.deleteFolder(folder, $event)\\\" \\naria-label=\\\"Delete Folder\\\" translate-attr-aria-label=\\\"FOLDER.DELETE_FOLDER\\\"><md-icon class=\\\"red-600-fg s18\\\" \\nmd-font-icon=\\\"icon-trash\\\"></md-icon><span translate=\\\"FOLDER.DELETE_FOLDER\\\">Delete Folder</span></md-button>\\n</md-menu-item><md-menu-item><md-button ng-click=\\\"vm.openFolderDialog($event, folder)\\\" aria-label=\\\"Edit Folder\\\" \\ntranslate-attr-aria-label=\\\"FOLDER.EDIT_FOLDER\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-pencil\\\"></md-icon>\\n<span translate=\\\"FOLDER.EDIT_FOLDER\\\">Edit Folder</span></md-button></md-menu-item><md-divider class=\\\"md-default-theme\\\">\\n</md-divider><md-menu-item><md-button ng-click=\\\"vm.openFolderDialog($event)\\\" aria-label=\\\"Add New Folder\\\" \\ntranslate-attr-aria-label=\\\"FOLDER.ADD_NEW_FOLDER\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-plus-circle-outline\\\"></md-icon><span translate=\\\"FOLDER.ADD_NEW_FOLDER\\\">Add New Folder</span>\\n</md-button></md-menu-item></md-menu-content></md-menu></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/main/groups/partials/groups.html\",\"<div id=\\\"\\\" class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\"><table class=\\\"simple row-border hover\\\">\\n<thead><tr><th><span ng-if=\\\"!vm.groups.length\\\">You do not have any folders</span></th><th class=\\\"text-right\\\"><md-menu>\\n<md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"Sort\\\" translate \\ntranslate-attr-aria-label=\\\"GROUPS.SORT\\\"><md-icon md-font-icon=\\\"icon-dots-horizontal s18\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"vm.openGroupDialog($event)\\\"><md-icon \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-plus-circle-outline\\\"></md-icon><span translate=\\\"\\\">Add New Folder</span>\\n</md-button></md-menu-item></md-menu-content></md-menu></th></tr></thead><tbody><tr \\nng-repeat=\\\"group in vm.groups | orderBy:vm.groupOrder:vm.groupOrderDescending | filter: globalSearch.searchTerm | filter:vm.groupFilters.search track by $index\\\">\\n<td><a href=\\\"/checklist/{{group.id}}\\\">{{group.name}}</a></td><td \\nng-switch=\\\"(withdrawing = (vm.memberInvites.invite.withdraw.inProgress.indexOf(invite.id) > -1))\\\" class=\\\"text-right\\\">\\n<md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"More\\\" \\ntranslate translate-attr-aria-label=\\\"GROUP.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"vm.deleteGroup(group, $event)\\\" aria-label=\\\"Delete Group\\\" \\ntranslate-attr-aria-label=\\\"GROUP.DELETE_GROUP\\\"><md-icon class=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\"></md-icon>\\n<span translate=\\\"GROUP.DELETE_GROUP\\\">Delete Group</span></md-button></md-menu-item><md-menu-item><md-button \\nng-click=\\\"vm.openGroupDialog($event, group)\\\" aria-label=\\\"Edit Group\\\" translate-attr-aria-label=\\\"GROUP.EDIT_GROUP\\\">\\n<md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-pencil\\\"></md-icon><span translate=\\\"GROUP.EDIT_GROUP\\\">Edit Group\\n</span></md-button></md-menu-item><md-menu-item ng-show=\\\"permissions.has(\\'inviteToChecklist\\')\\\"><md-button \\nng-click=\\\"vm.sendLinkRequestDialog($event, group)\\\" aria-label=\\\"Send Link Request\\\" \\ntranslate-attr-aria-label=\\\"GROUP.SEND_LINK_REQUEST\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-account-plus\\\" \\nclass=\\\"s18\\\"></md-icon><span translate=\\\"GROUP.SEND_LINK_REQUEST\\\">Send Link Request</span></md-button></md-menu-item>\\n<md-menu-item ng-show=\\\"permissions.has(\\'publishTemplate\\')\\\"><md-button \\nng-click=\\\"vm.publishTemplateDialog($event, group.id, group.name)\\\" aria-label=\\\"Publish as Template\\\" \\ntranslate-attr-aria-label=\\\"GROUP.PUBLISH_TEMPLATE\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-cloud-upload\\\">\\n</md-icon><span translate=\\\"GROUP.PUBLISH_TEMPLATE\\\">Publish as Template</span></md-button></md-menu-item><md-menu-item>\\n<md-button ng-click=\\\"vm.linkExistingDialog($event, group)\\\" aria-label=\\\"Link to Existing\\\" \\ntranslate-attr-aria-label=\\\"GROUP.LINK_EXISTING\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-link-variant\\\">\\n</md-icon><span translate=\\\"GROUP.LINK_EXISTING\\\">Link to Existing</span></md-button></md-menu-item><md-divider \\nclass=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button ng-click=\\\"vm.addGroupDialog($event)\\\" \\naria-label=\\\"Add New Group\\\" translate-attr-aria-label=\\\"GROUP.ADD_NEW_GROUP\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-plus\\\"></md-icon><span translate=\\\"GROUP.ADD_NEW_GROUP\\\">Add New Group</span></md-button>\\n</md-menu-item></md-menu-content></md-menu></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/main/invitations/dialogs/invitation-accept-checklist-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">{{vm.title}}</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\">\\n</md-icon></md-button></div></md-toolbar><md-dialog-content class=\\\"no-padding\\\"><ms-form-wizard flex><md-tabs \\nmd-dynamic-height md-selected=\\\"msWizard.selectedIndex\\\"><md-tab><md-tab-label><span class=\\\"ms-form-wizard-step-label\\\">\\n<span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$invalid\\\">1</span> <span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$valid\\\"><i class=\\\"icon-check s16\\\"></i> </span><span \\nclass=\\\"ms-form-wizard-step-text\\\">Select Project</span></span></md-tab-label><md-tab-body><form name=\\\"wizardStep1\\\" \\nclass=\\\"md-inline-form\\\" ms-form-wizard-form novalidate><div ng-switch=\\\"vm.wizard.newFolder\\\"><div ng-switch-when=\\\"false\\\">\\n<div ng-include=\\\"\\'app/main/invitations/views/stepper/new-checklist-1.html\\'\\\"></div></div><div ng-switch-when=\\\"true\\\"><div\\n ng-include=\\\"\\'app/main/invitations/views/stepper/new-checklist-1-new-folder.html\\'\\\"></div></div></div></form>\\n</md-tab-body></md-tab><md-tab ng-disabled=\\\"wizardStep1.$invalid\\\"><md-tab-label><span \\nclass=\\\"ms-form-wizard-step-label\\\"><span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" \\nng-if=\\\"!vm.verticalStepper.step2.groupID\\\">2</span> <span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" \\nng-if=\\\"vm.verticalStepper.step2.groupID\\\"><i class=\\\"icon-check s16\\\"></i> </span><span class=\\\"ms-form-wizard-step-text\\\">\\nSelect Folder</span></span></md-tab-label><md-tab-body><form name=\\\"wizardStep2\\\" ms-form-wizard-form novalidate><div \\nng-switch=\\\"vm.wizard.newGroup\\\" ng-hide=\\\"!vm.verticalStepper.step1.folderID\\\"><div ng-switch-when=\\\"false\\\"><div \\nng-include=\\\"\\'app/main/invitations/views/stepper/new-checklist-2.html\\'\\\"></div></div><div ng-switch-when=\\\"true\\\"><div \\nng-include=\\\"\\'app/main/invitations/views/stepper/new-checklist-2-new-group.html\\'\\\"></div></div></div></form>\\n</md-tab-body></md-tab></md-tabs><div class=\\\"navigation\\\" flex layout=\\\"row\\\" layout-align=\\\"center center\\\" \\nng-show=\\\"!vm.wizard.newFolder && !vm.wizard.newGroup\\\"><md-button class=\\\"\\\" ng-click=\\\"msWizard.previousStep()\\\" \\nng-disabled=\\\"msWizard.isFirstStep()\\\">Previous</md-button><div class=\\\"steps\\\"><span ng-repeat=\\\"form in msWizard.forms\\\" \\nng-class=\\\"{\\'selected md-accent-bg\\':msWizard.selectedIndex === $index}\\\"></span></div><md-button class=\\\"\\\" \\nng-click=\\\"msWizard.nextStep()\\\" ng-hide=\\\"msWizard.isLastStep()\\\" \\nng-disabled=\\\"msWizard.currentStepInvalid() || vm.wizard.newFolder\\\">Next</md-button><md-button class=\\\"md-warn\\\" \\nng-click=\\\"vm.sendForm(); msWizard.resetForm();\\\" ng-show=\\\"msWizard.isLastStep()\\\" \\nng-disabled=\\\"msWizard.formsIncomplete() || vm.wizard.newFolder || vm.wizard.newGroup\\\">Download Template</md-button>\\n</div></ms-form-wizard></md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\" \\nng-show=\\\"vm.wizard.newFolder\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" aria-label=\\\"Save\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SAVE\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"wizardStep1.$invalid || wizardStep1.$pristine\\\" ng-click=\\\"vm.addNewFolder(vm.folder.name)\\\">SAVE</md-button>\\n</div><div layout=\\\"row\\\"><md-button ng-click=\\\"vm.cancelFolderInput()\\\" aria-label=\\\"Cancel\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.CANCEL\\\">CANCEL</span></md-tooltip></md-button></div></md-dialog-actions><md-dialog-actions \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\" ng-show=\\\"vm.wizard.newGroup\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" ng-if=\\\"!vm.newChecklist\\\" \\nng-click=\\\"vm.addNewGroup(vm.group.text, vm.verticalStepper.step1.folderID)\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" aria-label=\\\"Save\\\" translate=\\\"CHECKLIST.SAVE\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE</md-button></div><div layout=\\\"row\\\"><md-button ng-if=\\\"!vm.newChecklist\\\" \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.cancelGroupInput()\\\" aria-label=\\\"Delete\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.CANCEL\\\">CANCEL</span></md-tooltip></md-button></div></md-dialog-actions></md-dialog>\");\n$templateCache.put(\"app/main/invitations/dialogs/invitation-accept-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">Accept Invitation</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon>\\n</md-button></div></md-toolbar><md-dialog-content class=\\\"no-padding\\\"><ms-form-wizard flex><md-tabs md-dynamic-height \\nmd-selected=\\\"msWizard.selectedIndex\\\"><md-tab><md-tab-label><span class=\\\"ms-form-wizard-step-label\\\"><span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$invalid\\\">1</span> <span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$valid\\\"><i class=\\\"icon-check s16\\\"></i> </span><span \\nclass=\\\"ms-form-wizard-step-text\\\">Choose Folder</span></span></md-tab-label><md-tab-body><form name=\\\"wizardStep1\\\" \\nclass=\\\"md-inline-form\\\" ms-form-wizard-form novalidate><div ng-switch=\\\"vm.wizard.newFolder\\\"><div ng-switch-when=\\\"false\\\">\\n<div ng-include=\\\"\\'app/main/invitations/partials/stepper/invitations-accept-1.html\\'\\\"></div></div><div \\nng-switch-when=\\\"true\\\"><div ng-include=\\\"\\'\\'\\\"></div></div></div></form></md-tab-body></md-tab><md-tab \\nng-disabled=\\\"wizardStep1.$invalid\\\"><md-tab-label><span class=\\\"ms-form-wizard-step-label\\\"><span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep2.$invalid\\\">2</span> <span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep2.$valid\\\"><i class=\\\"icon-check s16\\\"></i> </span><span \\nclass=\\\"ms-form-wizard-step-text\\\">Choose Group</span></span></md-tab-label><md-tab-body><form name=\\\"wizardStep2\\\" \\nms-form-wizard-form novalidate><div ng-switch=\\\"vm.wizard.newGroup\\\" ng-hide=\\\"!vm.verticalStepper.step1.folderID\\\"><div \\nng-switch-when=\\\"false\\\"><div ng-include=\\\"\\'app/main/invitations/partials/stepper/invitations-accept-2.html\\'\\\"></div></div>\\n<div ng-switch-when=\\\"true\\\"><div ng-include=\\\"\\\"></div></div></div></form></md-tab-body></md-tab></md-tabs><div \\nclass=\\\"navigation\\\" flex layout=\\\"row\\\" layout-align=\\\"center center\\\"><md-button class=\\\"\\\" \\nng-click=\\\"msWizard.previousStep()\\\" ng-disabled=\\\"msWizard.isFirstStep()\\\">Previous</md-button><div class=\\\"steps\\\"><span \\nng-repeat=\\\"form in msWizard.forms\\\" ng-class=\\\"{\\'selected md-accent-bg\\':msWizard.selectedIndex === $index}\\\"></span></div>\\n<md-button class=\\\"\\\" ng-click=\\\"msWizard.nextStep()\\\" ng-hide=\\\"msWizard.isLastStep()\\\" \\nng-disabled=\\\"msWizard.currentStepInvalid()\\\">Next</md-button><md-button class=\\\"md-warn\\\" \\nng-click=\\\"vm.sendForm(); msWizard.resetForm();\\\" ng-show=\\\"msWizard.isLastStep()\\\" \\nng-disabled=\\\"msWizard.formsIncomplete()\\\">Download</md-button></div></ms-form-wizard></md-dialog-content></md-dialog>\");\n$templateCache.put(\"app/main/invitations/dialogs/invitation-accept-group-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">{{vm.title}}</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\">\\n</md-icon></md-button></div></md-toolbar><md-dialog-content class=\\\"no-padding\\\"><ms-form-wizard flex><md-tabs \\nmd-dynamic-height md-selected=\\\"msWizard.selectedIndex\\\"><md-tab><md-tab-label><span class=\\\"ms-form-wizard-step-label\\\">\\n<span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$invalid\\\">1</span> <span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$valid\\\"><i class=\\\"icon-check s16\\\"></i> </span><span \\nclass=\\\"ms-form-wizard-step-text\\\">Select Project</span></span></md-tab-label><md-tab-body><form name=\\\"wizardStep1\\\" \\nclass=\\\"md-inline-form\\\" ms-form-wizard-form novalidate><div ng-switch=\\\"vm.wizard.newFolder\\\"><div ng-switch-when=\\\"false\\\">\\n<div ng-include=\\\"\\'app/main/invitations/views/stepper/new-checklist-1.html\\'\\\"></div></div><div ng-switch-when=\\\"true\\\"><div\\n ng-include=\\\"\\'app/main/invitations/views/stepper/new-checklist-1-new-folder.html\\'\\\"></div></div></div></form>\\n</md-tab-body></md-tab></md-tabs><div class=\\\"navigation\\\" flex layout=\\\"row\\\" layout-align=\\\"center center\\\" \\nng-show=\\\"!vm.wizard.newFolder && !vm.wizard.newGroup\\\"><md-button class=\\\"\\\" ng-click=\\\"msWizard.previousStep()\\\" \\nng-disabled=\\\"msWizard.isFirstStep()\\\">Previous</md-button><div class=\\\"steps\\\"><span ng-repeat=\\\"form in msWizard.forms\\\" \\nng-class=\\\"{\\'selected md-accent-bg\\':msWizard.selectedIndex === $index}\\\"></span></div><md-button class=\\\"\\\" \\nng-click=\\\"msWizard.nextStep()\\\" ng-hide=\\\"msWizard.isLastStep()\\\" \\nng-disabled=\\\"msWizard.currentStepInvalid() || vm.wizard.newFolder\\\">Next</md-button><md-button class=\\\"md-warn\\\" \\nng-click=\\\"vm.sendForm(); msWizard.resetForm();\\\" ng-show=\\\"msWizard.isLastStep()\\\" \\nng-disabled=\\\"msWizard.formsIncomplete() || vm.wizard.newFolder\\\">Download Template</md-button></div></ms-form-wizard>\\n</md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\" ng-show=\\\"vm.wizard.newFolder\\\">\\n<div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" aria-label=\\\"Save\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SAVE\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"wizardStep1.$invalid || wizardStep1.$pristine\\\" ng-click=\\\"vm.addNewFolder(vm.folder.name)\\\">SAVE</md-button>\\n</div><div layout=\\\"row\\\"><md-button ng-click=\\\"vm.cancelFolderInput()\\\" aria-label=\\\"Cancel\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.CANCEL\\\">CANCEL</span></md-tooltip></md-button></div></md-dialog-actions><md-dialog-actions \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\" ng-show=\\\"vm.wizard.newGroup\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" ng-if=\\\"!vm.newChecklist\\\" \\nng-click=\\\"vm.addNewGroup(vm.group.text, vm.verticalStepper.step1.folderID)\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" aria-label=\\\"Save\\\" translate=\\\"CHECKLIST.SAVE\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE</md-button></div><div layout=\\\"row\\\"><md-button ng-if=\\\"!vm.newChecklist\\\" \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.cancelGroupInput()\\\" aria-label=\\\"Delete\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.CANCEL\\\">CANCEL</span></md-tooltip></md-button></div></md-dialog-actions></md-dialog>\");\n$templateCache.put(\"app/main/invitations/partials/received.html\",\"<div class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\"><table class=\\\"simple row-border hover\\\"><thead>\\n<tr ng-if=\\\"vm.invites.received.length\\\"><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">\\nChecklist</span></div></th><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">Type</span>\\n</div></th><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">Sender</span></div></th><th \\nclass=\\\"secondary-text hide-xs\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">Oraganization</span></div></th><th>\\n</th></tr><tr ng-if=\\\"!vm.invites.received.length\\\"><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span \\nclass=\\\"column-title\\\">(0) Links Pending</span></div></th></tr></thead><tbody><tr \\nng-repeat=\\\"invite in vm.invites.received | filter: globalSearch.searchTerm | orderBy: \\'created\\'\\\" \\nng-class=\\\"{\\'md-green-100-bg\\':vm.passID==invite.id}\\\"><td>{{invite.name}}</td><td>{{invite.type}}</td><td>\\n{{invite.users.inviter.name}}</td><td class=\\\"hide-xs\\\">{{invite.users.inviter.organization}}</td><td class=\\\"text-right\\\">\\n<md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"More\\\" \\ntranslate translate-attr-aria-label=\\\"\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item \\nng-hide=\\\"viewAs.notMe || vm.invite.destroying || vm.invite.accepting || invite.type==\\'group\\'\\\"><md-button \\nng-click=\\\"vm.inviteControl.acceptChecklist(invite, $event)\\\" translate-attr-aria-label=\\\"INVITATIONS.ACCEPT_INVITATION\\\">\\n<md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-google-circles-invite\\\"></md-icon><span \\ntranslate=\\\"INVITATIONS.ACCEPT_INVITATION\\\">Accept Invitation</span></md-button></md-menu-item><md-menu-item \\nng-show=\\\"invite.type==\\'group\\'\\\" \\nng-hide=\\\"viewAs.notMe || vm.invite.destroying || vm.invite.accepting || invite.type==\\'checklist\\'\\\"><md-button \\nng-click=\\\"vm.inviteControl.acceptGroup(invite, $event)\\\" translate-attr-aria-label=\\\"INVITATIONS.ACCEPT_INVITATION\\\">\\n<md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-google-circles-invite\\\"></md-icon><span \\ntranslate=\\\"INVITATIONS.ACCEPT_INVITATION\\\">Accept Invitation</span></md-button></md-menu-item><md-menu-item \\nng-hide=\\\"viewAs.notMe || vm.invite.destroying || vm.invite.accepting\\\"><md-button \\nng-click=\\\"vm.inviteControl.destroy(\\'received\\', invite)\\\" translate-attr-aria-label=\\\"INVITATIONS.REJECT_INVITATION\\\">\\n<md-icon class=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\"></md-icon><span translate=\\\"INVITATIONS.REJECT_INVITATION\\\">\\nReject Invitation</span></md-button></md-menu-item></md-menu-content></md-menu></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/main/invitations/partials/sent.html\",\"<div class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\"><table class=\\\"simple row-border hover\\\"><thead>\\n<tr ng-if=\\\"vm.invites.sent.length\\\"><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">\\nChecklist</span></div></th><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">Recipient\\n</span></div></th><th class=\\\"secondary-text hide-xs\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">Oraganization\\n</span></div></th><th></th></tr><tr ng-if=\\\"!vm.invites.sent.length\\\"><th class=\\\"secondary-text\\\"><div \\nclass=\\\"table-header\\\"><span class=\\\"column-title\\\">(0) Links Pending</span></div></th></tr></thead><tbody><tr \\nng-repeat=\\\"invite in vm.invites.sent | filter: globalSearch.searchTerm | orderBy: \\'created\\'\\\"><td>{{invite.name}}</td>\\n<td>{{invite.users.recipient.name}}</td><td class=\\\"hide-xs\\\">{{invite.users.recipient.organization}}</td><td \\nclass=\\\"text-right\\\"><md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" \\naria-label=\\\"More\\\" translate translate-attr-aria-label=\\\"\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon>\\n</md-button><md-menu-content width=\\\"3\\\"><md-menu-item ng-hide=\\\"viewAs.notMe || vm.invite.destroying\\\"><md-button \\nng-click=\\\"vm.inviteControl.destroy(\\'sent\\', invite)\\\" translate-attr-aria-label=\\\"INVITATIONS.REJECT_INVITATION\\\"><md-icon \\nclass=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\"></md-icon><span translate=\\\"INVITATIONS.RESCIND_INVITATION\\\">\\nRescind Invitation</span></md-button></md-menu-item></md-menu-content></md-menu></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/main/invite/partials/create.html\",\"<div id=\\\"invite-form\\\" class=\\\"md-whiteframe-8dp\\\"><div class=\\\"logo md-accent-bg\\\"><span>CL</span></div><div class=\\\"title\\\" \\ntranslate=\\\"REGISTER.TITLE\\\">Accept Invitation</div><form name=\\\"registerForm\\\" novalidate \\nng-submit=\\\"vm.acceptInvite.signup()\\\"><md-input-container class=\\\"md-block\\\" md-no-float><input name=\\\"first\\\" \\nng-model=\\\"vm.acceptInvite.reg.contact.name.first\\\" placeholder=\\\"First Name\\\" translate \\ntranslate-attr-placeholder=\\\"REGISTER.FIRST\\\" required><div ng-messages=\\\"registerForm.first.$error\\\" role=\\\"alert\\\"><div \\nng-message=\\\"required\\\"><span translate=\\\"REGISTER.ERRORS.FIRSTNAME_REQUIRED\\\">First Name field is required</span></div>\\n</div></md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input name=\\\"last\\\" \\nng-model=\\\"vm.acceptInvite.reg.contact.name.last\\\" placeholder=\\\"Last Name\\\" translate \\ntranslate-attr-placeholder=\\\"REGISTER.LAST\\\" required><div ng-messages=\\\"registerForm.last.$error\\\" role=\\\"alert\\\"><div \\nng-message=\\\"required\\\"><span translate=\\\"REGISTER.ERRORS.LASTNAME_REQUIRED\\\">Last Name field is required</span></div>\\n</div></md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input name=\\\"phone\\\" \\nng-model=\\\"vm.acceptInvite.reg.contact.phone\\\" placeholder=\\\"Phone Number\\\" translate \\ntranslate-attr-placeholder=\\\"REGISTER.PHONE\\\" required><div ng-messages=\\\"registerForm.phone.$error\\\" role=\\\"alert\\\"><div \\nng-message=\\\"required\\\"><span translate=\\\"REGISTER.ERRORS.PHONE_REQUIRED\\\">Phone Number field is required</span></div>\\n</div></md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"email\\\" name=\\\"email\\\" \\nng-model=\\\"vm.acceptInvite.reg.contact.email\\\" placeholder=\\\"Email\\\" translate translate-attr-placeholder=\\\"REGISTER.EMAIL\\\" \\nng-pattern=\\\"/^.+@.+\\\\..+$/\\\" required><div ng-messages=\\\"registerForm.email.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div \\nng-message=\\\"required\\\"><span translate=\\\"REGISTER.ERRORS.EMAIL_REQUIRED\\\">Email field is required</span></div><div \\nng-message=\\\"pattern\\\"><span translate=\\\"REGISTER.ERRORS.EMAIL_MUST_VALID\\\">Email must be a valid e-mail address</span>\\n</div></div></md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"password\\\" \\nname=\\\"password\\\" ng-model=\\\"vm.create.reg.password\\\" placeholder=\\\"Password\\\" translate \\ntranslate-attr-placeholder=\\\"REGISTER.PASSWORD\\\" required><div ng-messages=\\\"registerForm.password.$error\\\" role=\\\"alert\\\">\\n<div ng-message=\\\"required\\\"><span translate=\\\"REGISTER.ERRORS.PASSWORD_REQUIRED\\\">Password field is required</span></div>\\n</div></md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"password\\\" name=\\\"password2\\\" \\nng-model=\\\"vm.acceptInvite.reg.password2\\\" placeholder=\\\"Password (Confirm)\\\" translate \\ntranslate-attr-placeholder=\\\"REGISTER.PASSWORD_CONFIRM\\\" required><div ng-messages=\\\"registerForm.password2.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span translate=\\\"REGISTER.ERRORS.PASSWORD_CONFIRM_REQUIRED\\\">\\nPassword (Confirm) field is required</span></div></div></md-input-container><div class=\\\"terms\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\"><md-checkbox name=\\\"terms\\\" ng-model=\\\"data.cb1\\\" aria-label=\\\"I read and accept\\\" required>\\n</md-checkbox><div layout=\\\"row\\\" layout-sm=\\\"column\\\" layout-align=\\\"start center\\\"><span translate=\\\"REGISTER.READ_ACCEPT\\\">\\nI read and accept</span> <a href=\\\"#\\\" class=\\\"md-accent-color\\\" translate=\\\"REGISTER.TERMS_COND\\\">terms and conditions</a>\\n</div></div><md-button type=\\\"submit\\\" class=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"CREATE MY ACCOUNT\\\" \\nng-disabled=\\\"registerForm.$invalid || registerForm.$pristine\\\" translate=\\\"REGISTER.CREATE_ACCOUNT\\\" \\ntranslate-attr-aria-label=\\\"REGISTER.CREATE_ACCOUNT\\\">CREATE MY ACCOUNT</md-button></form><div class=\\\"login\\\" \\nlayout=\\\"row\\\" layout-xs=\\\"column\\\" layout-align=\\\"center center\\\"><span class=\\\"text\\\" translate=\\\"REGISTER.ALREADY_HAVE\\\">\\nAlready have an account?</span> <a class=\\\"link\\\" ng-href=\\\"/login/\\\" translate=\\\"REGISTER.LOGIN\\\">Log in</a></div></div>\");\n$templateCache.put(\"app/main/invite/partials/legacy.html\",\"<div id=\\\"invite-form\\\" class=\\\"md-whiteframe-8dp\\\"><div class=\\\"logo md-accent-bg\\\"><span>CL</span></div><div class=\\\"title\\\">\\nAccepting this invitation will</div><ul class=\\\"text-left\\\"><li>Keep your existing username/password</li><li>\\nLeave your current Organization</li><li>Lose access to all your current Organization information</li><li>\\nMaintain your contacts list</li><li>Maintain your direct messages</li></ul><form name=\\\"loginForm\\\" novalidate \\nng-submit=\\\"vm.acceptInvite.login()\\\"><md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"email\\\" name=\\\"email\\\" \\nng-model=\\\"vm.acceptInvite.signin.username\\\" placeholder=\\\"Email\\\" ng-pattern=\\\"/^.+@.+\\\\..+$/\\\" required><div \\nng-messages=\\\"loginForm.email.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\"><span>\\nEmail field is required</span></div><div ng-message=\\\"pattern\\\"><span>Email must be a valid e-mail address</span></div>\\n</div></md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"password\\\" name=\\\"password\\\" \\nng-model=\\\"vm.acceptInvite.signin.password\\\" placeholder=\\\"Password\\\" required><div \\nng-messages=\\\"loginForm.password.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Password field is required</span>\\n</div></div></md-input-container><md-button type=\\\"submit\\\" class=\\\"md-raised md-accent submit-button\\\" \\nng-disabled=\\\"loginForm.$invalid || loginForm.$pristine\\\">LOG IN</md-button></form><div class=\\\"register\\\" layout=\\\"row\\\" \\nlayout-sm=\\\"column\\\" layout-align=\\\"center center\\\"><span class=\\\"text\\\">Don\\'t have an account?</span> <a class=\\\"link\\\" \\nng-click=\\\"vm.viewToggle(\\'create\\', \\'legacy\\')\\\">Create Account</a></div></div>\");\n$templateCache.put(\"app/main/invite/partials/switchboard.html\",\"<div id=\\\"invite-form\\\" class=\\\"md-whiteframe-8dp\\\"><div class=\\\"logo md-accent-bg\\\"><span>CL</span></div><div class=\\\"title\\\">\\ntitle</div><md-button ng-click=\\\"vm.viewToggle(\\'legacy\\')\\\" aria-label=\\\"INVITE.LEGACY\\\" \\nclass=\\\"md-raised md-accent submit-button\\\" translate=\\\"INVITE.LEGACY\\\"></md-button><md-button \\nng-click=\\\"vm.viewToggle(\\'create\\')\\\" class=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"INVITE.CREATE\\\" \\ntranslate=\\\"INVITE.CREATE\\\"></md-button></div>\");\n$templateCache.put(\"app/main/organization/partials/create-organization.html\",\"<div class=\\\"form-wrapper md-whiteframe-1dp flex\\\"><form name=\\\"form\\\" ng-disabled=\\\"vm.creating\\\" class=\\\"md-inline-form\\\" \\nng-submit=\\\"vm.createOrg()\\\" novalidate><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-input-container flex><input \\ntype=\\\"text\\\" name=\\\"name\\\" ng-model=\\\"vm.orgTmp.name\\\" placeholder=\\\"Organization Name\\\" required><div \\nng-messages=\\\"form.name.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Organization Name is required.</span>\\n</div></div></md-input-container><md-input-container flex><input type=\\\"text\\\" name=\\\"phone\\\" ng-model=\\\"vm.orgTmp.phone\\\" \\nplaceholder=\\\"Phone Number\\\"></md-input-container></div><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-input-container \\nflex=\\\"50\\\"><input type=\\\"email\\\" name=\\\"email\\\" ng-model=\\\"vm.orgTmp.email\\\" placeholder=\\\"Email Address\\\" \\nng-pattern=\\\"/^.+@.+\\\\..+$/\\\" required><div ng-messages=\\\"form.email.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div \\nng-message=\\\"required\\\" style=\\\"opacity: 1; margin-top: 0px\\\"><span>Email Address is required</span></div><div \\nng-message=\\\"pattern\\\" style=\\\"opacity: 1; margin-top: 0px\\\"><span>Email Address must be a valid e-mail address</span>\\n</div></div></md-input-container><md-input-container flex=\\\"50\\\" hide-sm hide-xs>&nbsp;</md-input-container></div><div \\nlayout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-input-container flex><input type=\\\"text\\\" name=\\\"address_line1\\\" \\nng-model=\\\"vm.orgTmp.address.line1\\\" placeholder=\\\"Address Line 1\\\" required><div ng-messages=\\\"form.address_line1.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Address is required.</span></div></div></md-input-container>\\n<md-input-container flex><input type=\\\"text\\\" name=\\\"address_line2\\\" ng-model=\\\"vm.orgTmp.address.line2\\\" \\nplaceholder=\\\"Address Line 2\\\"></md-input-container></div><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-input-container \\nflex><input type=\\\"text\\\" name=\\\"address_city\\\" ng-model=\\\"vm.orgTmp.address.city\\\" placeholder=\\\"City\\\" required><div \\nng-messages=\\\"form.address_city.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>City is required.</span></div>\\n</div></md-input-container><md-input-container flex><input type=\\\"text\\\" name=\\\"address_state\\\" \\nng-model=\\\"vm.orgTmp.address.state\\\" placeholder=\\\"State/Province\\\" required><div ng-messages=\\\"form.address_state.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>State is required.</span></div></div></md-input-container></div><div \\nlayout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-input-container flex><input type=\\\"text\\\" name=\\\"address_zip\\\" \\nng-model=\\\"vm.orgTmp.address.zip\\\" placeholder=\\\"Zip Code\\\" required><div ng-messages=\\\"form.address_zip.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Zip Code is required.</span></div></div></md-input-container>\\n<md-input-container flex><input type=\\\"text\\\" name=\\\"address_country\\\" ng-model=\\\"vm.orgTmp.address.country\\\" \\nplaceholder=\\\"Country\\\" required><div ng-messages=\\\"form.address_country.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\">\\n<span>Country is required.</span></div></div></md-input-container></div><md-button type=\\\"submit\\\" \\nclass=\\\"md-raised md-accent\\\" aria-label=\\\"Submit\\\" ng-disabled=\\\"form.$invalid || form.$pristine || vm.creating\\\"><span \\nng-hide=\\\"vm.creating\\\">Create</span> <span ng-show=\\\"vm.creating\\\">Submiting...</span></md-button></form></div>\");\n$templateCache.put(\"app/main/organization/partials/organization.html\",\"<div class=\\\"form-wrapper md-whiteframe-1dp flex\\\"><form name=\\\"form\\\" ng-disabled=\\\"vm.update.sending\\\" \\nclass=\\\"md-inline-form\\\" ng-submit=\\\"vm.update()\\\" novalidate><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-input-container \\nflex><input type=\\\"text\\\" name=\\\"name\\\" ng-model=\\\"vm.orgTmp.name\\\" placeholder=\\\"Organization Name\\\" required><div \\nng-messages=\\\"form.name.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Organization Name is required.</span>\\n</div></div></md-input-container><md-input-container flex><input type=\\\"text\\\" name=\\\"phone\\\" ng-model=\\\"vm.orgTmp.phone\\\" \\nplaceholder=\\\"Phone Number\\\"></md-input-container></div><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-input-container \\nflex=\\\"50\\\"><input type=\\\"email\\\" name=\\\"email\\\" ng-model=\\\"vm.orgTmp.email\\\" placeholder=\\\"Email Address\\\" \\nng-pattern=\\\"/^.+@.+\\\\..+$/\\\" required><div ng-messages=\\\"form.email.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div \\nng-message=\\\"required\\\" style=\\\"opacity: 1; margin-top: 0px\\\"><span>Email Address is required</span></div><div \\nng-message=\\\"pattern\\\" style=\\\"opacity: 1; margin-top: 0px\\\"><span>Email Address must be a valid e-mail address</span>\\n</div></div></md-input-container><md-input-container flex=\\\"50\\\" hide-sm hide-xs>&nbsp;</md-input-container></div><div \\nlayout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-input-container flex><input type=\\\"text\\\" name=\\\"address_line1\\\" \\nng-model=\\\"vm.orgTmp.address.line1\\\" placeholder=\\\"Address Line 1\\\" required><div ng-messages=\\\"form.address_line1.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Address is required.</span></div></div></md-input-container>\\n<md-input-container flex><input type=\\\"text\\\" name=\\\"address_line2\\\" ng-model=\\\"vm.orgTmp.address.line2\\\" \\nplaceholder=\\\"Address Line 2\\\"></md-input-container></div><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-input-container \\nflex><input type=\\\"text\\\" name=\\\"address_city\\\" ng-model=\\\"vm.orgTmp.address.city\\\" placeholder=\\\"City\\\" required><div \\nng-messages=\\\"form.address_city.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>City is required.</span></div>\\n</div></md-input-container><md-input-container flex><input type=\\\"text\\\" name=\\\"address_state\\\" \\nng-model=\\\"vm.orgTmp.address.state\\\" placeholder=\\\"State/Province\\\" required><div ng-messages=\\\"form.address_state.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>State is required.</span></div></div></md-input-container></div><div \\nlayout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-input-container flex><input type=\\\"text\\\" name=\\\"address_zip\\\" \\nng-model=\\\"vm.orgTmp.address.zip\\\" placeholder=\\\"Zip Code\\\" required><div ng-messages=\\\"form.address_zip.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Zip Code is required.</span></div></div></md-input-container>\\n<md-input-container flex><input type=\\\"text\\\" name=\\\"address_country\\\" ng-model=\\\"vm.orgTmp.address.country\\\" \\nplaceholder=\\\"Country\\\" required><div ng-messages=\\\"form.address_country.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\">\\n<span>Country is required.</span></div></div></md-input-container></div><md-button type=\\\"submit\\\" \\nclass=\\\"md-raised md-accent\\\" aria-label=\\\"Submit\\\" ng-disabled=\\\"form.$invalid || form.$pristine || vm.update.sending\\\">\\n<span ng-hide=\\\"vm.update.sending\\\">Update</span> <span ng-show=\\\"vm.update.sending\\\">Updating...</span></md-button></form>\\n</div>\");\n$templateCache.put(\"app/main/organization/partials/sidenav.html\",\"<div class=\\\"demo-sidenav\\\"><md-list><md-list-item><a href=\\\"/organization\\\">My Organization</a></md-list-item><md-divider>\\n</md-divider><md-list-item><a href=\\\"/members\\\">Members</a></md-list-item><md-divider></md-divider><md-list-item><p>\\nTemplates</p></md-list-item><md-divider></md-divider><md-list-item><p>Plan</p></md-list-item></md-list></div>\");\n$templateCache.put(\"app/main/queue/partials/queue.html\",\"{{ }}<div class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\"><table class=\\\"simple row-border hover\\\">\\n<thead><tr class=\\\"hide-xs\\\" ng-if=\\\"vm.queue.list.length\\\"><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span \\nclass=\\\"column-title\\\">Checklist Name</span></div></th><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span \\nclass=\\\"column-title\\\">Inviter</span></div></th><th></th></tr><tr ng-if=\\\"!vm.queue.list.length\\\"><th \\nclass=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">(0) Checklists Pending Assignment</span>\\n</div></th></tr></thead><tbody><tr \\nng-repeat=\\\"invite in vm.queue.list | filter: globalSearch.searchTerm track by $index\\\"><td>{{invite.name}}</td><td>\\n{{invite.users.inviter.name}} ({{invite.users.inviter.organization}})</td><td class=\\\"text-right\\\"><md-menu><md-button \\nng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"More\\\" translate \\ntranslate-attr-aria-label=\\\"\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button><md-menu-content \\nwidth=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"invite.reject()\\\" translate-attr-aria-label=\\\"\\\"><md-icon \\nclass=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\"></md-icon><span translate=\\\"\\\">Reject Checklist</span></md-button>\\n</md-menu-item><md-menu-item><md-button ng-click=\\\"invite.accept()\\\" translate-attr-aria-label=\\\"\\\"><md-icon \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-google-circles-invite\\\"></md-icon><span translate=\\\"\\\">Accept Checklist</span>\\n</md-button></md-menu-item></md-menu-content></md-menu></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/main/subscriptions/dialogs/select-subscriptions-dialog.html\",\"<md-dialog class=\\\"select-subscriptions-dialog\\\" aria-label=\\\"Subscriptions\\\"><md-toolbar class=\\\"md-accent md-tall\\\" \\nlayout=\\\"column\\\"><div class=\\\"md-toolbar-tools md-toolbar-tools-top\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\">\\n<span class=\\\"title\\\">{{vm.title}}</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\" \\naria-label=\\\"Close dialog\\\" translate translate-attr-aria-label=\\\"\\\"><md-icon md-font-icon=\\\"icon-close\\\"></md-icon>\\n</md-button></div></md-toolbar><md-dialog-content ms-scroll><div class=\\\"price-tables\\\"><div \\nng-repeat=\\\"off in vm.offers\\\" class=\\\"price-table style-3 md-whiteframe-1dp layout-column\\\" layout=\\\"column\\\"><div \\nclass=\\\"package-type\\\"><div class=\\\"title\\\">{{off.name}}</div><div class=\\\"subtitle\\\">{{off.tagline}}</div></div><div \\nclass=\\\"price md-primary-bg md-hue-3 layout-align-center-start layout-row\\\" layout=\\\"row\\\" layout-align=\\\"center start\\\"><div\\n class=\\\"currency\\\">$</div><div layout=\\\"row\\\" layout-align=\\\"center end\\\" class=\\\"layout-align-center-end layout-row\\\"><div \\nclass=\\\"value\\\">{{off.price}}</div><div class=\\\"period\\\">{{off.price_description}}</div></div></div><div \\nclass=\\\"terms layout-align-start-center layout-column\\\" layout=\\\"column\\\" layout-align=\\\"start center\\\"><div class=\\\"term\\\">\\n{{off.description}}</div></div><button ng-click=\\\"subscriptions.select(off)\\\" ng-disabled=\\\"updating\\\" \\nng-hide=\\\"subscriptions.selected.id == off.id\\\" \\nclass=\\\"cta-button md-raised md-accent md-button md-default-theme md-ink-ripple\\\" type=\\\"button\\\"><span class=\\\"ng-scope\\\">\\nSELECT</span></button> <button ng-disabled=\\\"subscriptions.selected.id == off.id\\\" \\nng-show=\\\"subscriptions.selected.id == off.id\\\" \\nclass=\\\"cta-button md-raised md-accent md-button md-default-theme md-ink-ripple\\\" type=\\\"button\\\"><span class=\\\"ng-scope\\\">\\nSELECTED</span></button><div class=\\\"note\\\">{{off.footer}}</div></div></div><div ng-show=\\\"subscriptions.selected\\\">\\nSelect Me</div></md-dialog-content></md-dialog><div id=\\\"offerSelectModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" \\naria-labelledby=\\\"offerSelectModalLabel\\\" class=\\\"modal modal-lg fade\\\"><div role=\\\"document\\\" class=\\\"modal-dialog\\\"><div \\nclass=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><h3 id=\\\"offerSelectModalLabel\\\"><span \\nng-hide=\\\"vm.offers.length && !vm.loading\\\">There are no Subscription packages available right now!</span><span \\nng-hide=\\\"vm.offers.length || !vm.loading\\\"><i class=\\\"fa fa-spin fa-spinner\\\"></i>\\nYou will be presented with your Subscription options shortly...</span></h3></div><div ng-show=\\\"vm.offers.length\\\" \\nclass=\\\"modal-body\\\"><div ng-class=\\\"{\\'panel-primary\\': off.id == subscriptions.selected.id}\\\" ng-repeat=\\\"off in vm.offers\\\" \\nclass=\\\"panel col-sm-3 panel-default\\\"><div class=\\\"panel-heading\\\"><h4>{{off.name}}</h4></div><div class=\\\"panel-body\\\">\\n{{off.description}}</div><div class=\\\"panel-footer\\\"><button type=\\\"button\\\" ng-click=\\\"subscriptions.select(off)\\\" \\nng-disabled=\\\"updating\\\" ng-hide=\\\"subscriptions.selected.id == off.id\\\" class=\\\"btn btn-sm btn-primary\\\">Select</button>\\n<span ng-show=\\\"subscriptions.selected.id == off.id\\\">Selected</span></div></div><hr><div \\nng-hide=\\\"subscriptions.selected == null\\\" class=\\\"panel col-sm-12 panel-default\\\"><div class=\\\"panel-heading\\\"><h3>\\nEnter Payment Information</h3></div><div class=\\\"panel-body\\\"><form id=\\\"checkout\\\" method=\\\"post\\\" \\nng-submit=\\\"enterPaymentMethodValues.submit()\\\"><div id=\\\"payment-form\\\"></div><input type=\\\"submit\\\" \\nvalue=\\\"{{enterPaymentMethodValues.submitText}}\\\" ng-show=\\\"currentPaymentMethod == null\\\"></form></div></div><hr><form \\nng-hide=\\\"subscriptions.selected == null || currentPaymentMethod==null\\\" ng-submit=\\\"subscriptions.finalize()\\\" \\nclass=\\\"panel col-sm-12 panel-default\\\"><div class=\\\"panel-heading\\\"><h4>Terms &amp; Conditions</h4></div><div \\nclass=\\\"panel-body\\\"><div class=\\\"checkbox\\\"><label><input type=\\\"checkbox\\\" value=\\\"1\\\" ng-model=\\\"subscriptions.agreeToTerms\\\">\\nI agree to Checklink&apos;s<a href=\\\"/terms.php\\\" target=\\\"_blank\\\">Terms &amp; Conditions</a></label></div></div><div \\nclass=\\\"panel-footer\\\"><button type=\\\"submit\\\" ng-disabled=\\\"subscriptions.finalizing\\\"><span \\nng-hide=\\\"subscriptions.finalizing\\\">Subscribe</span><span ng-show=\\\"subscriptions.finalizing\\\"><i \\nclass=\\\"fa fa-spin fa-spinner\\\"> </i>Finalizing Subscription...</span></button></div></form></div></div></div></div>\");\n$templateCache.put(\"app/main/subscriptions/dialogs/subscriptions-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"New Task\\\"><form name=\\\"contactForm\\\" class=\\\"md-inline-form\\\" novalidate \\nng-switch=\\\"(which = vm.showWhichInviteContactData(vm.contact))\\\"><md-toolbar class=\\\"md-accent md-hue-2 md-tall\\\" \\nlayout=\\\"column\\\"><div class=\\\"md-toolbar-tools md-toolbar-tools-top\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\">\\n<span class=\\\"title\\\">{{vm.role.name}}</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\" \\naria-label=\\\"Close dialog\\\" translate translate-attr-aria-label=\\\"CONTACTS.CLOSE_DIALOG\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content ms-scroll><md-input-container \\nclass=\\\"md-icon-float md-block\\\"><label>Name</label><input ng-model=\\\"vm.role.name\\\" type=\\\"text\\\" disabled=\\\"disabled\\\">\\n</md-input-container><md-input-container class=\\\"md-icon-float md-block\\\"><label>Assigned</label><input \\nng-model=\\\"vm.role.assigned\\\" type=\\\"text\\\" disabled=\\\"disabled\\\"></md-input-container><md-input-container class=\\\"md-block\\\">\\n<label>Subscribed</label><input ng-model=\\\"vm.role.subscribed\\\" type=\\\"text\\\" placeholder=\\\"Company\\\" disabled=\\\"disabled\\\">\\n</md-input-container><md-input-container class=\\\"md-block\\\"><label>Available</label><input ng-model=\\\"vm.role.available\\\" \\ntype=\\\"text\\\" placeholder=\\\"Phone number\\\" disabled=\\\"disabled\\\"></md-input-container></md-dialog-content></form></md-dialog>\");\n$templateCache.put(\"app/main/subscriptions/partials/add-subscription.html\",\"<div class=\\\"simple-table-container md-background-bg md-whiteframe-1dp mt-25\\\"><div ng-show=\\\"!subscriptions.success\\\" \\nclass=\\\"simple-table-container form-container md-background-bg md-whiteframe-1dp\\\"><table \\nclass=\\\"simple row-border hover\\\" ms-responsive-table><thead><tr class=\\\"hide-xs\\\"><th class=\\\"secondary-text\\\">Plan</th><th \\nclass=\\\"secondary-text\\\">Description</th><th class=\\\"secondary-text\\\"><span ng-hide=\\\"subscriptions.selected.id\\\">Choose Plan\\n</span> <span ng-show=\\\"subscriptions.selected.id\\\">Remove</span></th></tr></thead><tr ng-repeat=\\\"off in vm.offers\\\" \\nng-class=\\\"{\\'md-green-100-bg\\': subscriptions.selected.id == off.id}\\\" \\nng-hide=\\\"subscriptions.selected && subscriptions.selected.id != off.id\\\"><td class=\\\"text-left\\\"><strong>Plan Name (FPO)\\n</strong></td><td>{{off.description}}</td><td><md-radio-group ng-model=\\\"vm.offer.selected=null\\\" \\nng-hide=\\\"subscriptions.selected.id == off.id\\\"><md-radio-button ng-click=\\\"subscriptions.select(off)\\\" value=\\\"{{off.id}}\\\">\\n<strong>${{off.price}} (usd)</strong></md-radio-button></md-radio-group><md-button \\nng-show=\\\"subscriptions.selected.id == off.id\\\" class=\\\"md-icon-button\\\" ng-click=\\\"vm.clearSelectSubscription($event)\\\" \\naria-label=\\\"Delete\\\" translate translate-attr-aria-label=\\\"SUBSCRIPTIONS.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\">\\n</md-icon><md-tooltip><span translate=\\\"SUBSCRIPTIONS.DELETE\\\">DELETE</span></md-tooltip></md-button></td></tr></table>\\n<div ng-show=\\\"subscriptions.selected\\\" class=\\\"form-wrapper md-whiteframe-1dp flex\\\"><form id=\\\"checkout\\\" method=\\\"post\\\" \\nng-submit=\\\"enterPaymentMethodValues.submit()\\\"><div class=\\\"form-title\\\">Payment Method</div><p>\\nNote: Your payment is being processed through a merchant account residing in United States</p><div \\nclass=\\\"ecommerce-cc\\\"><img alt=\\\"American Express\\\" class=\\\"\\\" src=\\\"/assets/images/ecommerce/american_express.png\\\"><img \\nalt=\\\"Discover\\\" class=\\\"\\\" src=\\\"/assets/images/ecommerce/discover.png\\\"><img alt=\\\"JCB\\\" class=\\\"\\\" \\nsrc=\\\"/assets/images/ecommerce/jcb.png\\\"><img alt=\\\"MasterCard\\\" class=\\\"\\\" src=\\\"/assets/images/ecommerce/mastercard.png\\\">\\n<img alt=\\\"Visa\\\" class=\\\"\\\" src=\\\"/assets/images/ecommerce/visa.png\\\"><img alt=\\\"PayPal Account\\\" class=\\\"\\\" \\nsrc=\\\"/assets/images/ecommerce/paypal_account.png\\\"></div><div id=\\\"payment-form\\\"></div><div layout=\\\"column\\\" \\nlayout-gt-sm=\\\"row\\\"><md-button type=\\\"submit\\\" value=\\\"{{enterPaymentMethodValues.submitText}}\\\" \\nng-show=\\\"currentPaymentMethod == null\\\" class=\\\"cta-button md-raised md-accent md-button md-default-theme md-ink-ripple\\\">\\nProcess Payment</md-button></div></form></div><div \\nng-hide=\\\"subscriptions.selected == null || currentPaymentMethod == null\\\" class=\\\"form-wrapper md-whiteframe-1dp flex\\\">\\n<form ng-submit=\\\"subscriptions.finalize()\\\" \\nclass=\\\"md-inline-form ng-pristine ng-invalid ng-invalid-required ng-valid-pattern\\\"><div class=\\\"form-title\\\">\\nTerms &amp; Conditions</div><md-checkbox-container flex><md-checkbox aria-label=\\\"Notifications\\\" \\nng-model=\\\"subscriptions.agreeToTerms\\\" ng-true-value=\\\"1\\\" ng-false-value=\\\"0\\\">\\nBy placing your order, you agree to Checklink&apos;s privacy notice and <a href=\\\"\\\" target=\\\"_blank\\\">conditions of use\\n</a>.</md-checkbox></md-checkbox-container><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-button type=\\\"submit\\\" \\nclass=\\\"md-raised md-accent\\\" aria-label=\\\"Submit\\\" ng-disabled=\\\"subscriptions.finalizing || !subscriptions.agreeToTerms\\\">\\n<span ng-hide=\\\"subscriptions.finalizing\\\">Subscribe</span><span ng-show=\\\"subscriptions.finalizing\\\"><i \\nclass=\\\"fa fa-spin fa-spinner\\\"> </i>Finalizing Subscription...</span></md-button></div></form></div></div></div>\");\n$templateCache.put(\"app/main/subscriptions/partials/license-pool.html\",\"<div class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\"><table class=\\\"simple hover\\\" ms-responsive-table>\\n<thead><tr><th>&nbsp;</th><th class=\\\"secondary-text\\\"><div class=\\\"text-center\\\">Assigned</div></th><th \\nclass=\\\"secondary-text\\\" hide show-gt-xs><div class=\\\"text-center\\\">Subscribed</div></th><th class=\\\"secondary-text\\\"><div \\nclass=\\\"text-center\\\">Available</div></th></tr></thead><tbody><tr ng-repeat=\\\"rol in user.organization.rolePool\\\" \\nng-click=\\\"vm.openSubscriptionDialog($event, rol)\\\"><td>{{rol.name}}</td><td class=\\\"text-center\\\">{{rol.assigned}}</td><td\\n class=\\\"text-center\\\" hide show-gt-xs>{{rol.subscribed}}</td><td class=\\\"text-center\\\">{{rol.available}}</td><td></td>\\n</tr></tbody></table></div>\");\n$templateCache.put(\"app/main/subscriptions/partials/subscriptions.html\",\"<div class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\" \\nng-hide=\\\"vm.newSubscription && !subscriptions.success\\\"><table class=\\\"simple hover\\\" ms-responsive-table><thead><tr \\nng-if=\\\"user.organization.subscriptions.length\\\"><th class=\\\"secondary-text\\\">Plan</th><th class=\\\"secondary-text\\\" hide \\nshow-gt-xs>Purchased</th><th class=\\\"secondary-text\\\">Activated</th><th class=\\\"secondary-text\\\">Expires</th><th \\nclass=\\\"secondary-text\\\" hide show-gt-sm><div class=\\\"text-center\\\">Price</div></th><th class=\\\"secondary-text\\\" hide \\nshow-gt-sm><div class=\\\"text-center\\\">Cycle Length</div></th><th class=\\\"secondary-text\\\" hide show-gt-xs><div \\nclass=\\\"text-center\\\">Users</div></th></tr><tr ng-if=\\\"!user.organization.subscriptions.length\\\"><th \\nclass=\\\"secondary-text\\\">(0) Subscriptions Available</th></tr></thead><tbody><tr \\nng-repeat=\\\"sub in user.organization.subscriptions track by $index\\\"><td>{{}}</td><td hide show-gt-xs>\\n{{sub.purchased | date: \\'MM/dd/yyyy\\'}}</td><td>{{sub.activated | date: \\'MM/dd/yyyy\\'}}</td><td><span \\nng-show=\\\"sub.flag_active\\\">{{sub.expires | date: \\'MM/dd/yyyy\\'}}</span><span ng-hide=\\\"sub.flag_active\\\">\\n{{sub.deactivated | date: \\'MM/dd/yyyy\\'}}</span></td><td hide show-gt-sm><div class=\\\"text-center\\\">\\n{{sub.price | currency}}</div></td><td hide show-gt-sm><div class=\\\"text-center\\\">{{sub.frequency}}</div></td><td hide \\nshow-gt-xs><div class=\\\"text-center\\\">{{sub.qty_users}}</div></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/main/summary/partials/generate.html\",\"<div class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\"><md-button type=\\\"button\\\" \\nng-hide=\\\"vm.reports.loading\\\" ng-disabled=\\\"vm.reports.loading\\\" ng-click=\\\"vm.reports.refresh()\\\" \\nclass=\\\"md-accent md-raised md-button ng-scope md-ink-ripple md-default-theme\\\">Refresh Report</md-button><md-button \\ntype=\\\"button\\\" ng-click=\\\"vm.reports.request()\\\" \\nclass=\\\"md-accent md-raised md-button ng-scope md-ink-ripple md-default-theme\\\">Request Report</md-button>\\n<md-progress-linear ng-disabled=\\\"!vm.reports.progress\\\" md-mode=\\\"indeterminate\\\"></md-progress-linear></div>\");\n$templateCache.put(\"app/main/summary/partials/summary.html\",\"<div class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\" \\nclass=\\\"pl-25\\\" ng-hide=\\\"!vm.reports.progress\\\"><md-progress-circular ng-disabled=\\\"!vm.reports.progress\\\" \\nmd-mode=\\\"indeterminate\\\" md-diameter=\\\"20\\\"></md-progress-circular></div><table class=\\\"simple row-border hover\\\" \\nms-responsive-table><thead><tr><th width=\\\"25%\\\" class=\\\"secondary-text\\\" ng-if=\\\"vm.reports.list.length\\\">Date Generated\\n</th><th width=\\\"25%\\\" class=\\\"secondary-text\\\" ng-if=\\\"vm.reports.list.length\\\">Type</th><th width=\\\"25%\\\" \\nclass=\\\"text-center\\\" ng-if=\\\"vm.reports.list.length\\\"><div class=\\\"secondary-text\\\">Line Items</div></th><th \\nclass=\\\"secondary-text\\\" ng-if=\\\"!vm.reports.list\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">\\n(0) Reports Available</span></div></th><th width=\\\"25%\\\" ng-if=\\\"vm.reports.viewing\\\" class=\\\"text-center\\\"></th><th \\nwidth=\\\"25%\\\" ng-if=\\\"!vm.reports.viewing\\\" class=\\\"text-right\\\"><md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" \\nclass=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"More\\\" translate translate-attr-aria-label=\\\"\\\"><md-icon \\nmd-font-icon=\\\"icon-dots-horizontal s18\\\"></md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button \\nng-click=\\\"vm.reports.request()\\\" translate-attr-aria-label=\\\"\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-file-multiple\\\"></md-icon><span translate=\\\"\\\">Generate New Reports</span></md-button></md-menu-item>\\n</md-menu-content></md-menu></th></tr></thead><tbody><tr \\nng-repeat=\\\"report in vm.reports.list | filter: globalSearch.searchTerm track by $index\\\" \\nng-hide=\\\"vm.reports.viewing && vm.reports.viewing.id != $index\\\" \\nng-class=\\\"{\\'md-green-100-bg\\': vm.reports.success && $index==0}\\\"><td ng-click=\\\"vm.reports.view(report, $index)\\\" \\nng-class=\\\"{\\'md-accent-fg\\': !vm.reports.viewing}\\\">{{report.requested | date: \\'short\\'}}</td><td>{{report.type}}</td><td \\nclass=\\\"text-center\\\">{{report.lines.length}}</td><td ng-if=\\\"!vm.reports.viewing\\\" class=\\\"text-right\\\"><md-menu><md-button \\nng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"More\\\" translate \\ntranslate-attr-aria-label=\\\"\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button><md-menu-content \\nwidth=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"vm.reports.view(report, $index)\\\" translate-attr-aria-label=\\\"\\\"><md-icon \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-file-document\\\"></md-icon><span translate=\\\"\\\">View Report</span></md-button>\\n</md-menu-item></md-menu-content></md-menu></td><td ng-if=\\\"vm.reports.viewing\\\" class=\\\"text-right\\\"><button \\ntype=\\\"button\\\" ng-show=\\\"vm.reports.viewing\\\" ng-click=\\\"vm.reports.clear()\\\" class=\\\"button-icon-reset\\\" \\naria-label=\\\"close report\\\"><md-icon class=\\\"s18\\\" md-font-icon=\\\"icon-cancel\\\"></md-icon></button></td></tr></tbody></table>\\n</div><div ng-show=\\\"vm.reports.viewing\\\" class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\"><table \\nclass=\\\"simple row-border hover\\\" ms-responsive-table><tbody><tr \\nng-class=\\\"{\\'md-green-100-bg\\': vm.reports.viewingSub.id == $index}\\\" \\nng-repeat=\\\"checklist in vm.reports.viewing.checklists\\\" ng-show=\\\"checklist.lines.length\\\"><td width=\\\"50%\\\" \\nng-click=\\\"vm.reports.viewSub(checklist, $index, checklist.lastActive)\\\" \\nng-class=\\\"{\\'md-accent-fg\\': vm.reports.viewingSub.id !== $index}\\\">{{ checklist.name }}</td><td width=\\\"25%\\\" \\nclass=\\\"text-center\\\">{{ checklist.lines.length }}</td><td width=\\\"25%\\\"></td></tr></tbody></table></div><div \\nng-show=\\\"vm.reports.viewingSub\\\" class=\\\"md-background-bg md-whiteframe-1dp\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" class=\\\"p-24\\\"><div flex=\\\"50\\\" layput-align=\\\"start center\\\"><b># Posts:</b> <span \\nclass=\\\"badge\\\">{{vm.reports.viewingSub.postCount}}</span></div><div flex=\\\"50\\\" layput-align=\\\"start center\\\" \\nclass=\\\"text-right\\\"><b>Last Active:</b> {{vm.reports.viewingSub.lastActive}}</div></div><div \\nng-show=\\\"checklist.location.length\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><div><b>Location:</b></div><div \\nlayout-align=\\\"end center\\\"><h3>{{vm.reports.viewingSub.location}}</h3></div></div><div layout=\\\"row\\\"><div \\nclass=\\\"simple-table-container flex\\\"><table class=\\\"simple row-border hover\\\" ms-responsive-table><thead><tr><th><div \\nclass=\\\"secondary-text\\\">User</div></th><th hide show-gt-xs><div class=\\\"secondary-text\\\">Organization</div></th><th><div \\nclass=\\\"secondary-text\\\">Checklist</div></th><th class=\\\"text-center\\\"><div class=\\\"secondary-text\\\"><small>Conflicts</small>\\n</div></th><th class=\\\"text-center\\\"><div class=\\\"secondary-text\\\"><small>NC</small></div></th><th hide show-gt-xs \\nclass=\\\"text-center\\\"><div class=\\\"secondary-text\\\"><small>Complete</small></div></th><th></th></tr></thead><tbody><tr \\nng-repeat=\\\"line in vm.reports.viewingSub.lines\\\"><td>{{line.contact.name.full}}</td><td hide show-gt-xs>\\n{{line.contact.org}}</td><td>{{line.cfcName}}</td><td class=\\\"text-center\\\">{{line.counts.conflicts}}</td><td \\nclass=\\\"text-center\\\">{{line.counts.nonCompliant}}</td><td hide show-gt-xs class=\\\"text-center\\\"><span \\nng-show=\\\"line.cfcComplete\\\">Y</span> <span ng-hide=\\\"line.cfcComplete\\\">N</span></td><td class=\\\"text-right\\\"><md-menu>\\n<md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"More\\\" translate \\ntranslate-attr-aria-label=\\\"\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button><md-menu-content \\nwidth=\\\"3\\\"><md-menu-item ng-hide=\\\"viewAs.notMe\\\"><md-button \\nng-click=\\\"vm.showComparison(vm.reports.viewingSub, line.contact, line.conflicted)\\\" translate-attr-aria-label=\\\"\\\">\\n<md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-checkbox-multiple-marked-outline\\\"></md-icon><span translate=\\\"\\\">\\nCompare Checklists</span></md-button></md-menu-item><md-menu-item \\nng-show=\\\"line.contact.idACC == user.organization.idACC\\\"><md-button \\nng-click=\\\"vm.viewChecklistAsUser(vm.reports.viewingSub,line.contact)\\\" translate-attr-aria-label=\\\"\\\"><md-icon \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-eye\\\"></md-icon><span translate=\\\"\\\">View As</span></md-button></md-menu-item>\\n<md-menu-item ng-show=\\\"line.contact.idACC == user.organization.idACC\\\"><md-button \\nng-click=\\\"vm.openConversationDialog($event, \\'checklist\\', vm.reports.viewingSub.idCNV_mostRecent, line.cfcName)\\\">\\n<md-icon md-font-icon=\\\"icon-comment-multipe-outline\\\" class=\\\"md-accent-fg s18\\\" md-menu-align-target></md-icon>\\nConversations</md-button></md-menu-item></md-menu-content></md-menu></td></tr></tbody></table></div></div><div \\nng-show=\\\"vm.reports.viewingSub.notes.length\\\" class=\\\"row\\\"><div class=\\\"col-sm-4\\\"><b>Location:</b></div><div \\nclass=\\\"col-sm-8\\\"><p>{{vm.reports.viewingSub.notes}}</p></div></div></div>\");\n$templateCache.put(\"app/main/teammembers/partials/invitations.html\",\"<div class=\\\"form-wrapper md-whiteframe-1dp flex\\\"><form name=\\\"form\\\" ng-disabled=\\\"vm.inviting\\\" class=\\\"md-inline-form\\\" \\nng-submit=\\\"vm.memberInvites.invite.send.execute()\\\" novalidate><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\">\\n<md-input-container class=\\\"mb-10\\\" flex><input type=\\\"email\\\" name=\\\"email\\\" ng-model=\\\"vm.memberInvites.invite.send.email\\\" \\nplaceholder=\\\"Email Address\\\" ng-pattern=\\\"/^.+@.+\\\\..+$/\\\" autofocus required><div ng-messages=\\\"form.email.$error\\\" \\nrole=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\" style=\\\"opacity: 1; margin-top: 0px\\\"><span>\\nEmail address field is required</span></div><div ng-message=\\\"pattern\\\" style=\\\"opacity: 1; margin-top: 0px\\\"><span>\\nEmail address must be a valid e-mail address</span></div></div></md-input-container></div><md-button type=\\\"submit\\\" \\nclass=\\\"md-raised md-accent\\\" aria-label=\\\"Submit\\\" ng-disabled=\\\"form.$invalid || form.$pristine || vm.inviting\\\"><span \\nng-hide=\\\"vm.inviting\\\">Invite</span> <span ng-show=\\\"vm.inviting\\\">Inviting...</span></md-button></form></div><div \\nclass=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\" ng-show=\\\"vm.memberInvites.invites.length>0\\\"><table \\nclass=\\\"simple row-border hover\\\"><thead><tr><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span \\nclass=\\\"column-title\\\">Name</span></div></th><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span \\nclass=\\\"column-title\\\">Email</span></div></th><th class=\\\"secondary-text hide-xs\\\"><div class=\\\"table-header\\\"><span \\nclass=\\\"column-title\\\">Oraganization</span></div></th><th></th></tr></thead><tbody><tr \\nng-repeat=\\\"invite in vm.memberInvites.invites | orderBy: \\'name.full\\'\\\"><td>{{invite.contact.name.full}}</td><td>\\n{{invite.email}}</td><td class=\\\"hide-xs\\\">{{invite.contact.org}}</td><td \\nng-switch=\\\"(withdrawing = (vm.memberInvites.invite.withdraw.inProgress.indexOf(invite.id) > -1))\\\" class=\\\"text-right\\\">\\n<md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"More\\\" \\ntranslate translate-attr-aria-label=\\\"\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item ng-hide=\\\"withdrawing\\\"><md-button \\nng-click=\\\"vm.memberInvites.invite.withdraw.execute(invite)\\\" ng-disabled=\\\"withdrawing\\\" \\ntranslate-attr-aria-label=\\\"TEAMMEMBERS.RESCIND_INVITATION\\\"><md-icon class=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\">\\n</md-icon><span translate=\\\"TEAMMEMBERS.RESCIND_INVITATION\\\">Rescind Invitation</span></md-button></md-menu-item>\\n</md-menu-content></md-menu></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/main/teammembers/partials/teammembers.html\",\"<div class=\\\"simple-table-container form-container md-background-bg md-whiteframe-1dp\\\"><table \\nclass=\\\"simple row-border hover\\\" ms-responsive-table><thead><tr class=\\\"hide-xs\\\"><th class=\\\"secondary-text\\\"><div \\nclass=\\\"table-header\\\"><span class=\\\"column-title\\\">Name</span></div></th><th ng-repeat=\\\"role in vm.members.roles\\\" \\nclass=\\\"hide-xs secondary-text\\\"><div class=\\\"text-center\\\">{{role}}</div></th><th class=\\\"secondary-text\\\"><div \\nclass=\\\"text-center\\\"></div></th></tr></thead><tbody><tr \\nng-repeat=\\\"member in vm.members.list | filter: globalSearch.searchTerm | orderBy: \\'name.full\\'\\\" \\nng-class=\\\"[{success:(isUser = (member.idCON == user.idCON))},{warning:(isViewing = (viewAs.notMe && (member.idCON == viewAs.user.idCON)))}]\\\">\\n<td>{{member.name.full}}&nbsp;<md-icon ng-show=\\\"isViewing\\\" layout-align=\\\"start center\\\" class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-eye\\\"></md-icon></td><td ng-repeat=\\\"role in vm.members.roles\\\" \\nng-switch=\\\"member.roles.setting.indexOf(role)!==-1\\\" class=\\\"text-center hide-xs\\\"><button type=\\\"button\\\" \\nng-disabled=\\\"viewAs.notMe || !permissions.canChange\\\" ng-switch-when=\\\"false\\\" \\nng-switch=\\\"has = member.roles.has.indexOf(role)!==-1\\\" ng-click=\\\"member.roles.set(role,!has)\\\" class=\\\"button-icon-reset\\\" \\naria-label=\\\"role\\\"><md-icon ng-switch-when=\\\"false\\\" md-font-icon=\\\"icon-checkbox-blank-outline\\\" class=\\\"md-accent-fg s18\\\">\\n</md-icon><md-icon ng-switch-when=\\\"true\\\" md-font-icon=\\\"icon-checkbox-marked-outline\\\" class=\\\"md-accent-fg s18\\\">\\n</md-icon></button></td><td ng-switch=\\\"(offboarding = (vm.members.offboard.inProgress.indexOf(member.idCON) > -1))\\\" \\nclass=\\\"text-right\\\"><div class=\\\"buttons\\\" layout=\\\"row\\\" layout-align=\\\"end center\\\"><md-menu><md-button \\nng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"More\\\" translate \\ntranslate-attr-aria-label=\\\"\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button><md-menu-content \\nwidth=\\\"3\\\"><md-menu-item ng-hide=\\\"(!permissions.has(\\'offboardMember\\',member)) || offboarding\\\"><md-button \\nng-click=\\\"vm.members.offboard.execute(member)\\\" ng-disabled=\\\"offboarding\\\" \\ntranslate-attr-aria-label=\\\"TEAMMEMBERS.DELETE_MEMBER\\\"><md-icon class=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\">\\n</md-icon><span translate=\\\"TEAMMEMBERS.DELETE_MEMBER\\\">Delete Member</span></md-button></md-menu-item><md-menu-item \\nng-show=\\\"(!isUser && !isViewing) || ((isUser) && viewAs.notMe)\\\"><md-button ng-click=\\\"viewAs.select(member)\\\" \\naria-label=\\\"View As\\\" translate-attr-aria-label=\\\"TEAMMEMBERS.VIEW_AS\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-eye\\\"></md-icon><span translate=\\\"TEAMMEMBERS.VIEW_AS\\\">View As</span></md-button></md-menu-item>\\n</md-menu-content></md-menu></div></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/main/templates/partials/internal-templates.html\",\"<div class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\"><table class=\\\"simple row-border hover\\\"><thead>\\n<tr ng-if=\\\"vm.templates.list.length\\\"><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">\\nTemplate Name</span></div></th><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">Author\\n</span></div></th><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">Template Type</span>\\n</div></th><th></th></tr><tr class=\\\"hide-xs\\\" ng-if=\\\"!vm.templates.list.length\\\"><th class=\\\"secondary-text\\\"><div \\nclass=\\\"table-header\\\"><span class=\\\"column-title\\\">(0) Templates Available</span></div></th></tr></thead><tbody><tr \\nng-repeat=\\\"template in vm.templates.list | filter: globalSearch.searchTerm track by $index\\\"><td>{{template.name}}</td>\\n<td>{{template.author}}</td><td ng-if=\\\"template.type==\\'checklist\\'\\\">Checklist</td><td ng-if=\\\"template.type==\\'group\\'\\\">\\nFolder</td><td class=\\\"text-right\\\"><md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" \\nclass=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"More\\\" translate translate-attr-aria-label=\\\"\\\"><md-icon \\nmd-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item \\nng-if=\\\"template.type==\\'checklist\\'\\\"><md-button ng-click=\\\"vm.download.begin($event, template.id, \\'checklist\\')\\\" \\ntranslate-attr-aria-label=\\\"\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-cloud-download\\\"></md-icon><span \\ntranslate=\\\"\\\">Download Template</span></md-button></md-menu-item><md-menu-item ng-if=\\\"template.type==\\'group\\'\\\"><md-button\\n ng-click=\\\"vm.download.begin($event, template.id, \\'group\\')\\\" translate-attr-aria-label=\\\"\\\"><md-icon \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-cloud-download\\\"></md-icon><span translate=\\\"\\\">Download Template</span>\\n</md-button></md-menu-item><md-menu-item ng-if=\\\"template.idCON == user.idCON\\\"><md-button ng-click=\\\"template.remove()\\\" \\ntranslate-attr-aria-label=\\\"\\\"><md-icon class=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\"></md-icon><span translate=\\\"\\\">\\nDelete Template</span></md-button></md-menu-item></md-menu-content></md-menu></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/main/templates/partials/public-templates.html\",\"<div class=\\\"simple-table-container md-background-bg md-whiteframe-1dp\\\"><table class=\\\"simple row-border hover\\\"><thead>\\n<tr ng-if=\\\"vm.publicTemplates.length\\\"><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">\\nTemplate Name</span></div></th><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">\\nOrganization</span></div></th><th class=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">\\nTemplate Type</span></div></th><th></th></tr><tr class=\\\"hide-xs\\\" ng-if=\\\"!vm.publicTemplates\\\"><th \\nclass=\\\"secondary-text\\\"><div class=\\\"table-header\\\"><span class=\\\"column-title\\\">(0) Templates Available</span></div></th>\\n</tr></thead><tbody><tr ng-repeat=\\\"template in vm.publicTemplates | filter: globalSearch.searchTerm track by $index\\\">\\n<td>{{template.name}}</td><td>{{template.organization}}</td><td ng-if=\\\"template.type==\\'checklist\\'\\\">Checklist</td><td \\nng-if=\\\"template.type==\\'group\\'\\\">Folder</td><td class=\\\"text-right\\\"><md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" \\nclass=\\\"md-icon-button table-md-icon-button\\\" aria-label=\\\"More\\\" translate translate-attr-aria-label=\\\"\\\"><md-icon \\nmd-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item \\nng-if=\\\"template.type==\\'checklist\\'\\\"><md-button ng-click=\\\"vm.download.begin($event, template.id, \\'checklist\\')\\\" \\ntranslate-attr-aria-label=\\\"\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-cloud-download\\\"></md-icon><span \\ntranslate=\\\"\\\">Download Template</span></md-button></md-menu-item><md-menu-item ng-if=\\\"template.type==\\'group\\'\\\"><md-button\\n ng-click=\\\"vm.download.begin($event, template.id, \\'group\\')\\\" translate-attr-aria-label=\\\"\\\"><md-icon \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-cloud-download\\\"></md-icon><span translate=\\\"\\\">Download Template</span>\\n</md-button></md-menu-item></md-menu-content></md-menu></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/main/user/partials/user-new.html\",\"<div class=\\\"demo-content\\\"><form name=\\\"form\\\" ng-disabled=\\\"vm.update.sending\\\" class=\\\"md-inline-form\\\" \\nng-submit=\\\"vm.update.send()\\\" novalidate><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-input-container flex><input \\ntype=\\\"text\\\" name=\\\"first\\\" ng-model=\\\"vm.update.info.name.first\\\" placeholder=\\\"First Name\\\" required><div \\nng-messages=\\\"form.first.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>First Name is required.</span></div>\\n</div></md-input-container><md-input-container flex><input type=\\\"text\\\" name=\\\"last\\\" ng-model=\\\"vm.update.info.name.last\\\" \\nplaceholder=\\\"Last Name\\\" required><div ng-messages=\\\"form.last.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>\\nLast Name is required.</span></div></div></md-input-container></div><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\">\\n<md-input-container flex><input type=\\\"email\\\" name=\\\"email\\\" ng-model=\\\"vm.update.info.email\\\" placeholder=\\\"Email\\\" \\nng-pattern=\\\"/^.+@.+\\\\..+$/\\\" required><div ng-messages=\\\"form.email.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div \\nng-message=\\\"required\\\" style=\\\"opacity: 1; margin-top: 0px\\\"><span>Email field is required</span></div><div \\nng-message=\\\"pattern\\\" style=\\\"opacity: 1; margin-top: 0px\\\"><span>Email must be a valid e-mail address</span></div></div>\\n</md-input-container><md-input-container flex><input type=\\\"text\\\" name=\\\"phone\\\" ng-model=\\\"vm.update.info.phone\\\" \\nplaceholder=\\\"Phone Number\\\"></md-input-container></div><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-checkbox-container \\nflex><md-checkbox aria-label=\\\"Notifications\\\" ng-model=\\\"vm.update.info.notifications\\\">Phone Notifications</md-checkbox>\\n</md-checkbox-container></div><md-button type=\\\"submit\\\" class=\\\"md-raised md-accent\\\" aria-label=\\\"Submit\\\" \\nng-disabled=\\\"form.$invalid || form.$pristine || vm.update.sending\\\"><span ng-hide=\\\"vm.update.sending\\\">Update</span> \\n<span ng-show=\\\"vm.update.sending\\\">Updating...</span></md-button></form></div>\");\n$templateCache.put(\"app/main/user/partials/user.html\",\"<div class=\\\"form-wrapper md-whiteframe-1dp flex\\\"><form name=\\\"form\\\" ng-disabled=\\\"vm.update.sending\\\" \\nclass=\\\"md-inline-form\\\" ng-submit=\\\"vm.update.send()\\\" novalidate><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\">\\n<md-input-container flex><input type=\\\"text\\\" name=\\\"first\\\" ng-model=\\\"vm.update.info.name.first\\\" placeholder=\\\"First Name\\\" \\nrequired><div ng-messages=\\\"form.first.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>First Name is required.\\n</span></div></div></md-input-container><md-input-container flex><input type=\\\"text\\\" name=\\\"last\\\" \\nng-model=\\\"vm.update.info.name.last\\\" placeholder=\\\"Last Name\\\" required><div ng-messages=\\\"form.last.$error\\\" role=\\\"alert\\\">\\n<div ng-message=\\\"required\\\"><span>Last Name is required.</span></div></div></md-input-container></div><div \\nlayout=\\\"column\\\" layout-gt-sm=\\\"row\\\"><md-input-container flex><input type=\\\"email\\\" name=\\\"email\\\" \\nng-model=\\\"vm.update.info.email\\\" placeholder=\\\"Email\\\" ng-pattern=\\\"/^.+@.+\\\\..+$/\\\" required><div \\nng-messages=\\\"form.email.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\" \\nstyle=\\\"opacity: 1; margin-top: 0px\\\"><span>Email field is required</span></div><div ng-message=\\\"pattern\\\" \\nstyle=\\\"opacity: 1; margin-top: 0px\\\"><span>Email must be a valid e-mail address</span></div></div></md-input-container>\\n<md-input-container flex class=\\\"mb-0\\\"><input type=\\\"text\\\" name=\\\"phone\\\" ng-model=\\\"vm.update.info.phone\\\" \\nplaceholder=\\\"Phone Number\\\"></md-input-container></div><md-button type=\\\"submit\\\" class=\\\"md-raised md-accent\\\" \\naria-label=\\\"Submit\\\" ng-disabled=\\\"form.$invalid || form.$pristine || vm.update.sending\\\"><span \\nng-hide=\\\"vm.update.sending\\\">Update</span> <span ng-show=\\\"vm.update.sending\\\">Updating...</span></md-button></form></div>\");\n$templateCache.put(\"app/navigation/layouts/vertical-navigation/navigation.html\",\"<md-toolbar class=\\\"navigation-header md-whiteframe-1dp\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\" \\nng-show=\\\"userSignupComplete()\\\"><div class=\\\"logo\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><span class=\\\"logo-image\\\">CL\\n</span> <span class=\\\"logo-text\\\">CHECKLINKED</span></div><md-icon class=\\\"fold-toggle s18\\\" \\nmd-font-icon=\\\"icon-backburger\\\" hide show-gt-sm ng-click=\\\"vm.toggleMsNavigationFolded()\\\"></md-icon></md-toolbar>\\n<ms-navigation></ms-navigation>\");\n$templateCache.put(\"app/navigation/layouts/horizontal-navigation/navigation.html\",\"<div layout=\\\"row\\\" layout-align=\\\"start center\\\"><ms-navigation-horizontal></ms-navigation-horizontal></div>\");\n$templateCache.put(\"app/navigation/layouts/vertical-navigation-fullwidth-toolbar-2/navigation.html\",\"<ms-navigation class=\\\"scrollable\\\" folded=\\\"vm.folded\\\" ms-scroll=\\\"vm.msScrollOptions\\\"></ms-navigation>\");\n$templateCache.put(\"app/toolbar/layouts/content-with-toolbar/toolbar.html\",\"<div layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"logo\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><span class=\\\"logo-image\\\">F</span> <span class=\\\"logo-text\\\">FUSE</span></div>\\n<div class=\\\"toolbar-separator\\\"></div><ms-shortcuts></ms-shortcuts><div class=\\\"toolbar-separator\\\"></div></div><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><md-progress-circular id=\\\"toolbar-progress\\\" ng-if=\\\"$root.loadingProgress\\\" \\nclass=\\\"md-accent\\\" md-mode=\\\"indeterminate\\\" md-diameter=\\\"32\\\"></md-progress-circular><div class=\\\"toolbar-separator\\\"></div>\\n<md-menu-bar id=\\\"user-menu\\\"><md-menu md-position-mode=\\\"left bottom\\\"><md-button class=\\\"user-button\\\" \\nng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"User settings\\\" translate translate-attr-aria-label=\\\"TOOLBAR.USER_SETTINGS\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div class=\\\"avatar-wrapper\\\"><img md-menu-align-target class=\\\"avatar\\\" \\nsrc=\\\"assets/images/avatars/profile.jpg\\\"><md-icon md-font-icon ng-class=\\\"vm.userStatus.icon\\\" \\nng-style=\\\"{\\'color\\': vm.userStatus.color }\\\" class=\\\"icon status s16\\\"></md-icon></div><span class=\\\"username\\\" hide-sm>\\nJohn Doe</span><md-icon md-font-icon=\\\"icon-chevron-down\\\" class=\\\"icon s16\\\" hide-sm></md-icon></div></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item class=\\\"md-indent\\\" ui-sref=\\\"app.pages_profile\\\"><md-icon \\nmd-font-icon=\\\"icon-account\\\" class=\\\"icon\\\"></md-icon><md-button>My Profile</md-button></md-menu-item><md-menu-item \\nclass=\\\"md-indent\\\" ui-sref=\\\"app.mail\\\"><md-icon md-font-icon=\\\"icon-email\\\" class=\\\"icon\\\"></md-icon><md-button>Inbox\\n</md-button></md-menu-item><md-menu-item class=\\\"md-indent\\\"><md-icon md-font-icon ng-class=\\\"vm.userStatus.icon\\\" \\nng-style=\\\"{\\'color\\': vm.userStatus.color }\\\" class=\\\"icon\\\"></md-icon><md-menu id=\\\"user-status-menu\\\"><md-button \\nng-click=\\\"$mdOpenMenu()\\\" class=\\\"status\\\" ng-class=\\\"vm.userStatus.class\\\">{{vm.userStatus.title}}</md-button>\\n<md-menu-content width=\\\"2\\\"><md-menu-item class=\\\"status md-indent\\\" ng-class=\\\"{\\'selected\\': status === vm.userStatus}\\\" \\nng-repeat=\\\"status in vm.userStatusOptions\\\"><md-icon md-font-icon=\\\"{{status.icon}}\\\" ng-style=\\\"{\\'color\\': status.color }\\\" \\nclass=\\\"icon\\\"></md-icon><md-button ng-click=\\\"vm.setUserStatus(status)\\\">{{status.title}}</md-button></md-menu-item>\\n</md-menu-content></md-menu></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item class=\\\"md-indent\\\"><md-icon \\nmd-font-icon=\\\"icon-logout\\\" class=\\\"icon\\\"></md-icon><md-button ng-href=\\\"/logout\\\">Logout</md-button></md-menu-item>\\n</md-menu-content></md-menu></md-menu-bar><div class=\\\"toolbar-separator\\\"></div><ms-search-bar \\non-search=\\\"vm.search(query)\\\" on-result-click=\\\"vm.searchResultClick(item)\\\" debounce=\\\"300\\\"></ms-search-bar><div \\nclass=\\\"toolbar-separator\\\"></div><md-menu id=\\\"language-menu\\\" md-offset=\\\"0 72\\\" md-position-mode=\\\"target-right target\\\">\\n<md-button class=\\\"language-button\\\" ng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"Language\\\" md-menu-origin md-menu-align-target>\\n<div layout=\\\"row\\\" layout-align=\\\"center center\\\"><img class=\\\"flag\\\" \\nng-src=\\\"assets/images/flags/{{vm.selectedLanguage.flag}}.png\\\"> <span class=\\\"iso\\\">{{vm.selectedLanguage.code}}</span>\\n</div></md-button><md-menu-content width=\\\"3\\\" id=\\\"language-menu-content\\\"><md-menu-item \\nng-repeat=\\\"(iso, lang) in vm.languages\\\"><md-button ng-click=\\\"vm.changeLanguage(lang)\\\" aria-label=\\\"{{lang.title}}\\\" \\ntranslate translate-attr-aria-label=\\\"{{lang.title}}\\\"><span layout=\\\"row\\\" layout-align=\\\"start center\\\"><img class=\\\"flag\\\" \\nng-src=\\\"assets/images/flags/{{lang.flag}}.png\\\"> <span translate=\\\"{{lang.translation}}\\\">{{lang.title}}</span></span>\\n</md-button></md-menu-item></md-menu-content></md-menu><div class=\\\"toolbar-separator\\\"></div><md-button \\nid=\\\"quick-panel-toggle\\\" class=\\\"md-icon-button\\\" ng-click=\\\"vm.toggleSidenav(\\'quick-panel\\')\\\" \\naria-label=\\\"Toggle quick panel\\\" translate translate-attr-aria-label=\\\"TOOLBAR.TOGGLE_QUICK_PANEL\\\"><md-icon \\nmd-font-icon=\\\"icon-format-list-bulleted\\\" class=\\\"icon\\\"></md-icon></md-button></div></div>\");\n$templateCache.put(\"app/toolbar/layouts/horizontal-navigation/toolbar.html\",\"<div layout=\\\"column\\\" layout-align=\\\"space-between stretch\\\" class=\\\"h-128\\\"><div class=\\\"top-row\\\" layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"navigation-toggle\\\" \\nhide-gt-sm><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.toggleHorizontalMobileMenu()\\\" \\naria-label=\\\"Toggle Mobile Navigation\\\"><md-icon md-font-icon=\\\"icon-menu\\\"></md-icon></md-button></div><div class=\\\"logo\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><span class=\\\"logo-image\\\">F</span> <span class=\\\"logo-text\\\">FUSE</span></div>\\n</div><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-progress-circular id=\\\"toolbar-progress\\\" \\nng-if=\\\"$root.loadingProgress\\\" class=\\\"md-accent\\\" md-mode=\\\"indeterminate\\\" md-diameter=\\\"32\\\"></md-progress-circular>\\n<ms-shortcuts></ms-shortcuts><md-menu-bar id=\\\"user-menu\\\"><md-menu md-position-mode=\\\"left bottom\\\"><md-button \\nclass=\\\"user-button\\\" ng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"User settings\\\" translate \\ntranslate-attr-aria-label=\\\"TOOLBAR.USER_SETTINGS\\\"><div layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div \\nclass=\\\"avatar-wrapper\\\"><img md-menu-align-target class=\\\"avatar\\\" src=\\\"assets/images/avatars/profile.jpg\\\"><md-icon \\nmd-font-icon ng-class=\\\"vm.userStatus.icon\\\" ng-style=\\\"{\\'color\\': vm.userStatus.color }\\\" class=\\\"icon status s16\\\">\\n</md-icon></div><span class=\\\"username\\\" hide-sm>John Doe</span><md-icon md-font-icon=\\\"icon-chevron-down\\\" \\nclass=\\\"icon s16\\\" hide-sm></md-icon></div></md-button><md-menu-content width=\\\"3\\\"><md-menu-item class=\\\"md-indent\\\" \\nui-sref=\\\"app.pages_profile\\\"><md-icon md-font-icon=\\\"icon-account\\\" class=\\\"icon\\\"></md-icon><md-button>My Profile\\n</md-button></md-menu-item><md-menu-item class=\\\"md-indent\\\" ui-sref=\\\"app.mail\\\"><md-icon md-font-icon=\\\"icon-email\\\" \\nclass=\\\"icon\\\"></md-icon><md-button>Inbox</md-button></md-menu-item><md-menu-item class=\\\"md-indent\\\"><md-icon \\nmd-font-icon ng-class=\\\"vm.userStatus.icon\\\" ng-style=\\\"{\\'color\\': vm.userStatus.color }\\\" class=\\\"icon\\\"></md-icon><md-menu \\nid=\\\"user-status-menu\\\"><md-button ng-click=\\\"$mdOpenMenu()\\\" class=\\\"status\\\" ng-class=\\\"vm.userStatus.class\\\">\\n{{vm.userStatus.title}}</md-button><md-menu-content width=\\\"2\\\"><md-menu-item class=\\\"status md-indent\\\" \\nng-class=\\\"{\\'selected\\': status === vm.userStatus}\\\" ng-repeat=\\\"status in vm.userStatusOptions\\\"><md-icon \\nmd-font-icon=\\\"{{status.icon}}\\\" ng-style=\\\"{\\'color\\': status.color }\\\" class=\\\"icon\\\"></md-icon><md-button \\nng-click=\\\"vm.setUserStatus(status)\\\">{{status.title}}</md-button></md-menu-item></md-menu-content></md-menu>\\n</md-menu-item><md-menu-divider></md-menu-divider><md-menu-item class=\\\"md-indent\\\"><md-icon md-font-icon=\\\"icon-logout\\\" \\nclass=\\\"icon\\\"></md-icon><md-button ng-href=\\\"/logout\\\">Logout</md-button></md-menu-item></md-menu-content></md-menu>\\n</md-menu-bar><ms-search-bar on-search=\\\"vm.search(query)\\\" on-result-click=\\\"vm.searchResultClick(item)\\\" debounce=\\\"300\\\">\\n</ms-search-bar><md-menu id=\\\"language-menu\\\" md-offset=\\\"0 72\\\" md-position-mode=\\\"target-right target\\\"><md-button \\nclass=\\\"language-button\\\" ng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"Language\\\" md-menu-origin md-menu-align-target><div \\nlayout=\\\"row\\\" layout-align=\\\"center center\\\"><img class=\\\"flag\\\" \\nng-src=\\\"assets/images/flags/{{vm.selectedLanguage.flag}}.png\\\"> <span class=\\\"iso\\\">{{vm.selectedLanguage.code}}</span>\\n</div></md-button><md-menu-content width=\\\"3\\\" id=\\\"language-menu-content\\\"><md-menu-item \\nng-repeat=\\\"(iso, lang) in vm.languages\\\"><md-button ng-click=\\\"vm.changeLanguage(lang)\\\" aria-label=\\\"{{lang.title}}\\\" \\ntranslate translate-attr-aria-label=\\\"{{lang.title}}\\\"><span layout=\\\"row\\\" layout-align=\\\"start center\\\"><img class=\\\"flag\\\" \\nng-src=\\\"assets/images/flags/{{lang.flag}}.png\\\"> <span translate=\\\"{{lang.translation}}\\\">{{lang.title}}</span></span>\\n</md-button></md-menu-item></md-menu-content></md-menu><md-button id=\\\"quick-panel-toggle\\\" class=\\\"md-icon-button\\\" \\nng-click=\\\"vm.toggleSidenav(\\'quick-panel\\')\\\" aria-label=\\\"Toggle quick panel\\\" translate \\ntranslate-attr-aria-label=\\\"TOOLBAR.TOGGLE_QUICK_PANEL\\\"><md-icon md-font-icon=\\\"icon-format-list-bulleted\\\" class=\\\"icon\\\">\\n</md-icon></md-button></div></div><div class=\\\"bottom-row\\\"><div id=\\\"horizontal-navigation\\\" ui-view=\\\"navigation\\\"></div>\\n</div></div>\");\n$templateCache.put(\"app/toolbar/layouts/vertical-navigation/toolbar.html\",\"<div layout=\\\"row\\\" layout-align=\\\"start center\\\" ng-class=\\\"{\\'md-primary-bg\\':viewAs.notMe==true}\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" flex ng-show=\\\"globalSearchCollapse\\\"><md-button id=\\\"navigation-toggle\\\" \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.toggleSidenav(\\'navigation\\')\\\" hide-gt-sm aria-label=\\\"Toggle navigation\\\" translate \\ntranslate-attr-aria-label=\\\"TOOLBAR.TOGGLE_NAVIGATION\\\"><md-icon md-font-icon=\\\"icon-menu\\\" class=\\\"icon\\\"></md-icon>\\n</md-button></div><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-menu-bar id=\\\"user-menu\\\" \\nng-hide=\\\"viewAs.notMe || !globalSearchCollapse\\\"><md-menu md-position-mode=\\\"left bottom\\\"><md-button class=\\\"user-button\\\" \\nng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"User settings\\\" translate translate-attr-aria-label=\\\"TOOLBAR.USER_SETTINGS\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div class=\\\"avatar-wrapper\\\"><md-icon \\nng-if=\\\"vm.badgeData.friendships>0\\\" md-font-icon ng-class=\\\"vm.userStatus.icon\\\" \\nng-style=\\\"{\\'color\\': vm.userStatus.color }\\\" class=\\\"icon status s16\\\"></md-icon></div><span class=\\\"username\\\" hide \\nshow-gt-xs>{{user.name.full}}</span><md-icon md-font-icon=\\\"icon-chevron-down\\\" class=\\\"icon s16\\\" hide-xs></md-icon></div>\\n</md-button><md-menu-content width=\\\"3\\\"><md-menu-item class=\\\"md-indent\\\" ui-sref=\\\"app.user\\\"><md-icon \\nmd-font-icon=\\\"icon-account\\\" class=\\\"icon\\\"></md-icon><md-button>My Profile</md-button></md-menu-item><md-menu-item \\nclass=\\\"md-indent\\\" ui-sref=\\\"app.organization\\\"><md-icon md-font-icon=\\\"icon-store\\\" class=\\\"icon\\\"></md-icon><md-button>\\nOrganization</md-button></md-menu-item><md-menu-item class=\\\"md-indent\\\" ui-sref=\\\"app.contacts\\\" \\nui-sref-opts=\\\"{reload: \\'app.contacts\\'}\\\"><md-icon md-font-icon=\\\"icon-people\\\" class=\\\"icon\\\"></md-icon><md-button>Contacts\\n</md-button></md-menu-item><md-menu-item class=\\\"md-indent\\\" ui-sref=\\\"app.teammembers\\\"><md-icon \\nmd-font-icon=\\\"icon-people\\\" class=\\\"icon\\\"></md-icon><md-button>Team Members</md-button></md-menu-item><md-menu-divider>\\n</md-menu-divider><md-menu-item class=\\\"md-indent\\\" ui-sref=\\\"app.subscriptions\\\"><md-icon md-font-icon=\\\"icon-credit-card\\\" \\nclass=\\\"icon\\\"></md-icon><md-button>Subscriptions</md-button></md-menu-item><md-menu-divider></md-menu-divider>\\n<md-menu-item class=\\\"md-indent\\\" ui-sref=\\\"app.logout\\\"><md-icon md-font-icon=\\\"icon-logout\\\" class=\\\"icon\\\"></md-icon>\\n<md-button>Logout</md-button></md-menu-item></md-menu-content></md-menu></md-menu-bar><md-button class=\\\"user-button\\\" \\nng-show=\\\"viewAs.notMe\\\" ng-click=\\\"viewAs.restore()\\\" aria-label=\\\"User settings\\\" translate \\ntranslate-attr-aria-label=\\\"TOOLBAR.USER_SETTINGS\\\"><div layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span \\nclass=\\\"secondary-text pr-5\\\">Viewing As: </span><span class=\\\"secondary-text pr-5\\\">{{viewAs.user.name.full}}</span>\\n<md-icon md-font-icon=\\\"icon-cancel\\\" class=\\\"icon s16-white\\\"></md-icon></div></md-button><div class=\\\"toolbar-separator\\\" \\nng-show=\\\"globalSearchCollapse\\\"></div><ms-search-bar on-search=\\\"vm.search(query)\\\" \\non-result-click=\\\"vm.searchResultClick(item)\\\" debounce=\\\"300\\\"></ms-search-bar></div></div>\");\n$templateCache.put(\"app/toolbar/layouts/vertical-navigation-fullwidth-toolbar/toolbar.html\",\"<div layout=\\\"row\\\" layout-align=\\\"start center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><md-button \\nid=\\\"navigation-toggle\\\" class=\\\"md-icon-button\\\" ng-click=\\\"vm.toggleSidenav(\\'navigation\\')\\\" hide-gt-sm \\naria-label=\\\"Toggle navigation\\\" translate translate-attr-aria-label=\\\"TOOLBAR.TOGGLE_NAVIGATION\\\"><md-icon \\nmd-font-icon=\\\"icon-menu\\\" class=\\\"icon\\\"></md-icon></md-button><ms-search-bar on-search=\\\"vm.search(query)\\\" \\non-result-click=\\\"vm.searchResultClick(item)\\\" debounce=\\\"300\\\"></ms-search-bar><div class=\\\"toolbar-separator\\\"></div>\\n<ms-shortcuts></ms-shortcuts><div class=\\\"toolbar-separator\\\"></div></div><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-progress-circular id=\\\"toolbar-progress\\\" ng-if=\\\"$root.loadingProgress\\\" class=\\\"md-accent\\\" md-mode=\\\"indeterminate\\\" \\nmd-diameter=\\\"32\\\"></md-progress-circular><md-menu-bar id=\\\"user-menu\\\"><md-menu md-position-mode=\\\"left bottom\\\"><md-button \\nclass=\\\"user-button\\\" ng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"User settings\\\" translate \\ntranslate-attr-aria-label=\\\"TOOLBAR.USER_SETTINGS\\\"><div layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div \\nclass=\\\"avatar-wrapper\\\"><img md-menu-align-target class=\\\"avatar\\\" src=\\\"assets/images/avatars/profile.jpg\\\"><md-icon \\nmd-font-icon ng-class=\\\"vm.userStatus.icon\\\" ng-style=\\\"{\\'color\\': vm.userStatus.color }\\\" class=\\\"icon status s16\\\">\\n</md-icon></div><span class=\\\"username\\\" hide-sm>John Doe</span><md-icon md-font-icon=\\\"icon-chevron-down\\\" \\nclass=\\\"icon s16\\\" hide-sm></md-icon></div></md-button><md-menu-content width=\\\"3\\\"><md-menu-item class=\\\"md-indent\\\" \\nui-sref=\\\"app.pages_profile\\\"><md-icon md-font-icon=\\\"icon-account\\\" class=\\\"icon\\\"></md-icon><md-button>My Profile\\n</md-button></md-menu-item><md-menu-item class=\\\"md-indent\\\" ui-sref=\\\"app.mail\\\"><md-icon md-font-icon=\\\"icon-email\\\" \\nclass=\\\"icon\\\"></md-icon><md-button>Inbox</md-button></md-menu-item><md-menu-item class=\\\"md-indent\\\"><md-icon \\nmd-font-icon ng-class=\\\"vm.userStatus.icon\\\" ng-style=\\\"{\\'color\\': vm.userStatus.color }\\\" class=\\\"icon\\\"></md-icon><md-menu \\nid=\\\"user-status-menu\\\"><md-button ng-click=\\\"$mdOpenMenu()\\\" class=\\\"status\\\" ng-class=\\\"vm.userStatus.class\\\">\\n{{vm.userStatus.title}}</md-button><md-menu-content width=\\\"2\\\"><md-menu-item class=\\\"status md-indent\\\" \\nng-class=\\\"{\\'selected\\': status === vm.userStatus}\\\" ng-repeat=\\\"status in vm.userStatusOptions\\\"><md-icon \\nmd-font-icon=\\\"{{status.icon}}\\\" ng-style=\\\"{\\'color\\': status.color }\\\" class=\\\"icon\\\"></md-icon><md-button \\nng-click=\\\"vm.setUserStatus(status)\\\">{{status.title}}</md-button></md-menu-item></md-menu-content></md-menu>\\n</md-menu-item><md-menu-divider></md-menu-divider><md-menu-item class=\\\"md-indent\\\"><md-icon md-font-icon=\\\"icon-logout\\\" \\nclass=\\\"icon\\\"></md-icon><md-button ng-href=\\\"/logout\\\">Logout</md-button></md-menu-item></md-menu-content></md-menu>\\n</md-menu-bar><div class=\\\"toolbar-separator\\\"></div><md-menu id=\\\"language-menu\\\" md-offset=\\\"0 72\\\" \\nmd-position-mode=\\\"target-right target\\\"><md-button class=\\\"language-button\\\" ng-click=\\\"$mdOpenMenu()\\\" \\naria-label=\\\"Language\\\" md-menu-origin md-menu-align-target><div layout=\\\"row\\\" layout-align=\\\"center center\\\"><img \\nclass=\\\"flag\\\" ng-src=\\\"assets/images/flags/{{vm.selectedLanguage.flag}}.png\\\"> <span class=\\\"iso\\\">\\n{{vm.selectedLanguage.code}}</span></div></md-button><md-menu-content width=\\\"3\\\" id=\\\"language-menu-content\\\">\\n<md-menu-item ng-repeat=\\\"(iso, lang) in vm.languages\\\"><md-button ng-click=\\\"vm.changeLanguage(lang)\\\" \\naria-label=\\\"{{lang.title}}\\\" translate translate-attr-aria-label=\\\"{{lang.title}}\\\"><span layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><img class=\\\"flag\\\" ng-src=\\\"assets/images/flags/{{lang.flag}}.png\\\"> <span \\ntranslate=\\\"{{lang.translation}}\\\">{{lang.title}}</span></span></md-button></md-menu-item></md-menu-content></md-menu>\\n<div class=\\\"toolbar-separator\\\"></div><md-button id=\\\"quick-panel-toggle\\\" class=\\\"md-icon-button\\\" \\nng-click=\\\"vm.toggleSidenav(\\'quick-panel\\')\\\" aria-label=\\\"Toggle quick panel\\\" translate \\ntranslate-attr-aria-label=\\\"TOOLBAR.TOGGLE_QUICK_PANEL\\\"><md-icon md-font-icon=\\\"icon-format-list-bulleted\\\" class=\\\"icon\\\">\\n</md-icon></md-button></div></div>\");\n$templateCache.put(\"app/toolbar/layouts/vertical-navigation-fullwidth-toolbar-2/toolbar.html\",\"<div layout=\\\"row\\\" layout-align=\\\"start center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><md-button \\nid=\\\"navigation-toggle\\\" class=\\\"md-icon-button\\\" ng-click=\\\"vm.toggleSidenav(\\'navigation\\')\\\" hide-gt-sm \\naria-label=\\\"Toggle navigation\\\" translate translate-attr-aria-label=\\\"TOOLBAR.TOGGLE_NAVIGATION\\\"><md-icon \\nmd-font-icon=\\\"icon-menu\\\" class=\\\"icon\\\"></md-icon></md-button><md-button class=\\\"md-icon-button navigation-fold-toggle\\\" \\nhide show-gt-sm aria-label=\\\"Toggle navigation fold\\\" translate \\ntranslate-attr-aria-label=\\\"TOOLBAR.TOGGLE_NAVIGATION_FOLD\\\" ng-click=\\\"vm.toggleMsNavigationFolded()\\\"><md-icon \\nclass=\\\"s18\\\" md-font-icon=\\\"icon-backburger\\\"></md-icon></md-button></div><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-progress-circular id=\\\"toolbar-progress\\\" ng-if=\\\"$root.loadingProgress\\\" class=\\\"md-accent\\\" md-mode=\\\"indeterminate\\\" \\nmd-diameter=\\\"32\\\"></md-progress-circular><md-menu-bar id=\\\"user-menu\\\"><md-menu md-position-mode=\\\"left bottom\\\"><md-button \\nclass=\\\"user-button\\\" ng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"User settings\\\" translate \\ntranslate-attr-aria-label=\\\"TOOLBAR.USER_SETTINGS\\\"><div layout=\\\"row\\\" layout-align=\\\"space-between end\\\"><div><md-icon \\nmd-font-icon=\\\"icon-dots-horizontal\\\" ng-class=\\\"vm.userStatus.icon\\\" class=\\\"icon\\\"></md-icon></div><span class=\\\"username\\\" \\nhide-xs>{{ user.name.full }}</span><md-icon md-font-icon=\\\"icon-chevron-down\\\" class=\\\"icon\\\" hide-xs></md-icon></div>\\n</md-button><md-menu-content width=\\\"3\\\"><md-menu-item class=\\\"md-indent\\\" ui-sref=\\\"app.user\\\"><md-icon \\nmd-font-icon=\\\"icon-account\\\" class=\\\"icon\\\"></md-icon><md-button>My Profile</md-button></md-menu-item><md-menu-item \\nclass=\\\"md-indent\\\" ui-sref=\\\"app.organization\\\"><md-icon md-font-icon=\\\"icon-people\\\" class=\\\"icon\\\"></md-icon><md-button>\\nOrganization</md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item class=\\\"md-indent\\\" \\nui-sref=\\\"app.logout\\\"><md-icon md-font-icon=\\\"icon-logout\\\" class=\\\"icon\\\"></md-icon><md-button>Logout</md-button>\\n</md-menu-item></md-menu-content></md-menu></md-menu-bar><ms-search-bar on-search=\\\"vm.search(query)\\\" \\non-result-click=\\\"vm.searchResultClick(item)\\\" debounce=\\\"300\\\"></ms-search-bar></div></div>\");\n$templateCache.put(\"app/core/directives/ms-navigation/templates/horizontal.html\",\"<div>{{ user }}</div><div class=\\\"navigation-toggle\\\" hide-gt-sm><md-button class=\\\"md-icon-button\\\" \\nng-click=\\\"vm.toggleHorizontalMobileMenu()\\\" aria-label=\\\"Toggle Mobile Navigation\\\"><md-icon md-font-icon=\\\"icon-menu\\\">\\n</md-icon></md-button></div><ul class=\\\"horizontal\\\"><li ng-repeat=\\\"node in vm.navigation\\\" \\nms-navigation-horizontal-node=\\\"node\\\" ng-class=\\\"{\\'has-children\\': vm.hasChildren}\\\" \\nng-include=\\\"\\'navigation-horizontal-nested.html\\'\\\"></li></ul><script type=\\\"text/ng-template\\\" \\nid=\\\"navigation-horizontal-nested.html\\\">\\n<div ms-navigation-horizontal-item layout=\\\"row\\\" ng-if=\\\"!vm.isHidden()\\\">\\r\\n\\r\\n        <div class=\\\"ms-navigation-horizontal-button\\\" ng-if=\\\"!node.uisref && node.title\\\"\\r\\n             ng-class=\\\"{\\'active md-accent-bg md-accent-fg\\': vm.isActive}\\\">\\r\\n            <i class=\\\"icon s18 {{node.icon}}\\\" ng-if=\\\"node.icon\\\"></i>\\r\\n            <span class=\\\"title\\\" translate=\\\"{{node.translate}}\\\" flex>{{node.title}}</span>\\r\\n            <!-- <span class=\\\"badge white-fg\\\" style=\\\"background: {{node.badge.color}}\\\" ng-if=\\\"node.badge\\\">{{node.badge.content}}</span> -->\\r\\n            <i class=\\\"icon-chevron-right s18 arrow\\\" ng-if=\\\"vm.hasChildren\\\"></i>\\r\\n        </div>\\r\\n   \\r\\n        <a class=\\\"ms-navigation-horizontal-button\\\" ui-sref=\\\"{{node.uisref}}\\\" ui-sref-active=\\\"active md-accent-bg\\\"\\r\\n           ng-class=\\\"{\\'active md-accent-bg md-accent-fg\\': vm.isActive}\\\"\\r\\n           ng-if=\\\"node.uisref && node.title\\\">\\r\\n            <i class=\\\"icon s18 {{node.icon}}\\\" ng-if=\\\"node.icon\\\"></i>\\r\\n            <span class=\\\"title\\\" translate=\\\"{{node.translate}}\\\" flex>{{node.title}}</span>\\r\\n            <!-- <span class=\\\"badge white-fg\\\" style=\\\"background: {{node.badge.color}}\\\" ng-if=\\\"node.badge\\\">{{node.badge.content}}</span> -->\\r\\n            <i class=\\\"icon-chevron-right s18 arrow\\\" ng-if=\\\"vm.hasChildren\\\"></i>\\r\\n        </a>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <ul ng-if=\\\"vm.hasChildren && !vm.isHidden()\\\">\\r\\n        <li ng-repeat=\\\"node in node.children\\\" ms-navigation-horizontal-node=\\\"node\\\"\\r\\n            ng-class=\\\"{\\'has-children\\': vm.hasChildren}\\\"\\r\\n            ng-include=\\\"\\'navigation-horizontal-nested.html\\'\\\"></li>\\r\\n    </ul>\\n</script>\");\n$templateCache.put(\"app/core/directives/ms-navigation/templates/vertical.html\",\"<ul><li ng-repeat=\\\"node in vm.navigation\\\" ms-navigation-node=\\\"node\\\" \\nng-class=\\\"{\\'collapsed\\': vm.collapsed, \\'has-children\\': vm.hasChildren}\\\" ng-include=\\\"\\'navigation-nested.html\\'\\\"></li></ul>\\n<script type=\\\"text/ng-template\\\" id=\\\"navigation-nested.html\\\">\\n<div ms-navigation-item layout=\\\"row\\\" ng-if=\\\"!vm.isHidden()\\\">\\r\\n\\r\\n    <div class=\\\"ms-navigation-button\\\" ng-if=\\\"!node.uisref && node.title\\\">\\r\\n      <i class=\\\"icon s16 {{node.icon}}\\\" ng-if=\\\"node.icon\\\"></i>\\r\\n      <span class=\\\"title\\\" translate=\\\"{{node.translate}}\\\" flex>{{node.title}}</span>\\r\\n      <!-- <span class=\\\"badge white-fg\\\" ng-style=\\\"{\\'background\\': node.badge.color}\\\"\\r\\n            ng-if=\\\"node.badge\\\">{{node.badge.content}}</span> -->\\r\\n      <i class=\\\"icon-chevron-right s16 arrow\\\" ng-if=\\\"vm.collapsable && vm.hasChildren\\\"></i>\\r\\n    </div>\\r\\n\\r\\n    <a class=\\\"ms-navigation-button\\\" ui-sref=\\\"{{node.uisref}}\\\" ui-sref-active=\\\"active md-accent-bg\\\"\\r\\n       ng-if=\\\"node.uisref && node.title\\\"\\r\\n       ng-hide=\\\"vm.appState == \\'app.queue\\' && vm.showQueue == \\'false\\'\\\">\\r\\n\\r\\n      <i class=\\\"icon s16 {{node.icon}}\\\" ng-if=\\\"node.icon\\\"></i>\\r\\n      <span class=\\\"title\\\" translate=\\\"{{node.translate}}\\\" flex>{{node.title}}</span>\\r\\n     \\r\\n      <!-- <span class=\\\"badge white-fg\\\" ng-style=\\\"{\\'background\\': node.badge.color}\\\"\\r\\n            ng-if=\\\"(vm.appState == \\'app.invitations\\') && (vm.badgeData.checklists > 0)\\\">{{vm.badgeData.checklists}}</span> -->\\r\\n\\r\\n      <!-- <span class=\\\"badge white-fg\\\" ng-style=\\\"{\\'background\\': node.badge.color}\\\"\\r\\n            ng-if=\\\"(vm.appState == \\'app.mail.threads\\') && (vm.badgeDataFeed.unread.length>0)\\\">{{vm.badgeDataFeed.unread.length}}</span> -->\\r\\n      <i class=\\\"icon-chevron-right s16 arrow\\\" ng-if=\\\"vm.collapsable && vm.hasChildren\\\"></i>\\r\\n    </a>\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <ul ng-if=\\\"vm.hasChildren && !vm.isHidden()\\\">\\r\\n    <li ng-repeat=\\\"node in node.children\\\" ms-navigation-node=\\\"node\\\"\\r\\n        ng-class=\\\"{\\'collapsed\\': vm.collapsed, \\'has-children\\': vm.hasChildren}\\\"\\r\\n        ng-include=\\\"\\'navigation-nested.html\\'\\\"></li>\\r\\n  </ul>\\n</script>\");\n$templateCache.put(\"app/main/account/sidenavs/main/sidenav.html\",\"<div class=\\\"demo-sidenav\\\"><md-list><md-list-item><a href=\\\"/user\\\">Account Information</a></md-list-item><md-divider>\\n</md-divider><md-list-item><a href=\\\"/organization\\\">Organization</a></md-list-item><md-divider></md-divider>\\n<md-list-item><a href=\\\"/teammembers\\\">Team Members</a></md-list-item><md-divider></md-divider><md-list-item><a \\nhref=\\\"/templates\\\">Templates</a></md-list-item><md-divider></md-divider><md-list-item><a href=\\\"/subscriptions\\\">\\nSubscriptions</a></md-list-item></md-list></div>\");\n$templateCache.put(\"app/main/chat/sidenavs/left/left-sidenav.html\",\"<div ng-show=\\\"vm.leftSidenavView === \\'contacts\\'\\\" class=\\\"view contacts-view animate-slide-left\\\" \\nng-include=\\\"\\'app/main/chat/sidenavs/left/views/contacts/contacts-view.html\\'\\\" layout=\\\"column\\\" flex></div><div \\nng-show=\\\"vm.leftSidenavView ===\\'user\\'\\\" class=\\\"view user-view animate-slide-left\\\" \\nng-include=\\\"\\'app/main/chat/sidenavs/left/views/user/user-view.html\\'\\\" layout=\\\"column\\\" flex></div><div \\nng-hide=\\\"vm.leftSidenavView\\\" class=\\\"view chats-view animate-slide-right\\\" \\nng-include=\\\"\\'app/main/chat/sidenavs/left/views/chats/chats-view.html\\'\\\" layout=\\\"column\\\" flex></div>\");\n$templateCache.put(\"app/main/chat/sidenavs/right/right-sidenav.html\",\"<div class=\\\"view contact-view\\\" ng-include=\\\"\\'app/main/chat/sidenavs/right/views/contact/contact-view.html\\'\\\" \\nlayout=\\\"column\\\" flex></div>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-add-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><form name=\\\"checklistForm\\\" class=\\\"md-inline-form\\\" \\nng-submit=\\\"vm.createSegment(vm.newItem.type,vm.newItem.name,vm.newItem.to,vm.newItem.dataType,vm.newItem.info)\\\" \\nnovalidate><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\"><span class=\\\"title\\\">Add New {{vm.type.title}}</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\">\\n</md-icon></md-button></div></md-toolbar><md-dialog-content ms-scroll><md-input-container class=\\\"md-block\\\"><label>\\n{{vm.type.label}}</label><input name=\\\"name\\\" ng-model=\\\"vm.newItem.name\\\" required md-autofocus><div \\nng-messages=\\\"checklistForm.name.$error\\\" ng-show=\\\"checklistForm.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\">\\n<span ng-show=\\\"vm.newItem.dataType==1\\\">{{vm.newItem.type}} Name field is required</span> <span \\nng-show=\\\"vm.newItem.dataType!=1\\\">Text Box Label is required</span></div></div></md-input-container><div \\nng-show=\\\"vm.newItem.type==\\'item\\'\\\"><md-input-container class=\\\"md-block\\\" ng-show=\\\"vm.newItem.dataType==1\\\"><label \\nng-switch=\\\"vm.newItem.dataType==1\\\"><span ng-switch-when=\\\"true\\\">Reference</span> <span ng-switch-when=\\\"false\\\">Data\\n</span></label><input name=\\\"description\\\" type=\\\"{{(vm.newItem.dataType==3)?\\'number\\':\\'text\\'}}\\\" \\nng-model=\\\"vm.newItem.info\\\"></md-input-container></div></md-dialog-content><md-dialog-actions layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" md-no-ink \\nclass=\\\"md-raised md-accent\\\" ng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" aria-label=\\\"Save\\\" \\ntranslate=\\\"CHECKLIST.SAVE\\\" translate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE</md-button></div></md-dialog-actions></form>\\n</md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-add-from-template-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">{{vm.title}}</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\">\\n</md-icon></md-button></div></md-toolbar><md-dialog-content class=\\\"no-padding\\\"><ms-form-wizard flex><md-tabs \\nmd-dynamic-height md-selected=\\\"msWizard.selectedIndex\\\"><md-tab><md-tab-label><span class=\\\"ms-form-wizard-step-label\\\">\\n<span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$invalid\\\">1</span> <span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$valid\\\"><i class=\\\"icon-check s16\\\"></i> </span><span \\nclass=\\\"ms-form-wizard-step-text\\\">Select Project</span></span></md-tab-label><md-tab-body><form name=\\\"wizardStep1\\\" \\nclass=\\\"md-inline-form\\\" ms-form-wizard-form novalidate><div ng-switch=\\\"vm.wizard.newFolder\\\"><div ng-switch-when=\\\"false\\\">\\n<div ng-include=\\\"\\'app/main/checklist/views/stepper/new-checklist-1.html\\'\\\"></div></div><div ng-switch-when=\\\"true\\\"><div \\nng-include=\\\"\\'app/main/checklist/views/stepper/new-checklist-1-new-folder.html\\'\\\"></div></div></div></form></md-tab-body>\\n</md-tab><md-tab ng-disabled=\\\"wizardStep1.$invalid\\\"><md-tab-label><span class=\\\"ms-form-wizard-step-label\\\"><span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"!vm.verticalStepper.step2.groupID\\\">2</span> <span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"vm.verticalStepper.step2.groupID\\\"><i class=\\\"icon-check s16\\\"></i>\\n </span><span class=\\\"ms-form-wizard-step-text\\\">Select Folder</span></span></md-tab-label><md-tab-body><form \\nname=\\\"wizardStep2\\\" ms-form-wizard-form novalidate><div ng-switch=\\\"vm.wizard.newGroup\\\" \\nng-hide=\\\"!vm.verticalStepper.step1.folderID\\\"><div ng-switch-when=\\\"false\\\"><div \\nng-include=\\\"\\'app/main/checklist/views/stepper/new-checklist-2.html\\'\\\"></div></div><div ng-switch-when=\\\"true\\\"><div \\nng-include=\\\"\\'app/main/checklist/views/stepper/new-checklist-2-new-group.html\\'\\\"></div></div></div></form></md-tab-body>\\n</md-tab><md-tab ng-disabled=\\\"wizardStep1.$invalid || wizardStep2.$invalid\\\"><md-tab-label><span \\nclass=\\\"ms-form-wizard-step-label\\\"><span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep3.$invalid\\\">3\\n</span> <span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep3.$valid\\\"><i class=\\\"icon-check s16\\\"></i>\\n </span><span class=\\\"ms-form-wizard-step-text\\\">Search Templates</span></span></md-tab-label><md-tab-body><form \\nname=\\\"wizardStep3\\\" ms-form-wizard-form novalidate ng-disabled=\\\"vm.find.inProgress\\\" ng-submit=\\\"vm.find.search()\\\"><div \\nng-include=\\\"\\'app/main/checklist/views/stepper/search-templates.html\\'\\\"></div></form></md-tab-body></md-tab></md-tabs>\\n<div class=\\\"navigation\\\" flex layout=\\\"row\\\" layout-align=\\\"center center\\\" \\nng-show=\\\"!vm.wizard.newFolder && !vm.wizard.newGroup\\\"><md-button class=\\\"\\\" ng-click=\\\"msWizard.previousStep()\\\" \\nng-disabled=\\\"msWizard.isFirstStep()\\\">Previous</md-button><div class=\\\"steps\\\"><span ng-repeat=\\\"form in msWizard.forms\\\" \\nng-class=\\\"{\\'selected md-accent-bg\\':msWizard.selectedIndex === $index}\\\"></span></div><md-button class=\\\"\\\" \\nng-click=\\\"msWizard.nextStep()\\\" ng-hide=\\\"msWizard.isLastStep()\\\" \\nng-disabled=\\\"msWizard.currentStepInvalid() || vm.wizard.newFolder\\\">Next</md-button></div></ms-form-wizard>\\n</md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\" ng-show=\\\"vm.wizard.newFolder\\\">\\n<div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" aria-label=\\\"Save\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SAVE\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"wizardStep1.$invalid || wizardStep1.$pristine\\\" ng-click=\\\"vm.addNewFolder(vm.folder.name)\\\">SAVE</md-button>\\n</div><div layout=\\\"row\\\"><md-button ng-click=\\\"vm.cancelFolderInput()\\\" aria-label=\\\"Cancel\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.CANCEL\\\">CANCEL</span></md-tooltip></md-button></div></md-dialog-actions><md-dialog-actions \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\" ng-show=\\\"vm.wizard.newGroup\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" ng-if=\\\"!vm.newChecklist\\\" \\nng-click=\\\"vm.addNewGroup(vm.group.text, vm.verticalStepper.step1.folderID)\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" aria-label=\\\"Save\\\" translate=\\\"CHECKLIST.SAVE\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE</md-button></div><div layout=\\\"row\\\"><md-button ng-if=\\\"!vm.newChecklist\\\" \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.cancelGroupInput()\\\" aria-label=\\\"Delete\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.CANCEL\\\">CANCEL</span></md-tooltip></md-button></div></md-dialog-actions></md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-conflicts-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">Conflicts: {{ vm.checklists[0].name }}</span>\\n<md-button class=\\\"md-icon-button custom_close\\\" ng-click=\\\"vm.closeConfilicts()\\\">Close Confilicts</md-button><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon>\\n</md-button></div></md-toolbar><md-dialog-content><table class=\\\"simple\\\" ms-responsive-table><thead><tr><th>User</th><th\\n class=\\\"\\\">Non-Compliant Items</th></tr></thead><tbody><tr ng-repeat=\\\"show in showingUsers track by $index\\\"><td \\nclass=\\\"\\\">{{(show.idCON == user.idCON)?user.name.full + \\' (YOU)\\':show.name}}</td><td class=\\\"\\\">\\n{{vm.nonCompliant[$index]}}</td></tr></tbody></table></md-dialog-content></md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-conversation-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"New Message\\\"><form name=\\\"conversationForm\\\" class=\\\"md-inline-form\\\" \\nng-submit=\\\"vm.submitPost()\\\" novalidate><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">{{vm.title}}</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\" aria-label=\\\"Close dialog\\\" translate \\ntranslate-aria-label=\\\"MAIL.CLOSE_DIALOG\\\"><md-icon md-font-icon=\\\"icon-close\\\"></md-icon></md-button></div></md-toolbar>\\n<md-dialog-content ms-scroll><md-input-container class=\\\"md-block\\\"><label translate=\\\"MAIL.FROM\\\">From</label><input \\nng-model=\\\"vm.form.from\\\" type=\\\"text\\\" disabled=\\\"disabled\\\"></md-input-container><md-input-container class=\\\"md-block\\\">\\n<label translate=\\\"MAIL.SUBJECT\\\">Subject</label><input name=\\\"subject\\\" ng-model=\\\"vm.form.subject\\\" type=\\\"text\\\" required>\\n<div ng-messages=\\\"conversationForm.subject.$error\\\" ng-show=\\\"conversationForm.subject.$touched\\\" role=\\\"alert\\\"><div \\nng-message=\\\"required\\\"><span translate=\\\"MAIL.ERRORS.SUBJECT\\\">Subject field is required</span></div></div>\\n</md-input-container><md-input-container class=\\\"md-block\\\"><label translate=\\\"MAIL.MESSAGE\\\">Message</label><div \\nclass=\\\"md-resize-wrapper\\\"><textarea name=\\\"text\\\" ng-model=\\\"vm.newPost.text\\\" required md-autofocus \\nclass=\\\"ng-valid md-input ng-not-empty ng-dirty ng-valid-parse ng-valid-md-maxlength ng-touched\\\" md-maxlength=\\\"150\\\" \\nmax-rows=\\\"5\\\" ng-trim=\\\"false\\\"></textarea><div class=\\\"md-resize-handle\\\" style=\\\"touch-action: pan-x\\\"></div></div><div \\nng-messages=\\\"conversationForm.text.$error\\\" ng-show=\\\"conversationForm.text.$touched\\\" role=\\\"alert\\\"><div \\nng-message=\\\"required\\\"><span translate=\\\"MAIL.ERRORS.MESSAGE\\\">Message field is required</span></div></div>\\n</md-input-container><div class=\\\"simple-table-container\\\"><table class=\\\"simple\\\" ms-responsive-table><tbody><tr \\nng-repeat=\\\"post in vm.conversation.posts | orderBy: timestamp\\\"><td>{{post.user}}</td><td>{{post.text}}</td><td>\\n{{post.organization}}</td><td><div ng-switch=\\\"vm.old(post.timestamp)\\\" class=\\\"user\\\"><span ng-switch-when=\\\"true\\\" \\nclass=\\\"timestamp pull-right\\\">{{post.timestamp | date:\\'shortDate\\'}}</span> <span ng-switch-when=\\\"false\\\" \\nclass=\\\"timestamp pull-right\\\">{{post.timestamp | date:\\'mediumTime\\'}}</span></div></td></tr></tbody></table></div>\\n</md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" aria-label=\\\"\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"vm.newPost.submitting || conversationForm.$invalid || conversationForm.$pristine\\\" translate=\\\"MAIL.SEND\\\" \\ntranslate-attr-aria-label=\\\"MAIL.SEND\\\">SEND</md-button></div></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-dialog-pdf.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"Show Linked Users\\\"><form name=\\\"checklistForm\\\" class=\\\"md-inline-form\\\" novalidate \\ntarget=\\\"_blank\\\" method=\\\"post\\\" action=\\\"http://localhost:8888/pdf/checklinked/checklinked.php\\\"><md-toolbar \\nclass=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span \\nclass=\\\"title\\\">{{ vm.title }}</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content \\nms-scroll><div id=\\\"pdfContent\\\"><table class=\\\"simple\\\"><colgroup><col width=\\\"10%\\\"><col width=\\\"80%\\\"><col width=\\\"10%\\\">\\n</colgroup><tbody><tr ng-repeat-start=\\\"checklist in vm.checklists track by $index\\\"><td>&nbsp;</td><td>\\n{{checklist.name}}</td><td>&nbsp;</td></tr><tr ng-repeat-start=\\\"section in checklist.sections track by $index\\\"><td>\\n&nbsp;</td><td>{{section.name}}</td><td>&nbsp;</td></tr><tr \\nng-repeat-start=\\\"heading in section.headings track by $index\\\"><td>&nbsp;</td><td>{{heading.name}}</td><td>&nbsp;</td>\\n</tr><tr ng-repeat-end ng-repeat=\\\"item in heading.items\\\"><td>COMPLY</td><td>{{item.name}}</td><td>APPLY</td></tr><tr \\nng-repeat-end><td></td><td></td><td></td></tr><tr ng-repeat-end><td></td><td></td><td></td></tr></tbody></table></div>\\n</md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><input type=\\\"hidden\\\" name=\\\"array\\\" value=\\\"{{ vm.checklists }}\\\"><md-button type=\\\"submit\\\" \\nclass=\\\"send-button md-accent md-raised\\\" aria-label=\\\"Save\\\" translate=\\\"CHECKLIST.DOWNLOAD_PDF\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.DOWNLOAD_PDF\\\">DOWNLOAD PDF</md-button></div></md-dialog-actions></form>\\n</md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"New Checklist\\\"><form name=\\\"checklistForm\\\" class=\\\"md-inline-form\\\" novalidate>\\n<md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\">\\n<span class=\\\"title\\\">{{vm.title}}</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content \\nms-scroll><md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.NAME\\\">Checklist Name</label><input \\nname=\\\"name\\\" ng-model=\\\"vm.checklist.name\\\" required md-autofocus><div ng-messages=\\\"checklistForm.name.$error\\\" \\nng-show=\\\"checklistForm.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"CHECKLIST.ERRORS.CHECKLIST_NAME_REQUIRED\\\">Checklist Name field is required</span></div></div>\\n</md-input-container><md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.DESCRIPTION\\\">Description</label>\\n<input name=\\\"description\\\" ng-model=\\\"vm.checklist.description\\\"></md-input-container></md-dialog-content>\\n<md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-button type=\\\"submit\\\" ng-if=\\\"!vm.newChecklist\\\" ng-click=\\\"vm.saveChecklist()\\\" \\nclass=\\\"send-button md-accent md-raised\\\" ng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" \\naria-label=\\\"Save\\\" translate=\\\"CHECKLIST.SAVE\\\" translate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE CHECKLIST</md-button>\\n<md-button type=\\\"submit\\\" ng-if=\\\"vm.newChecklist\\\" ng-click=\\\"vm.addNewChecklist()\\\" \\nclass=\\\"send-button md-accent md-raised\\\" ng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" \\naria-label=\\\"Add Checklist\\\" translate=\\\"CHECKLIST.ADD_CHECKLIST\\\" translate-attr-aria-label=\\\"CHECKLIST.ADD_CHECKLIST\\\">\\nADD CHECKLIST</md-button></div><div layout=\\\"row\\\"><md-button ng-if=\\\"!vm.newChecklist\\\" class=\\\"md-icon-button\\\" \\nng-click=\\\"vm.deleteChecklist($event, vm.checklist)\\\" aria-label=\\\"Delete\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.DELETE\\\">DELETE</span></md-tooltip></md-button></div></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-edit-checklist-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><form name=\\\"checklistForm\\\" class=\\\"md-inline-form\\\" novalidate><md-toolbar \\nclass=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span \\nclass=\\\"title\\\">Edit Checklist Name</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content \\nms-scroll><md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.NAME\\\">{{vm.checklist.name}} Name</label>\\n<input name=\\\"name\\\" ng-model=\\\"vm.checklist.name\\\" required md-autofocus><div ng-messages=\\\"checklistForm.name.$error\\\" \\nng-show=\\\"checklistForm.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"CHECKLIST.ERRORS.CHECKLIST_NAME_REQUIRED\\\">Checklist Name field is required</span></div></div>\\n</md-input-container></md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" ng-if=\\\"!vm.newChecklist\\\" \\nng-click=\\\"vm.saveChecklist()\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" aria-label=\\\"Save\\\" translate=\\\"CHECKLIST.SAVE\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE</md-button></div><div layout=\\\"row\\\"><md-button ng-if=\\\"!vm.newChecklist\\\" \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.deleteConfirm(\\'checklist\\', vm.checklist, $event)\\\" aria-label=\\\"Delete\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.DELETE\\\">DELETE</span></md-tooltip></md-button></div></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-edit-form-line-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><form name=\\\"checklistForm\\\" class=\\\"md-inline-form\\\" novalidate><md-toolbar \\nclass=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span \\nclass=\\\"title\\\">Edit Form Line Question</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content \\nms-scroll><md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.TEXT_BOX_LABEL\\\"></label><input name=\\\"name\\\" \\nng-model=\\\"vm.item.name\\\"></md-input-container><md-input-container class=\\\"md-block\\\" disabled=\\\"disabled\\\"><label \\ntranslate=\\\"CHECKLIST.TEXT_BOX_INPUT\\\"></label><div class=\\\"md-resize-wrapper\\\"><textarea name=\\\"text\\\" \\nng-model=\\\"vm.item.info\\\" required md-autofocus \\nclass=\\\"ng-valid md-input ng-not-empty ng-dirty ng-valid-parse ng-valid-md-maxlength ng-touched\\\" md-maxlength=\\\"150\\\" \\nmax-rows=\\\"5\\\" ng-trim=\\\"false\\\"></textarea><div class=\\\"md-resize-handle\\\" style=\\\"touch-action: pan-x\\\"></div></div><div \\nng-messages=\\\"checklistForm.text.$error\\\" ng-show=\\\"checklistForm.text.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\">\\n<span translate=\\\"CHECKLIST.ERRORS.TEXT_BOX_INPUT\\\"></span></div></div></md-input-container></md-dialog-content>\\n<md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-button type=\\\"submit\\\" ng-click=\\\"vm.saveItem()\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" aria-label=\\\"Save\\\" translate=\\\"CHECKLIST.SAVE\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE</md-button></div></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-edit-heading-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><form name=\\\"checklistForm\\\" class=\\\"md-inline-form\\\" novalidate><md-toolbar \\nclass=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span \\nclass=\\\"title\\\">Edit Heading</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content \\nms-scroll><md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.HEADING.NAME\\\">{{vm.heading.name}} Name\\n</label><input name=\\\"name\\\" ng-model=\\\"vm.heading.name\\\" required md-autofocus><div \\nng-messages=\\\"checklistForm.name.$error\\\" ng-show=\\\"checklistForm.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\">\\n<span translate=\\\"CHECKLIST.ERRORS.HEADER_NAME_REQUIRED\\\">Header Name field is required</span></div></div>\\n</md-input-container></md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" ng-click=\\\"vm.saveHeading()\\\" \\nclass=\\\"md-raised md-accent\\\" ng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" aria-label=\\\"Save\\\" \\ntranslate=\\\"CHECKLIST.SAVE\\\" translate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE</md-button></div></md-dialog-actions></form>\\n</md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-edit-item-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><form name=\\\"checklistForm\\\" class=\\\"md-inline-form\\\" novalidate><md-toolbar \\nclass=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span \\nclass=\\\"title\\\">Edit Checkbox Item</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content \\nms-scroll><md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.EDIT_CHECKBOX_LABEL\\\"></label><input \\nname=\\\"name\\\" ng-model=\\\"vm.item.name\\\" required md-autofocus><div ng-messages=\\\"checklistForm.name.$error\\\" \\nng-show=\\\"checklistForm.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"CHECKLIST.ERRORS.ITEM_NAME_REQUIRED\\\">Checklist Item Name field is required</span></div></div>\\n</md-input-container><md-input-container class=\\\"md-block\\\"><label translate=\\\"Refrences\\\"></label><input name=\\\"Refrences\\\" \\nng-model=\\\"vm.item.info\\\" md-autofocus></md-input-container></md-dialog-content><md-dialog-actions layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" \\nng-click=\\\"vm.saveItem()\\\" class=\\\"md-raised md-accent\\\" ng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" \\naria-label=\\\"Save\\\" translate=\\\"CHECKLIST.SAVE\\\" translate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE</md-button></div>\\n</md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-edit-section-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><form name=\\\"checklistForm\\\" class=\\\"md-inline-form\\\" novalidate><md-toolbar \\nclass=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span \\nclass=\\\"title\\\">Edit Section</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content \\nms-scroll><md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.SECTION.NAME\\\">{{vm.section.name}} Name\\n</label><input name=\\\"name\\\" ng-model=\\\"vm.section.name\\\" required md-autofocus><div \\nng-messages=\\\"checklistForm.name.$error\\\" ng-show=\\\"checklistForm.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\">\\n<span translate=\\\"CHECKLIST.ERRORS.SECTION_NAME_REQUIRED\\\">Section Name field is required</span></div></div>\\n</md-input-container></md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" ng-click=\\\"vm.saveSection()\\\" \\nclass=\\\"md-raised md-accent\\\" ng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" aria-label=\\\"Save\\\" \\ntranslate=\\\"CHECKLIST.SAVE\\\" translate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE</md-button></div></md-dialog-actions></form>\\n</md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-find-group-template-dialog.html\",\"\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-new-checklist-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">Determine the place and name your new checklist\\n</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" \\naria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content class=\\\"no-padding\\\">\\n<ms-form-wizard flex><md-tabs md-dynamic-height md-selected=\\\"msWizard.selectedIndex\\\"><md-tab><md-tab-label><span \\nclass=\\\"ms-form-wizard-step-label\\\"><span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$invalid\\\">1\\n</span> <span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$valid\\\"><i class=\\\"icon-check s16\\\"></i>\\n </span><span class=\\\"ms-form-wizard-step-text\\\">Select Project</span></span></md-tab-label><md-tab-body><form \\nname=\\\"wizardStep1\\\" class=\\\"md-inline-form\\\" ms-form-wizard-form novalidate><div ng-switch=\\\"vm.wizard.newFolder\\\"><div \\nng-switch-when=\\\"false\\\"><div ng-include=\\\"\\'app/main/checklist/views/stepper/new-checklist-1.html\\'\\\"></div></div><div \\nng-switch-when=\\\"true\\\"><div ng-include=\\\"\\'app/main/checklist/views/stepper/new-checklist-1-new-folder.html\\'\\\"></div></div>\\n</div></form></md-tab-body></md-tab><md-tab ng-disabled=\\\"wizardStep1.$invalid\\\"><md-tab-label><span \\nclass=\\\"ms-form-wizard-step-label\\\"><span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" \\nng-if=\\\"!vm.verticalStepper.step2.groupID\\\">2</span> <span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" \\nng-if=\\\"vm.verticalStepper.step2.groupID\\\"><i class=\\\"icon-check s16\\\"></i> </span><span class=\\\"ms-form-wizard-step-text\\\">\\nSelect Folder</span></span></md-tab-label><md-tab-body><form name=\\\"wizardStep2\\\" ms-form-wizard-form novalidate><div \\nng-switch=\\\"vm.wizard.newGroup\\\" ng-hide=\\\"!vm.verticalStepper.step1.folderID\\\"><div ng-switch-when=\\\"false\\\"><div \\nng-include=\\\"\\'app/main/checklist/views/stepper/new-checklist-2.html\\'\\\"></div></div><div ng-switch-when=\\\"true\\\"><div \\nng-include=\\\"\\'app/main/checklist/views/stepper/new-checklist-2-new-group.html\\'\\\"></div></div></div></form></md-tab-body>\\n</md-tab><md-tab ng-disabled=\\\"wizardStep1.$invalid || wizardStep2.$invalid\\\"><md-tab-label><span \\nclass=\\\"ms-form-wizard-step-label\\\"><span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep3.$invalid\\\">3\\n</span> <span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep3.$valid\\\"><i class=\\\"icon-check s16\\\"></i>\\n </span><span class=\\\"ms-form-wizard-step-text\\\">Name Checklist</span></span></md-tab-label><md-tab-body><form \\nname=\\\"wizardStep3\\\" ms-form-wizard-form novalidate class=\\\"ms-form-wizard-form-checklist-name\\\"><md-input-container \\nclass=\\\"md-block\\\"><input type=\\\"text\\\" name=\\\"checklistName\\\" ng-model=\\\"vm.verticalStepper.step3.name\\\" \\nplaceholder=\\\"Checklist Name\\\" required><div ng-messages=\\\"wizardStep3.checklistName.$error\\\" role=\\\"alert\\\"><div \\nng-message=\\\"required\\\"><span>Checklist Name is required</span></div></div></md-input-container></form></md-tab-body>\\n</md-tab></md-tabs><div class=\\\"navigation\\\" flex layout=\\\"row\\\" layout-align=\\\"center center\\\" \\nng-show=\\\"!vm.wizard.newFolder && !vm.wizard.newGroup\\\"><md-button class=\\\"\\\" ng-click=\\\"msWizard.previousStep()\\\" \\nng-disabled=\\\"msWizard.isFirstStep()\\\">Previous</md-button><div class=\\\"steps\\\"><span ng-repeat=\\\"form in msWizard.forms\\\" \\nng-class=\\\"{\\'selected md-accent-bg\\':msWizard.selectedIndex === $index}\\\"></span></div><md-button class=\\\"\\\" \\nng-click=\\\"msWizard.nextStep()\\\" ng-hide=\\\"msWizard.isLastStep()\\\" \\nng-disabled=\\\"msWizard.currentStepInvalid() || vm.wizard.newFolder\\\">Next</md-button><md-button class=\\\"md-warn\\\" \\nng-click=\\\"vm.addNewChecklist(vm.verticalStepper.step3.name, vm.verticalStepper.step2.groupID, vm.verticalStepper.step1.folderID); \\\" \\nng-show=\\\"msWizard.isLastStep()\\\" ng-disabled=\\\"msWizard.formsIncomplete() || vm.wizard.newFolder || vm.wizard.newGroup\\\">\\nCreate Checklist</md-button></div></ms-form-wizard></md-dialog-content><md-dialog-actions layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\" ng-show=\\\"vm.wizard.newFolder\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-button type=\\\"submit\\\" aria-label=\\\"Save\\\" translate-attr-aria-label=\\\"CHECKLIST.SAVE\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"wizardStep1.$invalid || wizardStep1.$pristine\\\" ng-click=\\\"vm.addNewFolder(vm.folder.name)\\\">SAVE</md-button>\\n</div><div layout=\\\"row\\\"><md-button ng-click=\\\"vm.cancelFolderInput()\\\" aria-label=\\\"Cancel\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.CANCEL\\\">CANCEL</span></md-tooltip></md-button></div></md-dialog-actions><md-dialog-actions \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\" ng-show=\\\"vm.wizard.newGroup\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" ng-if=\\\"!vm.newChecklist\\\" \\nng-click=\\\"vm.addNewGroup(vm.group.text, vm.verticalStepper.step1.folderID)\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" aria-label=\\\"Save\\\" translate=\\\"CHECKLIST.SAVE\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE</md-button></div><div layout=\\\"row\\\"><md-button ng-if=\\\"!vm.newChecklist\\\" \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.cancelGroupInput()\\\" aria-label=\\\"Delete\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.CANCEL\\\">CANCEL</span></md-tooltip></md-button></div></md-dialog-actions></md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-publish-template-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><form name=\\\"templateForm\\\" class=\\\"md-inline-form\\\" \\nng-submit=\\\"vm.publish.publish()\\\" novalidate><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">{{vm.title}}</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\">\\n</md-icon></md-button></div></md-toolbar><md-dialog-content ms-scroll><md-input-container class=\\\"md-block\\\"><label \\ntranslate=\\\"CHECKLIST.TEMPLATE_NAME\\\">Template Name</label><input name=\\\"name\\\" ng-model=\\\"vm.publish.name\\\" required \\nmd-autofocus><div ng-messages=\\\"templateForm.name.$error\\\" ng-show=\\\"templateForm.name.$touched\\\" role=\\\"alert\\\"><div \\nng-message=\\\"required\\\"><span translate=\\\"CHECKLIST.TEMPLATE_NAME\\\">Template Name field is required</span></div></div>\\n</md-input-container><md-input-container class=\\\"md-block\\\"><md-checkbox ng-click=\\\"vm.publish.togglePrivate()\\\" \\nng-disabled=\\\"vm.publish.submitting\\\" ng-checked=\\\"vm.publish.pvt\\\" class=\\\"btn btn-link checkbox applies\\\">\\nPublish Internal Only</md-checkbox></md-input-container></md-dialog-content><md-dialog-actions layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" \\nclass=\\\"md-raised md-accent\\\" ng-disabled=\\\"templateForm.$invalid\\\" aria-label=\\\"Save\\\" translate=\\\"CHECKLIST.PUBLISH\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.PUBLISH\\\">PUBLISH TEMPLATE</md-button></div></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-send-link-request-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><form id=\\\"findLinkForm\\\" name=\\\"findLinkForm\\\" class=\\\"md-inline-form\\\" \\nng-disabled=\\\"vm.find.inProgress\\\" ng-submit=\\\"vm.find.submit()\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div \\nclass=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">\\nSend Link Request {{ name }}</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.SEARCH_USERS\\\">Search</label><input \\nid=\\\"findLinksQueryString\\\" ng-model=\\\"vm.find.criteria\\\" type=\\\"text\\\"></md-input-container></md-dialog-content>\\n<md-dialog-content class=\\\"pt-0\\\" ng-show=\\\"vm.found.length\\\"><table class=\\\"simple\\\" ms-responsive-table><thead><tr><th>\\nOrganization</th><th>User</th><th></th></tr></thead><tfoot></tfoot><tbody><tr ng-repeat=\\\"link in vm.found\\\" \\nng-hide=\\\"link.id == vm.user.idCON\\\"><td class=\\\"name\\\">{{link.organization}}</td><td class=\\\"salary\\\">{{link.name.full}}\\n</td><td class=\\\"text-right\\\"><md-button ng-if=\\\"link.status == \\'Sent\\'\\\" class=\\\"icon-button\\\" aria-label=\\\"Linked\\\" \\nng-click=\\\"link.withdraw()\\\"><md-icon md-font-icon=\\\"icon-google-circles\\\" class=\\\"md-accent-fg s18\\\"></md-icon></md-button>\\n<md-button ng-if=\\\"link.status == \\'Linked\\'\\\" class=\\\"icon-button\\\" aria-label=\\\"Linked\\\" ng-click=\\\"link.request()\\\"><md-icon \\nmd-font-icon=\\\"icon-google-circles\\\" class=\\\"md-accent-fg s18\\\"></md-icon></md-button><md-button \\nng-if=\\\"link.status == \\'Stranger\\'\\\" class=\\\"icon-button\\\" aria-label=\\\"Invite\\\" ng-click=\\\"link.request()\\\" \\nng-disabled=\\\"link.requesting\\\"><md-icon md-font-icon=\\\"icon-google-circles-invite\\\" class=\\\"md-accent-fg s18\\\"></md-icon>\\n</md-button></td></tr></tbody></table></md-dialog-content><md-dialog-actions layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" \\nclass=\\\"md-raised md-accent\\\" aria-label=\\\"SEARCH\\\" ng-disabled=\\\"findLinkForm.$invalid || findLinkForm.$pristine\\\" \\nng-disabled=\\\"vm.searching\\\">SEARCH</md-button></div></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-set-labels-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><form name=\\\"checklistForm\\\" class=\\\"md-inline-form\\\" \\nng-submit=\\\"vm.labels.create.save()\\\" novalidate><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">Select Label</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon>\\n</md-button></div></md-toolbar><md-dialog-content ms-scroll><div class=\\\"simple-table-container\\\"><table class=\\\"simple\\\" \\nms-responsive-table><thead><tr><th>User</th><th>Label</th><th>Description</th><th class=\\\"text-center\\\">Select</th><th>\\n</th></tr></thead><tfoot></tfoot><tbody><tr ng-repeat=\\\"label in vm.labels.selectable\\\"><td>{{label.contact.name}}</td>\\n<td>{{label.name}}</td><td>{{label.explanation}}</td><td class=\\\"text-center\\\" \\nng-switch=\\\"(selected=vm.labels.isSelected(label))\\\"><md-button type=\\\"button\\\" ng-click=\\\"vm.labels.toggle(label)\\\" \\nclass=\\\"icon-button\\\"><md-icon ng-hide=\\\"selected\\\" md-font-icon=\\\"icon-checkbox-blank-outline\\\" class=\\\"md-accent-fg s18\\\">\\n</md-icon><md-icon ng-show=\\\"selected\\\" md-font-icon=\\\"icon-checkbox-marked-outline\\\" class=\\\"md-accent-fg s18\\\"></md-icon>\\n</md-button></td><td class=\\\"text-right\\\"><md-button ng-click=\\\"vm.labels.hide(label)\\\" class=\\\"icon-button\\\"><md-icon \\nmd-font-icon=\\\"icon-trash\\\" class=\\\"red-600-fg s18\\\"></md-icon></md-button></td></tr></tbody></table></div><div \\nng-show=\\\"vm.labels.create.entering\\\" class=\\\"modal-body\\\"><md-input-container class=\\\"md-icon-float md-block\\\"><label>Name\\n</label><input name=\\\"name\\\" ng-model=\\\"vm.labels.create.name\\\" required md-autofocus><div \\nng-messages=\\\"checklistForm.name.$error\\\" ng-show=\\\"checklistForm.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\">\\n<span>Name field is required</span></div></div></md-input-container><md-input-container class=\\\"md-block mb-0\\\"><label>\\nExplanation</label><input name=\\\"explanation\\\" ng-model=\\\"vm.labels.create.explanation\\\"><div \\nng-messages=\\\"checklistForm.explanation.$error\\\" ng-show=\\\"checklistForm.explanation.$touched\\\" role=\\\"alert\\\"></div>\\n</md-input-container></div></md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div\\n layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"button\\\" ng-click=\\\"vm.labels.create.enter()\\\" \\nclass=\\\"md-raised md-accent\\\" ng-hide=\\\"vm.labels.create.entering\\\" aria-label=\\\"Add New Label\\\" \\ntranslate=\\\"CHECKLIST.ADD_LABEL\\\" translate-attr-aria-label=\\\"CHECKLIST.ADD_LABEL\\\">ADD NEW LABEL</md-button><md-button \\ntype=\\\"submit\\\" class=\\\"md-raised md-accent\\\" ng-show=\\\"vm.labels.create.entering\\\" ng-disabled=\\\"vm.labels.create.saving\\\" \\naria-label=\\\"Add New Label\\\" translate=\\\"CHECKLIST.SAVE_NEW_LABEL\\\" translate-attr-aria-label=\\\"CHECKLIST.SAVE_NEW_LABEL\\\">\\n<span ng-hide=\\\"vm.labels.create.saving\\\">Submit</span><span ng-show=\\\"vm.labels.create.saving\\\">Submitting...</span>\\n</md-button><md-button type=\\\"button\\\" class=\\\"md-raised md-accent\\\" ng-click=\\\"vm.labels.save()\\\" aria-label=\\\"Save Labels\\\" \\ntranslate=\\\"CHECKLIST.SAVE_LABELS\\\" translate-attr-aria-label=\\\"CHECKLIST.SAVE_LABELS\\\">SAVE LABELS</md-button></div>\\n</md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-show-linked-users-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">Users Linked to {{ vm.item.name }}</span>\\n<md-button class=\\\"md-icon-button\\\" ng-click=\\\"closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" \\naria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content><div \\nclass=\\\"simple-table-container\\\"><table class=\\\"simple\\\" ms-responsive-table><thead><tr><th>User</th><th \\nclass=\\\"text-right\\\">View</th></tr></thead><tbody><tr ng-repeat=\\\"show in vm.users\\\"><td class=\\\"\\\">{{show.name.full}}</td>\\n<td class=\\\"text-right\\\"><md-button type=\\\"button\\\" ng-click=\\\"vm.toggleShowCheckboxes(show)\\\" \\nng-disabled=\\\"(show.isShowing && showingUsers.length == 1) || ((showingUsers.length &gt;=2) && !show.isShowing)\\\" \\nclass=\\\"icon-button\\\"><md-icon ng-hide=\\\"show.isShowing\\\" md-font-icon=\\\"icon-checkbox-blank-outline\\\" \\nclass=\\\"md-accent-fg s18\\\"></md-icon><md-icon ng-show=\\\"show.isShowing\\\" md-font-icon=\\\"icon-checkbox-marked-outline\\\" \\nclass=\\\"md-accent-fg s18\\\"></md-icon></md-button></td></tr></tbody></table></div></md-dialog-content></md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-upload-attachment-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"New Folder\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">{{vm.title}}</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\">\\n</md-icon></md-button></div></md-toolbar><md-dialog-content class=\\\"padding-top-0 padding-bottom-0\\\"><table \\nclass=\\\"simple\\\" ms-responsive-table ng-hide=\\\"vm.upload || !vm.SelectedAttachments.length\\\"><thead><tr><th>Edit</th><th>\\nAttachment Label</th><th>Delete</th><th class=\\\"text-right\\\">Download</th></tr></thead><tfoot></tfoot><tbody><tr \\nng-repeat=\\\"attachment in  vm.SelectedAttachments track by $index\\\"><td class=\\\"text-left\\\"><button aria-label=\\\"Edit\\\">\\n<md-icon md-font-icon=\\\"icon-pencil\\\"></md-icon></button></td><td class=\\\"name\\\">{{attachment.file.label}}</td><td><button \\naria-label=\\\"Delete\\\"><md-icon md-font-icon=\\\"icon-trash\\\"></md-icon></button></td><td class=\\\"text-right\\\"><button \\naria-label=\\\"Linked\\\" ng-click=\\\"vm.downloadAttachment($event, attachment.storage.temporary)\\\"><md-icon \\nmd-font-icon=\\\"icon-cloud-download\\\"></md-icon></button></td></tr></tbody></table><div \\nng-show=\\\"vm.upload || !vm.SelectedAttachments.length\\\"><md-input-container class=\\\"md-block\\\"><label \\ntranslate=\\\"CHECKLIST.ATTACHMENT_LABEL\\\">Attachment Label</label><input name=\\\"label\\\" ng-model=\\\"vm.label\\\" required \\nmd-autofocus><div ng-messages=\\\"checklistForm.label.$error\\\" ng-show=\\\"checklistForm.label.$touched\\\" role=\\\"alert\\\"><div \\nng-message=\\\"required\\\"><span translate=\\\"CHECKLIST.ERRORS.ATTACHMENT_LABEL_REQUIRED\\\">Attachment Label field is required\\n</span></div></div><div>{{vm.file}}</div></md-input-container><md-button class=\\\"add-file-button md-raised md-accent\\\" \\naria-label=\\\"Add file\\\" translate translate-attr-aria-label=\\\"FM.ADD_FILE\\\"><label for=\\\"AWSFileUploadInput\\\">Add file\\n</label></md-button><md-input-container class=\\\"md-block mb-0 mt-0\\\"><input id=\\\"AWSFileUploadInput\\\" ng-model=\\\"vm.file\\\" \\nname=\\\"file\\\" type=\\\"file\\\" class=\\\"add-file-button md-fab md-warn\\\" style=\\\"display:none\\\"><div \\nng-messages=\\\"checklistForm.file.$error\\\" ng-show=\\\"checklistForm.file.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\">\\n<span translate=\\\"CHECKLIST.ERRORS.ATTACHMENT_REQUIRED\\\">Attachment is required</span></div></div></md-input-container>\\n</div></md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button type=\\\"button\\\" ng-show=\\\"vm.upload || !vm.SelectedAttachments.length\\\" \\nng-click=\\\"vm.uploadAttachment(vm.pType, vm.pID, vm.index)\\\" class=\\\"\\\" aria-label=\\\"Upload Attachment\\\" \\ntranslate=\\\"CHECKLIST.UPLOAD\\\" translate-attr-aria-label=\\\"CHECKLIST.UPLOAD\\\">UPLOAD ATTACHMENTS</md-button><md-button \\ntype=\\\"button\\\" ng-hide=\\\"vm.upload || !vm.SelectedAttachments.length\\\" ng-click=\\\"vm.upload=true\\\" \\nclass=\\\"md-raised md-accent\\\" aria-label=\\\"Upload Attachment\\\" translate=\\\"CHECKLIST.UPLOAD_ATTACHMENT\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.UPLOAD_ATTACHMENT\\\">UPLOAD ATTACHMENTS</md-button></div></md-dialog-actions>\\n</md-dialog>\");\n$templateCache.put(\"app/main/checklist/dialogs/checklist/checklist-view-attachments-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">{{vm.title}}</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\">\\n</md-icon></md-button></div></md-toolbar><md-dialog-content><md-input-container class=\\\"md-block\\\"><input \\nid=\\\"AWSFileUploadInput\\\" ng-model=\\\"vm.file\\\" name=\\\"file\\\" type=\\\"file\\\" class=\\\"add-file-button md-fab md-warn\\\">\\n</md-input-container></md-dialog-content><md-dialog-content ms-scroll><md-input-container class=\\\"md-block\\\">\\n<md-progress-linear md-mode=\\\"determinate\\\" value=\\\"{{vm.uploadProgress}}\\\"></md-progress-linear>\\n{{ vm.uploadProgress == 0 ? \\'\\' : vm.uploadProgress + \\'%\\' }}</md-input-container></md-dialog-content><md-dialog-actions \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button \\ntype=\\\"button\\\" ng-click=\\\"vm.uploadAttachment()\\\" class=\\\"md-raised md-accent\\\" aria-label=\\\"Upload Attachment\\\" \\ntranslate=\\\"CHECKLIST.UPLOAD_ATTACHMENT\\\" translate-attr-aria-label=\\\"CHECKLIST.UPLOAD_ATTACHMENT\\\">UPLOAD</md-button>\\n</div></md-dialog-actions></md-dialog>\");\n$templateCache.put(\"app/main/checklist/sidenavs/main/main-sidenav.html\",\"\");\n$templateCache.put(\"app/main/checklist/views/detail/checklist.html\",\"<div id=\\\"checklist\\\" class=\\\"page-layout carded left-sidenav\\\" layout=\\\"row\\\"><div class=\\\"top-bg md-accent-bg\\\"></div>\\n<md-sidenav class=\\\"sidenav\\\" md-is-locked-open=\\\"$mdMedia(\\'gt-md\\')\\\" md-component-id=\\\"checklist-sidenav\\\" \\nng-include=\\\"\\'app/main/checklist/sidenavs/main/main-sidenav.html\\'\\\" ms-scroll ms-sidenav-helper></md-sidenav><div \\nclass=\\\"center\\\" layout=\\\"column\\\" flex><div class=\\\"header\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" hide-xs><div \\nclass=\\\"search-wrapper md-whiteframe-4dp\\\" flex layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button \\nclass=\\\"md-icon-button sidenav-toggle\\\" ng-click=\\\"vm.toggleSidenav(\\'checklist-sidenav\\')\\\" hide-gt-md \\naria-label=\\\"Toggle sidenav\\\" translate translate-attr-aria-label=\\\"CHECKLIST.TOGGLE_SIDENAV\\\"><md-icon \\nmd-font-icon=\\\"icon-menu\\\" class=\\\"icon\\\"></md-icon></md-button><div class=\\\"search\\\" flex layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-icon md-font-icon=\\\"icon-magnify\\\" class=\\\"icon s24\\\"></md-icon><input flex \\nng-model=\\\"vm.checklistFilters.search\\\" type=\\\"text\\\" placeholder=\\\"Search Checklists\\\" translate \\ntranslate-attr-placeholder=\\\"CHECKLIST.SEARCH\\\"></div></div></div><div class=\\\"content-card\\\" layout=\\\"column\\\" flex><div \\nclass=\\\"content\\\" layout=\\\"row\\\" flex><md-content class=\\\"todo-list-pane\\\" flex \\nng-include=\\\"\\'app/main/checklist/views/detail/detailschecklists.html\\'\\\" ms-scroll=\\\"vm.msScrollOptions\\\"></md-content>\\n</div></div></div></div>\");\n$templateCache.put(\"app/main/checklist/views/detail/conflictsChecklists.html\",\"xxx\");\n$templateCache.put(\"app/main/checklist/views/detail/detailsChecklistsHeadings.html\",\"<div class=\\\"checklist-item checklist-heading-bg\\\" ng-class=\\\"{\\'green\\':vm.passedNotification.id==heading.id}\\\" \\nmd-ink-ripple layout=\\\"row\\\" layout-align=\\\"start center\\\"><div data-as-sortable-item-handle class=\\\"handle\\\" \\nng-click=\\\"vm.preventDefault($event)\\\"><md-icon md-font-icon=\\\"icon-drag-vertical\\\" class=\\\"icon\\\"></md-icon></div><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\" flex \\nng-click=\\\"vm.toggle(\\'heading\\', heading); vm.fetchItemBlock(heading, checklist.id)\\\"><div class=\\\"info\\\" flex><div \\nclass=\\\"heading\\\">{{heading.name}}</div></div><div layout=\\\"row\\\" flex=\\\"15\\\" layout-align=\\\"end center\\\"><md-icon \\nmd-font-icon=\\\"icon-paperclip\\\" class=\\\"is-important indicator-icon s18\\\" \\nng-click=\\\"vm.openUploadAttachmentDialog($event, \\'heading\\', heading.id, $index, heading.attachments)\\\" \\nng-if=\\\"heading.attachments.length>0\\\"></md-icon><md-icon md-font-icon=\\\"icon-comment-text-outline\\\" \\nclass=\\\"is-important indicator-icon s18\\\" ng-click=\\\"vm.openConversationDialog(\\'heading\\', heading.id, heading.name)\\\" \\nng-if=\\\"heading.postCount>0\\\"></md-icon></div><div class=\\\"buttons\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-menu>\\n<md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button\\\" aria-label=\\\"More\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical\\\" class=\\\"s18\\\"></md-icon>\\n</md-button><md-menu-content width=\\\"3\\\" class=\\\"menu-height\\\"><md-menu-item><md-button \\nng-click=\\\"vm.add(\\'item\\',heading.id, $event)\\\" aria-label=\\\"Add Checkboxes\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.ADD_CHECKBOXES\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-plus-circle-outline\\\"></md-icon><span translate=\\\"CHECKLIST.ADD_CHECKBOXES\\\">Add New Checkboxes</span>\\n</md-button></md-menu-item><md-menu-item><md-button ng-click=\\\"vm.add(\\'item\\',heading.id, $event, \\'2\\')\\\" \\naria-label=\\\"Add Text Box\\\" translate-attr-aria-label=\\\"CHECKLIST.ADD_TEXT_BOX\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-plus-circle-outline\\\"></md-icon><span translate=\\\"CHECKLIST.ADD_TEXT_BOX\\\">Add Text Box</span>\\n</md-button></md-menu-item><md-divider class=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button \\nng-click=\\\"vm.openConversationDialog($event, \\'heading\\', heading.id, heading.name)\\\" aria-label=\\\"Conversations\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.CONVOS\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-comment-multipe-outline\\\"></md-icon><span translate=\\\"CHECKLIST.CONVOS\\\">Conversations</span>\\n</md-button></md-menu-item><md-menu-item><md-button ng-click=\\\"vm.toggle(\\'references\\',heading)\\\" \\naria-label=\\\"Show References\\\" translate-attr-aria-label=\\\"CHECKLIST.SHOW_REFERENCES\\\"><md-icon \\nng-show=\\\"heading.showReferences\\\" class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-checkbox-marked-outline\\\"></md-icon>\\n<md-icon ng-hide=\\\"heading.showReferences\\\" class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-checkbox-blank-outline\\\">\\n</md-icon><span translate=\\\"CHECKLIST.SHOW_REFERENCES\\\">Show References</span></md-button></md-menu-item><md-divider \\nclass=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button \\nng-click=\\\"vm.openUploadAttachmentDialog($event, \\'heading\\', heading.id, $index,heading.attachments)\\\" \\naria-label=\\\"Attachments\\\" translate-attr-aria-label=\\\"CHECKLIST.ATTACHMENTS\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-attachment\\\"></md-icon><span translate=\\\"CHECKLIST.ATTACHMENTS\\\">Attachments</span></md-button>\\n</md-menu-item><md-divider class=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button \\nng-click=\\\"vm.openHeadingDialog($event, heading)\\\" aria-label=\\\"Edit Heading Name\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.EDIT_HEADING_NAME\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-pencil\\\">\\n</md-icon><span translate=\\\"CHECKLIST.EDIT_HEADING_NAME\\\"></span></md-button></md-menu-item><md-menu-item><md-button \\nng-click=\\\"vm.deleteConfirm(\\'heading\\',heading)\\\" aria-label=\\\"Delete Heading\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE_HEADING\\\"><md-icon class=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\">\\n</md-icon><span translate=\\\"CHECKLIST.DELETE_HEADING\\\">Delete Heading</span></md-button></md-menu-item></md-menu-content>\\n</md-menu></div></div></div>\");\n$templateCache.put(\"app/main/checklist/views/detail/detailsChecklistsItems.html\",\"<div class=\\\"checklist-item\\\" \\nng-class=\\\"{\\'conflict\\':item.nonCompliant || item.conflicts, \\'md-green-100-bg\\':vm.passedNotification.id==item.id}\\\" \\nmd-ink-ripple layout=\\\"row\\\" layout-align=\\\"start center\\\"><div data-as-sortable-item-handle class=\\\"handle\\\" \\nng-click=\\\"vm.preventDefault($event)\\\"><md-icon md-font-icon=\\\"icon-drag-vertical\\\" class=\\\"icon\\\"></md-icon></div><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div class=\\\"info\\\" flex><div class=\\\"item\\\" layout=\\\"row\\\"><div \\nng-show=\\\"vm.isForm(item)\\\" flex=\\\"15\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><ul class=\\\"checkbox-list\\\"><li \\nng-show=\\\"vm.isForm(item)\\\"><button type=\\\"button\\\" ng-click=\\\"vm.openFormLineDialog($event, item)\\\" class=\\\"checkbox\\\">\\n<md-icon class=\\\"md-accent-fg s20\\\" md-font-icon=\\\"icon-pencil\\\"></md-icon></button></li></ul></div><div \\nng-hide=\\\"vm.isForm(item)\\\" flex=\\\"15\\\" layout=\\\"row\\\" layout-align=\\\"start end\\\"><ul class=\\\"checkbox-list\\\"><li \\nng-repeat=\\\"show in showingUsers track by $index\\\"><button type=\\\"button\\\" \\nng-click=\\\"vm.toggleCheckbox(item,\\'applies\\',$index)\\\" \\nng-disabled=\\\"checklist.complete || viewAs.notMe || (show.idCON !== user.idCON)\\\" class=\\\"checkbox\\\"><i \\nng-hide=\\\"item.checkbox[$index].applies\\\" class=\\\"icon-checkbox-blank-outline\\\"></i> <i \\nng-show=\\\"item.checkbox[$index].applies\\\" class=\\\"icon-checkbox-marked-outline\\\"></i> <span class=\\\"checkboxLabel\\\">\\n{{(show.idCON == user.idCON)?(showingUsers.length>1)?\\'YOU\\':\\'APPLY\\':show.name}}</span></button></li></ul></div><div \\nlayout=\\\"column\\\" layout-align=\\\"center start\\\"><div ng-class=\\\"{\\'text-bold form-line-question\\': vm.isForm(item)}\\\" \\nclass=\\\"item\\\" layout-align=\\\"start center\\\" layout=\\\"row\\\" flex>{{item.name}}</div><div \\nng-show=\\\"item.info.length && (checklist.showReferences || section.showReferences || heading.showReferences) && !vm.isForm(item)\\\" \\nng-bind-html=\\\"item.info | sanitize\\\" layout=\\\"row\\\" class=\\\"item\\\" flex><sup>{{ item.info }}</sup>{{ which.showReferences }}\\n</div><div ng-show=\\\"vm.isForm(item)\\\" layout=\\\"row\\\" class=\\\"item\\\" flex><span>{{ item.info }}</span></div></div><div \\nlayout=\\\"row\\\" flex=\\\"\\\" layout-align=\\\"end center\\\"><md-icon md-font-icon=\\\"icon-paperclip s20\\\" \\nclass=\\\"is-important indicator-icon s18\\\" \\nng-click=\\\"vm.openUploadAttachmentDialog($event, \\'item\\', item.id, $index, item.attachments)\\\" \\nng-if=\\\"item.attachments.length>0\\\"></md-icon><md-icon md-font-icon=\\\"icon-comment-text-outline s20\\\" \\nclass=\\\"is-important indicator-icon s18\\\" ng-click=\\\"vm.openConversationDialog(\\'item\\', item.id, item.name)\\\" \\nng-if=\\\"item.postCount>0\\\"></md-icon></div><div ng-hide=\\\"vm.isForm(item)\\\" layout=\\\"row\\\" layout-align=\\\"end center\\\"><ul \\nclass=\\\"checkbox-list\\\"><li ng-repeat=\\\"show in showingUsers track by $index\\\"><button type=\\\"button\\\" \\nng-click=\\\"vm.toggleCheckbox(item,\\'complies\\',$index)\\\" \\nng-disabled=\\\"checklist.complete || viewAs.notMe || (show.idCON !== user.idCON)\\\" class=\\\"checkbox\\\"><i \\nng-hide=\\\"item.checkbox[$index].complies\\\" class=\\\"icon-checkbox-blank-outline\\\"></i> <i \\nng-show=\\\"item.checkbox[$index].complies\\\" class=\\\"icon-checkbox-marked-outline\\\"></i> <span class=\\\"checkboxLabel\\\">\\n{{(show.idCON == user.idCON)?(showingUsers.length>1)?\\'YOU\\':\\'COMPLY\\':show.name}}</span></button></li></ul></div></div>\\n</div><div class=\\\"buttons\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" \\nclass=\\\"md-icon-button\\\" aria-label=\\\"More\\\" translate translate-attr-aria-label=\\\"CHECKLIST.MORE\\\"><md-icon \\nmd-font-icon=\\\"icon-dots-vertical\\\" class=\\\"s18\\\"></md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button\\n ng-click=\\\"vm.labels.select(item, $event)\\\" aria-label=\\\"Add Data Label\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.ADD_DATA_LABEL\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-label\\\">\\n</md-icon><span translate=\\\"CHECKLIST.ADD_DATA_LABEL\\\">Add Data Label</span></md-button></md-menu-item><md-divider \\nclass=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button \\nng-click=\\\"vm.openConversationDialog($event, \\'item\\', item.id, item.name)\\\" aria-label=\\\"Conversations\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.CONVOS\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-comment-multipe-outline\\\"></md-icon><span translate=\\\"CHECKLIST.CONVOS\\\">Conversations</span>\\n</md-button></md-menu-item><md-divider class=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button \\nng-click=\\\"vm.openUploadAttachmentDialog($event, \\'item\\', item.id, $index, item.attachments)\\\" aria-label=\\\"Attachments\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.ATTACHMENTS\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-attachment\\\">\\n</md-icon><span translate=\\\"CHECKLIST.ATTACHMENTS\\\">Attachments</span></md-button></md-menu-item><md-divider \\nclass=\\\"md-default-theme\\\"></md-divider><md-menu-item ng-hide=\\\"vm.isForm(item)\\\"><md-button \\nng-click=\\\"vm.openItemDialog($event, item)\\\" aria-label=\\\"Edit Checkbox Name\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.EDIT_CHECKBOX_NAME\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-pencil\\\">\\n</md-icon><span translate=\\\"CHECKLIST.EDIT_CHECKBOX_NAME\\\">Edit Checkbox Name</span></md-button></md-menu-item>\\n<md-menu-item ng-show=\\\"vm.isForm(item)\\\"><md-button ng-click=\\\"vm.openFormLineDialog($event, item)\\\" \\naria-label=\\\"Edit Form Line\\\" translate-attr-aria-label=\\\"CHECKLIST.EDIT_FORM_LINE\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-pencil\\\"></md-icon><span translate=\\\"CHECKLIST.EDIT_FORM_LINE\\\">Edit Form Line</span></md-button>\\n</md-menu-item><md-menu-item><md-button ng-click=\\\"vm.deleteConfirm(\\'item\\',item)\\\" aria-label=\\\"Delete Item\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE_ITEM\\\"><md-icon class=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\"></md-icon>\\n<span translate=\\\"CHECKLIST.DELETE_ITEM\\\">Delete Item</span></md-button></md-menu-item></md-menu-content></md-menu></div>\\n</div></div>\");\n$templateCache.put(\"app/main/checklist/views/detail/detailsChecklistsSections.html\",\"<div ng-show=\\\"!section.notApplicable\\\" \\nng-class=\\\"{\\'completed\\': section.notApplicable, \\'green\\':vm.passedNotification.id==section.id}\\\" \\nclass=\\\"checklist-item checklist-section-bg\\\" md-ink-ripple layout=\\\"row\\\" layout-align=\\\"start center\\\"><div \\ndata-as-sortable-item-handle class=\\\"handle\\\" ng-click=\\\"vm.preventDefault($event)\\\"><md-icon \\nmd-font-icon=\\\"icon-drag-vertical\\\" class=\\\"icon\\\"></md-icon></div><div layout=\\\"row\\\" layout-align=\\\"start center\\\" \\nng-click=\\\"vm.toggle(\\'section\\',section); vm.fetchHeadingBlock(section, checklist.id)\\\" flex><div class=\\\"info\\\" flex><div \\nclass=\\\"section\\\">{{section.name}}</div></div><div layout=\\\"row\\\" flex=\\\"15\\\" layout-align=\\\"end center\\\"><md-icon \\nmd-font-icon=\\\"icon-paperclip\\\" class=\\\"is-important indicator-icon s18\\\" \\nng-click=\\\"vm.openUploadAttachmentDialog($event, \\'section\\', section.id, $index, section.attachments)\\\" \\nng-if=\\\"section.attachments.length>0\\\"></md-icon><md-icon md-font-icon=\\\"icon-comment-text-outline\\\" \\nclass=\\\"is-important indicator-icon s18\\\" \\nng-click=\\\"vm.openConversationDialog($event, \\'section\\', section.id, section.name)\\\" ng-if=\\\"section.postCount>0\\\">\\n</md-icon></div><div class=\\\"buttons\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-menu><md-button \\nng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button\\\" aria-label=\\\"More\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical\\\" class=\\\"s18\\\"></md-icon>\\n</md-button><md-menu-content width=\\\"3\\\" class=\\\"menu-height\\\"><md-menu-item><md-button \\nng-click=\\\"vm.add(\\'heading\\',section.id, $event)\\\" aria-label=\\\"Add New Heading\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.ADD_HEADING\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-plus-circle-outline\\\"></md-icon><span translate=\\\"CHECKLIST.ADD_HEADING\\\">Add New Heading</span>\\n</md-button></md-menu-item><md-divider class=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button \\nng-click=\\\"vm.openConversationDialog(\\'section\\', section.id, section.name)\\\" aria-label=\\\"Start Conversation\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.CONVOS\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-comment-multipe-outline\\\"></md-icon><span translate=\\\"CHECKLIST.CONVOS\\\">Conversations</span>\\n</md-button></md-menu-item><md-menu-item><md-button ng-click=\\\"vm.toggle(\\'references\\',section)\\\" \\naria-label=\\\"Show References\\\" translate-attr-aria-label=\\\"CHECKLIST.SHOW_REFERENCES\\\"><md-icon \\nng-show=\\\"section.showReferences\\\" class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-checkbox-marked-outline\\\"></md-icon>\\n<md-icon ng-hide=\\\"section.showReferences\\\" class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-checkbox-blank-outline\\\">\\n</md-icon><span translate=\\\"CHECKLIST.SHOW_REFERENCES\\\">Show References</span></md-button></md-menu-item><md-divider \\nclass=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button \\nng-click=\\\"vm.openUploadAttachmentDialog($event, \\'section\\', section.id, $index,section.attachments)\\\" \\naria-label=\\\"Attachments\\\" translate-attr-aria-label=\\\"CHECKLIST.ATTACHMENTS\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-attachment\\\"></md-icon><span translate=\\\"CHECKLIST.ATTACHMENTS\\\">Attachments</span></md-button>\\n</md-menu-item><md-divider class=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button \\nng-click=\\\"vm.openSectionDialog($event, section)\\\" aria-label=\\\"Edit Section Name\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.EDIT_SECTION_NAME\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-pencil\\\">\\n</md-icon><span translate=\\\"CHECKLIST.EDIT_SECTION_NAME\\\">Edit Section Name</span></md-button></md-menu-item>\\n<md-menu-item><md-button ng-click=\\\"vm.deleteConfirm(\\'section\\',section)\\\" aria-label=\\\"Delete Section\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE_SECTION\\\"><md-icon class=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\">\\n</md-icon><span translate=\\\"CHECKLIST.DELETE_SECTION\\\">Delete Section</span></md-button></md-menu-item><md-menu-item>\\n<md-button ng-click=\\\"vm.toggle(\\'na\\', section)\\\" aria-label=\\\"Section Disabled N/A\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SECTION_NA\\\"><md-icon ng-show=\\\"section.notApplicable\\\" class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-checkbox-marked-outline\\\"></md-icon><md-icon ng-hide=\\\"section.notApplicable\\\" \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-checkbox-blank-outline\\\"></md-icon><span translate=\\\"CHECKLIST.SECTION_NA\\\">\\nSection N/A</span></md-button></md-menu-item></md-menu-content></md-menu></div></div></div>\");\n$templateCache.put(\"app/main/checklist/views/detail/detailschecklists.html\",\"<div ng-show=\\\"vm.loaded.checklist && !vm.isLinked\\\"><div class=\\\"alert alert-warning\\\"><strong>NOT LINKED!</strong><p>\\nYou are not linked to this Checklist.</p></div></div><div class=\\\"checklist-items\\\" id=\\\"checklist-details\\\"><div \\nng-repeat=\\\"checklist in vm.checklists | filter: globalSearch.searchTerm | filter: vm.checklistFilters.search track by $index\\\">\\n<div class=\\\"checklist-item checklist-title-bg\\\" md-ink-ripple layout=\\\"row\\\" layout-align=\\\"start center\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div class=\\\"info\\\" flex=\\\"50\\\"><div class=\\\"checklist\\\">{{checklist.name}}\\n</div></div><div layout=\\\"row\\\" flex=\\\"\\\" layout-align=\\\"end center\\\"><md-icon md-font-icon=\\\"icon-paperclip\\\" \\nclass=\\\"is-important indicator-icon s18\\\" \\nng-click=\\\"vm.openUploadAttachmentDialog($event, \\'checklist\\', checklist.idCHK, $index,vm.attachments)\\\" \\nng-if=\\\"vm.attachments.length>0\\\"></md-icon><md-icon md-font-icon=\\\"icon-comment-text-outline\\\" \\nclass=\\\"is-important indicator-icon s18\\\" \\nng-click=\\\"vm.openConversationDialog($event, \\'checklist\\', checklist.idCHK, checklist.name)\\\" \\nng-if=\\\"checklist.postCount>0\\\"></md-icon><md-icon md-font-icon=\\\"icon-alert-circle\\\" \\nclass=\\\"is-important red-600-fg indicator-icon s18\\\" ng-click=\\\"vm.openConflictsDialog($event)\\\" \\nng-if=\\\"showingUsers.length>1\\\"></md-icon></div><div class=\\\"buttons\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-menu>\\n<md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button\\\" aria-label=\\\"More\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical\\\" class=\\\"s18\\\"></md-icon>\\n</md-button><md-menu-content width=\\\"3\\\" class=\\\"menu-height\\\"><md-menu-item><md-button \\nng-click=\\\"vm.add(\\'section\\',checklist.idCHK, $event)\\\" aria-label=\\\"Add New Sction\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.ADD_SECTION\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-plus-circle-outline\\\"></md-icon><span translate=\\\"CHECKLIST.ADD_SECTION\\\">Add New Section</span>\\n</md-button></md-menu-item><md-divider class=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button \\nng-click=\\\"vm.openConversationDialog(\\'checklist\\', checklist.idCHK, checklist.name)\\\" aria-label=\\\"Start Conversation\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.CONVOS\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-comment-multipe-outline\\\"></md-icon><span translate=\\\"CHECKLIST.CONVOS\\\">Conversations</span>\\n</md-button></md-menu-item><md-menu-item ng-show=\\\"permissions.has(\\'inviteToChecklist\\')\\\"><md-button \\nng-click=\\\"vm.sendLinkRequest($event, vm.idCHK)\\\" aria-label=\\\"Send Link Request\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.LINK_REQUEST\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-account-plus\\\">\\n</md-icon><span translate=\\\"CHECKLIST.SEND_LINK_REQUEST\\\">Send Link Request</span></md-button></md-menu-item>\\n<md-menu-item><md-button ng-click=\\\"vm.showLinkedUsers($event, checklist)\\\" aria-label=\\\"Show Linked Users\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SHOW_LINKED_USERS\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-account-switch\\\"></md-icon><span translate=\\\"CHECKLIST.SHOW_LINKED_USERS\\\">Show Linked Users</span>\\n</md-button></md-menu-item><md-menu-item><md-button ng-click=\\\"vm.toggle(\\'references\\',checklist)\\\" \\naria-label=\\\"Show References\\\" translate-attr-aria-label=\\\"CHECKLIST.SHOW_REFERENCES\\\"><md-icon \\nng-show=\\\"checklist.showReferences\\\" class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-checkbox-marked-outline\\\"></md-icon>\\n<md-icon ng-hide=\\\"checklist.showReferences\\\" class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-checkbox-blank-outline\\\">\\n</md-icon><span translate=\\\"CHECKLIST.SHOW_REFERENCES\\\">Show References</span></md-button></md-menu-item><md-divider \\nclass=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button \\nng-click=\\\"vm.openUploadAttachmentDialog($event, \\'checklist\\', checklist.idCHK, $index,vm.attachments)\\\" \\naria-label=\\\"Attachments\\\" translate-attr-aria-label=\\\"CHECKLIST.ATTACHMENTS\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-attachment\\\"></md-icon><span translate=\\\"CHECKLIST.ATTACHMENTS\\\">Attachments</span></md-button>\\n</md-menu-item><md-menu-item><md-button ng-click=\\\"vm.downloadPDF($ev, checklist.idCHK, checklist.name)\\\" \\naria-label=\\\"Download PDF\\\" translate-attr-aria-label=\\\"CHECKLIST.DOWNLOAD_PDF\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-file-pdf\\\"></md-icon><span translate=\\\"CHECKLIST.DOWNLOAD_PDF\\\">Download PDF</span></md-button>\\n</md-menu-item><md-menu-item ng-show=\\\"permissions.has(\\'saveChecklist\\')\\\"><md-button \\nng-click=\\\"vm.downloadXML($ev, checklist.idCHK, checklist.name)\\\" aria-label=\\\"Download Checklist\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.EXPORT_CHECKLIST\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-data\\\">\\n</md-icon><span translate=\\\"CHECKLIST.EXPORT_CHECKLIST\\\">Export Checklist</span></md-button></md-menu-item><md-menu-item \\nng-show=\\\"permissions.has(\\'publishTemplate\\')\\\"><md-button ng-click=\\\"vm.publishTemplate($event, checklist.idCHK)\\\" \\naria-label=\\\"Publish as Template\\\" translate-attr-aria-label=\\\"CHECKLIST.PUBLISH_TEMPLATE\\\"><md-icon \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-cloud-upload\\\"></md-icon><span translate=\\\"CHECKLIST.PUBLISH_TEMPLATE\\\">\\nPublish as Template</span></md-button></md-menu-item><md-divider class=\\\"md-default-theme\\\"></md-divider><md-menu-item>\\n<md-button ng-click=\\\"vm.openChecklistDialog($event, checklist)\\\" aria-label=\\\"Edit Checklist Name\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.EDIT_CHECKLIST_NAME\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-pencil\\\">\\n</md-icon><span translate=\\\"CHECKLIST.EDIT_CHECKLIST_NAME\\\">Edit Checklist Name</span></md-button></md-menu-item>\\n<md-menu-item><md-button ng-click=\\\"vm.deleteConfirm(\\'checklist\\', checklist, $event)\\\" aria-label=\\\"Delete Checklist\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE_CHECKLIST\\\"><md-icon class=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\">\\n</md-icon><span translate=\\\"CHECKLIST.DELETE_CHECKLIST\\\">Delete Checklist</span></md-button></md-menu-item><md-menu-item>\\n<md-button ng-click=\\\"vm.toggleComplete(checklist)\\\" aria-label=\\\"Complete Checklist\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.COMPLETE_CHECKLIST\\\"><md-icon ng-show=\\\"checklist.complete\\\" \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-checkbox-marked-outline\\\"></md-icon><md-icon ng-hide=\\\"checklist.complete\\\" \\nclass=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-checkbox-blank-outline\\\"></md-icon><span \\ntranslate=\\\"CHECKLIST.COMPLETE_CHECKLIST\\\">Complete Checklist</span></md-button></md-menu-item></md-menu-content>\\n</md-menu></div></div></div><div class=\\\"checklist-items\\\" data-as-sortable=\\\"vm.dragControlListenersSections\\\" \\ndata-ng-model=\\\"checklist.sections\\\"><div data-as-sortable-item md-ink-ripple \\ndata-ng-repeat=\\\"section in checklist.sections | filter: globalSearch.searchTerm | filter: vm.checklistFilters.search\\\">\\n<div ng-include=\\\"\\'app/main/checklist/views/detail/detailsChecklistsSections.html\\'\\\"></div><div class=\\\"checklist-items\\\" \\ndata-as-sortable=\\\"vm.dragControlListenersHeadings\\\" data-ng-model=\\\"section.headings\\\"><div data-as-sortable-item \\nmd-ink-ripple ng-show=\\\"!section.notApplicable && vm.isExpanded(\\'section\\',section)\\\" \\ndata-ng-repeat=\\\"heading in section.headings | filter: globalSearch.searchTerm | filter: vm.checklistFilters.search\\\">\\n<div ng-include=\\\"\\'app/main/checklist/views/detail/detailsChecklistsHeadings.html\\'\\\"></div><div class=\\\"checklist-items\\\" \\ndata-as-sortable=\\\"vm.dragControlListenersItems\\\" data-ng-model=\\\"heading.items\\\"><div data-as-sortable-item md-ink-ripple \\nng-show=\\\"!heading.notApplicable && vm.isExpanded(\\'heading\\', heading)\\\" \\ndata-ng-repeat=\\\"item in heading.items | filter: globalSearch.searchTerm | filter: vm.checklistFilters.search\\\"><div \\nng-include=\\\"\\'app/main/checklist/views/detail/detailsChecklistsItems.html\\'\\\"></div></div></div></div></div></div></div>\\n</div></div>\");\n$templateCache.put(\"app/main/checklist/views/detail/list-view.html\",\"<div \\nng-repeat=\\\"checklist in vm.checklists | filter: globalSearch.searchTerm | filter: vm.checklistFilters.search track by $index\\\">\\n<ul data-as-sortable=\\\"vm.dragControlListeners\\\" data-ng-model=\\\"checklist.sections\\\"><li \\ndata-ng-repeat=\\\"section in checklist.sections\\\" data-as-sortable-item><div data-as-sortable-item-handle \\nng-click=\\\"vm.toggle(\\'section\\',section); vm.fetchHeadingBlock(section, checklist.id)\\\">{{ section.name }}</div><ul \\ndata-as-sortable=\\\"vm.dragControlListeners\\\" data-ng-model=\\\"section.headings\\\"><li \\ndata-ng-repeat=\\\"heading in section.headings\\\" data-as-sortable-item><div data-as-sortable-item-handle \\nng-click=\\\"vm.toggle(\\'heading\\', heading); vm.fetchItemBlock(heading, checklist.id)\\\">{{ heading.name }}</div><ul \\ndata-as-sortable=\\\"vm.dragControlListeners\\\" data-ng-model=\\\"heading.items\\\"><li data-ng-repeat=\\\"item in heading.items\\\" \\ndata-as-sortable-item><div data-as-sortable-item-handle>{{ item.name }}</div></li></ul></li></ul></li></ul></div>\");\n$templateCache.put(\"app/main/checklist/views/infinity/checklist.html\",\"<div id=\\\"checklist\\\" class=\\\"page-layout carded left-sidenav\\\" layout=\\\"row\\\"><div class=\\\"top-bg md-accent-bg\\\"></div>\\n<md-sidenav class=\\\"sidenav\\\" md-is-locked-open=\\\"$mdMedia(\\'gt-md\\')\\\" md-component-id=\\\"checklist-sidenav\\\" \\nng-include=\\\"\\'app/main/checklist/sidenavs/main/main-sidenav.html\\'\\\" ms-scroll ms-sidenav-helper></md-sidenav><div \\nclass=\\\"center\\\" layout=\\\"column\\\" flex><div class=\\\"header\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" hide-xs><div \\nclass=\\\"search-wrapper md-whiteframe-4dp\\\" flex layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button \\nclass=\\\"md-icon-button sidenav-toggle\\\" ng-click=\\\"vm.toggleSidenav(\\'checklist-sidenav\\')\\\" hide-gt-md \\naria-label=\\\"Toggle sidenav\\\" translate translate-attr-aria-label=\\\"CHECKLIST.TOGGLE_SIDENAV\\\"><md-icon \\nmd-font-icon=\\\"icon-menu\\\" class=\\\"icon\\\"></md-icon></md-button><div class=\\\"search\\\" flex layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-icon md-font-icon=\\\"icon-magnify\\\" class=\\\"icon s24\\\"></md-icon><input flex \\nng-model=\\\"vm.checklistFilters.search\\\" type=\\\"text\\\" placeholder=\\\"Search Checklists\\\" translate \\ntranslate-attr-placeholder=\\\"CHECKLIST.SEARCH\\\"></div></div></div><div class=\\\"content-card\\\" layout=\\\"column\\\" flex><div \\nclass=\\\"content\\\" layout=\\\"row\\\" flex><md-content class=\\\"todo-list-pane\\\" flex \\nng-include=\\\"\\'app/main/checklist/views/infinity/infinity-detailschecklists.html\\'\\\" ms-scroll=\\\"vm.msScrollOptions\\\">\\n</md-content></div></div></div></div>\");\n$templateCache.put(\"app/main/checklist/views/infinity/infinity-detailschecklists.html\",\"<div><div infinite-scroll=\\\"loadMore()\\\" infinite-scroll-distance=\\\"\\\"><img ng-repeat=\\\"image in images\\\" \\nng-src=\\\"http://placehold.it/225x250&text={{image}}\\\"></div></div>\");\n$templateCache.put(\"app/main/checklist/views/list/checklists.html\",\"<div class=\\\"todo-items\\\" ng-sortable=\\\"vm.sortableOptions\\\" ng-model=\\\"vm.checklists\\\" \\nng-class=\\\"{\\'sortable\\': vm.checklistOrder === \\'\\'}\\\"><div class=\\\"todo-item\\\" md-ink-ripple layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" \\nng-repeat=\\\"checklist in vm.checklists | orderBy:vm.checklistOrder:vm.checklistOrderDescending | filter: globalSearch.searchTerm | filter:vm.checklistFilters.search track by $index\\\" \\nng-class=\\\"{\\'starred\\': checklist.starred, \\'selected\\': checklist.selected, \\'completed\\': checklist.completed}\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div class=\\\"info\\\" flex><div class=\\\"title\\\"><a \\nhref=\\\"/checklist/detail/{{checklist.idCHK}}\\\">{{checklist.name}}</a></div></div><div class=\\\"buttons\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-icon md-font-icon=\\\"icon-alert-circle\\\" class=\\\"is-important red-600-fg\\\" \\nng-if=\\\"checklist.important\\\"></md-icon><md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button\\\" \\naria-label=\\\"More\\\" translate translate-attr-aria-label=\\\"CHECKLIST.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical\\\" \\nclass=\\\"s18\\\"></md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button \\nng-click=\\\"vm.deleteConfirm(\\'checklist\\',checklist)\\\" aria-label=\\\"Delete Checklist\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE_CHECKLIST\\\"><md-icon class=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\">\\n</md-icon><span translate=\\\"CHECKLIST.DELETE_CHECKLIST\\\">Delete Checklist</span></md-button></md-menu-item><md-menu-item>\\n<md-button ng-click=\\\"vm.openChecklistDialog($event, checklist)\\\" aria-label=\\\"Edit Checklist Name\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.EDIT_CHECKLIST_NAME\\\"><md-icon class=\\\"md-accent s18\\\" md-font-icon=\\\"icon-pencil\\\">\\n</md-icon><span translate=\\\"CHECKLIST.EDIT_CHECKLIST_NAME\\\">Edit Checklist Name</span></md-button></md-menu-item>\\n</md-menu-content></md-menu></div></div></div><div class=\\\"todo-item\\\" md-ink-ripple layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" ng-if=\\\"!vm.checklists.length\\\" \\nng-class=\\\"{\\'starred\\': checklist.starred, \\'selected\\': checklist.selected, \\'completed\\': checklist.completed}\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div class=\\\"info\\\" flex><div class=\\\"title\\\">\\nYou do not have any checklists in this folder</div></div><div class=\\\"buttons\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button\\\" aria-label=\\\"More\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical\\\" class=\\\"s18\\\"></md-icon>\\n</md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"vm.addChecklistDialog($event)\\\" \\naria-label=\\\"Add Checklist\\\" translate-attr-aria-label=\\\"CHECKLIST.ADD_CHECKLIST\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-plus-circle-outline\\\"></md-icon><span translate=\\\"CHECKLIST.ADD_CHECKLIST\\\">Add New Checklist</span>\\n</md-button></md-menu-item></md-menu-content></md-menu></div></div></div></div>\");\n$templateCache.put(\"app/main/checklist/views/stepper/new-checklist-1-new-folder.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"100\\\"><label translate=\\\"FOLDER.NAME\\\">Project Name</label><input \\nname=\\\"name\\\" ng-model=\\\"vm.folder.name\\\" md-autofocus required><div ng-messages=\\\"wizardStep1.name.$error\\\" \\nng-show=\\\"wizardStep1.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"CHECKLIST.ERRORS.PROJECT_NAME_REQUIRED\\\">Project Name field is required</span></div></div>\\n</md-input-container></div>\");\n$templateCache.put(\"app/main/checklist/views/stepper/new-checklist-1.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"70\\\"><md-select ng-model=\\\"vm.verticalStepper.step1.folderID\\\" \\nname=\\\"folderID\\\" aria-label=\\\"Select Project\\\" placeholder=\\\"Select Existing Project\\\" md-autofocus required><md-option \\nng-repeat=\\\"folder in vm.folders\\\" value=\\\"{{folder.id}}\\\" ng-selected=\\\"folder.id == vm.verticalStepper.newFolderID\\\" \\nng-click=\\\"vm.fetchGroups(folder.id)\\\">{{folder.name}}</md-option></md-select><div \\nng-messages=\\\"vm.verticalStepper.step1.folderID.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>\\nProject is required.</span></div></div></md-input-container><md-input-container flex=\\\"30\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\"><md-button class=\\\"md-raised md-accent\\\" ng-click=\\\"vm.openFolderInput()\\\" \\naria-label=\\\"Create New Project\\\" translate-attr-aria-label=\\\"CHECKLIST.ADD_NEW_PROJECT\\\">NEW PROJECT</md-button>\\n</md-input-container></div>\");\n$templateCache.put(\"app/main/checklist/views/stepper/new-checklist-2-new-group.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"100\\\"><label translate=\\\"GROUP.NAME\\\">Group Name</label><input \\nname=\\\"name\\\" ng-model=\\\"vm.group.text\\\" md-autofocus required><div ng-messages=\\\"groupForm.text.$error\\\" \\nng-show=\\\"groupForm.text.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"GROUP.ERRORS.GROUP_NAME_REQUIRED\\\">Group Name field is required</span></div></div></md-input-container></div>\");\n$templateCache.put(\"app/main/checklist/views/stepper/new-checklist-2.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"70\\\"><md-select ng-model=\\\"vm.verticalStepper.step2.groupID\\\" \\nname=\\\"groupID\\\" placeholder=\\\"Select Existing  Folder\\\" required><md-option ng-repeat=\\\"group in vm.groups\\\" \\nvalue=\\\"{{group.id}}\\\" ng-selected=\\\"group.id == vm.verticalStepper.newGroupID\\\">{{group.name}}</md-option></md-select><div\\n ng-messages=\\\"vm.verticalStepper.step2.groupID.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>\\nFolder is required.</span></div></div></md-input-container><md-input-container flex=\\\"30\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\"><md-button class=\\\"md-raised md-accent\\\" ng-click=\\\"vm.openGroupInput()\\\" \\naria-label=\\\"Create New Folder\\\" translate-attr-aria-label=\\\"CHECKLIST.NEW_GROUP\\\">NEW FOLDER</md-button>\\n</md-input-container></div>\");\n$templateCache.put(\"app/main/checklist/views/stepper/new-checklist-3.html\",\"<div class=\\\"md-inline-form\\\"><p>Enter <span class=\\\"text-bold\\\">Checklist</span> Name</p><div layout=\\\"column\\\" \\nlayout-gt-xs=\\\"row\\\" flex><md-input-container flex=\\\"100\\\" flex-gt-xs=\\\"50\\\"><input type=\\\"text\\\" name=\\\"checklistName\\\" \\nng-model=\\\"vm.verticalStepper.step3.name\\\" placeholder=\\\"Checklist Name\\\" required><div ng-messages=\\\"checklistName.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Checklist Name field is required.</span></div></div></md-input-container>\\n</div></div><md-button class=\\\"send-button md-accent md-raised\\\" \\nng-click=\\\"vm.addNewChecklist(vm.verticalStepper.step3.name, vm.verticalStepper.step2.groupID, vm.verticalStepper.step1.folderID )\\\" \\naria-label=\\\"ADD FOLDER\\\" ng-disabled=\\\"!vm.verticalStepper.step3.name || vm.verticalStepper.step3.name.$pristine\\\" \\ntranslate=\\\"CHECKLIST.ADD_NEW_CHECKLIST\\\" translate-attr-aria-label=\\\"CHECKLIST.ADD_NEW_CHECKLIST\\\">ADD NEW FOLDER\\n</md-button><md-button class=\\\"md-accent md-raised\\\" ng-click=\\\"vm.cancelChecklistInput()\\\" ar ia-label=\\\"CANCEL\\\" \\ntranslate=\\\"CHECKLIST.CANCEL\\\" translate-attr-aria-label=\\\"CHECKLIST.CANCEL\\\">CANCEL</md-button>\");\n$templateCache.put(\"app/main/checklist/views/stepper/search-templates.html\",\"<md-dialog-content ms-scroll ng-show=\\\"vm.find.results.templates.length\\\"><table class=\\\"simple\\\" ms-responsive-table>\\n<thead><tr><th>Template Name</th><th hide-xs>Organization</th><th>Author</th><th hide-xs>Created</th><th \\nclass=\\\"text-right\\\">Add</th></tr></thead><tfoot><tr><td colspan=\\\"5\\\">&nbsp;</td></tr></tfoot><tbody><tr \\nng-repeat=\\\"res in vm.find.results.templates\\\"><td class=\\\"name\\\">{{res.name}}</td><td class=\\\"salary\\\" hide-xs>\\n{{res.organization}}</td><td class=\\\"name\\\">{{res.author}}</td><td class=\\\"name\\\" hide-xs>\\n{{res.created | date:\\'MMMM d, yyyy\\'}}</td><td class=\\\"text-right\\\" ng-switch=\\\"res.status\\\"><span ng-switch-when=\\\"Linked\\\">\\nAlready</span><md-button type=\\\"button\\\" class=\\\"icon-button\\\" aria-label=\\\"Invite\\\" \\nng-click=\\\"vm.find.create(res.id, vm.verticalStepper.step2.groupID)\\\"><md-icon md-font-icon=\\\"icon-plus-circle-outline\\\" \\nclass=\\\"md-accent-fg s18\\\"></md-icon></md-button></td></tr></tbody></table></md-dialog-content><md-input-container \\nclass=\\\"md-block\\\"><label translate=\\\"CHECKLIST.SEARCH_BY_TEMPLATE_NAME\\\">Search by Template Name</label><input \\nid=\\\"findTemplateName\\\" ng-model=\\\"vm.find.template.criteria.name\\\" autofocus=\\\"autofocus\\\" type=\\\"text\\\"></md-input-container>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.SEARCH_BY_ORGANIZATION\\\">Search by Organization</label>\\n<input id=\\\"findTemplateOrg\\\" type=\\\"text\\\" ng-model=\\\"vm.find.template.criteria.organization\\\"></md-input-container>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.SEARCH_BY_AUTHOR\\\">Search by Author</label><input \\nid=\\\"findTemplateAuthor\\\" type=\\\"text\\\" ng-model=\\\"vm.find.template.criteria.author\\\"></md-input-container><md-button \\ntype=\\\"submit\\\" class=\\\"md-accent md-button md-raised ng-scope md-ink-ripple md-default-theme submit-button\\\" \\naria-label=\\\"SEARCH\\\" ng-disabled=\\\"vm.find.searching\\\">SEARCH</md-button>\");\n$templateCache.put(\"app/main/contacts/dialogs/contact/add-contact-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"New Task\\\"><form name=\\\"contactForm\\\" class=\\\"md-inline-form\\\" \\nng-disabled=\\\"vm.searching\\\" ng-submit=\\\"vm.queryContacts(vm.findContacts.criteria)\\\"><md-toolbar \\nclass=\\\"md-accent md-hue-2 md-tall\\\" layout=\\\"column\\\"><div class=\\\"md-toolbar-tools md-toolbar-tools-top\\\" layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\"><span class=\\\"title\\\">Add New Contact</span><md-button class=\\\"md-icon-button\\\" \\nng-click=\\\"vm.closeDialog()\\\" aria-label=\\\"Close dialog\\\" translate translate-attr-aria-label=\\\"CONTACTS.CLOSE_DIALOG\\\">\\n<md-icon md-font-icon=\\\"icon-close\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content><md-input-container \\nclass=\\\"md-icon-float md-block\\\"><label translate=\\\"CONTACTS.SEARCH_CONTACTS\\\">Search</label><input \\nng-model=\\\"vm.findContacts.criteria.queryString\\\" type=\\\"text\\\" required></md-input-container></md-dialog-content>\\n<md-dialog-content ms-scroll ng-show=\\\"vm.findContacts.results.length\\\"><table class=\\\"simple\\\" ms-responsive-table><thead>\\n<tr><th>Organization</th><th>Name</th><th class=\\\"text-right\\\">&nbsp;</th></tr></thead><tfoot><tr><td></td></tr></tfoot>\\n<tbody><tr ng-repeat=\\\"res in  vm.findContacts.results\\\"><td class=\\\"name\\\">{{res.organization}}</td><td class=\\\"salary\\\">\\n{{res.name.full}}</td><td class=\\\"text-right\\\"><md-button ng-if=\\\"vm.friendshipStatus(res.id) == \\'Friend\\'\\\" \\nclass=\\\"icon-button\\\" aria-label=\\\"Linked\\\" ng-click=\\\"vm.removeConnectionInvitation(res.id)\\\"><md-icon \\nmd-font-icon=\\\"icon-google-circles\\\" class=\\\"md-accent-fg s18\\\"></md-icon></md-button><md-button \\nng-if=\\\"vm.friendshipStatus(res.id) == \\'Sent\\'\\\" class=\\\"icon-button\\\" aria-label=\\\"Linked\\\" \\nng-click=\\\"vm.removeConnectionInvitation(res.id)\\\"><md-icon md-font-icon=\\\"icon-google-circles\\\" class=\\\"md-accent-fg s18\\\">\\n</md-icon></md-button><md-button ng-if=\\\"vm.friendshipStatus(res.id) == \\'Strangers\\'\\\" class=\\\"icon-button\\\" \\naria-label=\\\"Invite\\\" ng-click=\\\"vm.inviteToConnect(res.id)\\\" ng-disabled=\\\"link.requesting\\\"><md-icon \\nmd-font-icon=\\\"icon-google-circles-invite\\\" class=\\\"md-accent-fg s18\\\"></md-icon></md-button></td></tr></tbody></table>\\n</md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" \\nclass=\\\"md-accent md-button md-raised ng-scope md-ink-ripple md-default-theme submit-button\\\" aria-label=\\\"SEARCH\\\" \\nng-disabled=\\\"vm.searching\\\">SEARCH</md-button></div></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/contacts/dialogs/contact/contact-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"New Task\\\"><form name=\\\"contactForm\\\" class=\\\"md-inline-form\\\" novalidate \\nng-switch=\\\"(which = vm.showWhichInviteContactData(vm.contact))\\\"><md-toolbar class=\\\"md-accent md-hue-2 md-tall\\\" \\nlayout=\\\"column\\\"><div class=\\\"md-toolbar-tools md-toolbar-tools-top\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\">\\n<span class=\\\"title\\\">{{vm.contact.contacts[which].name.full}}</span><md-button class=\\\"md-icon-button\\\" \\nng-click=\\\"vm.closeDialog()\\\" aria-label=\\\"Close dialog\\\" translate translate-attr-aria-label=\\\"CONTACTS.CLOSE_DIALOG\\\">\\n<md-icon md-font-icon=\\\"icon-close\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content ms-scroll>\\n<md-input-container class=\\\"md-icon-float md-block\\\"><label>First Name</label><input \\nng-model=\\\"vm.contact.contacts[which].name.first\\\" type=\\\"text\\\" disabled=\\\"disabled\\\"></md-input-container>\\n<md-input-container class=\\\"md-icon-float md-block\\\"><label translate=\\\"CONTACTS.LAST_NAME\\\">Last name</label><input \\nng-model=\\\"vm.contact.contacts[which].name.last\\\" type=\\\"text\\\" disabled=\\\"disabled\\\"></md-input-container>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"CONTACTS.COMPANY\\\">Organization</label><input \\nng-model=\\\"vm.contact.contacts[which].organization\\\" type=\\\"text\\\" placeholder=\\\"Company\\\" disabled=\\\"disabled\\\">\\n</md-input-container><md-input-container class=\\\"md-block\\\"><label translate=\\\"CONTACTS.PHONE_NUMBER\\\">Phone Number</label>\\n<input ng-model=\\\"vm.contact.contacts[which].phone\\\" type=\\\"text\\\" placeholder=\\\"Phone number\\\" disabled=\\\"disabled\\\">\\n</md-input-container><md-input-container class=\\\"md-block\\\"><label translate=\\\"CONTACTS.EMAIL\\\">Email Address</label><input\\n ng-model=\\\"vm.contact.contacts[which].email\\\" type=\\\"email\\\" placeholder=\\\"Email Address\\\" disabled=\\\"disabled\\\">\\n</md-input-container></md-dialog-content></form></md-dialog>\");\n$templateCache.put(\"app/main/contacts/dialogs/contact/direct-message-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"Direct Message\\\"><form name=\\\"messageForm\\\" class=\\\"md-inline-form\\\" \\nng-submit=\\\"vm.submitPost()\\\" novalidate><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">{{vm.title}}</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\">\\n</md-icon></md-button></div></md-toolbar><md-dialog-content ms-scroll><md-input-container class=\\\"md-block\\\"><label \\ntranslate=\\\"CONTACTS.FROM\\\">From</label><input ng-model=\\\"vm.from\\\" type=\\\"text\\\" disabled=\\\"disabled\\\"></md-input-container>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"CONTACTS.TO\\\">From</label><input ng-model=\\\"vm.to\\\" type=\\\"text\\\" \\ndisabled=\\\"disabled\\\"></md-input-container><md-input-container class=\\\"md-block\\\"><label>Message</label><input \\nname=\\\"message\\\" ng-model=\\\"vm.message\\\" required md-autofocus><div ng-messages=\\\"messageForm.message.$error\\\" \\nng-show=\\\"messageForm.message.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span></span></div></div>\\n</md-input-container></md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" class=\\\"send-button md-accent md-raised\\\" \\nng-disabled=\\\"messageForm.$invalid || messageForm.$pristine\\\" aria-label=\\\"Save\\\" translate=\\\"CONTACTS.SEND_MESSAGE\\\" \\ntranslate-attr-aria-label=\\\"CONTACTS.SEND_MESSAGE\\\">SEND MESSAGE</md-button></div></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/file-manager/sidenavs/details/details-sidenav.html\",\"<div class=\\\"header md-accent-bg\\\" layout=\\\"column\\\" layout-align=\\\"space-between\\\"><div class=\\\"toolbar\\\" layout=\\\"row\\\" \\nlayout-align=\\\"end center\\\"><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.delete()\\\" aria-label=\\\"Delete\\\" translate \\ntranslate-attr-aria-label=\\\"FM.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"FM.DELETE\\\">Delete</span></md-tooltip></md-button><md-button class=\\\"md-icon-button\\\" aria-label=\\\"Download\\\" \\ntranslate translate-attr-aria-label=\\\"FM.DOWNLOAD\\\"><md-icon md-font-icon=\\\"icon-download\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"FM.DOWNLOAD\\\">Download</span></md-tooltip></md-button><md-button class=\\\"md-icon-button\\\" aria-label=\\\"More\\\" \\ntranslate translate-attr-aria-label=\\\"FM.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"FM.MORE\\\">More</span></md-tooltip></md-button></div><div><div class=\\\"title\\\">{{vm.selected.name}}</div><div \\nclass=\\\"subtitle secondary-text\\\"><span translate=\\\"FM.EDITED\\\">Edited</span>: {{vm.selected.modified}}</div></div></div>\\n<md-content class=\\\"content\\\" flex ms-scroll><div class=\\\"file-details\\\"><div class=\\\"preview file-icon\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\"><i class=\\\"icon-{{vm.selected.type}} s48\\\"></i></div><md-list class=\\\"offline-switch\\\">\\n<md-list-item><p translate=\\\"FM.AVAILABLE_OFFLINE\\\">Available Offline</p><md-switch class=\\\"md-secondary\\\" \\nng-model=\\\"vm.selected.offline\\\" aria-label=\\\"Toggle offline\\\" translate translate-attr-aria-label=\\\"FM.TOOGLE_OFFLINE\\\">\\n</md-switch></md-list-item></md-list><div class=\\\"title\\\" translate=\\\"FM.INFO\\\">Info</div><table><tr class=\\\"type\\\"><th \\ntranslate=\\\"FM.TYPE\\\">Type</th><td>{{vm.selected.type}}</td></tr><tr class=\\\"size\\\"><th translate=\\\"FM.SIZE\\\">Size</th><td>\\n{{vm.selected.size === \\'\\' ? \\'-\\': vm.selected.size}}</td></tr><tr class=\\\"location\\\"><th translate=\\\"FM.LOCATION\\\">Location\\n</th><td>{{vm.selected.location}}</td></tr><tr class=\\\"owner\\\"><th translate=\\\"FM.OWNER\\\">Owner</th><td>\\n{{vm.selected.owner}}</td></tr><tr class=\\\"modified\\\"><th translate=\\\"FM.MODIFIED\\\">Modified</th><td>\\n{{vm.selected.modified}}</td></tr><tr class=\\\"opened\\\"><th translate=\\\"FM.OPENED\\\">Opened</th><td>{{vm.selected.opened}}\\n</td></tr><tr class=\\\"created\\\"><th translate=\\\"FM.CREATED\\\">Created</th><td>{{vm.selected.created}}</td></tr></table>\\n</div></md-content>\");\n$templateCache.put(\"app/main/file-manager/sidenavs/main/main-sidenav.html\",\"<div class=\\\"header\\\" layout=\\\"column\\\" layout-align=\\\"space-between start\\\"><div class=\\\"logo\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><span class=\\\"logo-icon\\\"><md-icon md-font-icon=\\\"icon-folder\\\" class=\\\"icon s24\\\"></md-icon>\\n</span><span class=\\\"logo-text\\\" translate=\\\"FM.FILE_MANAGER\\\">File Manager</span></div><div class=\\\"account\\\"><div \\nclass=\\\"title\\\">John Doe</div><md-select class=\\\"account-selection simplified\\\" ng-model=\\\"vm.selectedAccount\\\" \\nplaceholder=\\\"Select Account\\\"><md-option ng-repeat=\\\"(provider, address) in vm.accounts\\\" value=\\\"{{provider}}\\\">{{address}}\\n</md-option></md-select></div></div><div class=\\\"content\\\"><div class=\\\"navigation-simple\\\" layout=\\\"column\\\"><md-button \\nclass=\\\"item\\\" aria-label=\\\"inbox\\\"><div class=\\\"context\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-icon \\nmd-font-icon=\\\"icon-folder\\\" class=\\\"s16\\\"></md-icon><div class=\\\"title\\\" translate=\\\"FM.MY_FILES\\\">My Files</div></div>\\n</md-button><md-button class=\\\"item\\\" aria-label=\\\"starred\\\"><div class=\\\"context\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-icon md-font-icon=\\\"icon-star\\\" class=\\\"s16\\\"></md-icon><div class=\\\"title\\\" translate=\\\"FM.STARRED\\\">Starred</div></div>\\n</md-button><md-button class=\\\"item\\\" aria-label=\\\"starred\\\"><div class=\\\"context\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-icon md-font-icon=\\\"icon-folder-account\\\" class=\\\"s16\\\"></md-icon><div class=\\\"title\\\" translate=\\\"FM.SHARRED_WITH_ME\\\">\\nSharred with me</div></div></md-button><md-button class=\\\"item\\\" aria-label=\\\"starred\\\"><div class=\\\"context\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-icon md-font-icon=\\\"icon-clock\\\" class=\\\"s16\\\"></md-icon><div class=\\\"title\\\" \\ntranslate=\\\"FM.RECENT\\\">Recent</div></div></md-button><md-button class=\\\"item\\\" aria-label=\\\"starred\\\"><div class=\\\"context\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><md-icon md-font-icon=\\\"icon-checkbox-marked-circle\\\" class=\\\"s16\\\"></md-icon><div\\n class=\\\"title\\\" translate=\\\"FM.OFFLINE\\\">Offline</div></div></md-button></div></div>\");\n$templateCache.put(\"app/main/file-manager/views/grid/grid-view.html\",\"<div class=\\\"grid-view\\\" layout=\\\"column\\\"><div class=\\\"folders\\\" layout=\\\"row\\\" layout-wrap><div \\nclass=\\\"md-background-bg md-hue-2 md-whiteframe-1dp item folder\\\" ng-click=\\\"vm.select(folder)\\\" \\nng-repeat=\\\"folder in vm.folders | filter:global.search\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div \\nlayout=\\\"row\\\" class=\\\"title\\\" layout-align=\\\"start center\\\"><span class=\\\"file-icon\\\"><i md-font-icon=\\\"icon-{{folder.type}}\\\">\\n</i> </span><span class=\\\"name\\\">{{folder.name}}</span></div><div class=\\\"show-details\\\" hide-gt-md><md-button \\nclass=\\\"md-icon-button sidenav-toggle\\\" aria-label=\\\"Details\\\" translate translate-attr-aria-label=\\\"FM.DETAILS\\\"><md-icon \\nmd-font-icon=\\\"icon-information-outline\\\" ng-click=\\\"vm.toggleDetails(folder)\\\"></md-icon></md-button></div></div></div>\\n<div class=\\\"files\\\" layout=\\\"row\\\" layout-wrap><div ng-click=\\\"vm.select(file)\\\" class=\\\"md-whiteframe-1dp item file\\\" \\nng-repeat=\\\"file in vm.files | filter:global.search\\\" layout=\\\"column\\\"><div class=\\\"preview\\\"><img \\nng-src=\\\"{{file.preview}}\\\"></div><div class=\\\"bottom md-background-bg md-hue-2\\\" layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" class=\\\"title\\\" layout-align=\\\"start center\\\" flex><span \\nclass=\\\"file-icon\\\"><i md-font-icon=\\\"icon-{{file.type}}\\\"></i> </span><span class=\\\"name\\\">{{file.name}}</span></div><div \\nclass=\\\"show-details\\\" hide-gt-md><md-button class=\\\"md-icon-button sidenav-toggle\\\" aria-label=\\\"Details\\\" translate \\ntranslate-attr-aria-label=\\\"FM.DETAILS\\\"><md-icon md-font-icon=\\\"icon-information-outline\\\" \\nng-click=\\\"vm.toggleDetails(file)\\\"></md-icon></md-button></div></div></div></div></div>\");\n$templateCache.put(\"app/main/file-manager/views/list/list-view.html\",\"<table class=\\\"simple list-view\\\"><thead><tr><th></th><th translate=\\\"FM.NAME\\\">Name</th><th hide show-gt-sm \\ntranslate=\\\"FM.TYPE\\\">Type</th><th hide-xs translate=\\\"FM.OWNER\\\">Owner</th><th hide-xs translate=\\\"FM.SIZE\\\">Size</th><th \\nhide show-gt-md translate=\\\"FM.LAST_MODIFIED\\\">Last Modified</th><th hide-gt-md></th></tr></thead><tbody><tr \\nng-repeat=\\\"folder in vm.folders | filter:global.search\\\" ng-click=\\\"vm.select(folder)\\\" \\nng-class=\\\"{\\'selected\\' : vm.selected === folder}\\\"><td class=\\\"file-icon\\\"><i class=\\\"icon-{{folder.type}}\\\"></i></td><td \\nclass=\\\"name\\\">{{folder.name}}</td><td class=\\\"type\\\" hide show-gt-sm>{{folder.type}}</td><td class=\\\"owner\\\" hide-xs>\\n{{folder.owner}}</td><td class=\\\"size\\\" hide-xs>{{folder.size === \\'\\' ? \\'-\\': folder.size}}</td><td class=\\\"last-modified\\\" \\nhide show-gt-md>{{folder.modified}}</td><td class=\\\"show-details\\\" hide-gt-md><md-button \\nclass=\\\"md-icon-button sidenav-toggle\\\" ng-click=\\\"vm.toggleDetails(folder)\\\" aria-label=\\\"Toggle details sidenav\\\"><md-icon \\nmd-font-icon=\\\"icon-information-outline\\\"></md-icon></md-button></td></tr><tr \\nng-repeat=\\\"file in vm.files | filter:global.search\\\" ng-click=\\\"vm.select(file)\\\" \\nng-class=\\\"{\\'selected\\' : vm.selected === file}\\\"><td class=\\\"file-icon\\\"><i class=\\\"icon-{{file.type}}\\\"></i></td><td \\nclass=\\\"name\\\">{{file.name}}</td><td class=\\\"type\\\" hide show-gt-sm>{{file.type}}</td><td class=\\\"owner\\\" hide-xs>\\n{{file.owner}}</td><td class=\\\"size\\\" hide-xs>{{file.size === \\'\\' ? \\'-\\': file.size}}</td><td class=\\\"last-modified\\\" hide \\nshow-gt-md>{{file.modified}}</td><td class=\\\"show-details\\\" hide-gt-md><md-button class=\\\"md-icon-button sidenav-toggle\\\" \\nng-click=\\\"vm.toggleDetails(file)\\\" aria-label=\\\"Details\\\" translate translate-attr-aria-label=\\\"FM.DETAILS\\\"><md-icon \\nmd-font-icon=\\\"icon-information-outline\\\"></md-icon></md-button></td></tr></tbody></table>\");\n$templateCache.put(\"app/main/folders/dialogs/folder/folder-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"New Folder\\\"><form name=\\\"folderForm\\\" class=\\\"md-inline-form\\\" novalidate><md-toolbar\\n class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span \\nclass=\\\"title\\\">{{vm.title}}</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"FOLDER.NAME\\\">Folder Name</label><input name=\\\"name\\\" \\nng-model=\\\"vm.folder.name\\\" required md-autofocus><div ng-messages=\\\"folderForm.name.$error\\\" \\nng-show=\\\"folderForm.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"FOLDER.ERRORS.FOLDER_NAME_REQUIRED\\\">Folder Name field is required</span></div></div></md-input-container>\\n<md-input-container class=\\\"md-block mb-0\\\"><label translate=\\\"FOLDER.DESCRIPTION\\\">Description</label><input \\nname=\\\"description\\\" ng-model=\\\"vm.folder.description\\\"></md-input-container></md-dialog-content><md-dialog-actions \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button \\ntype=\\\"submit\\\" ng-if=\\\"!vm.newFolder\\\" ng-click=\\\"vm.saveFolder()\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"folderForm.$invalid || folderForm.$pristine\\\" aria-label=\\\"Save\\\" translate=\\\"FOLDER.SAVE\\\" \\ntranslate-attr-aria-label=\\\"FOLDER.SAVE\\\">SAVE FOLDER</md-button><md-button type=\\\"submit\\\" ng-if=\\\"vm.newFolder\\\" \\nng-click=\\\"vm.addNewFolder($event)\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"folderForm.$invalid || folderForm.$pristine\\\" aria-label=\\\"Add Folder\\\" translate=\\\"FOLDER.ADD_FOLDER\\\" \\ntranslate-attr-aria-label=\\\"FOLDER.ADD_FOLDER\\\">ADD FOLDER</md-button></div><div layout=\\\"row\\\"><md-button \\nng-if=\\\"!vm.newFolder\\\" class=\\\"md-icon-button\\\" ng-click=\\\"vm.deleteFolder(vm.folder, $event)\\\" aria-label=\\\"Delete\\\" \\ntranslate translate-attr-aria-label=\\\"FOLDER.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"FOLDER.DELETE\\\">DELETE</span></md-tooltip></md-button></div></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/folders/sidenavs/main/main-sidenav.html\",\"<div class=\\\"header\\\" layout=\\\"column\\\" layout-align=\\\"space-between\\\"><div class=\\\"logo\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"></div></div><md-content class=\\\"content\\\" flex ms-scroll><div class=\\\"navigation-simple\\\" \\nlayout=\\\"column\\\"><md-button class=\\\"item\\\" ng-click=\\\"vm.openFolderDialog($event)\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><div class=\\\"h-10 w-10\\\"></div><span class=\\\"title\\\">Create A New Project</span></div>\\n</md-button></div></md-content>\");\n$templateCache.put(\"app/main/folders/views/list/folders.html\",\"<div class=\\\"todo-items\\\" ng-sortable=\\\"vm.sortableOptions\\\" ng-model=\\\"vm.folders\\\" \\nng-class=\\\"{\\'sortable\\': vm.folderOrder === \\'\\'}\\\"><div class=\\\"todo-item\\\" md-ink-ripple layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" \\nng-repeat=\\\"folder in vm.folders | orderBy:vm.folderOrder:vm.folderOrderDescending | filter: globalSearch.searchTerm | filter:vm.folderFilters.search track by $index\\\" \\nng-class=\\\"{\\'starred\\': folder.starred, \\'selected\\': folder.selected, \\'completed\\': folder.completed}\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" flex><div class=\\\"info\\\" flex><div class=\\\"title\\\"><a ng-href=\\\"/groups/{{folder.id}}\\\">\\n{{folder.name}}</a></div></div><div class=\\\"buttons\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-menu><md-button \\nng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button\\\" aria-label=\\\"More\\\" translate \\ntranslate-attr-aria-label=\\\"FOLDER.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"vm.deleteFolder(folder, $event)\\\" \\naria-label=\\\"Delete Folder\\\" translate-attr-aria-label=\\\"FOLDER.DELETE_FOLDER\\\"><md-icon class=\\\"red-600-fg s18\\\" \\nmd-font-icon=\\\"icon-trash\\\"></md-icon><span translate=\\\"FOLDER.DELETE_FOLDER\\\">Delete Folder</span></md-button>\\n</md-menu-item><md-menu-item><md-button ng-click=\\\"vm.openFolderDialog($event, folder)\\\" aria-label=\\\"Edit Folder\\\" \\ntranslate-attr-aria-label=\\\"FOLDER.EDIT_FOLDER\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-pencil\\\"></md-icon>\\n<span translate=\\\"FOLDER.EDIT_FOLDER\\\">Edit Folder</span></md-button></md-menu-item><md-divider class=\\\"md-default-theme\\\">\\n</md-divider><md-menu-item><md-button ng-click=\\\"vm.openFolderDialog($event)\\\" aria-label=\\\"Add New Folder\\\" \\ntranslate-attr-aria-label=\\\"FOLDER.ADD_NEW_FOLDER\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-plus-circle-outline\\\"></md-icon><span translate=\\\"FOLDER.ADD_NEW_FOLDER\\\">Add New Folder</span>\\n</md-button></md-menu-item></md-menu-content></md-menu></div></div></div><div class=\\\"todo-item\\\" md-ink-ripple \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\" ng-if=\\\"!vm.folders.length\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n<div class=\\\"info\\\" flex><div class=\\\"title\\\">You do not have any projects</div></div><div class=\\\"buttons\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button\\\" \\naria-label=\\\"More\\\" translate translate-attr-aria-label=\\\"FOLDER.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\">\\n</md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"vm.openFolderDialog($event)\\\" \\naria-label=\\\"Add New Folder\\\" translate-attr-aria-label=\\\"FOLDER.ADD_NEW_FOLDER\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-plus-circle-outline\\\"></md-icon><span translate=\\\"FOLDER.ADD_NEW_FOLDER\\\">Add New Folder</span>\\n</md-button></md-menu-item></md-menu-content></md-menu></div></div></div></div>\");\n$templateCache.put(\"app/main/groups/dialogs/group/group-add-from-template-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"New Task\\\"><form id=\\\"findLinkForm\\\" name=\\\"findLinkForm\\\" class=\\\"md-inline-form\\\" \\nng-disabled=\\\"vm.find.inProgress\\\" ng-submit=\\\"vm.find.search()\\\"><md-toolbar class=\\\"md-accent md-tall\\\" layout=\\\"column\\\">\\n<div class=\\\"md-toolbar-tools md-toolbar-tools-top\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span \\nclass=\\\"title\\\">{{vm.title}}</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\" \\naria-label=\\\"Close dialog\\\" translate translate-attr-aria-label=\\\"CHECKLIST.CLOSE_DIALOG\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content ms-scroll \\nng-show=\\\"vm.find.searchCount\\\"><table class=\\\"simple\\\" ms-responsive-table ng-show=\\\"vm.find.results.templates.length\\\">\\n<thead><tr><th>Template Name</th><th hide-xs>Organization</th><th>Author</th><th hide-xs>Created</th><th \\nclass=\\\"text-right\\\">Add</th></tr></thead><tfoot><tr><td colspan=\\\"5\\\">&nbsp;</td></tr></tfoot><tbody><tr \\nng-repeat=\\\"res in vm.find.results.templates\\\"><td class=\\\"name\\\">{{res.name}}</td><td class=\\\"name\\\" hide-xs>\\n{{res.organization}}</td><td class=\\\"name\\\">{{res.author}}</td><td class=\\\"name\\\" hide-xs>\\n{{res.created | date:\\'MMMM d, yyyy\\'}}</td><td class=\\\"text-right\\\" ng-switch=\\\"res.status\\\"><md-button type=\\\"button\\\" \\nclass=\\\"icon-button\\\" aria-label=\\\"Invite\\\" ng-click=\\\"vm.find.create(res.id)\\\"><md-icon \\nmd-font-icon=\\\"icon-plus-circle-outline\\\" class=\\\"md-accent-fg s18\\\"></md-icon></md-button></td></tr></tbody></table><div \\nng-show=\\\"!vm.find.results.templates.length\\\">There where no Templates Found</div></md-dialog-content><md-dialog-content>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"GROUP.SEARCH_BY_TEMPLATE_NAME\\\">Template Name</label><input \\nid=\\\"findTemplateName\\\" ng-model=\\\"vm.find.template.criteria.name\\\" autofocus=\\\"autofocus\\\" type=\\\"text\\\"></md-input-container>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"GROUP.SEARCH_BY_ORGANIZATION\\\">Organization</label><input \\nid=\\\"findTemplateOrg\\\" type=\\\"text\\\" ng-model=\\\"vm.find.template.criteria.organization\\\"></md-input-container>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"GROUP.SEARCH_BY_AUTHOR\\\">Author</label><input \\nid=\\\"findTemplateAuthor\\\" type=\\\"text\\\" ng-model=\\\"vm.find.template.criteria.author\\\"></md-input-container>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"GROUP.SEARCH_BY_VERSION\\\">Version</label><input \\nid=\\\"findTemplateVersion\\\" type=\\\"text\\\" ng-model=\\\"vm.find.template.criteria.version\\\"></md-input-container>\\n</md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" \\nclass=\\\"md-accent md-button md-raised ng-scope md-ink-ripple md-default-theme submit-button\\\" aria-label=\\\"SEARCH\\\" \\nng-disabled=\\\"vm.find.searching\\\">SEARCH</md-button></div><div layout=\\\"row\\\"></div></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/groups/dialogs/group/group-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><form name=\\\"groupForm\\\" class=\\\"md-inline-form\\\" novalidate><md-toolbar \\nclass=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span \\nclass=\\\"title\\\">{{vm.title}}</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content \\nms-scroll><md-input-container class=\\\"md-block mb-0\\\"><label translate=\\\"GROUP.NAME\\\">Group Name</label><input name=\\\"name\\\" \\nng-model=\\\"vm.group.name\\\" required md-autofocus><div ng-messages=\\\"groupForm.name.$error\\\" \\nng-show=\\\"groupForm.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"GROUP.ERRORS.GROUP_NAME_REQUIRED\\\">Group Name field is required</span></div></div></md-input-container>\\n</md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" ng-if=\\\"!vm.newGroup\\\" ng-click=\\\"vm.saveGroup()\\\" \\nclass=\\\"md-raised md-accent\\\" ng-disabled=\\\"groupForm.$invalid || groupForm.$pristine\\\" aria-label=\\\"Save\\\" \\ntranslate=\\\"GROUP.SAVE\\\" translate-attr-aria-label=\\\"GROUP.SAVE\\\">SAVE GROUP</md-button><md-button type=\\\"submit\\\" \\nng-if=\\\"vm.newGroup\\\" ng-click=\\\"vm.addNewGroup(vm.folderID, $event)\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"groupForm.$invalid || groupForm.$pristine\\\" aria-label=\\\"Save\\\" translate=\\\"GROUP.SAVE\\\" \\ntranslate-attr-aria-label=\\\"GROUP.SAVE\\\">ADD GROUP</md-button></div><div layout=\\\"row\\\"><md-button ng-if=\\\"!vm.newGroup\\\" \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.deleteGroup($event, vm.group)\\\" aria-label=\\\"Delete\\\" translate \\ntranslate-attr-aria-label=\\\"GROUP.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"GROUP.DELETE\\\">DELETE</span></md-tooltip></md-button></div></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/groups/dialogs/group/group-publish-template-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"New Folder\\\"><form name=\\\"templateForm\\\" class=\\\"md-inline-form\\\" \\nng-submit=\\\"vm.publishTemplate()\\\" novalidate><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">{{vm.title}}</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\">\\n</md-icon></md-button></div></md-toolbar><md-dialog-content ms-scroll class=\\\"padding-bottom-0\\\"><md-input-container \\nclass=\\\"md-block mb-0\\\"><label translate=\\\"CHECKLIST.TEMPLATE_NAME\\\">Template Name</label><input name=\\\"name\\\" \\nng-model=\\\"vm.publish.name\\\" required md-autofocus><div ng-messages=\\\"templateForm.name.$error\\\" \\nng-show=\\\"templateForm.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span translate=\\\"CHECKLIST.TEMPLATE_NAME\\\">\\nTemplate Name field is required</span></div></div></md-input-container><md-input-container class=\\\"md-block mb-0 mt-0\\\">\\n<md-checkbox ng-click=\\\"vm.publish.togglePrivate()\\\" ng-disabled=\\\"vm.publish.submitting\\\" ng-checked=\\\"vm.publish.pvt\\\" \\nclass=\\\"btn btn-link checkbox applies\\\">Make Template Private</md-checkbox></md-input-container></md-dialog-content>\\n<md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-button type=\\\"submit\\\" class=\\\"md-raised md-accent\\\" ng-disabled=\\\"templateForm.$invalid\\\" aria-label=\\\"Save\\\" \\ntranslate=\\\"CHECKLIST.PUBLISH\\\" translate-attr-aria-label=\\\"CHECKLIST.PUBLISH\\\">PUBLISH TEMPLATE</md-button></div>\\n</md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/groups/dialogs/group/group-send-link-request-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><form id=\\\"findLinkForm\\\" name=\\\"findLinkForm\\\" class=\\\"md-inline-form\\\" \\nng-disabled=\\\"vm.find.inProgress\\\" ng-submit=\\\"vm.find.submit()\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div \\nclass=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">Send Link Request</span>\\n<md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" \\naria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content><md-input-container \\nclass=\\\"md-block mb-0\\\"><label translate=\\\"CHECKLIST.SEARCH_USERS\\\">Search</label><input id=\\\"findLinksQueryString\\\" \\nng-model=\\\"vm.find.criteria\\\" type=\\\"text\\\"></md-input-container></md-dialog-content><md-dialog-content \\nclass=\\\"padding-top-0 padding-bottom-0\\\" ng-show=\\\"vm.found.length\\\"><table class=\\\"simple\\\" ms-responsive-table><thead><tr>\\n<th>Organization</th><th>User</th><th></th></tr></thead><tfoot></tfoot><tbody><tr ng-repeat=\\\"link in vm.found\\\" \\nng-hide=\\\"link.id == vm.user.idCON\\\"><td class=\\\"name\\\">{{link.organization}}</td><td class=\\\"salary\\\">{{link.name.full}}\\n</td><td class=\\\"text-right\\\" ng-switch=\\\"link.status\\\"><button ng-switch-when=\\\"Linked\\\" aria-label=\\\"Linked\\\"><md-icon \\nmd-font-icon=\\\"icon-google-circles\\\"></md-icon></button> <button class=\\\"md-icon-button\\\" aria-label=\\\"Invite\\\" \\nng-switch-when=\\\"Stranger\\\" ng-click=\\\"link.request()\\\" ng-disabled=\\\"link.requesting\\\"><md-icon \\nmd-font-icon=\\\"icon-google-circles-invite\\\"></md-icon></button> <button class=\\\"md-icon-button\\\" aria-label=\\\"Withdraw\\\" \\nng-switch-when=\\\"Sent\\\" ng-click=\\\"link.withdraw()\\\"><md-icon md-font-icon=\\\"icon-google-circles\\\"></md-icon><button>\\n</button></button></td></tr></tbody></table></md-dialog-content><md-dialog-actions layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"></div><div layout=\\\"row\\\"><md-button \\ntype=\\\"submit\\\" class=\\\"md-raised md-accent\\\" aria-label=\\\"SEARCH\\\" \\nng-disabled=\\\"findLinkForm.$invalid || findLinkForm.$pristine\\\" ng-disabled=\\\"vm.searching\\\">SEARCH</md-button></div>\\n</md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/groups/dialogs/group/link-existing-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"New Task\\\"><form ng-submit=\\\"vm.link(vm.selected.checklists)\\\" \\nng-disabled=\\\"linking\\\" class=\\\"modal-content\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\" layout=\\\"column\\\"><div \\nclass=\\\"md-toolbar-tools md-toolbar-tools-top\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">\\nLink to Existing Checklist</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\" \\naria-label=\\\"Close dialog\\\" translate translate-attr-aria-label=\\\"CHECKLIST.CLOSE_DIALOG\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content ms-scroll><ul><li \\nng-show=\\\"error\\\" class=\\\"list-group-item list-group-item-danger\\\"><h4 class=\\\"list-group-item-heading\\\">Error {{vm.error}}\\n</h4><p class=\\\"list-group-item-text\\\">{{vm.message}}</p></li></ul><table class=\\\"simple\\\" ng-if=\\\"vm.checklists[0]\\\" \\nms-responsive-table><thead><tr><th>Checklist Name</th><th class=\\\"text-right\\\">Link to Group</th></tr></thead><tfoot><tr>\\n<td></td></tr></tfoot><tbody><tr ng-repeat=\\\"checklist in vm.checklists\\\"><td class=\\\"name\\\">{{checklist.name}}</td><td \\nclass=\\\"text-right\\\" ng-switch=\\\"link.status\\\"><button type=\\\"button\\\" ng-click=\\\"vm.selected.toggle(checklist)\\\" \\nng-disabled=\\\"vm.linking\\\" class=\\\"btn btn-link checkbox pull-right\\\"><i ng-hide=\\\"checklist.isSelected\\\" \\nclass=\\\"icon-checkbox-blank-outline\\\"></i> <i ng-show=\\\"checklist.isSelected\\\" class=\\\"icon-checkbox-marked-outline\\\"></i>\\n</button></td></tr></tbody></table></md-dialog-content><md-dialog-actions layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\" ng-hide=\\\"vm.error || vm.loading\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-button type=\\\"submit\\\" class=\\\"text-left button-dialog\\\" aria-label=\\\"\\\">LINK TO SELECTED</md-button></div>\\n</md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/groups/views/list/groups.html\",\"<div class=\\\"todo-items\\\" ng-sortable=\\\"vm.sortableOptions\\\" ng-model=\\\"vm.groups\\\" \\nng-class=\\\"{\\'sortable\\': vm.groupOrder === \\'\\'}\\\"><div class=\\\"todo-item\\\" md-ink-ripple layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" \\nng-repeat=\\\"group in vm.groups | orderBy:vm.groupOrder:vm.groupOrderDescending | filter: globalSearch.searchTerm | filter:vm.groupFilters.search track by $index\\\" \\nng-class=\\\"{\\'starred\\': group.starred, \\'selected\\': group.selected, \\'completed\\': group.completed}\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" flex><div class=\\\"info\\\" flex><div class=\\\"title\\\"><a href=\\\"/checklist/{{group.id}}\\\">\\n{{group.name}}</a></div></div><div class=\\\"buttons\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-menu><md-button \\nng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button\\\" aria-label=\\\"More\\\" translate \\ntranslate-attr-aria-label=\\\"GROUP.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"vm.deleteGroup(group, $event)\\\" aria-label=\\\"Delete Group\\\" \\ntranslate-attr-aria-label=\\\"GROUP.DELETE_GROUP\\\"><md-icon class=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\"></md-icon>\\n<span translate=\\\"GROUP.DELETE_GROUP\\\">Delete Group</span></md-button></md-menu-item><md-menu-item><md-button \\nng-click=\\\"vm.openGroupDialog($event, group)\\\" aria-label=\\\"Edit Group\\\" translate-attr-aria-label=\\\"GROUP.EDIT_GROUP\\\">\\n<md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-pencil\\\"></md-icon><span translate=\\\"GROUP.EDIT_GROUP\\\">Edit Group\\n</span></md-button></md-menu-item><md-menu-item ng-show=\\\"permissions.has(\\'inviteToChecklist\\')\\\"><md-button \\nng-click=\\\"vm.sendLinkRequestDialog($event, group)\\\" aria-label=\\\"Send Link Request\\\" \\ntranslate-attr-aria-label=\\\"GROUP.SEND_LINK_REQUEST\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-account-plus\\\" \\nclass=\\\"s18\\\"></md-icon><span translate=\\\"GROUP.SEND_LINK_REQUEST\\\">Send Link Request</span></md-button></md-menu-item>\\n<md-menu-item ng-show=\\\"permissions.has(\\'publishTemplate\\')\\\"><md-button \\nng-click=\\\"vm.publishTemplateDialog($event, group.id, group.name)\\\" aria-label=\\\"Publish as Template\\\" \\ntranslate-attr-aria-label=\\\"GROUP.PUBLISH_TEMPLATE\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-cloud-upload\\\">\\n</md-icon><span translate=\\\"GROUP.PUBLISH_TEMPLATE\\\">Publish as Template</span></md-button></md-menu-item><md-menu-item \\nng-show=\\\"\\\"><md-button ng-click=\\\"vm.linkExistingDialog($event, group)\\\" aria-label=\\\"Link to Existing\\\" \\ntranslate-attr-aria-label=\\\"GROUP.LINK_EXISTING\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-link-variant\\\">\\n</md-icon><span translate=\\\"GROUP.LINK_EXISTING\\\">Link to Existing</span></md-button></md-menu-item><md-divider \\nclass=\\\"md-default-theme\\\"></md-divider><md-menu-item><md-button ng-click=\\\"vm.addGroupDialog($event)\\\" \\naria-label=\\\"Add New Group\\\" translate-attr-aria-label=\\\"GROUP.ADD_NEW_GROUP\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-plus\\\"></md-icon><span translate=\\\"GROUP.ADD_NEW_GROUP\\\">Add New Group</span></md-button>\\n</md-menu-item></md-menu-content></md-menu></div></div></div><div class=\\\"todo-item\\\" md-ink-ripple layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" ng-if=\\\"!vm.groups.length\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div \\nclass=\\\"info\\\" flex><div class=\\\"title\\\">There are no folders in this project</div></div><div class=\\\"buttons\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-menu><md-button ng-click=\\\"$mdOpenMenu($event)\\\" class=\\\"md-icon-button\\\" \\naria-label=\\\"More\\\" translate translate-attr-aria-label=\\\"GROUP.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical s18\\\">\\n</md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button ng-click=\\\"vm.addGroupDialog($event)\\\" \\naria-label=\\\"Add New Group\\\" translate-attr-aria-label=\\\"GROUP.ADD_NEW_GROUP\\\"><md-icon class=\\\"md-accent-fg s18\\\" \\nmd-font-icon=\\\"icon-plus-circle-outline\\\"></md-icon><span translate=\\\"GROUP.ADD_NEW_GROUP\\\">Add New Folder</span>\\n</md-button></md-menu-item></md-menu-content></md-menu></div></div></div></div>\");\n$templateCache.put(\"app/main/groups/sidenavs/main/main-sidenav.html\",\"<div class=\\\"header\\\" layout=\\\"column\\\" layout-align=\\\"space-between\\\"><div class=\\\"logo\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"></div></div><md-content class=\\\"content\\\" flex ms-scroll><div class=\\\"navigation-simple\\\" \\nlayout=\\\"column\\\"><md-button class=\\\"item\\\" ng-click=\\\"vm.addGroupDialog($event)\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><div class=\\\"h-10 w-10\\\"></div><span class=\\\"title\\\">Create New Folder</span></div></md-button>\\n<md-button class=\\\"item\\\" ng-click=\\\"vm.find.begin($event, vm.folder_id, \\'group\\')\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><div class=\\\"h-10 w-10\\\"></div><span class=\\\"title\\\">Download Folder Templates</span></div>\\n</md-button></div></md-content>\");\n$templateCache.put(\"app/main/invitations/partials/stepper/invitations-accept-1.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"100\\\"><md-select ng-model=\\\"vm.verticalStepper.step1.folderID\\\" \\nname=\\\"folderID\\\" aria-label=\\\"Add Folder\\\" md-autofocus required><md-option ng-repeat=\\\"folder in vm.folders\\\" \\nvalue=\\\"{{folder.id}}\\\" ng-selected=\\\"folder.id == vm.verticalStepper.newFolderID\\\" ng-click=\\\"vm.fetchGroups(folder.id)\\\">\\n{{folder.name}}</md-option></md-select><div ng-messages=\\\"vm.verticalStepper.step1.folderID.$error\\\" role=\\\"alert\\\"><div \\nng-message=\\\"required\\\"><span>Folder is required.</span></div></div></md-input-container></div>\");\n$templateCache.put(\"app/main/invitations/partials/stepper/invitations-accept-2.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"100\\\"><md-select ng-model=\\\"vm.verticalStepper.step2.groupID\\\" \\nname=\\\"groupID\\\" aria-label=\\\"Select Group\\\" required><md-option ng-repeat=\\\"group in vm.groups\\\" value=\\\"{{group.id}}\\\" \\nng-selected=\\\"group.id == vm.verticalStepper.newGroupID\\\">{{group.name}}</md-option></md-select><div \\nng-messages=\\\"vm.verticalStepper.step2.groupID.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Group is required.\\n</span></div></div></md-input-container></div>\");\n$templateCache.put(\"app/main/invitations/views/stepper/new-checklist-1-new-folder.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"100\\\"><label translate=\\\"FOLDER.NAME\\\">Project Name</label><input \\nname=\\\"name\\\" ng-model=\\\"vm.folder.name\\\" md-autofocus required><div ng-messages=\\\"wizardStep1.name.$error\\\" \\nng-show=\\\"wizardStep1.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"CHECKLIST.ERRORS.PROJECT_NAME_REQUIRED\\\">Project Name field is required</span></div></div>\\n</md-input-container></div>\");\n$templateCache.put(\"app/main/invitations/views/stepper/new-checklist-1.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"70\\\"><md-select ng-model=\\\"vm.verticalStepper.step1.folderID\\\" \\nname=\\\"folderID\\\" aria-label=\\\"Select Project\\\" placeholder=\\\"Select Existing Project\\\" md-autofocus required><md-option \\nng-repeat=\\\"folder in vm.folders\\\" value=\\\"{{folder.id}}\\\" ng-selected=\\\"folder.id == vm.verticalStepper.newFolderID\\\" \\nng-click=\\\"vm.fetchGroups(folder.id)\\\">{{folder.name}}</md-option></md-select><div \\nng-messages=\\\"vm.verticalStepper.step1.folderID.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>\\nProject is required.</span></div></div></md-input-container><md-input-container flex=\\\"30\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\"><md-button class=\\\"md-raised md-accent\\\" ng-click=\\\"vm.openFolderInput()\\\" \\naria-label=\\\"Create New Project\\\" translate-attr-aria-label=\\\"CHECKLIST.ADD_NEW_PROJECT\\\">NEW PROJECT</md-button>\\n</md-input-container></div>\");\n$templateCache.put(\"app/main/invitations/views/stepper/new-checklist-2-new-group.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"100\\\"><label translate=\\\"GROUP.NAME\\\">Group Name</label><input \\nname=\\\"name\\\" ng-model=\\\"vm.group.text\\\" md-autofocus required><div ng-messages=\\\"groupForm.text.$error\\\" \\nng-show=\\\"groupForm.text.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"GROUP.ERRORS.GROUP_NAME_REQUIRED\\\">Group Name field is required</span></div></div></md-input-container></div>\");\n$templateCache.put(\"app/main/invitations/views/stepper/new-checklist-2.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"70\\\"><md-select ng-model=\\\"vm.verticalStepper.step2.groupID\\\" \\nname=\\\"groupID\\\" placeholder=\\\"Select Existing  Folder\\\" required><md-option ng-repeat=\\\"group in vm.groups\\\" \\nvalue=\\\"{{group.id}}\\\" ng-selected=\\\"group.id == vm.verticalStepper.newGroupID\\\">{{group.name}}</md-option></md-select><div\\n ng-messages=\\\"vm.verticalStepper.step2.groupID.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>\\nFolder is required.</span></div></div></md-input-container><md-input-container flex=\\\"30\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\"><md-button class=\\\"md-raised md-accent\\\" ng-click=\\\"vm.openGroupInput()\\\" \\naria-label=\\\"Create New Folder\\\" translate-attr-aria-label=\\\"CHECKLIST.NEW_GROUP\\\">NEW FOLDER</md-button>\\n</md-input-container></div>\");\n$templateCache.put(\"app/main/invitations/views/stepper/new-checklist-3.html\",\"<div class=\\\"md-inline-form\\\"><p>Enter <span class=\\\"text-bold\\\">Checklist</span> Name</p><div layout=\\\"column\\\" \\nlayout-gt-xs=\\\"row\\\" flex><md-input-container flex=\\\"100\\\" flex-gt-xs=\\\"50\\\"><input type=\\\"text\\\" name=\\\"checklistName\\\" \\nng-model=\\\"vm.verticalStepper.step3.name\\\" placeholder=\\\"Checklist Name\\\" required><div ng-messages=\\\"checklistName.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Checklist Name field is required.</span></div></div></md-input-container>\\n</div></div><md-button class=\\\"send-button md-accent md-raised\\\" \\nng-click=\\\"vm.addNewChecklist(vm.verticalStepper.step3.name, vm.verticalStepper.step2.groupID, vm.verticalStepper.step1.folderID )\\\" \\naria-label=\\\"ADD FOLDER\\\" ng-disabled=\\\"!vm.verticalStepper.step3.name || vm.verticalStepper.step3.name.$pristine\\\" \\ntranslate=\\\"CHECKLIST.ADD_NEW_CHECKLIST\\\" translate-attr-aria-label=\\\"CHECKLIST.ADD_NEW_CHECKLIST\\\">ADD NEW FOLDER\\n</md-button><md-button class=\\\"md-accent md-raised\\\" ng-click=\\\"vm.cancelChecklistInput()\\\" ar ia-label=\\\"CANCEL\\\" \\ntranslate=\\\"CHECKLIST.CANCEL\\\" translate-attr-aria-label=\\\"CHECKLIST.CANCEL\\\">CANCEL</md-button>\");\n$templateCache.put(\"app/main/invitations/views/stepper/search-templates.html\",\"<md-dialog-content ms-scroll>{{ vm.verticalStepper }} {{ vm.checklistID }}</md-dialog-content>\");\n$templateCache.put(\"app/main/mail/sidenavs/main/main-sidenav.html\",\"<div class=\\\"header\\\" layout=\\\"column\\\" layout-align=\\\"space-between start\\\"></div><md-content ms-scroll class=\\\"content\\\" \\nflex><div class=\\\"navigation-simple\\\" layout=\\\"column\\\"><md-button class=\\\"item\\\" aria-label=\\\"inbox\\\" \\nng-repeat=\\\"folder in vm.folders\\\" ng-click=\\\"vm.filterFolder(folder.unread)\\\" \\nng-class=\\\"{\\'selected\\':vm.isFolderActive(folder.id)}\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-icon \\nmd-font-icon=\\\"{{folder.icon}}\\\" class=\\\"s16\\\"></md-icon><span class=\\\"title\\\">{{folder.title}}</span></div></md-button>\\n<md-button class=\\\"item\\\" aria-label=\\\"sent\\\" ng-repeat=\\\"sent in vm.outbox\\\" ng-click=\\\"vm.filterOutbox()\\\" \\nng-show=\\\"label.view\\\" ng-class=\\\"{\\'selected\\':vm.isOutboxActive(1)}\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-icon md-font-icon=\\\"{{sent.icon}}\\\" class=\\\"s16\\\"></md-icon><span class=\\\"title\\\">{{sent.title}}</span></div></md-button>\\n<div class=\\\"item subheader\\\" translate=\\\"MAIL.FILTERS\\\">Filters</div><md-button class=\\\"item\\\" \\nng-repeat=\\\"label in vm.labels\\\" ng-click=\\\"vm.filterThreads(label.id)\\\" ng-show=\\\"label.view\\\" \\nng-class=\\\"{\\'selected\\':vm.isLabelActive(label.id)}\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><div \\nclass=\\\"h-10 w-10 mr-16\\\" ng-class=\\\"label.color\\\"></div><span class=\\\"title\\\">{{label.title}}</span></div></md-button></div>\\n</md-content>\");\n$templateCache.put(\"app/main/mail/dialogs/compose/compose-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"New Message\\\"><form class=\\\"md-inline-form\\\" ng-submit=\\\"vm.submitPost()\\\"><md-toolbar\\n class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span \\nclass=\\\"title\\\" translate=\\\"MAIL.NEW_MESSAGE\\\">New Message</span><md-button class=\\\"md-icon-button\\\" \\nng-click=\\\"vm.closeDialog()\\\" aria-label=\\\"Close dialog\\\" tranlate translate-aria-label=\\\"MAIL.CLOSE_DIALOG\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content ms-scroll><md-input-container \\nclass=\\\"md-block\\\"><label translate=\\\"MAIL.FROM\\\">From</label><input ng-model=\\\"vm.form.from\\\" type=\\\"text\\\" \\ndisabled=\\\"disabled\\\"></md-input-container><md-input-container class=\\\"md-block to\\\" \\nng-class=\\\"{\\'hidden-cc\\': vm.hiddenCC, \\'hidden-bcc\\': vm.hiddenBCC}\\\"><label translate=\\\"MAIL.TO\\\">To</label><input \\nng-model=\\\"vm.form.to\\\" type=\\\"text\\\" disabled=\\\"disabled\\\"></md-input-container><md-input-container class=\\\"md-block\\\"><label \\ntranslate=\\\"MAIL.MESSAGE\\\">Message</label><div class=\\\"md-resize-wrapper\\\"><textarea ng-model=\\\"vm.form.message\\\" \\nmd-maxlength=\\\"150\\\" max-rows=\\\"5\\\" \\nclass=\\\"ng-valid md-input ng-not-empty ng-dirty ng-valid-parse ng-valid-md-maxlength ng-touched\\\" aria-invalid=\\\"false\\\" \\nng-trim=\\\"false\\\"></textarea><div class=\\\"md-resize-handle\\\" style=\\\"touch-action: pan-x\\\"></div></div></md-input-container>\\n</md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button class=\\\"send-button md-accent md-raised\\\" type=\\\"submit\\\" aria-label=\\\"Send\\\" \\ntranslate=\\\"MAIL.SEND\\\" translate-attr-aria-label=\\\"MAIL.SEND\\\">SEND</md-button></div></md-dialog-actions></form>\\n</md-dialog>\");\n$templateCache.put(\"app/main/mail/views/classic/classic-view.html\",\"<div class=\\\"toolbar\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-button class=\\\"md-icon-button close-thread\\\" aria-label=\\\"Back\\\" ng-click=\\\"vm.closeThread()\\\" ng-if=\\\"vm.currentThread\\\" \\ntranslate translate-attr-aria-label=\\\"MAIL.BACK\\\"><md-icon md-font-icon=\\\"icon-keyboard-backspace\\\"></md-icon></md-button>\\n<div class=\\\"action-buttons\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" \\nng-show=\\\"vm.selectedThreads.length > 0 || vm.currentThread\\\" hide show-gt-xs><md-button \\nng-if=\\\"vm.currentThread.type!==\\'post\\' && (vm.currentThread.type!==\\'message\\')\\\" class=\\\"md-icon-button\\\" \\naria-label=\\\"Delete\\\" ng-click=\\\"vm.deleteFeed($event, vm.currentThread)\\\" translate \\ntranslate-attr-aria-label=\\\"MAIL.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"MAIL.DELETE\\\">Delete</span></md-tooltip></md-button></div></div><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-menu class=\\\"settings-menu\\\"><md-button class=\\\"md-icon-button\\\" \\nng-click=\\\"$mdOpenMenu($event)\\\" aria-label=\\\"Settings\\\" translate translate-attr-aria-label=\\\"MAIL.SETTINGS\\\"><md-icon \\nmd-font-icon=\\\"icon-cog\\\"></md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button \\nng-click=\\\"vm.changeView(\\'classic\\')\\\"><md-icon md-font-icon=\\\"icon-checkbox-blank-outline\\\" \\nng-if=\\\"vm.currentView !== \\'classic\\'\\\"></md-icon><md-icon md-font-icon=\\\"icon-checkbox-marked\\\" class=\\\"md-accent\\\" \\nng-if=\\\"vm.currentView === \\'classic\\'\\\"></md-icon><span translate=\\\"MAIL.CLASSIC_VIEW\\\">Classic View</span></md-button>\\n</md-menu-item><md-menu-item hide-xs><md-button ng-click=\\\"vm.changeView(\\'outlook\\')\\\"><md-icon \\nmd-font-icon=\\\"icon-checkbox-blank-outline\\\" ng-if=\\\"vm.currentView !== \\'outlook\\'\\\"></md-icon><md-icon \\nmd-font-icon=\\\"icon-checkbox-marked\\\" class=\\\"md-accent\\\" ng-if=\\\"vm.currentView === \\'outlook\\'\\\"></md-icon><span \\ntranslate=\\\"MAIL.OUTLOOK_VIEW\\\">Outlook View</span></md-button></md-menu-item></md-menu-content></md-menu></div></div>\\n<div class=\\\"content-wrapper\\\" layout=\\\"column\\\" flex><div class=\\\"content thread-detail\\\" ng-if=\\\"vm.currentThread\\\" \\nng-include=\\\"\\'app/main/mail/views/classic/detail/detail.html\\'\\\" ms-scroll flex></div><div class=\\\"content thread-list\\\" \\nng-if=\\\"!vm.currentThread\\\" ng-include=\\\"\\'app/main/mail/views/classic/list/list.html\\'\\\" ms-scroll flex></div></div>\");\n$templateCache.put(\"app/main/mail/views/outlook/outlook-view.html\",\"<div class=\\\"toolbar\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<div class=\\\"action-buttons\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" \\nng-show=\\\"vm.selectedThreads.length > 0 || vm.currentThread\\\" hide show-gt-xs><md-button \\nng-if=\\\"vm.currentThread.type!==\\'post\\' && (vm.currentThread.type!==\\'message\\')\\\" class=\\\"md-icon-button\\\" \\naria-label=\\\"Delete\\\" ng-click=\\\"vm.deleteFeed($event, vm.currentThread)\\\" translate \\ntranslate-attr-aria-label=\\\"MAIL.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"MAIL.DELETE\\\">Delete</span></md-tooltip></md-button></div></div><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-menu class=\\\"settings-menu\\\"><md-button class=\\\"md-icon-button\\\" \\nng-click=\\\"$mdOpenMenu($event)\\\" aria-label=\\\"Settings\\\" translate translate-attr-aria-label=\\\"MAIL.SETTINGS\\\"><md-icon \\nmd-font-icon=\\\"icon-cog\\\"></md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button \\nng-click=\\\"vm.changeView(\\'classic\\')\\\"><md-icon md-font-icon=\\\"icon-checkbox-blank-outline\\\" \\nng-if=\\\"vm.currentView !== \\'classic\\'\\\"></md-icon><md-icon md-font-icon=\\\"icon-checkbox-marked\\\" class=\\\"md-accent\\\" \\nng-if=\\\"vm.currentView === \\'classic\\'\\\"></md-icon><span translate=\\\"MAIL.CLASSIC_VIEW\\\">Classic View</span></md-button>\\n</md-menu-item><md-menu-item hide-xs><md-button ng-click=\\\"vm.changeView(\\'outlook\\')\\\"><md-icon \\nmd-font-icon=\\\"icon-checkbox-blank-outline\\\" ng-if=\\\"vm.currentView !== \\'outlook\\'\\\"></md-icon><md-icon \\nmd-font-icon=\\\"icon-checkbox-marked\\\" class=\\\"md-accent\\\" ng-if=\\\"vm.currentView === \\'outlook\\'\\\"></md-icon><span \\ntranslate=\\\"MAIL.OUTLOOK_VIEW\\\">Outlook View</span></md-button></md-menu-item></md-menu-content></md-menu></div></div>\\n<div class=\\\"content-wrapper\\\" layout=\\\"row\\\" flex><div class=\\\"content thread-list\\\" ng-hide=\\\"vm.outboxToggle\\\" \\nng-include=\\\"\\'app/main/mail/views/outlook/list/list.html\\'\\\" ms-scroll flex=\\\"50\\\"></div><div class=\\\"content thread-list\\\" \\nng-show=\\\"vm.outboxToggle\\\" ng-include=\\\"\\'app/main/mail/views/outlook/list/list-outbox.html\\'\\\" ms-scroll flex=\\\"50\\\"></div>\\n<div class=\\\"content thread-detail\\\" ng-include=\\\"\\'app/main/mail/views/outlook/detail/detail.html\\'\\\" ms-scroll \\nlayout=\\\"column\\\" flex=\\\"50\\\"></div></div>\");\n$templateCache.put(\"app/main/queue/dialogs/queue/accept-link-request-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"New Task\\\"><form name=\\\"contactForm\\\" class=\\\"md-inline-form\\\" \\nng-disabled=\\\"vm.searching\\\" ng-submit=\\\"vm.queryContacts(vm.findContacts.criteria)\\\"><md-toolbar \\nclass=\\\"md-accent md-tall\\\" layout=\\\"column\\\"><div class=\\\"md-toolbar-tools md-toolbar-tools-top\\\" layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\"><span class=\\\"title\\\">Assign Checklist</span><md-button class=\\\"md-icon-button\\\" \\nng-click=\\\"vm.closeDialog()\\\" aria-label=\\\"Close dialog\\\" translate translate-attr-aria-label=\\\"CONTACTS.CLOSE_DIALOG\\\">\\n<md-icon md-font-icon=\\\"icon-close\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content ms-scroll><table \\nclass=\\\"simple\\\" ms-responsive-table><thead><tr><th>Name</th><th>&nbsp;</th></tr></thead><tfoot><tr><td></td></tr>\\n</tfoot><tbody><tr ng-repeat=\\\"contact in vm.members.list\\\"><td class=\\\"name\\\">{{contact.name.full}}</td><td \\nclass=\\\"text-right\\\"><button type=\\\"button\\\" ng-click=\\\"vm.queue.assign.assign(contact)\\\" \\nng-switch=\\\"vm.queue.assign.contact.idCON == contact.idCON\\\" \\nclass=\\\"md-accent md-button md-raised ng-scope md-ink-ripple md-default-theme\\\">Assign</button></td></tr></tbody></table>\\n</md-dialog-content></form></md-dialog>\");\n$templateCache.put(\"app/main/templates/dialogs/templates/checklist-add-from-folder-template-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">{{vm.title}}</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\">\\n</md-icon></md-button></div></md-toolbar><md-dialog-content class=\\\"no-padding\\\"><ms-form-wizard flex><md-tabs \\nmd-dynamic-height md-selected=\\\"msWizard.selectedIndex\\\"><md-tab><md-tab-label><span class=\\\"ms-form-wizard-step-label\\\">\\n<span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$invalid\\\">1</span> <span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$valid\\\"><i class=\\\"icon-check s16\\\"></i> </span><span \\nclass=\\\"ms-form-wizard-step-text\\\">Select Project</span></span></md-tab-label><md-tab-body><form name=\\\"wizardStep1\\\" \\nclass=\\\"md-inline-form\\\" ms-form-wizard-form novalidate><div ng-switch=\\\"vm.wizard.newFolder\\\"><div ng-switch-when=\\\"false\\\">\\n<div ng-include=\\\"\\'app/main/templates/views/stepper/new-checklist-1.html\\'\\\"></div></div><div ng-switch-when=\\\"true\\\"><div \\nng-include=\\\"\\'app/main/templates/views/stepper/new-checklist-1-new-folder.html\\'\\\"></div></div></div></form></md-tab-body>\\n</md-tab></md-tabs><div class=\\\"navigation\\\" flex layout=\\\"row\\\" layout-align=\\\"center center\\\" \\nng-show=\\\"!vm.wizard.newFolder && !vm.wizard.newGroup\\\"><md-button class=\\\"\\\" ng-click=\\\"msWizard.previousStep()\\\" \\nng-disabled=\\\"msWizard.isFirstStep()\\\">Previous</md-button><div class=\\\"steps\\\"><span ng-repeat=\\\"form in msWizard.forms\\\" \\nng-class=\\\"{\\'selected md-accent-bg\\':msWizard.selectedIndex === $index}\\\"></span></div><md-button class=\\\"\\\" \\nng-click=\\\"msWizard.nextStep()\\\" ng-hide=\\\"msWizard.isLastStep()\\\" \\nng-disabled=\\\"msWizard.currentStepInvalid() || vm.wizard.newFolder\\\">Next</md-button><md-button class=\\\"md-warn\\\" \\nng-click=\\\"vm.download.create(vm.wizard.templateID, vm.verticalStepper.step1.folderID, vm.wizard.templateType)\\\" \\nng-show=\\\"msWizard.isLastStep()\\\" ng-disabled=\\\"msWizard.formsIncomplete() || vm.wizard.newFolder || vm.wizard.newGroup\\\">\\nDownload Template</md-button></div></ms-form-wizard></md-dialog-content><md-dialog-actions layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\" ng-show=\\\"vm.wizard.newFolder\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-button type=\\\"submit\\\" aria-label=\\\"Save\\\" translate-attr-aria-label=\\\"CHECKLIST.SAVE\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"wizardStep1.$invalid || wizardStep1.$pristine\\\" ng-click=\\\"vm.addNewFolder(vm.folder.name)\\\">SAVE</md-button>\\n</div><div layout=\\\"row\\\"><md-button ng-click=\\\"vm.cancelFolderInput()\\\" aria-label=\\\"Cancel\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.CANCEL\\\">CANCEL</span></md-tooltip></md-button></div></md-dialog-actions><md-dialog-actions \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\" ng-show=\\\"vm.wizard.newGroup\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" ng-if=\\\"!vm.newChecklist\\\" \\nng-click=\\\"vm.addNewGroup(vm.group.text, vm.verticalStepper.step1.folderID)\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" aria-label=\\\"Save\\\" translate=\\\"CHECKLIST.SAVE\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE</md-button></div><div layout=\\\"row\\\"><md-button ng-if=\\\"!vm.newChecklist\\\" \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.cancelGroupInput()\\\" aria-label=\\\"Delete\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.CANCEL\\\">CANCEL</span></md-tooltip></md-button></div></md-dialog-actions></md-dialog>\");\n$templateCache.put(\"app/main/templates/dialogs/templates/checklist-add-from-template-dialog.html\",\"<md-dialog class=\\\"dialog\\\" aria-label=\\\"\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><span class=\\\"title\\\">{{vm.title}}</span><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\">\\n</md-icon></md-button></div></md-toolbar><md-dialog-content class=\\\"no-padding\\\"><ms-form-wizard flex><md-tabs \\nmd-dynamic-height md-selected=\\\"msWizard.selectedIndex\\\"><md-tab><md-tab-label><span class=\\\"ms-form-wizard-step-label\\\">\\n<span class=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$invalid\\\">1</span> <span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"wizardStep1.$valid\\\"><i class=\\\"icon-check s16\\\"></i> </span><span \\nclass=\\\"ms-form-wizard-step-text\\\">Select Project</span></span></md-tab-label><md-tab-body><form name=\\\"wizardStep1\\\" \\nclass=\\\"md-inline-form\\\" ms-form-wizard-form novalidate><div ng-switch=\\\"vm.wizard.newFolder\\\"><div ng-switch-when=\\\"false\\\">\\n<div ng-include=\\\"\\'app/main/templates/views/stepper/new-checklist-1.html\\'\\\"></div></div><div ng-switch-when=\\\"true\\\"><div \\nng-include=\\\"\\'app/main/templates/views/stepper/new-checklist-1-new-folder.html\\'\\\"></div></div></div></form></md-tab-body>\\n</md-tab><md-tab ng-disabled=\\\"wizardStep1.$invalid\\\"><md-tab-label><span class=\\\"ms-form-wizard-step-label\\\"><span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"!vm.verticalStepper.step2.groupID\\\">2</span> <span \\nclass=\\\"ms-form-wizard-step-number md-accent-bg\\\" ng-if=\\\"vm.verticalStepper.step2.groupID\\\"><i class=\\\"icon-check s16\\\"></i>\\n </span><span class=\\\"ms-form-wizard-step-text\\\">Select Folder</span></span></md-tab-label><md-tab-body><form \\nname=\\\"wizardStep2\\\" ms-form-wizard-form novalidate><div ng-switch=\\\"vm.wizard.newGroup\\\" \\nng-hide=\\\"!vm.verticalStepper.step1.folderID\\\"><div ng-switch-when=\\\"false\\\"><div \\nng-include=\\\"\\'app/main/templates/views/stepper/new-checklist-2.html\\'\\\"></div></div><div ng-switch-when=\\\"true\\\"><div \\nng-include=\\\"\\'app/main/templates/views/stepper/new-checklist-2-new-group.html\\'\\\"></div></div></div></form></md-tab-body>\\n</md-tab></md-tabs><div class=\\\"navigation\\\" flex layout=\\\"row\\\" layout-align=\\\"center center\\\" \\nng-show=\\\"!vm.wizard.newFolder && !vm.wizard.newGroup\\\"><md-button class=\\\"\\\" ng-click=\\\"msWizard.previousStep()\\\" \\nng-disabled=\\\"msWizard.isFirstStep()\\\">Previous</md-button><div class=\\\"steps\\\"><span ng-repeat=\\\"form in msWizard.forms\\\" \\nng-class=\\\"{\\'selected md-accent-bg\\':msWizard.selectedIndex === $index}\\\"></span></div><md-button class=\\\"\\\" \\nng-click=\\\"msWizard.nextStep()\\\" ng-hide=\\\"msWizard.isLastStep()\\\" \\nng-disabled=\\\"msWizard.currentStepInvalid() || vm.wizard.newFolder\\\">Next</md-button><md-button class=\\\"md-warn\\\" \\nng-click=\\\"vm.download.create(vm.wizard.templateID, vm.verticalStepper.step2.groupID, vm.wizard.templateType)\\\" \\nng-show=\\\"msWizard.isLastStep()\\\" ng-disabled=\\\"msWizard.formsIncomplete() || vm.wizard.newFolder || vm.wizard.newGroup\\\">\\nDownload Template</md-button></div></ms-form-wizard></md-dialog-content><md-dialog-actions layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\" ng-show=\\\"vm.wizard.newFolder\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-button type=\\\"submit\\\" aria-label=\\\"Save\\\" translate-attr-aria-label=\\\"CHECKLIST.SAVE\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"wizardStep1.$invalid || wizardStep1.$pristine\\\" ng-click=\\\"vm.addNewFolder(vm.folder.name)\\\">SAVE</md-button>\\n</div><div layout=\\\"row\\\"><md-button ng-click=\\\"vm.cancelFolderInput()\\\" aria-label=\\\"Cancel\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.CANCEL\\\">CANCEL</span></md-tooltip></md-button></div></md-dialog-actions><md-dialog-actions \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\" ng-show=\\\"vm.wizard.newGroup\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" ng-if=\\\"!vm.newChecklist\\\" \\nng-click=\\\"vm.addNewGroup(vm.group.text, vm.verticalStepper.step1.folderID)\\\" class=\\\"md-raised md-accent\\\" \\nng-disabled=\\\"checklistForm.$invalid || checklistForm.$pristine\\\" aria-label=\\\"Save\\\" translate=\\\"CHECKLIST.SAVE\\\" \\ntranslate-attr-aria-label=\\\"CHECKLIST.SAVE\\\">SAVE</md-button></div><div layout=\\\"row\\\"><md-button ng-if=\\\"!vm.newChecklist\\\" \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.cancelGroupInput()\\\" aria-label=\\\"Delete\\\" translate \\ntranslate-attr-aria-label=\\\"CHECKLIST.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"CHECKLIST.CANCEL\\\">CANCEL</span></md-tooltip></md-button></div></md-dialog-actions></md-dialog>\");\n$templateCache.put(\"app/main/templates/views/stepper/new-checklist-1-new-folder.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"100\\\"><label translate=\\\"FOLDER.NAME\\\">Project Name</label><input \\nname=\\\"name\\\" ng-model=\\\"vm.folder.name\\\" md-autofocus required><div ng-messages=\\\"wizardStep1.name.$error\\\" \\nng-show=\\\"wizardStep1.name.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"CHECKLIST.ERRORS.PROJECT_NAME_REQUIRED\\\">Project Name field is required</span></div></div>\\n</md-input-container></div>\");\n$templateCache.put(\"app/main/templates/views/stepper/new-checklist-1.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"70\\\"><md-select ng-model=\\\"vm.verticalStepper.step1.folderID\\\" \\nname=\\\"folderID\\\" aria-label=\\\"Select Project\\\" placeholder=\\\"Select Existing Project\\\" md-autofocus required><md-option \\nng-repeat=\\\"folder in vm.folders\\\" value=\\\"{{folder.id}}\\\" ng-selected=\\\"folder.id == vm.verticalStepper.newFolderID\\\" \\nng-click=\\\"vm.fetchGroups(folder.id)\\\">{{folder.name}}</md-option></md-select><div \\nng-messages=\\\"vm.verticalStepper.step1.folderID.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>\\nProject is required.</span></div></div></md-input-container><md-input-container flex=\\\"30\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\"><md-button class=\\\"md-raised md-accent\\\" ng-click=\\\"vm.openFolderInput()\\\" \\naria-label=\\\"Create New Project\\\" translate-attr-aria-label=\\\"CHECKLIST.ADD_NEW_PROJECT\\\">NEW PROJECT</md-button>\\n</md-input-container></div>\");\n$templateCache.put(\"app/main/templates/views/stepper/new-checklist-2-new-group.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"100\\\"><label translate=\\\"GROUP.NAME\\\">Group Name</label><input \\nname=\\\"name\\\" ng-model=\\\"vm.group.text\\\" md-autofocus required><div ng-messages=\\\"groupForm.text.$error\\\" \\nng-show=\\\"groupForm.text.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"GROUP.ERRORS.GROUP_NAME_REQUIRED\\\">Group Name field is required</span></div></div></md-input-container></div>\");\n$templateCache.put(\"app/main/templates/views/stepper/new-checklist-2.html\",\"<div layout=\\\"row\\\" flex><md-input-container flex=\\\"70\\\"><md-select ng-model=\\\"vm.verticalStepper.step2.groupID\\\" \\nname=\\\"groupID\\\" placeholder=\\\"Select Existing  Folder\\\" required><md-option ng-repeat=\\\"group in vm.groups\\\" \\nvalue=\\\"{{group.id}}\\\" ng-selected=\\\"group.id == vm.verticalStepper.newGroupID\\\">{{group.name}}</md-option></md-select><div\\n ng-messages=\\\"vm.verticalStepper.step2.groupID.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>\\nFolder is required.</span></div></div></md-input-container><md-input-container flex=\\\"30\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\"><md-button class=\\\"md-raised md-accent\\\" ng-click=\\\"vm.openGroupInput()\\\" \\naria-label=\\\"Create New Folder\\\" translate-attr-aria-label=\\\"CHECKLIST.NEW_GROUP\\\">NEW FOLDER</md-button>\\n</md-input-container></div>\");\n$templateCache.put(\"app/main/templates/views/stepper/new-checklist-3.html\",\"<div class=\\\"md-inline-form\\\"><p>Enter <span class=\\\"text-bold\\\">Checklist</span> Name</p><div layout=\\\"column\\\" \\nlayout-gt-xs=\\\"row\\\" flex><md-input-container flex=\\\"100\\\" flex-gt-xs=\\\"50\\\"><input type=\\\"text\\\" name=\\\"checklistName\\\" \\nng-model=\\\"vm.verticalStepper.step3.name\\\" placeholder=\\\"Checklist Name\\\" required><div ng-messages=\\\"checklistName.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Checklist Name field is required.</span></div></div></md-input-container>\\n</div></div><md-button class=\\\"send-button md-accent md-raised\\\" \\nng-click=\\\"vm.addNewChecklist(vm.verticalStepper.step3.name, vm.verticalStepper.step2.groupID, vm.verticalStepper.step1.folderID )\\\" \\naria-label=\\\"ADD FOLDER\\\" ng-disabled=\\\"!vm.verticalStepper.step3.name || vm.verticalStepper.step3.name.$pristine\\\" \\ntranslate=\\\"CHECKLIST.ADD_NEW_CHECKLIST\\\" translate-attr-aria-label=\\\"CHECKLIST.ADD_NEW_CHECKLIST\\\">ADD NEW FOLDER\\n</md-button><md-button class=\\\"md-accent md-raised\\\" ng-click=\\\"vm.cancelChecklistInput()\\\" ar ia-label=\\\"CANCEL\\\" \\ntranslate=\\\"CHECKLIST.CANCEL\\\" translate-attr-aria-label=\\\"CHECKLIST.CANCEL\\\">CANCEL</md-button>\");\n$templateCache.put(\"app/main/templates/views/stepper/search-templates.html\",\"<md-dialog-content ms-scroll ng-show=\\\"vm.find.results.templates.length\\\"><table class=\\\"simple\\\" ms-responsive-table>\\n<thead><tr><th>Template Name</th><th hide-xs>Organization</th><th>Author</th><th hide-xs>Created</th><th \\nclass=\\\"text-right\\\">Add</th></tr></thead><tfoot><tr><td colspan=\\\"5\\\">&nbsp;</td></tr></tfoot><tbody><tr \\nng-repeat=\\\"res in vm.find.results.templates\\\"><td class=\\\"name\\\">{{res.name}}</td><td class=\\\"salary\\\" hide-xs>\\n{{res.organization}}</td><td class=\\\"name\\\">{{res.author}}</td><td class=\\\"name\\\" hide-xs>\\n{{res.created | date:\\'MMMM d, yyyy\\'}}</td><td class=\\\"text-right\\\" ng-switch=\\\"res.status\\\"><span ng-switch-when=\\\"Linked\\\">\\nAlready</span><md-button type=\\\"button\\\" class=\\\"icon-button\\\" aria-label=\\\"Invite\\\" \\nng-click=\\\"vm.find.create(res.id, vm.verticalStepper.step2.groupID)\\\"><md-icon md-font-icon=\\\"icon-plus-circle-outline\\\" \\nclass=\\\"md-accent-fg s18\\\"></md-icon></md-button></td></tr></tbody></table></md-dialog-content><md-input-container \\nclass=\\\"md-block\\\"><label translate=\\\"CHECKLIST.SEARCH_BY_TEMPLATE_NAME\\\">Search by Template Name</label><input \\nid=\\\"findTemplateName\\\" ng-model=\\\"vm.find.template.criteria.name\\\" autofocus=\\\"autofocus\\\" type=\\\"text\\\"></md-input-container>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.SEARCH_BY_ORGANIZATION\\\">Search by Organization</label>\\n<input id=\\\"findTemplateOrg\\\" type=\\\"text\\\" ng-model=\\\"vm.find.template.criteria.organization\\\"></md-input-container>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.SEARCH_BY_AUTHOR\\\">Search by Author</label><input \\nid=\\\"findTemplateAuthor\\\" type=\\\"text\\\" ng-model=\\\"vm.find.template.criteria.author\\\"></md-input-container>\\n<md-input-container class=\\\"md-block\\\"><label translate=\\\"CHECKLIST.SEARCH_BY_VERSION\\\">Search by Version</label><input \\nid=\\\"findTemplateVersion\\\" type=\\\"text\\\" ng-model=\\\"vm.find.template.criteria.version\\\"></md-input-container><md-button \\ntype=\\\"submit\\\" class=\\\"md-accent md-button md-raised ng-scope md-ink-ripple md-default-theme submit-button\\\" \\naria-label=\\\"SEARCH\\\" ng-disabled=\\\"vm.find.searching\\\">SEARCH</md-button>\");\n$templateCache.put(\"app/main/todo/dialogs/task/task-dialog.html\",\"<md-dialog class=\\\"task-dialog\\\" aria-label=\\\"New Task\\\"><form name=\\\"taskForm\\\" class=\\\"md-inline-form\\\" novalidate>\\n<md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\">\\n<span class=\\\"title\\\">{{vm.title}}</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.closeDialog()\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\" aria-label=\\\"Close dialog\\\"></md-icon></md-button></div></md-toolbar><md-dialog-content \\nms-scroll><md-input-container class=\\\"md-block\\\"><label translate=\\\"TODO.TITLE\\\">Title</label><input name=\\\"title\\\" \\nng-model=\\\"vm.task.title\\\" required md-autofocus><div ng-messages=\\\"taskForm.title.$error\\\" \\nng-show=\\\"taskForm.title.$touched\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\"><span translate=\\\"TODO.ERRORS.TITLE_REQUIRED\\\">\\nTitle field is required</span></div></div></md-input-container><div class=\\\"tags\\\"><label translate=\\\"TODO.TAGS\\\">Tags\\n</label><md-chips ng-model=\\\"vm.task.tags\\\" md-transform-chip=\\\"vm.newTag($chip)\\\"><md-chip-template><span \\nng-if=\\\"$chip.color\\\" class=\\\"color\\\" ng-style=\\\"{\\'background-color\\':$chip.color}\\\"></span> <span>{{$chip.label}}</span>\\n</md-chip-template></md-chips></div><div layout-xs=\\\"column\\\" layout=\\\"row\\\"><div flex class=\\\"date-container\\\"><label \\ntranslate=\\\"TODO.START_DATE\\\">Start Date</label><md-datepicker flex ng-model=\\\"vm.task.startDate\\\" \\nmd-placeholder=\\\"Start Date\\\"></md-datepicker></div><div flex class=\\\"date-container\\\"><label translate=\\\"TODO.DUE_DATE\\\">\\nDue Date</label><md-datepicker flex ng-model=\\\"vm.task.dueDate\\\" md-placeholder=\\\"Due Date\\\"></md-datepicker></div></div>\\n<div class=\\\"notes\\\"><label translate=\\\"TODO.NOTES\\\">Notes</label><text-angular ng-model=\\\"vm.task.notes\\\"></text-angular>\\n</div><div class=\\\"attachment-list\\\"><div class=\\\"attachment\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div><span \\nclass=\\\"filename\\\">attachment-2.doc</span> <span class=\\\"size\\\">(12 Kb)</span></div><md-button class=\\\"md-icon-button\\\">\\n<md-icon md-font-icon=\\\"icon-close\\\" aria-label=\\\"delete attachment\\\" class=\\\"s16\\\"></md-icon></md-button></div><div \\nclass=\\\"attachment\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div><span class=\\\"filename\\\">attachment-1.jpg</span>\\n <span class=\\\"size\\\">(350 Kb)</span></div><md-button class=\\\"md-icon-button\\\" aria-label=\\\"Delete attachment\\\" translate \\ntranslate-attr-aria-label=\\\"TODO.DELETE_ATTACHMENT\\\"><md-icon md-font-icon=\\\"icon-close\\\" class=\\\"s16\\\"></md-icon>\\n</md-button></div></div></md-dialog-content><md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button type=\\\"submit\\\" ng-if=\\\"!vm.newTask\\\" ng-click=\\\"vm.saveTask()\\\" \\nclass=\\\"send-button md-accent md-raised\\\" ng-disabled=\\\"taskForm.$invalid || taskForm.$pristine\\\" aria-label=\\\"SAVE\\\" \\ntranslate=\\\"TODO.SAVE\\\" translate-attr-aria-label=\\\"TODO.SAVE\\\">SAVE</md-button><md-button type=\\\"submit\\\" \\nng-if=\\\"vm.newTask\\\" ng-click=\\\"vm.addNewTask()\\\" class=\\\"send-button md-accent md-raised\\\" \\nng-disabled=\\\"taskForm.$invalid || taskForm.$pristine\\\" aria-label=\\\"Add Task\\\" translate=\\\"TODO.ADD_TASK\\\" \\ntranslate-attr-aria-label=\\\"TODO.ADD_TASK\\\">ADD TASK</md-button><md-button class=\\\"md-icon-button\\\" \\naria-label=\\\"Attach file\\\" translate translate-attr-aria-label=\\\"TODO.ATTACH_FILE\\\"><md-icon md-font-icon=\\\"icon-paperclip\\\">\\n</md-icon></md-button><md-button class=\\\"md-icon-button\\\" aria-label=\\\"Insert picture\\\" translate \\ntranslate-attr-aria-label=\\\"TODO.INSERT_PICTURE\\\"><md-icon md-font-icon=\\\"icon-file-image-box\\\"></md-icon></md-button>\\n</div><div layout=\\\"row\\\"><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.deleteTask($event)\\\" aria-label=\\\"Delete\\\" \\ntranslate translate-attr-aria-label=\\\"TODO.DELETE\\\"><md-icon md-font-icon=\\\"icon-delete\\\"></md-icon><md-tooltip><span \\ntranslate=\\\"TODO.DELETE\\\">DELETE</span></md-tooltip></md-button></div></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/main/todo/sidenavs/main/main-sidenav.html\",\"<div class=\\\"header\\\" layout=\\\"column\\\" layout-align=\\\"space-between\\\"><div class=\\\"logo\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><span class=\\\"logo-icon\\\"><md-icon md-font-icon=\\\"icon-checkbox-marked\\\" class=\\\"s24\\\"></md-icon>\\n</span><span class=\\\"logo-text\\\" translate=\\\"TODO.TO_DO\\\">To-Do</span></div><md-select \\nclass=\\\"project-selection simplified\\\" ng-model=\\\"vm.selectedProject\\\" placeholder=\\\"Select Project\\\"><md-option \\nng-repeat=\\\"(project, title) in vm.projects\\\" value=\\\"{{project}}\\\">{{title}}</md-option></md-select></div><md-content \\nclass=\\\"content\\\" flex ms-scroll><div class=\\\"add-task-button\\\"><md-button class=\\\"md-accent md-raised\\\" \\nng-click=\\\"vm.openTaskDialog($event)\\\" aria-label=\\\"ADD TASK\\\" translate=\\\"TODO.ADD_TASK\\\" \\ntranslate-attr-aria-label=\\\"TODO.ADD_TASK\\\">ADD TASK</md-button></div><div class=\\\"navigation-simple\\\" layout=\\\"column\\\">\\n<md-button class=\\\"item\\\" aria-label=\\\"All Tasks\\\" translate translate-attr-aria-label=\\\"TODO.ALL_TASKS\\\" \\nng-class=\\\"{\\'selected\\':vm.showAllTasks}\\\" ng-click=\\\"vm.resetFilters()\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-icon md-font-icon=\\\"icon-view-headline\\\" class=\\\"s16\\\"></md-icon><span class=\\\"title\\\" translate=\\\"TODO.ALL_TASKS\\\">\\nAll Tasks</span></div></md-button><div class=\\\"item subheader\\\" translate=\\\"TODO.FILTERS\\\">Filters</div><md-button \\nclass=\\\"item\\\" aria-label=\\\"Starred\\\" translate translate-attr-aria-label=\\\"TODO.STARRED\\\" \\nng-click=\\\"vm.toggleFilterWithEmpty(\\'starred\\')\\\" ng-class=\\\"{\\'selected\\':vm.taskFilters.starred}\\\"><md-icon \\nmd-font-icon=\\\"icon-star\\\" class=\\\"s16\\\"></md-icon><span class=\\\"title\\\" translate=\\\"TODO.STARRED\\\">Starred</span></md-button>\\n<md-button class=\\\"item\\\" aria-label=\\\"Priority\\\" translate translate-attr-aria-label=\\\"TODO.PRIORITY\\\" \\nng-click=\\\"vm.toggleFilterWithEmpty(\\'important\\')\\\" ng-class=\\\"{\\'selected\\':vm.taskFilters.important}\\\"><md-icon \\nmd-font-icon=\\\"icon-alert-circle\\\" class=\\\"s16\\\"></md-icon><span class=\\\"title\\\" translate=\\\"TODO.PRIORITY\\\">Priority</span>\\n</md-button><md-button class=\\\"item\\\" aria-label=\\\"Scheduled\\\" translate translate-attr-aria-label=\\\"TODO.SCHEDULED\\\" \\nng-click=\\\"vm.toggleFilterWithEmpty(\\'dueDate\\')\\\" ng-class=\\\"{\\'selected\\':vm.taskFilters.dueDate}\\\"><md-icon \\nmd-font-icon=\\\"icon-clock\\\" class=\\\"s16\\\"></md-icon><span class=\\\"title\\\" translate=\\\"TODO.SCHEDULED\\\">Scheduled</span>\\n</md-button><md-button class=\\\"item\\\" aria-label=\\\"Today\\\" translate translate-attr-aria-label=\\\"TODO.TODAY\\\" \\nng-click=\\\"vm.toggleFilterWithEmpty(\\'startDate\\')\\\" ng-class=\\\"{\\'selected\\':vm.taskFilters.startDate}\\\"><md-icon \\nmd-font-icon=\\\"icon-calendar-today\\\" class=\\\"s16\\\"></md-icon><span class=\\\"title\\\" translate=\\\"TODO.TODAY\\\">Today</span>\\n</md-button><md-button class=\\\"item\\\" aria-label=\\\"Done\\\" translate translate-attr-aria-label=\\\"TODO.DONE\\\" \\nng-click=\\\"vm.toggleFilterWithEmpty(\\'completed\\')\\\" ng-class=\\\"{\\'selected\\':vm.taskFilters.completed}\\\"><md-icon \\nmd-font-icon=\\\"icon-check\\\" class=\\\"s16\\\"></md-icon><span class=\\\"title\\\" translate=\\\"TODO.DONE\\\">Done</span></md-button>\\n<md-button class=\\\"item\\\" aria-label=\\\"Deleted\\\" translate translate-attr-aria-label=\\\"TODO.DELETED\\\" \\nng-click=\\\"vm.toggleFilter(\\'deleted\\')\\\" ng-class=\\\"{\\'selected\\':vm.taskFilters.deleted}\\\"><md-icon \\nmd-font-icon=\\\"icon-delete\\\" class=\\\"s16\\\"></md-icon><span class=\\\"title\\\" translate=\\\"TODO.DELETED\\\">Deleted</span>\\n</md-button><div class=\\\"item subheader\\\" translate=\\\"TODO.TAGS\\\">Tags</div><md-button class=\\\"tag item\\\" \\naria-label=\\\"tag {{tag.label}}\\\" ng-repeat=\\\"tag in vm.tags\\\" ng-click=\\\"vm.toggleTagFilter(tag)\\\" \\nng-class=\\\"{\\'selected\\':vm.isTagFilterExists(tag)}\\\"><md-icon md-font-icon=\\\"icon-label\\\" class=\\\"s16\\\" \\nng-style=\\\"{\\'color\\' : tag.color}\\\"></md-icon><span class=\\\"title\\\">{{tag.label}}</span></md-button></div></md-content>\");\n$templateCache.put(\"app/main/todo/views/list/list-view.html\",\"<div class=\\\"todo-items\\\" ng-sortable=\\\"vm.sortableOptions\\\" ng-class=\\\"{\\'sortable\\': vm.taskOrder === \\'\\'}\\\"><div class=\\\"\\\" \\nmd-ink-ripple layout=\\\"row\\\" layout-align=\\\"start center\\\" ng-click=\\\"vm.openTaskDialog($event, task)\\\" \\nng-repeat=\\\"task in vm.tasks  track by $index\\\"><div class=\\\"handle\\\" ng-click=\\\"vm.preventDefault($event)\\\"><md-icon \\nmd-font-icon=\\\"icon-drag-vertical\\\" class=\\\"icon\\\"></md-icon></div><md-checkbox class=\\\"no-label\\\" \\nng-checked=\\\"task.completed\\\" ng-click=\\\"vm.toggleCompleted(task, $event)\\\" \\naria-label=\\\"{{task.completed ? \\'Not completed\\' : \\'Completed\\'}}\\\"></md-checkbox><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" flex><div class=\\\"info\\\" flex><div class=\\\"title\\\">{{task.title}}</div></div></div></div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-1/template-1.html\",\"<div class=\\\"template-1\\\"><div class=\\\"media\\\"><img class=\\\"image\\\" ng-src=\\\"{{card.media.image.src}}\\\" \\nalt=\\\"{{card.media.image.alt}}\\\" ng-show=\\\"card.media.image\\\"></div><div class=\\\"content pv-24 ph-16\\\"><div class=\\\"title h1\\\" \\nng-if=\\\"card.title\\\">{{card.title}}</div><div class=\\\"subtitle secondary-text\\\" ng-if=\\\"card.subtitle\\\">{{card.subtitle}}\\n</div><div class=\\\"text pt-16\\\" ng-if=\\\"card.text\\\">{{card.text}}</div></div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-10/template-10.html\",\"<div class=\\\"template-10 p-16\\\"><div class=\\\"pb-16\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div class=\\\"info\\\">\\n<div class=\\\"title secondary-text\\\" ng-if=\\\"card.title\\\">{{card.title}}</div><div class=\\\"subtitle h2\\\" \\nng-if=\\\"card.subtitle\\\">{{card.subtitle}}</div></div><div class=\\\"media ml-16\\\"><img class=\\\"image\\\" \\nng-src=\\\"{{card.media.image.src}}\\\" alt=\\\"{{card.media.image.alt}}\\\" ng-show=\\\"card.media.image\\\"></div></div><div \\nclass=\\\"text\\\">{{card.text}}</div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-2/template-2.html\",\"<div class=\\\"template-2\\\"><div class=\\\"header p-16\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><div ng-if=\\\"card.avatar\\\"><img\\n class=\\\"avatar mr-16\\\" ng-src=\\\"{{card.avatar.src}}\\\" alt=\\\"{{card.avatar.alt}}\\\"></div><div class=\\\"info\\\"><div \\nclass=\\\"title\\\" ng-if=\\\"card.title\\\">{{card.title}}</div><div class=\\\"subtitle secondary-text\\\" ng-if=\\\"card.subtitle\\\">\\n{{card.subtitle}}</div></div></div><div class=\\\"media\\\"><img class=\\\"image\\\" ng-src=\\\"{{card.media.image.src}}\\\" \\nalt=\\\"{{card.media.image.alt}}\\\" ng-show=\\\"card.media.image\\\"></div><div class=\\\"text p-16\\\" ng-if=\\\"card.text\\\">{{card.text}}\\n</div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-3/template-3.html\",\"<div class=\\\"template-3 p-16 teal-bg white-fg\\\" layout=\\\"row\\\" layout-align=\\\"space-between\\\"><div layout=\\\"column\\\" \\nlayout-align=\\\"space-between\\\"><div class=\\\"info\\\"><div class=\\\"title h1\\\" ng-if=\\\"card.title\\\">{{card.title}}</div><div \\nclass=\\\"subtitle h3 secondary-text\\\" ng-if=\\\"card.subtitle\\\">{{card.subtitle}}</div></div><div class=\\\"cta\\\"><md-button \\nclass=\\\"m-0\\\">{{card.cta}}</md-button></div></div><div class=\\\"media pl-16\\\"><img class=\\\"image\\\" \\nng-src=\\\"{{card.media.image.src}}\\\" alt=\\\"{{card.media.image.alt}}\\\" ng-show=\\\"card.media.image\\\"></div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-4/template-4.html\",\"<div class=\\\"template-4\\\"><div class=\\\"info white-fg ph-16 pv-24\\\"><div class=\\\"title h1\\\" ng-if=\\\"card.title\\\">{{card.title}}\\n</div><div class=\\\"text\\\" ng-if=\\\"card.text\\\">{{card.text}}</div></div><div class=\\\"media\\\"><img class=\\\"image\\\" \\nng-src=\\\"{{card.media.image.src}}\\\" alt=\\\"{{card.media.image.alt}}\\\" ng-show=\\\"card.media.image\\\"></div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-5/template-5.html\",\"<div class=\\\"template-5 p-16\\\" layout=\\\"row\\\" layout-align=\\\"space-between start\\\"><div class=\\\"info\\\"><div \\nclass=\\\"title secondary-text\\\" ng-if=\\\"card.title\\\">{{card.title}}</div><div class=\\\"event h2\\\" ng-if=\\\"card.event\\\">\\n{{card.event}}</div></div><div class=\\\"media ml-16\\\"><img class=\\\"image\\\" ng-src=\\\"{{card.media.image.src}}\\\" \\nalt=\\\"{{card.media.image.alt}}\\\" ng-show=\\\"card.media.image\\\"></div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-6/template-6.html\",\"<div class=\\\"template-6\\\"><div class=\\\"content pv-24 ph-16\\\"><div class=\\\"subtitle secondary-text\\\" ng-if=\\\"card.subtitle\\\">\\n{{card.subtitle}}</div><div class=\\\"title h2\\\" ng-if=\\\"card.title\\\">{{card.title}}</div><div class=\\\"text pt-8\\\" \\nng-if=\\\"card.text\\\">{{card.text}}</div></div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-7/template-7.html\",\"<div class=\\\"template-7\\\" layout=\\\"row\\\" layout-align=\\\"space-between\\\"><div class=\\\"info\\\" layout=\\\"column\\\" \\nlayout-align=\\\"space-between\\\" layout-fill flex><div class=\\\"p-16\\\"><div class=\\\"title h1\\\" ng-if=\\\"card.title\\\">{{card.title}}\\n</div><div class=\\\"subtitle h4 secondary-text\\\" ng-if=\\\"card.subtitle\\\">{{card.subtitle}}</div><div class=\\\"text h4 pt-8\\\" \\nng-if=\\\"card.text\\\">{{card.text}}</div></div><div><md-divider></md-divider><div class=\\\"p-8\\\" layout=\\\"row\\\"><md-icon \\nmd-font-icon=\\\"icon-star-outline\\\" class=\\\"mh-5\\\"></md-icon><md-icon md-font-icon=\\\"icon-star-outline\\\" class=\\\"mh-5\\\">\\n</md-icon><md-icon md-font-icon=\\\"icon-star-outline\\\" class=\\\"mh-5\\\"></md-icon><md-icon md-font-icon=\\\"icon-star-outline\\\" \\nclass=\\\"mh-5\\\"></md-icon><md-icon md-font-icon=\\\"icon-star-outline\\\" class=\\\"mh-5\\\"></md-icon></div></div></div><div \\nclass=\\\"media\\\"><img class=\\\"image\\\" ng-src=\\\"{{card.media.image.src}}\\\" alt=\\\"{{card.media.image.alt}}\\\" \\nng-show=\\\"card.media.image\\\"></div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-8/template-8.html\",\"<div class=\\\"template-8\\\"><div class=\\\"media\\\"><img class=\\\"image\\\" ng-src=\\\"{{card.media.image.src}}\\\" \\nalt=\\\"{{card.media.image.alt}}\\\" ng-show=\\\"card.media.image\\\"></div><div class=\\\"content pv-24 ph-16\\\"><div class=\\\"title h1\\\" \\nng-if=\\\"card.title\\\">{{card.title}}</div><div class=\\\"subtitle secondary-text\\\" ng-if=\\\"card.subtitle\\\">{{card.subtitle}}\\n</div><div class=\\\"buttons pt-16\\\"><md-button class=\\\"m-0\\\">{{card.button1}}</md-button><md-button class=\\\"m-0 md-accent\\\">\\n{{card.button2}}</md-button></div><div class=\\\"text pt-16\\\" ng-if=\\\"card.text\\\">{{card.text}}</div></div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-9/template-9.html\",\"<div class=\\\"template-9\\\"><div class=\\\"header p-16\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><div ng-if=\\\"card.avatar\\\"><img\\n class=\\\"avatar mr-16\\\" ng-src=\\\"{{card.avatar.src}}\\\" alt=\\\"{{card.avatar.alt}}\\\"></div><div class=\\\"info\\\"><div \\nclass=\\\"title\\\" ng-if=\\\"card.title\\\">{{card.title}}</div><div class=\\\"subtitle secondary-text\\\" ng-if=\\\"card.subtitle\\\">\\n{{card.subtitle}}</div></div></div><div class=\\\"text ph-16 pb-16\\\" ng-if=\\\"card.text\\\">{{card.text}}</div><div \\nclass=\\\"media\\\"><img class=\\\"image\\\" ng-src=\\\"{{card.media.image.src}}\\\" alt=\\\"{{card.media.image.alt}}\\\" \\nng-show=\\\"card.media.image\\\"></div><div class=\\\"buttons m-8\\\"><md-button class=\\\"md-icon-button mr-16\\\" \\naria-label=\\\"Favorite\\\"><md-icon md-font-icon=\\\"icon-heart-outline\\\" class=\\\"s24\\\"></md-icon></md-button><md-button \\nclass=\\\"md-icon-button\\\" aria-label=\\\"Share\\\"><md-icon md-font-icon=\\\"icon-share\\\" class=\\\"s24\\\"></md-icon></md-button></div>\\n</div>\");\n$templateCache.put(\"app/core/directives/ms-stepper/templates/horizontal/horizontal.html\",\"<div class=\\\"ms-stepper-horizontal\\\"><div class=\\\"ms-stepper-navigation-wrapper\\\"><div class=\\\"ms-stepper-navigation\\\" \\nlayout=\\\"row\\\" layout-align=\\\"center center\\\"><md-button class=\\\"ms-stepper-navigation-item\\\" \\nng-class=\\\"{\\'current\\': MsStepper.isStepCurrent(step.stepNumber), \\'valid\\': MsStepper.isStepValid(step.stepNumber), \\'disabled\\': MsStepper.isStepDisabled(step.stepNumber), \\'optional\\': MsStepper.isStepOptional(step.stepNumber)}\\\" \\nng-click=\\\"MsStepper.gotoStep(step.stepNumber)\\\" ng-disabled=\\\"MsStepper.isStepDisabled(step.stepNumber)\\\" \\nng-repeat=\\\"step in MsStepper.steps | filter:MsStepper.filterHiddenStep\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><div \\nclass=\\\"step md-accent-bg\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\"><span \\nng-if=\\\"!MsStepper.isStepValid(step.stepNumber) || MsStepper.isStepOptional(step.stepNumber)\\\">{{$index + 1}} </span>\\n<span ng-if=\\\"MsStepper.isStepValid(step.stepNumber) && !MsStepper.isStepOptional(step.stepNumber)\\\"><i \\nclass=\\\"icon icon-check s18\\\"></i></span></div><div layout=\\\"column\\\" layout-align=\\\"start start\\\"><div class=\\\"title\\\">\\n{{step.stepTitle}}</div><div class=\\\"subtitle\\\" ng-if=\\\"MsStepper.isStepOptional(step.stepNumber)\\\">Optional</div></div>\\n</md-button></div></div><div class=\\\"ms-stepper-steps\\\" ng-transclude></div><div class=\\\"ms-stepper-controls\\\" \\nlayout=\\\"row\\\" layout-align=\\\"center center\\\"><md-button class=\\\"md-accent md-raised\\\" ng-disabled=\\\"MsStepper.isFirstStep()\\\" \\nng-click=\\\"MsStepper.gotoPreviousStep()\\\">Back</md-button><div class=\\\"ms-stepper-dots\\\"><span \\nng-repeat=\\\"step in MsStepper.steps\\\" ng-hide=\\\"MsStepper.isStepHidden(step.stepNumber)\\\" \\nng-class=\\\"{\\'selected md-accent-bg\\':MsStepper.currentStepNumber === $index + 1}\\\"></span></div><md-button \\nclass=\\\"md-accent md-raised\\\" ng-if=\\\"!MsStepper.isLastStep()\\\" \\nng-disabled=\\\"!MsStepper.isStepValid(MsStepper.currentStepNumber)\\\" ng-click=\\\"MsStepper.gotoNextStep()\\\">Next</md-button>\\n<md-button type=\\\"submit\\\" class=\\\"md-accent md-raised\\\" ng-click=\\\"MsStepper.resetForm()\\\" ng-if=\\\"MsStepper.isLastStep()\\\" \\nng-disabled=\\\"!MsStepper.isFormValid()\\\">Submit</md-button></div></div>\");\n$templateCache.put(\"app/core/directives/ms-stepper/templates/vertical/vertical.html\",\"<div class=\\\"ms-stepper-vertical\\\"><div class=\\\"ms-stepper-vertical-line\\\"></div><div class=\\\"ms-stepper-steps\\\" \\nng-transclude></div></div>\");\n$templateCache.put(\"app/main/mail/views/classic/detail/detail.html\",\"<div class=\\\"thread-header\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div class=\\\"thread-content\\\"><div \\nclass=\\\"info\\\" layout=\\\"row\\\" layout-align=\\\"space-between start\\\"><div layout=\\\"column\\\" layout-align=\\\"start start\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"start start\\\"><div layout=\\\"column\\\" layout-align=\\\"start start\\\"><div class=\\\"name\\\">\\n{{vm.currentThread.user.name}}</div><div class=\\\"to\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"to-text\\\" \\ntranslate=\\\"MAIL.INFO.TO\\\">to</div><div>{{user.name.full}}</div></div></div></div><div class=\\\"labels\\\"><div class=\\\"label\\\" \\nng-repeat=\\\"labelId in vm.currentThread.labels\\\" ng-class=\\\"vm.getLabelColor(labelId)\\\">{{vm.getLabelTitle(labelId)}}</div>\\n</div><a class=\\\"toggle-details md-accent-color\\\" ng-hide=\\\"vm.selectedMailShowDetails\\\" \\nng-click=\\\"vm.selectedMailShowDetails = !vm.selectedMailShowDetails\\\" translate=\\\"MAIL.SHOW_DETAILS\\\">Show Details </a><a \\nclass=\\\"toggle-details md-accent-color\\\" ng-show=\\\"vm.selectedMailShowDetails\\\" \\nng-click=\\\"vm.selectedMailShowDetails = !vm.selectedMailShowDetails\\\" translate=\\\"MAIL.HIDE_DETAILS\\\">Hide Details</a><div \\nng-show=\\\"vm.selectedMailShowDetails\\\" class=\\\"details\\\" layout=\\\"row\\\" layout-align=\\\"start start\\\"><div layout=\\\"column\\\"><span\\n class=\\\"title\\\" translate=\\\"MAIL.DETAILS.FROM\\\">From:</span> <span class=\\\"title\\\" translate=\\\"MAIL.DETAILS.ORGANIZATION\\\">\\nOrganization:</span> <span class=\\\"title\\\" translate=\\\"MAIL.DETAILS.DATE\\\">Date:</span></div><div layout=\\\"column\\\"><span \\nclass=\\\"detail\\\">{{vm.currentThread.user.name}}</span> <span class=\\\"detail\\\">{{vm.currentThread.user.organization}}</span>\\n <span class=\\\"detail\\\">{{vm.currentThread.timestamp | date : \\\"short\\\"}}</span></div></div></div><md-menu><md-button \\naria-label=\\\"More\\\" class=\\\"md-icon-button\\\" ng-click=\\\"$mdOpenMenu($event)\\\" translate translate-aria-label=\\\"MAIL.MORE\\\">\\n<md-icon md-font-icon=\\\"icon-dots-vertical\\\"></md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item \\nng-if=\\\"vm.currentThread.type==\\'message\\'\\\"><md-button aria-label=\\\"Reply\\\" translate-aria-label=\\\"MAIL.REPLY\\\" \\nng-click=\\\"vm.passMessages(vm.currentThread.user.id)\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-reply\\\">\\n</md-icon><span translate=\\\"MAIL.REPLY\\\">Reply</span></md-button></md-menu-item><md-menu-item><md-button \\naria-label=\\\"Delete\\\" translate-aria-label=\\\"MAIL.DELETE\\\" ng-click=\\\"vm.deleteFeed($event, vm.currentThread)\\\"><md-icon \\nclass=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\"></md-icon><span translate=\\\"MAIL.DELETE\\\">Delete</span></md-button>\\n</md-menu-item></md-menu-content></md-menu></div><div ng-if=\\\"vm.currentThread.checklist && !vm.currentThread.message\\\" \\nclass=\\\"details\\\" layout=\\\"row\\\" ng-switch=\\\"vm.currentThread.reason\\\" layout-align=\\\"start start\\\"><div layout=\\\"column\\\" \\nng-switch-when=\\\"create\\\"><div ng-if=\\\"vm.currentThread.type == \\'notification\\'\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start start\\\"><span class=\\\"details\\\">\\nA new {{vm.currentThread.item.type}} has been added to one of your checklists.</span></div><div layout=\\\"row\\\" \\nlayout-align=\\\"start start\\\"><span class=\\\"details pr-8 font-weight-900\\\">Checklist: </span><span class=\\\"details\\\" \\nng-show=\\\"vm.currentThread.item.type == \\'checklist\\'\\\"><a \\nng-click=\\\"vm.passChecklistPostings(vm.currentThread.item.idCHK, vm.currentThread.specific.id_parent, vm.currentThread.item.id, vm.currentThread.item.type, vm.currentThread.checklist.name, vm.currentThread.type)\\\">\\n{{vm.currentThread.checklist.name}}</a></span> <span class=\\\"details\\\" \\nng-hide=\\\"vm.currentThread.item.type == \\'checklist\\'\\\"><a \\nng-click=\\\"vm.passChecklistPostings(vm.currentThread.item.idCHK, vm.currentThread.specific.id_parent, vm.currentThread.item.id, vm.currentThread.item.type, vm.currentThread.specific.name, vm.currentThread.type)\\\">\\n{{vm.currentThread.checklist.name}}</a></span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span \\nclass=\\\"details font-weight-900 pr-8\\\">{{vm.upperCaseFirst(vm.currentThread.item.type)}}: </span><span class=\\\"details\\\">\\n{{vm.currentThread.item.text}}</span></div></div><div ng-if=\\\"vm.currentThread.type == \\'post\\'\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start start\\\"><span class=\\\"details\\\" ng-if=\\\"vm.currentThread.item.type !== \\'checklist\\'\\\">\\nA new Conversation has been added to a {{vm.currentThread.item.type}} in one of your checklists.</span> <span \\nclass=\\\"details\\\" ng-if=\\\"vm.currentThread.item.type == \\'checklist\\'\\\">\\nA new Conversation has been added to one of your checklists.</span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\">\\n<span class=\\\"details pr-8 font-weight-900\\\">Checklist: </span><span class=\\\"details\\\" \\nng-show=\\\"vm.currentThread.item.type == \\'checklist\\'\\\"><a \\nng-click=\\\"vm.passChecklistPostings(vm.currentThread.item.idCHK, vm.currentThread.specific.id_parent, vm.currentThread.item.id, vm.currentThread.item.type, vm.currentThread.checklist.name, vm.currentThread.type)\\\">\\n{{vm.currentThread.checklist.name}}</a></span> <span class=\\\"details\\\" \\nng-hide=\\\"vm.currentThread.item.type == \\'checklist\\'\\\"><a \\nng-click=\\\"vm.passChecklistPostings(vm.currentThread.item.idCHK, vm.currentThread.specific.id_parent, vm.currentThread.item.id, vm.currentThread.item.type, vm.currentThread.specific.name, vm.currentThread.type)\\\">\\n{{vm.currentThread.checklist.name}}</a></span></div><div ng-if=\\\"vm.currentThread.item.type !== \\'checklist\\'\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details font-weight-900 pr-8\\\">\\n{{vm.upperCaseFirst(vm.currentThread.item.type)}}: </span><span class=\\\"details\\\">{{vm.currentThread.specific.name}}\\n</span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details font-weight-900 pr-8\\\">Conversation: \\n</span><span class=\\\"details\\\">{{vm.currentThread.item.text}}</span></div></div></div><div layout=\\\"column\\\" \\nng-switch-when=\\\"edit\\\"><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details\\\" \\nng-if=\\\"vm.currentThread.item.type !== \\'checklist\\'\\\">\\nThere has been an edit made to a {{vm.currentThread.item.type}} in one of your checklists.</span> <span \\nclass=\\\"details\\\" ng-if=\\\"vm.currentThread.item.type == \\'checklist\\'\\\">\\nThere has been an edit made to one of your checklists.</span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span \\nclass=\\\"details font-weight-900 pr-8\\\">Checklist: </span><span class=\\\"details\\\" \\nng-show=\\\"vm.currentThread.item.type == \\'checklist\\'\\\"><a \\nng-click=\\\"vm.passChecklistPostings(vm.currentThread.item.idCHK, vm.currentThread.specific.id_parent, vm.currentThread.item.id, vm.currentThread.item.type, vm.currentThread.checklist.name, vm.currentThread.type)\\\">\\n{{vm.currentThread.checklist.name}}</a></span> <span class=\\\"details\\\" \\nng-hide=\\\"vm.currentThread.item.type == \\'checklist\\'\\\"><a \\nng-click=\\\"vm.passChecklistPostings(vm.currentThread.item.idCHK, vm.currentThread.specific.id_parent, vm.currentThread.item.id, vm.currentThread.item.type, vm.currentThread.specific.name, vm.currentThread.type)\\\">\\n{{vm.currentThread.checklist.name}}</a></span></div><div ng-if=\\\"vm.currentThread.item.type !== \\'checklist\\'\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details font-weight-900 pr-8\\\">\\n{{vm.upperCaseFirst(vm.currentThread.item.type)}}: </span><span class=\\\"details\\\">{{vm.currentThread.item.text}}</span>\\n</div></div><div ng-switch-when=\\\"\\\"><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details\\\">\\n{{vm.currentThread.item.text}}</span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span \\nclass=\\\"details font-weight-900 pr-8\\\">Checklist:</span> <span class=\\\"details\\\"><a \\nhref=\\\"/checklist/detail/{{vm.currentThread.item.idCHK}}\\\">{{vm.currentThread.checklist.name}}</a></span></div></div>\\n</div><div ng-if=\\\"vm.currentThread.type==\\'message\\'\\\" class=\\\"details\\\"><span class=\\\"details\\\" \\nng-bind-html=\\\"vm.currentThread.item.text\\\"></span> <span class=\\\"details\\\"><a \\nng-click=\\\"vm.passMessages(vm.currentThread.user.id)\\\">View Messages</a></span></div><div \\nng-if=\\\"vm.currentThread.type==\\'invited\\'\\\" class=\\\"details\\\"><span class=\\\"details\\\" \\nng-bind-html=\\\"vm.currentThread.item.text\\\"></span> <span class=\\\"details\\\"><a \\nng-click=\\\"vm.passContacts(vm.currentThread.item.id)\\\">View Request</a></span></div><div \\nng-if=\\\"vm.currentThread.type==\\'invite\\'\\\" class=\\\"details\\\"><span class=\\\"details\\\" \\nng-bind-html=\\\"vm.currentThread.item.text\\\"></span> <span class=\\\"details\\\"><a \\nng-click=\\\"vm.passInvitations(vm.currentThread.item.id, vm.currentThread.item.type)\\\">View Invitation</a></span></div>\\n<div ng-if=\\\"vm.currentThread.type==\\'accepted\\'\\\" class=\\\"details\\\"><span class=\\\"details\\\" \\nng-bind-html=\\\"vm.currentThread.item.text\\\"></span></div></div></div>\");\n$templateCache.put(\"app/main/mail/views/classic/list/list.html\",\"<div class=\\\"no-threads\\\" ng-if=\\\"vm.threads.length === 0\\\">You have no notifications in <span class=\\\"text-capitalized\\\">\\n\\'{{vm.currentFilter.name}}\\'</span></div><div class=\\\"loading-threads\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\" \\nng-if=\\\"!vm.threads && vm.loadingThreads\\\"><md-progress-circular class=\\\"md-accent\\\" md-mode=\\\"indeterminate\\\" \\nmd-diameter=\\\"64\\\"></md-progress-circular><div>Loading your mails...</div></div><div class=\\\"thread {{thread.status}}\\\" \\nmd-ink-ripple ng-if=\\\"!vm.loadingThreads\\\" ng-repeat=\\\"thread in vm.threads | filter: vm.search | filter: global.search\\\" \\nng-click=\\\"vm.openThread(thread)\\\" \\nng-class=\\\"{\\'unread\\': !thread.read, \\'current-thread\\': vm.currentThread === thread, \\'selected\\': vm.isSelected(thread)}\\\">\\n<div layout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"info\\\" flex layout=\\\"column\\\"><div class=\\\"sender\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><span class=\\\"text-truncate\\\">{{thread.user.name}}</span></div><div class=\\\"organization\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><span class=\\\"text-truncate\\\">{{thread.user.organization}}</span></div><div \\nclass=\\\"message text-truncate\\\">\\n{{thread.item.text | htmlToPlaintext | limitTo:30}}{{thread.item.text.length > 50 ? \\'...\\' : \\'\\'}}<div><div \\nclass=\\\"labels\\\"><div class=\\\"label\\\" ng-repeat=\\\"labelId in thread.labels track by $index\\\" \\nng-class=\\\"vm.getLabelColor(labelId)\\\">{{ vm.getLabelTitle(labelId) }}</div></div></div></div><div layout=\\\"column\\\" \\nlayout-align=\\\"space-between end\\\"><div class=\\\"time\\\">{{thread.timestamp | date : \\\"short\\\"}}</div></div></div></div></div>\");\n$templateCache.put(\"app/main/mail/views/outlook/detail/create.html\",\"<div layout=\\\"column\\\" ng-switch-when=\\\"create\\\"><div ng-if=\\\"vm.currentThread.type == \\'notification\\'\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start start\\\"><span class=\\\"details\\\">\\nA new {{vm.currentThread.item.type}} has been added to one of your checklists.</span></div><div layout=\\\"row\\\" \\nlayout-align=\\\"start start\\\"><span class=\\\"details pr-8 font-weight-900\\\">Checklist: </span><span class=\\\"details\\\"><a \\nhref=\\\"/checklist/detail/{{vm.currentThread.item.idCHK}}\\\">{{vm.currentThread.checklist.name}}</a></span></div><div \\nlayout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details font-weight-900 pr-8\\\">\\n{{vm.upperCaseFirst(vm.currentThread.item.type)}}: </span><span class=\\\"details\\\">{{vm.currentThread.item.text}}</span>\\n</div></div><div ng-if=\\\"vm.currentThread.type == \\'post\\'\\\"><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span \\nclass=\\\"details\\\" ng-if=\\\"vm.currentThread.item.type !== \\'checklist\\'\\\">\\nA new Conversation has been added to a {{vm.currentThread.item.type}} in one of your checklists.</span> <span \\nclass=\\\"details\\\" ng-if=\\\"vm.currentThread.item.type == \\'checklist\\'\\\">\\nA new Conversation has been added to one of your checklists.</span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\">\\n<span class=\\\"details pr-8 font-weight-900\\\">Checklist: </span><span class=\\\"details\\\"><a \\nhref=\\\"/checklist/detail/{{vm.currentThread.item.idCHK}}\\\">{{vm.currentThread.checklist.name}}</a></span></div><div \\nng-if=\\\"vm.currentThread.item.type !== \\'checklist\\'\\\" layout=\\\"row\\\" layout-align=\\\"start start\\\"><span \\nclass=\\\"details font-weight-900 pr-8\\\">{{vm.upperCaseFirst(vm.currentThread.item.type)}}: </span><span class=\\\"details\\\">\\n{{vm.currentThread.specific.name}}</span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span \\nclass=\\\"details font-weight-900 pr-8\\\">Conversation: </span><span class=\\\"details\\\">{{vm.currentThread.item.text}}</span>\\n</div></div></div>\");\n$templateCache.put(\"app/main/mail/views/outlook/detail/default.html\",\"<div layout=\\\"column\\\" ng-switch-when=\\\"\\\"><span class=\\\"detail\\\">\\n{{vm.currentThread.item.type}}: {{vm.currentThread.item.text}}</span> <span class=\\\"detail\\\"><a \\nhref=\\\"/checklist/detail/{{vm.currentThread.item.idCHK}}\\\">{{vm.currentThread.checklist.name}}</a></span></div>\");\n$templateCache.put(\"app/main/mail/views/outlook/detail/detail.html\",\"<div ng-if=\\\"!vm.currentThread\\\" class=\\\"no-thread-selected\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\" flex><md-icon \\nmd-font-icon=\\\"icon-email\\\" class=\\\"s120 grey-400-fg\\\"></md-icon></div><div ng-if=\\\"vm.currentThread\\\"><div \\nclass=\\\"thread-header\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div><div class=\\\"subject\\\" flex>\\n{{vm.currentThread.subject}}</div><div class=\\\"labels\\\"><div class=\\\"label\\\" \\nng-repeat=\\\"labelId in vm.currentThread.labels track by $index\\\" ng-class=\\\"vm.getLabelColor(labelId)\\\">\\n{{vm.getLabelTitle(labelId)}}</div></div></div><div class=\\\"actions\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"></div>\\n</div><div class=\\\"thread-content\\\"><div class=\\\"info\\\" layout=\\\"row\\\" layout-align=\\\"space-between start\\\"><div \\nlayout=\\\"column\\\" layout-align=\\\"start start\\\"><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><div layout=\\\"column\\\" \\nlayout-align=\\\"start start\\\"><div class=\\\"name\\\">{{vm.currentThread.user.name}}</div><div class=\\\"to\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><div class=\\\"to-text\\\" translate=\\\"MAIL.INFO.TO\\\">to</div><div>{{user.name.full}}</div></div>\\n</div></div><a class=\\\"toggle-details md-accent-color\\\" ng-hide=\\\"vm.selectedMailShowDetails\\\" \\nng-click=\\\"vm.selectedMailShowDetails = !vm.selectedMailShowDetails\\\" translate=\\\"MAIL.SHOW_DETAILS\\\">Show Details </a><a \\nclass=\\\"toggle-details md-accent-color\\\" ng-show=\\\"vm.selectedMailShowDetails\\\" \\nng-click=\\\"vm.selectedMailShowDetails = !vm.selectedMailShowDetails\\\" translate=\\\"MAIL.HIDE_DETAILS\\\">Hide Details</a><div \\nng-show=\\\"vm.selectedMailShowDetails\\\" class=\\\"details\\\" layout=\\\"row\\\" layout-align=\\\"start start\\\"><div layout=\\\"column\\\"><span\\n class=\\\"title\\\" translate=\\\"MAIL.DETAILS.FROM\\\">From:</span> <span class=\\\"title\\\" translate=\\\"MAIL.DETAILS.ORGANIZATION\\\" \\nng-if=\\\"vm.currentThread.user.organization\\\">Organization:</span> <span class=\\\"title\\\" translate=\\\"MAIL.DETAILS.DATE\\\">Date:\\n</span></div><div layout=\\\"column\\\"><span class=\\\"detail\\\">{{vm.currentThread.user.name}} </span><span class=\\\"detail\\\" \\nng-if=\\\"vm.currentThread.user.organization\\\">{{vm.currentThread.user.organization}} </span><span class=\\\"detail\\\">\\n{{vm.currentThread.timestamp | date : \\\"short\\\"}}</span></div></div><div \\nng-if=\\\"vm.currentThread.checklist && !vm.currentThread.message\\\" class=\\\"details\\\" layout=\\\"row\\\" \\nng-switch=\\\"vm.currentThread.reason\\\" layout-align=\\\"start start\\\"><div layout=\\\"column\\\" ng-switch-when=\\\"create\\\"><div \\nng-if=\\\"vm.currentThread.type == \\'notification\\'\\\"><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details\\\">\\nA new {{vm.currentThread.item.type}} has been added to one of your checklists.</span></div><div layout=\\\"row\\\" \\nlayout-align=\\\"start start\\\"><span class=\\\"details pr-8 font-weight-900\\\">Checklist: </span><span class=\\\"details\\\" \\nng-show=\\\"vm.currentThread.item.type == \\'checklist\\'\\\"><a \\nng-click=\\\"vm.passChecklistPostings(vm.currentThread.item.idCHK, vm.currentThread.specific.id_parent, vm.currentThread.item.id, vm.currentThread.item.type, vm.currentThread.checklist.name, vm.currentThread.type)\\\">\\n{{vm.currentThread.checklist.name}}</a></span> <span class=\\\"details\\\" \\nng-hide=\\\"vm.currentThread.item.type == \\'checklist\\'\\\"><a \\nng-click=\\\"vm.passChecklistPostings(vm.currentThread.item.idCHK, vm.currentThread.specific.id_parent, vm.currentThread.item.id, vm.currentThread.item.type, vm.currentThread.specific.name, vm.currentThread.type)\\\">\\n{{vm.currentThread.checklist.name}}</a></span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span \\nclass=\\\"details font-weight-900 pr-8\\\">{{vm.upperCaseFirst(vm.currentThread.item.type)}}: </span><span class=\\\"details\\\">\\n{{vm.currentThread.item.text}}</span></div></div><div ng-if=\\\"vm.currentThread.type == \\'post\\'\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start start\\\"><span class=\\\"details\\\" ng-if=\\\"vm.currentThread.item.type !== \\'checklist\\'\\\">\\nA new Conversation has been added to a {{vm.currentThread.item.type}} in one of your checklists.</span> <span \\nclass=\\\"details\\\" ng-if=\\\"vm.currentThread.item.type == \\'checklist\\'\\\">\\nA new Conversation has been added to one of your checklists.</span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\">\\n<span class=\\\"details pr-8 font-weight-900\\\">Checklist: </span><span class=\\\"details\\\" \\nng-show=\\\"vm.currentThread.item.type == \\'checklist\\'\\\"><a \\nng-click=\\\"vm.passChecklistPostings(vm.currentThread.item.idCHK, vm.currentThread.specific.id_parent, vm.currentThread.item.id, vm.currentThread.item.type, vm.currentThread.checklist.name, vm.currentThread.type)\\\">\\n{{vm.currentThread.checklist.name}}</a></span> <span class=\\\"details\\\" \\nng-hide=\\\"vm.currentThread.item.type == \\'checklist\\'\\\"><a \\nng-click=\\\"vm.passChecklistPostings(vm.currentThread.item.idCHK, vm.currentThread.specific.id_parent, vm.currentThread.item.id, vm.currentThread.item.type, vm.currentThread.specific.name, vm.currentThread.type)\\\">\\n{{vm.currentThread.checklist.name}}</a></span></div><div ng-if=\\\"vm.currentThread.item.type !== \\'checklist\\'\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details font-weight-900 pr-8\\\">\\n{{vm.upperCaseFirst(vm.currentThread.item.type)}}: </span><span class=\\\"details\\\">{{vm.currentThread.specific.name}}\\n</span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details font-weight-900 pr-8\\\">Conversation: \\n</span><span class=\\\"details\\\">{{vm.currentThread.item.text}}</span></div></div></div><div layout=\\\"column\\\" \\nng-switch-when=\\\"edit\\\"><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details\\\" \\nng-if=\\\"vm.currentThread.item.type !== \\'checklist\\'\\\">\\nThere has been an edit made to a {{vm.currentThread.item.type}} in one of your checklists.</span> <span \\nclass=\\\"details\\\" ng-if=\\\"vm.currentThread.item.type == \\'checklist\\'\\\">\\nThere has been an edit made to one of your checklists.</span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span \\nclass=\\\"details font-weight-900 pr-8\\\">Checklist: </span><span class=\\\"details\\\" \\nng-show=\\\"vm.currentThread.item.type == \\'checklist\\'\\\"><a \\nng-click=\\\"vm.passChecklistPostings(vm.currentThread.item.idCHK, vm.currentThread.specific.id_parent, vm.currentThread.item.id, vm.currentThread.item.type, vm.currentThread.checklist.name, vm.currentThread.type)\\\">\\n{{vm.currentThread.checklist.name}}</a></span> <span class=\\\"details\\\" \\nng-hide=\\\"vm.currentThread.item.type == \\'checklist\\'\\\"><a \\nng-click=\\\"vm.passChecklistPostings(vm.currentThread.item.idCHK, vm.currentThread.specific.id_parent, vm.currentThread.item.id, vm.currentThread.item.type, vm.currentThread.specific.name, vm.currentThread.type)\\\">\\n{{vm.currentThread.checklist.name}}</a></span></div><div ng-if=\\\"vm.currentThread.item.type !== \\'checklist\\'\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details font-weight-900 pr-8\\\">\\n{{vm.upperCaseFirst(vm.currentThread.item.type)}}: </span><span class=\\\"details\\\">{{vm.currentThread.item.text}}</span>\\n</div></div><div ng-switch-when=\\\"\\\"><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details\\\">\\n{{vm.currentThread.item.text}}</span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span \\nclass=\\\"details font-weight-900 pr-8\\\">Checklist:</span> <span class=\\\"details\\\"><a \\nhref=\\\"/checklist/detail/{{vm.currentThread.item.idCHK}}\\\">{{vm.currentThread.checklist.name}}</a></span></div></div>\\n</div><div ng-if=\\\"vm.currentThread.type==\\'message\\'\\\" class=\\\"details\\\"><span class=\\\"details\\\" \\nng-bind-html=\\\"vm.currentThread.item.text\\\"></span> <span class=\\\"details\\\"><a \\nng-click=\\\"vm.passMessages(vm.currentThread.user.id)\\\">View Messages</a></span></div><div \\nng-if=\\\"vm.currentThread.type==\\'invited\\'\\\" class=\\\"details\\\"><span class=\\\"details\\\" \\nng-bind-html=\\\"vm.currentThread.item.text\\\"></span> <span class=\\\"details\\\"><a \\nng-click=\\\"vm.passContacts(vm.currentThread.item.id)\\\">View Request</a></span></div><div \\nng-if=\\\"vm.currentThread.type==\\'invite\\'\\\" class=\\\"details\\\"><span class=\\\"details\\\" \\nng-bind-html=\\\"vm.currentThread.item.text\\\"></span> <span class=\\\"details\\\"><a \\nng-click=\\\"vm.passInvitations(vm.currentThread.item.id, vm.currentThread.item.type)\\\">View Invitation</a></span></div>\\n<div ng-if=\\\"vm.currentThread.type==\\'accepted\\'\\\" class=\\\"details\\\"><span class=\\\"details\\\" \\nng-bind-html=\\\"vm.currentThread.item.text\\\"></span></div></div><md-menu><md-button aria-label=\\\"More\\\" \\nclass=\\\"md-icon-button\\\" ng-click=\\\"$mdOpenMenu($event)\\\" translate translate-aria-label=\\\"MAIL.MORE\\\"><md-icon \\nmd-font-icon=\\\"icon-dots-vertical\\\"></md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item \\nng-if=\\\"vm.currentThread.type==\\'message\\'\\\"><md-button aria-label=\\\"Reply\\\" translate-aria-label=\\\"MAIL.REPLY\\\" \\nng-click=\\\"vm.passMessages(vm.currentThread.user.id)\\\"><md-icon class=\\\"md-accent-fg s18\\\" md-font-icon=\\\"icon-reply\\\">\\n</md-icon><span translate=\\\"MAIL.REPLY\\\">Reply</span></md-button></md-menu-item><md-menu-item><md-button \\naria-label=\\\"Delete\\\" translate-aria-label=\\\"MAIL.DELETE\\\" ng-click=\\\"vm.deleteFeed($event, vm.currentThread)\\\"><md-icon \\nclass=\\\"red-600-fg s18\\\" md-font-icon=\\\"icon-trash\\\"></md-icon><span translate=\\\"MAIL.DELETE\\\">Delete</span></md-button>\\n</md-menu-item></md-menu-content></md-menu></div></div></div>\");\n$templateCache.put(\"app/main/mail/views/outlook/detail/edit.html\",\"<div layout=\\\"column\\\" ng-switch-when=\\\"edit\\\"><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span class=\\\"details\\\" \\nng-if=\\\"vm.currentThread.item.type !== \\'checklist\\'\\\">\\nThere has been an edit made to a {{vm.currentThread.item.type}} in one of your checklists.</span> <span \\nclass=\\\"details\\\" ng-if=\\\"vm.currentThread.item.type == \\'checklist\\'\\\">\\nThere has been an edit made to one of your checklists.</span></div><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span \\nclass=\\\"details font-weight-900 pr-8\\\">Checklist: </span><span class=\\\"details\\\"><a \\nhref=\\\"/checklist/detail/{{vm.currentThread.item.idCHK}}\\\">{{vm.currentThread.checklist.name}}</a></span></div><div \\nng-if=\\\"vm.currentThread.item.type !== \\'checklist\\'\\\" layout=\\\"row\\\" layout-align=\\\"start start\\\"><span \\nclass=\\\"details font-weight-900 pr-8\\\">{{vm.upperCaseFirst(vm.currentThread.item.type)}}: </span><span class=\\\"details\\\">\\n{{vm.currentThread.item.text}}</span></div></div>\");\n$templateCache.put(\"app/main/mail/views/outlook/detail/message.html\",\"<span class=\\\"detail\\\">{{vm.currentThread.item.text | nl2br}}</span>\");\n$templateCache.put(\"app/main/mail/views/outlook/list/list-outbox.html\",\"<div class=\\\"no-threads\\\" ng-if=\\\"vm.threads.length === 0\\\">You have no notifications in <span class=\\\"text-capitalized\\\">\\n\\'{{vm.currentFilter.filter}}\\'</span></div><div class=\\\"loading-threads\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\" \\nng-if=\\\"!vm.threads && vm.loadingThreads\\\"><md-progress-circular class=\\\"md-accent\\\" md-mode=\\\"indeterminate\\\" \\nmd-diameter=\\\"64\\\"></md-progress-circular><div>Loading your mails...</div></div><div class=\\\"thread {{thread.status}}\\\" \\nmd-ink-ripple ng-if=\\\"!vm.loadingThreads\\\" \\nng-repeat=\\\"thread in vm.outboxThreads | filter: vm.search | filter: globalSearch.searchTerm track by $index\\\" \\nng-click=\\\"\\\" \\nng-class=\\\"{\\'unread\\': !thread.read, \\'current-thread\\': vm.currentThread === thread, \\'selected\\': vm.isSelected(thread)}\\\">\\n<div layout=\\\"row\\\" layout-align=\\\"start top\\\"><div class=\\\"info\\\" flex layout=\\\"column\\\"><div class=\\\"sender\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><span class=\\\"text-truncate\\\">{{thread.user}}</span></div><div class=\\\"organization\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><span class=\\\"text-truncate\\\">{{thread.organization}}</span></div><div \\nclass=\\\"message text-truncate\\\">{{thread.text | limitTo:50}}{{thread.text.length > 50 ? \\'...\\' : \\'\\'}}<div><div \\nclass=\\\"labels\\\"><div class=\\\"label\\\" ng-repeat=\\\"labelId in thread.labels track by $index\\\" \\nng-class=\\\"vm.getLabelColor(labelId)\\\">{{ vm.getLabelTitle(labelId) }}</div></div></div></div></div><div layout=\\\"column\\\" \\nlayout-align=\\\"space-between end\\\"><div class=\\\"time\\\">{{thread.timestamp | date : \\\"short\\\"}}</div></div></div></div>\");\n$templateCache.put(\"app/main/mail/views/outlook/list/list.html\",\"<div class=\\\"no-threads\\\" ng-if=\\\"vm.threads.length === 0\\\">You have no notifications in <span class=\\\"text-capitalized\\\">\\n\\'{{vm.currentFilter.name}}\\'</span></div><div class=\\\"loading-threads\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\" \\nng-if=\\\"!vm.threads && vm.loadingThreads\\\"><md-progress-circular class=\\\"md-accent\\\" md-mode=\\\"indeterminate\\\" \\nmd-diameter=\\\"64\\\"></md-progress-circular><div>Loading your mails...</div></div><div class=\\\"thread {{thread.status}}\\\" \\nmd-ink-ripple ng-if=\\\"!vm.loadingThreads\\\" \\nng-repeat=\\\"thread in vm.threads | filter: vm.search | filter: globalSearch.searchTerm track by $index\\\" \\nng-click=\\\"vm.openThread(thread)\\\" \\nng-class=\\\"{\\'unread\\': !thread.read, \\'current-thread\\': vm.currentThread === thread, \\'selected\\': vm.isSelected(thread)}\\\">\\n<div layout=\\\"row\\\" layout-align=\\\"start top\\\"><div class=\\\"info\\\" flex layout=\\\"column\\\"><div class=\\\"sender\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><span class=\\\"text-truncate\\\">{{thread.user.name}} {{feed.unread.length}}</span></div><div \\nclass=\\\"organization\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><span class=\\\"text-truncate\\\">{{thread.user.organization}}\\n</span></div><div class=\\\"message text-truncate\\\"><span class=\\\"details\\\" ng-bind-html=\\\"thread.item.text | limitTo:75\\\">\\n</span> {{thread.item.text.length > 50 ? \\'...\\' : \\'\\'}}<div><div class=\\\"labels\\\"><div class=\\\"label\\\" \\nng-repeat=\\\"labelId in thread.labels track by $index\\\" ng-class=\\\"vm.getLabelColor(labelId)\\\">\\n{{ vm.getLabelTitle(labelId) }}</div></div></div></div></div><div layout=\\\"column\\\" layout-align=\\\"space-between end\\\"><div\\n class=\\\"time\\\">{{thread.timestamp | date : \\\"short\\\"}}</div></div></div></div>\");\n$templateCache.put(\"app/core/directives/ms-stepper/templates/vertical/step/vertical-step.html\",\"<md-button class=\\\"ms-stepper-navigation-item\\\" \\nng-class=\\\"{\\'current\\': MsStepper.isStepCurrent(stepInfo.stepNumber), \\'valid\\': MsStepper.isStepValid(stepInfo.stepNumber), \\'disabled\\': MsStepper.isStepDisabled(stepInfo.stepNumber), \\'optional\\': MsStepper.isStepOptional(stepInfo.stepNumber)}\\\" \\nng-click=\\\"MsStepper.gotoStep(stepInfo.stepNumber)\\\" ng-disabled=\\\"MsStepper.isStepDisabled(stepInfo.stepNumber)\\\" \\nng-hide=\\\"MsStepper.isStepHidden(stepInfo.stepNumber)\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"step\\\" \\nlayout=\\\"row\\\" layout-align=\\\"center center\\\"><span \\nng-if=\\\"!MsStepper.isStepValid(stepInfo.stepNumber) || MsStepper.isStepOptional(stepInfo.stepNumber)\\\"><i \\nclass=\\\"icon icon-checkbox-blank-circle-outline s18 md-accent-fg\\\"></i> </span><span \\nng-if=\\\"MsStepper.isStepValid(stepInfo.stepNumber) && !MsStepper.isStepOptional(stepInfo.stepNumber)\\\"><i \\nclass=\\\"icon icon-check-circle s18 md-accent-fg\\\"></i></span></div><div layout=\\\"column\\\" layout-align=\\\"start start\\\"><div \\nclass=\\\"title\\\">{{stepInfo.stepTitle}}</div><div class=\\\"subtitle\\\" ng-if=\\\"MsStepper.isStepOptional(stepInfo.stepNumber)\\\">\\nOptional</div></div></md-button><div class=\\\"ms-stepper-step-content\\\" ng-transclude></div><div \\nclass=\\\"ms-stepper-controls\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" \\nng-show=\\\"MsStepper.isStepCurrent(stepInfo.stepNumber)\\\"><md-button class=\\\"md-accent md-raised\\\" \\nng-disabled=\\\"MsStepper.isFirstStep()\\\" ng-click=\\\"MsStepper.gotoPreviousStep()\\\">Back</md-button><md-button \\nclass=\\\"md-accent md-raised\\\" ng-if=\\\"!MsStepper.isLastStep()\\\" \\nng-disabled=\\\"!MsStepper.isStepValid(MsStepper.currentStepNumber)\\\" ng-click=\\\"MsStepper.gotoNextStep()\\\">Next</md-button>\\n<md-button type=\\\"submit\\\" class=\\\"md-accent md-raised\\\" ng-click=\\\"MsStepper.resetForm()\\\" ng-if=\\\"MsStepper.isLastStep()\\\" \\nng-disabled=\\\"!MsStepper.isFormValid()\\\">Submit</md-button></div>\");\n$templateCache.put(\"app/main/chat/sidenavs/left/views/chats/chats-view.html\",\"<md-toolbar class=\\\"md-tall\\\"><div class=\\\"md-toolbar-tools md-toolbar-tools-top\\\"><div class=\\\"avatar-wrapper\\\"></div>\\n<md-menu md-position-mode=\\\"target-right target\\\"></md-menu></div><div class=\\\"md-toolbar-tools md-toolbar-tools-bottom\\\">\\n<div class=\\\"search-wrapper md-whiteframe-1dp\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div class=\\\"search\\\" flex \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><md-icon md-font-icon=\\\"icon-magnify\\\" class=\\\"icon s18\\\"></md-icon><input flex \\nng-model=\\\"vm.chatSearch\\\" type=\\\"text\\\" placeholder=\\\"Search or start new chat\\\" translate=\\\"\\\" \\ntranslate-attr-placeholder=\\\"CHAT.CHAT_SEARCH_PLACEHOLDER\\\"></div></div></div></md-toolbar><md-content flex ms-scroll>\\n<md-list class=\\\"chat-list\\\"><div ng-show=\\\"vm.chatSearch && filteredChat.length > 0\\\" class=\\\"md-accent-fg subheader\\\" \\nng-style=\\\"{\\'transform\\':\\'translate3d(0px, 0px, 0px)\\', \\'z-index\\': filteredChat.length + filteredContact.length }\\\" \\ntranslate=\\\"CHAT.CHATS\\\">CONTACTS</div><md-list-item class=\\\"contact md-3-line\\\" \\nng-style=\\\"{\\'transform\\': ( vm.chatSearch && filteredChat.length > 0 ) ?\\'translate3d(0px, \\'+($index + 1)* 100+\\'%, 0px)\\': \\'translate3d(0px, \\'+$index* 100+\\'%, 0px)\\', \\'z-index\\': filteredChat.length + filteredContact.length - $index}\\\" \\nng-repeat=\\\"contact in vm.contacts  | orderBy:\\'accepted\\':true |  filter: {name:{full:vm.chatSearch}}  |  filter:query as filteredChat\\\" \\nng-click=\\\"vm.openConversation(contact.contact_id, \\'message\\', contact.name, contact)\\\" \\nng-class=\\\"{\\'unread\\':contact.unread}\\\"><div class=\\\"md-list-item-text\\\"><h3 class=\\\"name\\\">\\n{{contact.name.first}} {{contact.name.last}}</h3><p class=\\\"last-message\\\">{{contact.organization}}</p></div><div \\nlayout=\\\"column\\\" layout-align=\\\"center end\\\"></div><md-divider></md-divider></md-list-item></md-list><div \\nng-hide=\\\"(filteredChat.length + filteredContact.length) > 0\\\" class=\\\"no-results-message\\\" translate=\\\"CHAT.NO_RESULTS\\\">\\nNo results..</div></md-content><md-button class=\\\"md-fab contacts-button\\\" \\nng-click=\\\"vm.toggleLeftSidenavView(\\'contacts\\')\\\" aria-label=\\\"contacts button\\\"><md-icon md-font-icon=\\\"icon-plus\\\">\\n</md-icon></md-button>\");\n$templateCache.put(\"app/main/chat/sidenavs/left/views/contacts/contacts-view.html\",\"<md-toolbar class=\\\"md-tall md-accent\\\"><div class=\\\"md-toolbar-tools md-toolbar-tools-top\\\"><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.toggleLeftSidenavView(false)\\\" aria-label=\\\"back button\\\"><md-icon \\nmd-font-icon=\\\"icon-arrow-left\\\"></md-icon></md-button><h3><span translate=\\\"CHAT.CONTACTS\\\">CONTACTS</span></h3></div><div\\n class=\\\"md-toolbar-tools md-toolbar-tools-bottom\\\"><div class=\\\"search-wrapper md-whiteframe-1dp\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" flex><div class=\\\"search\\\" flex layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-icon \\nmd-font-icon=\\\"icon-magnify\\\" class=\\\"icon s18\\\"></md-icon><input flex ng-model=\\\"vm.contactSearch\\\" type=\\\"text\\\" \\nplaceholder=\\\"Search contact\\\" translate=\\\"\\\" translate-attr-placeholder=\\\"CHAT.CONTACTS_SEARCH_PLACEHOLDER\\\"></div></div>\\n</div></md-toolbar><md-content flex ms-scroll><md-list class=\\\"contact-list\\\"><md-list-item class=\\\"contact md-3-line\\\" \\nng-repeat=\\\"contact in vm.contacts | filter: {name:{full:vm.contactSearch}} | orderBy: \\'name.last\\' | filter:query as filteredContact\\\" \\nng-style=\\\"{\\'transform\\': \\'translate3d(0px, \\'+$index * 100+\\'%, 0px)\\', \\'z-index\\': filteredContact.length - $index}\\\" \\nng-click=\\\"vm.openConversation(contact.contact_id, \\'message\\', contact.name, contact)\\\"><div class=\\\"avatar-wrapper\\\"><img \\nng-src=\\\"assets/images/avatars/profile.jpg\\\" class=\\\"md-avatar avatar\\\" alt=\\\"{{contact.name.first}} {{contact.name.last}}\\\">\\n <i class=\\\"icon icon- s16 status\\\" ng-class=\\\"contact.status\\\"></i></div><div class=\\\"md-list-item-text\\\"><h3>\\n{{contact.name.first}} {{contact.name.last}}</h3><p class=\\\"mood\\\">{{contact.organization}}</p></div></md-list-item>\\n</md-list><div ng-if=\\\"filteredContact.length <= 0\\\" class=\\\"no-results-message\\\" translate=\\\"CHAT.NO_RESULTS\\\">No results..\\n</div></md-content>\");\n$templateCache.put(\"app/main/chat/sidenavs/left/views/user/user-view.html\",\"<md-toolbar class=\\\"md-tall md-accent\\\"><div class=\\\"md-toolbar-tools md-toolbar-tools-top\\\"><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.toggleLeftSidenavView(false)\\\" aria-label=\\\"back\\\"><md-icon \\nmd-font-icon=\\\"icon-arrow-left\\\"></md-icon></md-button></div><div class=\\\"md-toolbar-tools md-toolbar-tools-bottom\\\" flex \\nlayout=\\\"column\\\" layout-align=\\\"center center\\\"><div layout=\\\"column\\\" layout-align=\\\"center center\\\"><img \\nng-src=\\\"assets/images/avatars/profile.jpg\\\" class=\\\"md-avatar avatar user-avatar huge\\\" alt=\\\"{{vm.user.name.full}}\\\"><div \\nclass=\\\"user-name\\\">{{vm.user.name.full}}</div></div></div></md-toolbar><md-content class=\\\"md-hue-2\\\" flex ms-scroll \\nms-padding><md-card><md-card-title>Mood</md-card-title><md-card-content><span class=\\\"mood\\\" \\neditable-textarea=\\\"vm.user.mood\\\" e-rows=\\\"7\\\" e-cols=\\\"40\\\">{{vm.user.mood || \\'CHAT.ENTER_MOOD_MESSAGE\\' | translate}}\\n</span></md-card-content></md-card></md-content>\");\n$templateCache.put(\"app/main/chat/sidenavs/right/views/contact/contact-view.html\",\"<md-toolbar class=\\\"md-tall md-accent\\\"><div class=\\\"md-toolbar-tools md-toolbar-tools-top\\\"><md-button \\nclass=\\\"md-icon-button\\\" ng-click=\\\"vm.toggleSidenav(\\'right-sidenav\\')\\\" aria-label=\\\"back\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\"></md-icon></md-button></div><div class=\\\"md-toolbar-tools md-toolbar-tools-bottom\\\" flex \\nlayout=\\\"column\\\" layout-align=\\\"center center\\\"><div layout=\\\"column\\\" layout-align=\\\"center center\\\"><img \\nng-src=\\\"assets/images/avatars/profile.jpg\\\" class=\\\"md-avatar avatar contact-avatar huge\\\" \\nalt=\\\"{{vm.viewingConversation.nameFull}\\\"><div class=\\\"contact-name\\\">{{vm.viewingConversation.nameFull}}</div></div>\\n</div></md-toolbar><md-content class=\\\"md-hue-2\\\" flex ms-scroll ms-padding><md-card><md-card-title \\ntranslate=\\\"CHAT.CONTACT_DETAILS\\\">Contact Details</md-card-title><md-card-content><div class=\\\"mood\\\"><b>Organization:</b>\\n {{vm.viewingConversation.organization}}</div><div class=\\\"mood\\\"><b>Email Address:</b> {{vm.viewingConversation.email}}\\n</div><div class=\\\"mood\\\"><b>Phone Number:</b> {{vm.viewingConversation.phone}}</div></md-card-content></md-card>\\n</md-content>\");}]);"],"sourceRoot":"/source/"}